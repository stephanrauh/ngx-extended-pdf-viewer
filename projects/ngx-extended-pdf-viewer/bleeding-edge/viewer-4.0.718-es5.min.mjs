/**
 * @licstart The following is the entire license notice for the
 * JavaScript code in this page
 *
 * Copyright 2023 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * JavaScript code in this page
 */var t,r,i,a,o={1782:(t,r,i)=>{var a=i(7316),o=i(9762),l=TypeError;t.exports=function(t){if(a(t))return t;throw new l(o(t)+" is not a function")}},7073:(t,r,i)=>{var a=i(1694),o=i(9762),l=TypeError;t.exports=function(t){if(a(t))return t;throw new l(o(t)+" is not a constructor")}},4958:(t,r,i)=>{var a=i(7316),o=String,l=TypeError;t.exports=function(t){if("object"==typeof t||a(t))return t;throw new l("Can't set "+o(t)+" as a prototype")}},5690:(t,r,i)=>{var a=i(23).has;t.exports=function(t){a(t);return t}},5463:(t,r,i)=>{var a=i(2292),o=i(6941),l=i(7744).f,u=a("unscopables"),c=Array.prototype;void 0===c[u]&&l(c,u,{configurable:!0,value:o(null)});t.exports=function(t){c[u][t]=!0}},9047:(t,r,i)=>{var a=i(6819).charAt;t.exports=function(t,r,i){return r+(i?a(t,r).length:1)}},5834:(t,r,i)=>{var a=i(2658),o=TypeError;t.exports=function(t,r){if(a(r,t))return t;throw new o("Incorrect invocation")}},4719:(t,r,i)=>{var a=i(7633),o=String,l=TypeError;t.exports=function(t){if(a(t))return t;throw new l(o(t)+" is not an object")}},5115:t=>{t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7585:(t,r,i)=>{var a=i(1299),o=i(8374),l=TypeError;t.exports=a(ArrayBuffer.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==o(t))throw new l("ArrayBuffer expected");return t.byteLength}},582:(t,r,i)=>{var a=i(8403),o=i(7585),l=a(ArrayBuffer.prototype.slice);t.exports=function(t){if(0!==o(t))return!1;try{l(t,0,0);return!1}catch(t){return!0}}},6944:(t,r,i)=>{var a=i(8154);t.exports=a((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},4358:(t,r,i)=>{var a=i(9298),o=i(8403),l=i(1299),u=i(9548),c=i(582),h=i(7585),d=i(8126),p=i(4837),v=a.structuredClone,y=a.ArrayBuffer,g=a.DataView,m=a.TypeError,_=Math.min,b=y.prototype,w=g.prototype,P=o(b.slice),A=l(b,"resizable","get"),S=l(b,"maxByteLength","get"),E=o(w.getInt8),x=o(w.setInt8);t.exports=(p||d)&&function(t,r,i){var a,o=h(t),l=void 0===r?o:u(r),b=!A||!A(t);if(c(t))throw new m("ArrayBuffer is detached");if(p){t=v(t,{transfer:[t]});if(o===l&&(i||b))return t}if(o>=l&&(!i||b))a=P(t,0,l);else{var w=i&&!b&&S?{maxByteLength:S(t)}:void 0;a=new y(l,w);for(var k=new g(t),D=new g(a),C=_(l,o),T=0;T<C;T++)x(D,T,E(k,T))}p||d(t);return a}},5861:(t,r,i)=>{var a,o,l,u=i(5115),c=i(940),h=i(9298),d=i(7316),p=i(7633),v=i(936),y=i(8329),g=i(9762),m=i(9293),_=i(7041),b=i(9691),w=i(2658),P=i(2176),A=i(9763),S=i(2292),E=i(7561),x=i(1649),k=x.enforce,D=x.get,C=h.Int8Array,T=C&&C.prototype,I=h.Uint8ClampedArray,O=I&&I.prototype,M=C&&P(C),L=T&&P(T),G=Object.prototype,R=h.TypeError,j=S("toStringTag"),B=E("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",W=u&&!!A&&"Opera"!==y(h.opera),V=!1,z={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},H={BigInt64Array:8,BigUint64Array:8},getTypedArrayConstructor=function(t){var r=P(t);if(p(r)){var i=D(r);return i&&v(i,N)?i[N]:getTypedArrayConstructor(r)}},isTypedArray=function(t){if(!p(t))return!1;var r=y(t);return v(z,r)||v(H,r)};for(a in z)(l=(o=h[a])&&o.prototype)?k(l)[N]=o:W=!1;for(a in H)(l=(o=h[a])&&o.prototype)&&(k(l)[N]=o);if(!W||!d(M)||M===Function.prototype){M=function TypedArray(){throw new R("Incorrect invocation")};if(W)for(a in z)h[a]&&A(h[a],M)}if(!W||!L||L===G){L=M.prototype;if(W)for(a in z)h[a]&&A(h[a].prototype,L)}W&&P(O)!==L&&A(O,L);if(c&&!v(L,j)){V=!0;b(L,j,{configurable:!0,get:function(){return p(this)?this[B]:void 0}});for(a in z)h[a]&&m(h[a],B,a)}t.exports={NATIVE_ARRAY_BUFFER_VIEWS:W,TYPED_ARRAY_TAG:V&&B,aTypedArray:function(t){if(isTypedArray(t))return t;throw new R("Target is not a typed array")},aTypedArrayConstructor:function(t){if(d(t)&&(!A||w(M,t)))return t;throw new R(g(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,r,i,a){if(c){if(i)for(var o in z){var l=h[o];if(l&&v(l.prototype,t))try{delete l.prototype[t]}catch(i){try{l.prototype[t]=r}catch(t){}}}L[t]&&!i||_(L,t,i?r:W&&T[t]||r,a)}},exportTypedArrayStaticMethod:function(t,r,i){var a,o;if(c){if(A){if(i)for(a in z)if((o=h[a])&&v(o,t))try{delete o[t]}catch(t){}if(M[t]&&!i)return;try{return _(M,t,i?r:W&&M[t]||r)}catch(t){}}for(a in z)!(o=h[a])||o[t]&&!i||_(o,t,r)}},getTypedArrayConstructor:getTypedArrayConstructor,isView:function isView(t){if(!p(t))return!1;var r=y(t);return"DataView"===r||v(z,r)||v(H,r)},isTypedArray:isTypedArray,TypedArray:M,TypedArrayPrototype:L}},5050:(t,r,i)=>{var a=i(9298),o=i(8403),l=i(940),u=i(5115),c=i(5145),h=i(9293),d=i(9691),p=i(6880),v=i(8154),y=i(5834),g=i(1003),m=i(8293),_=i(9548),b=i(796),w=i(3106),P=i(2176),A=i(9763),S=i(5455).f,E=i(8041),x=i(6071),k=i(7536),D=i(1649),C=c.PROPER,T=c.CONFIGURABLE,I="ArrayBuffer",O="DataView",M="prototype",L="Wrong index",G=D.getterFor(I),R=D.getterFor(O),j=D.set,B=a[I],N=B,W=N&&N[M],V=a[O],z=V&&V[M],H=Object.prototype,U=a.Array,q=a.RangeError,K=o(E),Y=o([].reverse),X=w.pack,$=w.unpack,packInt8=function(t){return[255&t]},packInt16=function(t){return[255&t,t>>8&255]},packInt32=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},unpackInt32=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},packFloat32=function(t){return X(b(t),23,4)},packFloat64=function(t){return X(t,52,8)},addGetter=function(t,r,i){d(t[M],r,{configurable:!0,get:function(){return i(this)[r]}})},get=function(t,r,i,a){var o=R(t),l=_(i),u=!!a;if(l+r>o.byteLength)throw new q(L);var c=o.bytes,h=l+o.byteOffset,d=x(c,h,h+r);return u?d:Y(d)},set=function(t,r,i,a,o,l){var u=R(t),c=_(i),h=a(+o),d=!!l;if(c+r>u.byteLength)throw new q(L);for(var p=u.bytes,v=c+u.byteOffset,y=0;y<r;y++)p[v+y]=h[d?y:r-y-1]};if(u){var Z=C&&B.name!==I;if(v((function(){B(1)}))&&v((function(){new B(-1)}))&&!v((function(){new B;new B(1.5);new B(NaN);return 1!==B.length||Z&&!T})))Z&&T&&h(B,"name",I);else{(N=function ArrayBuffer(t){y(this,W);return new B(_(t))})[M]=W;for(var Q,J=S(B),ee=0;J.length>ee;)(Q=J[ee++])in N||h(N,Q,B[Q]);W.constructor=N}A&&P(z)!==H&&A(z,H);var te=new V(new N(2)),re=o(z.setInt8);te.setInt8(0,2147483648);te.setInt8(1,2147483649);!te.getInt8(0)&&te.getInt8(1)||p(z,{setInt8:function setInt8(t,r){re(this,t,r<<24>>24)},setUint8:function setUint8(t,r){re(this,t,r<<24>>24)}},{unsafe:!0})}else{W=(N=function ArrayBuffer(t){y(this,W);var r=_(t);j(this,{type:I,bytes:K(U(r),0),byteLength:r});if(!l){this.byteLength=r;this.detached=!1}})[M];z=(V=function DataView(t,r,i){y(this,z);y(t,W);var a=G(t),o=a.byteLength,u=g(r);if(u<0||u>o)throw new q("Wrong offset");if(u+(i=void 0===i?o-u:m(i))>o)throw new q("Wrong length");j(this,{type:O,buffer:t,byteLength:i,byteOffset:u,bytes:a.bytes});if(!l){this.buffer=t;this.byteLength=i;this.byteOffset=u}})[M];if(l){addGetter(N,"byteLength",G);addGetter(V,"buffer",R);addGetter(V,"byteLength",R);addGetter(V,"byteOffset",R)}p(z,{getInt8:function getInt8(t){return get(this,1,t)[0]<<24>>24},getUint8:function getUint8(t){return get(this,1,t)[0]},getInt16:function getInt16(t){var r=get(this,2,t,arguments.length>1&&arguments[1]);return(r[1]<<8|r[0])<<16>>16},getUint16:function getUint16(t){var r=get(this,2,t,arguments.length>1&&arguments[1]);return r[1]<<8|r[0]},getInt32:function getInt32(t){return unpackInt32(get(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function getUint32(t){return unpackInt32(get(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function getFloat32(t){return $(get(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function getFloat64(t){return $(get(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function setInt8(t,r){set(this,1,t,packInt8,r)},setUint8:function setUint8(t,r){set(this,1,t,packInt8,r)},setInt16:function setInt16(t,r){set(this,2,t,packInt16,r,arguments.length>2&&arguments[2])},setUint16:function setUint16(t,r){set(this,2,t,packInt16,r,arguments.length>2&&arguments[2])},setInt32:function setInt32(t,r){set(this,4,t,packInt32,r,arguments.length>2&&arguments[2])},setUint32:function setUint32(t,r){set(this,4,t,packInt32,r,arguments.length>2&&arguments[2])},setFloat32:function setFloat32(t,r){set(this,4,t,packFloat32,r,arguments.length>2&&arguments[2])},setFloat64:function setFloat64(t,r){set(this,8,t,packFloat64,r,arguments.length>2&&arguments[2])}})}k(N,I);k(V,O);t.exports={ArrayBuffer:N,DataView:V}},1474:(t,r,i)=>{var a=i(2007),o=i(6985),l=i(451),u=i(2322),c=Math.min;t.exports=[].copyWithin||function copyWithin(t,r){var i=a(this),h=l(i),d=o(t,h),p=o(r,h),v=arguments.length>2?arguments[2]:void 0,y=c((void 0===v?h:o(v,h))-p,h-d),g=1;if(p<d&&d<p+y){g=-1;p+=y-1;d+=y-1}for(;y-- >0;){p in i?i[d]=i[p]:u(i,d);d+=g;p+=g}return i}},8041:(t,r,i)=>{var a=i(2007),o=i(6985),l=i(451);t.exports=function fill(t){for(var r=a(this),i=l(r),u=arguments.length,c=o(u>1?arguments[1]:void 0,i),h=u>2?arguments[2]:void 0,d=void 0===h?i:o(h,i);d>c;)r[c++]=t;return r}},8208:(t,r,i)=>{var a=i(2423).forEach,o=i(8321)("forEach");t.exports=o?[].forEach:function forEach(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},7003:(t,r,i)=>{var a=i(451);t.exports=function(t,r){for(var i=0,o=a(r),l=new t(o);o>i;)l[i]=r[i++];return l}},7609:(t,r,i)=>{var a=i(7789),o=i(2026),l=i(2007),u=i(5723),c=i(5191),h=i(1694),d=i(451),p=i(8947),v=i(7612),y=i(273),g=Array;t.exports=function from(t){var r=l(t),i=h(this),m=arguments.length,_=m>1?arguments[1]:void 0,b=void 0!==_;b&&(_=a(_,m>2?arguments[2]:void 0));var w,P,A,S,E,x,k=y(r),D=0;if(!k||this===g&&c(k)){w=d(r);P=i?new this(w):g(w);for(;w>D;D++){x=b?_(r[D],D):r[D];p(P,D,x)}}else{E=(S=v(r,k)).next;P=i?new this:[];for(;!(A=o(E,S)).done;D++){x=b?u(S,_,[A.value,D],!0):A.value;p(P,D,x)}}P.length=D;return P}},9773:(t,r,i)=>{var a=i(4115),o=i(6985),l=i(451),createMethod=function(t){return function(r,i,u){var c,h=a(r),d=l(h),p=o(u,d);if(t&&i!=i){for(;d>p;)if((c=h[p++])!=c)return!0}else for(;d>p;p++)if((t||p in h)&&h[p]===i)return t||p||0;return!t&&-1}};t.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},4026:(t,r,i)=>{var a=i(7789),o=i(3622),l=i(2007),u=i(451),createMethod=function(t){var r=1===t;return function(i,c,h){for(var d,p=l(i),v=o(p),y=a(c,h),g=u(v);g-- >0;)if(y(d=v[g],g,p))switch(t){case 0:return d;case 1:return g}return r?-1:void 0}};t.exports={findLast:createMethod(0),findLastIndex:createMethod(1)}},2423:(t,r,i)=>{var a=i(7789),o=i(8403),l=i(3622),u=i(2007),c=i(451),h=i(8097),d=o([].push),createMethod=function(t){var r=1===t,i=2===t,o=3===t,p=4===t,v=6===t,y=7===t,g=5===t||v;return function(m,_,b,w){for(var P,A,S=u(m),E=l(S),x=a(_,b),k=c(E),D=0,C=w||h,T=r?C(m,k):i||y?C(m,0):void 0;k>D;D++)if(g||D in E){A=x(P=E[D],D,S);if(t)if(r)T[D]=A;else if(A)switch(t){case 3:return!0;case 5:return P;case 6:return D;case 2:d(T,P)}else switch(t){case 4:return!1;case 7:d(T,P)}}return v?-1:o||p?p:T}};t.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterReject:createMethod(7)}},8671:(t,r,i)=>{var a=i(7294),o=i(4115),l=i(1003),u=i(451),c=i(8321),h=Math.min,d=[].lastIndexOf,p=!!d&&1/[1].lastIndexOf(1,-0)<0,v=c("lastIndexOf"),y=p||!v;t.exports=y?function lastIndexOf(t){if(p)return a(d,this,arguments)||0;var r=o(this),i=u(r),c=i-1;arguments.length>1&&(c=h(c,l(arguments[1])));c<0&&(c=i+c);for(;c>=0;c--)if(c in r&&r[c]===t)return c||0;return-1}:d},3577:(t,r,i)=>{var a=i(8154),o=i(2292),l=i(2171),u=o("species");t.exports=function(t){return l>=51||!a((function(){var r=[];(r.constructor={})[u]=function(){return{foo:1}};return 1!==r[t](Boolean).foo}))}},8321:(t,r,i)=>{var a=i(8154);t.exports=function(t,r){var i=[][t];return!!i&&a((function(){i.call(null,r||function(){return 1},1)}))}},2741:(t,r,i)=>{var a=i(1782),o=i(2007),l=i(3622),u=i(451),c=TypeError,createMethod=function(t){return function(r,i,h,d){a(i);var p=o(r),v=l(p),y=u(p),g=t?y-1:0,m=t?-1:1;if(h<2)for(;;){if(g in v){d=v[g];g+=m;break}g+=m;if(t?g<0:y<=g)throw new c("Reduce of empty array with no initial value")}for(;t?g>=0:y>g;g+=m)g in v&&(d=i(d,v[g],g,p));return d}};t.exports={left:createMethod(!1),right:createMethod(!0)}},6661:(t,r,i)=>{var a=i(940),o=i(6998),l=TypeError,u=Object.getOwnPropertyDescriptor,c=a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=c?function(t,r){if(o(t)&&!u(t,"length").writable)throw new l("Cannot set read only .length");return t.length=r}:function(t,r){return t.length=r}},6071:(t,r,i)=>{var a=i(6985),o=i(451),l=i(8947),u=Array,c=Math.max;t.exports=function(t,r,i){for(var h=o(t),d=a(r,h),p=a(void 0===i?h:i,h),v=u(c(p-d,0)),y=0;d<p;d++,y++)l(v,y,t[d]);v.length=y;return v}},2251:(t,r,i)=>{var a=i(8403);t.exports=a([].slice)},4689:(t,r,i)=>{var a=i(6071),o=Math.floor,mergeSort=function(t,r){var i=t.length,l=o(i/2);return i<8?insertionSort(t,r):merge(t,mergeSort(a(t,0,l),r),mergeSort(a(t,l),r),r)},insertionSort=function(t,r){for(var i,a,o=t.length,l=1;l<o;){a=l;i=t[l];for(;a&&r(t[a-1],i)>0;)t[a]=t[--a];a!==l++&&(t[a]=i)}return t},merge=function(t,r,i,a){for(var o=r.length,l=i.length,u=0,c=0;u<o||c<l;)t[u+c]=u<o&&c<l?a(r[u],i[c])<=0?r[u++]:i[c++]:u<o?r[u++]:i[c++];return t};t.exports=mergeSort},751:(t,r,i)=>{var a=i(6998),o=i(1694),l=i(7633),u=i(2292)("species"),c=Array;t.exports=function(t){var r;if(a(t)){r=t.constructor;(o(r)&&(r===c||a(r.prototype))||l(r)&&null===(r=r[u]))&&(r=void 0)}return void 0===r?c:r}},8097:(t,r,i)=>{var a=i(751);t.exports=function(t,r){return new(a(t))(0===r?0:r)}},2304:(t,r,i)=>{var a=i(451);t.exports=function(t,r){for(var i=a(t),o=new r(i),l=0;l<i;l++)o[l]=t[i-l-1];return o}},5886:(t,r,i)=>{var a=i(451),o=i(1003),l=RangeError;t.exports=function(t,r,i,u){var c=a(t),h=o(i),d=h<0?c+h:h;if(d>=c||d<0)throw new l("Incorrect index");for(var p=new r(c),v=0;v<c;v++)p[v]=v===d?u:t[v];return p}},5723:(t,r,i)=>{var a=i(4719),o=i(3316);t.exports=function(t,r,i,l){try{return l?r(a(i)[0],i[1]):r(i)}catch(r){o(t,"throw",r)}}},1374:(t,r,i)=>{var a=i(2292)("iterator"),o=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){o=!0}};u[a]=function(){return this};Array.from(u,(function(){throw 2}))}catch(t){}t.exports=function(t,r){try{if(!r&&!o)return!1}catch(t){return!1}var i=!1;try{var l={};l[a]=function(){return{next:function(){return{done:i=!0}}}};t(l)}catch(t){}return i}},8374:(t,r,i)=>{var a=i(8403),o=a({}.toString),l=a("".slice);t.exports=function(t){return l(o(t),8,-1)}},8329:(t,r,i)=>{var a=i(3077),o=i(7316),l=i(8374),u=i(2292)("toStringTag"),c=Object,h="Arguments"===l(function(){return arguments}());t.exports=a?l:function(t){var r,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,r){try{return t[r]}catch(t){}}(r=c(t),u))?i:h?l(r):"Object"===(a=l(r))&&o(r.callee)?"Arguments":a}},6122:(t,r,i)=>{var a=i(6941),o=i(9691),l=i(6880),u=i(7789),c=i(5834),h=i(3734),d=i(6837),p=i(7301),v=i(1111),y=i(5963),g=i(940),m=i(4694).fastKey,_=i(1649),b=_.set,w=_.getterFor;t.exports={getConstructor:function(t,r,i,p){var v=t((function(t,o){c(t,y);b(t,{type:r,index:a(null),first:void 0,last:void 0,size:0});g||(t.size=0);h(o)||d(o,t[p],{that:t,AS_ENTRIES:i})})),y=v.prototype,_=w(r),define=function(t,r,i){var a,o,l=_(t),u=getEntry(t,r);if(u)u.value=i;else{l.last=u={index:o=m(r,!0),key:r,value:i,previous:a=l.last,next:void 0,removed:!1};l.first||(l.first=u);a&&(a.next=u);g?l.size++:t.size++;"F"!==o&&(l.index[o]=u)}return t},getEntry=function(t,r){var i,a=_(t),o=m(r);if("F"!==o)return a.index[o];for(i=a.first;i;i=i.next)if(i.key===r)return i};l(y,{clear:function clear(){for(var t=_(this),r=t.index,i=t.first;i;){i.removed=!0;i.previous&&(i.previous=i.previous.next=void 0);delete r[i.index];i=i.next}t.first=t.last=void 0;g?t.size=0:this.size=0},delete:function(t){var r=this,i=_(r),a=getEntry(r,t);if(a){var o=a.next,l=a.previous;delete i.index[a.index];a.removed=!0;l&&(l.next=o);o&&(o.previous=l);i.first===a&&(i.first=o);i.last===a&&(i.last=l);g?i.size--:r.size--}return!!a},forEach:function forEach(t){for(var r,i=_(this),a=u(t,arguments.length>1?arguments[1]:void 0);r=r?r.next:i.first;){a(r.value,r.key,this);for(;r&&r.removed;)r=r.previous}},has:function has(t){return!!getEntry(this,t)}});l(y,i?{get:function get(t){var r=getEntry(this,t);return r&&r.value},set:function set(t,r){return define(this,0===t?0:t,r)}}:{add:function add(t){return define(this,t=0===t?0:t,t)}});g&&o(y,"size",{configurable:!0,get:function(){return _(this).size}});return v},setStrong:function(t,r,i){var a=r+" Iterator",o=w(r),l=w(a);p(t,r,(function(t,r){b(this,{type:a,target:t,state:o(t),kind:r,last:void 0})}),(function(){for(var t=l(this),r=t.kind,i=t.last;i&&i.removed;)i=i.previous;if(!t.target||!(t.last=i=i?i.next:t.state.first)){t.target=void 0;return v(void 0,!0)}return v("keys"===r?i.key:"values"===r?i.value:[i.key,i.value],!1)}),i?"entries":"values",!i,!0);y(r)}}},9609:(t,r,i)=>{var a=i(8403),o=i(6880),l=i(4694).getWeakData,u=i(5834),c=i(4719),h=i(3734),d=i(7633),p=i(6837),v=i(2423),y=i(936),g=i(1649),m=g.set,_=g.getterFor,b=v.find,w=v.findIndex,P=a([].splice),A=0,uncaughtFrozenStore=function(t){return t.frozen||(t.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(t,r){return b(t.entries,(function(t){return t[0]===r}))};UncaughtFrozenStore.prototype={get:function(t){var r=findUncaughtFrozen(this,t);if(r)return r[1]},has:function(t){return!!findUncaughtFrozen(this,t)},set:function(t,r){var i=findUncaughtFrozen(this,t);i?i[1]=r:this.entries.push([t,r])},delete:function(t){var r=w(this.entries,(function(r){return r[0]===t}));~r&&P(this.entries,r,1);return!!~r}};t.exports={getConstructor:function(t,r,i,a){var v=t((function(t,o){u(t,g);m(t,{type:r,id:A++,frozen:void 0});h(o)||p(o,t[a],{that:t,AS_ENTRIES:i})})),g=v.prototype,b=_(r),define=function(t,r,i){var a=b(t),o=l(c(r),!0);!0===o?uncaughtFrozenStore(a).set(r,i):o[a.id]=i;return t};o(g,{delete:function(t){var r=b(this);if(!d(t))return!1;var i=l(t);return!0===i?uncaughtFrozenStore(r).delete(t):i&&y(i,r.id)&&delete i[r.id]},has:function has(t){var r=b(this);if(!d(t))return!1;var i=l(t);return!0===i?uncaughtFrozenStore(r).has(t):i&&y(i,r.id)}});o(g,i?{get:function get(t){var r=b(this);if(d(t)){var i=l(t);return!0===i?uncaughtFrozenStore(r).get(t):i?i[r.id]:void 0}},set:function set(t,r){return define(this,t,r)}}:{add:function add(t){return define(this,t,!0)}});return v}}},4981:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(8403),u=i(7007),c=i(7041),h=i(4694),d=i(6837),p=i(5834),v=i(7316),y=i(3734),g=i(7633),m=i(8154),_=i(1374),b=i(7536),w=i(7523);t.exports=function(t,r,i){var P=-1!==t.indexOf("Map"),A=-1!==t.indexOf("Weak"),S=P?"set":"add",E=o[t],x=E&&E.prototype,k=E,D={},fixMethod=function(t){var r=l(x[t]);c(x,t,"add"===t?function add(t){r(this,0===t?0:t);return this}:"delete"===t?function(t){return!(A&&!g(t))&&r(this,0===t?0:t)}:"get"===t?function get(t){return A&&!g(t)?void 0:r(this,0===t?0:t)}:"has"===t?function has(t){return!(A&&!g(t))&&r(this,0===t?0:t)}:function set(t,i){r(this,0===t?0:t,i);return this})};if(u(t,!v(E)||!(A||x.forEach&&!m((function(){(new E).entries().next()}))))){k=i.getConstructor(r,t,P,S);h.enable()}else if(u(t,!0)){var C=new k,T=C[S](A?{}:-0,1)!==C,I=m((function(){C.has(1)})),O=_((function(t){new E(t)})),M=!A&&m((function(){for(var t=new E,r=5;r--;)t[S](r,r);return!t.has(-0)}));if(!O){(k=r((function(t,r){p(t,x);var i=w(new E,t,k);y(r)||d(r,i[S],{that:i,AS_ENTRIES:P});return i}))).prototype=x;x.constructor=k}if(I||M){fixMethod("delete");fixMethod("has");P&&fixMethod("get")}(M||T)&&fixMethod(S);A&&x.clear&&delete x.clear}D[t]=k;a({global:!0,constructor:!0,forced:k!==E},D);b(k,t);A||i.setStrong(k,t,P);return k}},1425:(t,r,i)=>{var a=i(936),o=i(8953),l=i(5764),u=i(7744);t.exports=function(t,r,i){for(var c=o(r),h=u.f,d=l.f,p=0;p<c.length;p++){var v=c[p];a(t,v)||i&&a(i,v)||h(t,v,d(r,v))}}},2280:(t,r,i)=>{var a=i(2292)("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(i){try{r[a]=!1;return"/./"[t](r)}catch(t){}}return!1}},7888:(t,r,i)=>{var a=i(8154);t.exports=!a((function(){function F(){}F.prototype.constructor=null;return Object.getPrototypeOf(new F)!==F.prototype}))},1111:t=>{t.exports=function(t,r){return{value:t,done:r}}},9293:(t,r,i)=>{var a=i(940),o=i(7744),l=i(1198);t.exports=a?function(t,r,i){return o.f(t,r,l(1,i))}:function(t,r,i){t[r]=i;return t}},1198:t=>{t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},8947:(t,r,i)=>{var a=i(4871),o=i(7744),l=i(1198);t.exports=function(t,r,i){var u=a(r);u in t?o.f(t,u,l(0,i)):t[u]=i}},3612:(t,r,i)=>{var a=i(4719),o=i(2923),l=TypeError;t.exports=function(t){a(this);if("string"===t||"default"===t)t="string";else if("number"!==t)throw new l("Incorrect hint");return o(this,t)}},9691:(t,r,i)=>{var a=i(9687),o=i(7744);t.exports=function(t,r,i){i.get&&a(i.get,r,{getter:!0});i.set&&a(i.set,r,{setter:!0});return o.f(t,r,i)}},7041:(t,r,i)=>{var a=i(7316),o=i(7744),l=i(9687),u=i(6e3);t.exports=function(t,r,i,c){c||(c={});var h=c.enumerable,d=void 0!==c.name?c.name:r;a(i)&&l(i,d,c);if(c.global)h?t[r]=i:u(r,i);else{try{c.unsafe?t[r]&&(h=!0):delete t[r]}catch(t){}h?t[r]=i:o.f(t,r,{value:i,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return t}},6880:(t,r,i)=>{var a=i(7041);t.exports=function(t,r,i){for(var o in r)a(t,o,r[o],i);return t}},6e3:(t,r,i)=>{var a=i(9298),o=Object.defineProperty;t.exports=function(t,r){try{o(a,t,{value:r,configurable:!0,writable:!0})}catch(i){a[t]=r}return r}},2322:(t,r,i)=>{var a=i(9762),o=TypeError;t.exports=function(t,r){if(!delete t[r])throw new o("Cannot delete property "+a(r)+" of "+a(t))}},940:(t,r,i)=>{var a=i(8154);t.exports=!a((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8126:(t,r,i)=>{var a,o,l,u,c=i(9298),h=i(2276),d=i(4837),p=c.structuredClone,v=c.ArrayBuffer,y=c.MessageChannel,g=!1;if(d)g=function(t){p(t,{transfer:[t]})};else if(v)try{y||(a=h("worker_threads"))&&(y=a.MessageChannel);if(y){o=new y;l=new v(2);u=function(t){o.port1.postMessage(null,[t])};if(2===l.byteLength){u(l);0===l.byteLength&&(g=u)}}}catch(t){}t.exports=g},1558:t=>{var r="object"==typeof document&&document.all,i=void 0===r&&void 0!==r;t.exports={all:r,IS_HTMLDDA:i}},5584:(t,r,i)=>{var a=i(9298),o=i(7633),l=a.document,u=o(l)&&o(l.createElement);t.exports=function(t){return u?l.createElement(t):{}}},4287:t=>{var r=TypeError;t.exports=function(t){if(t>9007199254740991)throw r("Maximum allowed index exceeded");return t}},8560:t=>{t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},2411:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3942:(t,r,i)=>{var a=i(5584)("span").classList,o=a&&a.constructor&&a.constructor.prototype;t.exports=o===Object.prototype?void 0:o},7614:(t,r,i)=>{var a=i(234).match(/firefox\/(\d+)/i);t.exports=!!a&&+a[1]},3413:(t,r,i)=>{var a=i(8471),o=i(4864);t.exports=!a&&!o&&"object"==typeof window&&"object"==typeof document},8471:t=>{t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},7463:(t,r,i)=>{var a=i(234);t.exports=/MSIE|Trident/.test(a)},1458:(t,r,i)=>{var a=i(234);t.exports=/ipad|iphone|ipod/i.test(a)&&"undefined"!=typeof Pebble},2589:(t,r,i)=>{var a=i(234);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},4864:(t,r,i)=>{var a=i(9298),o=i(8374);t.exports="process"===o(a.process)},8173:(t,r,i)=>{var a=i(234);t.exports=/web0s(?!.*chrome)/i.test(a)},234:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},2171:(t,r,i)=>{var a,o,l=i(9298),u=i(234),c=l.process,h=l.Deno,d=c&&c.versions||h&&h.version,p=d&&d.v8;p&&(o=(a=p.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1]));!o&&u&&(!(a=u.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=u.match(/Chrome\/(\d+)/))&&(o=+a[1]);t.exports=o},7906:(t,r,i)=>{var a=i(234).match(/AppleWebKit\/(\d+)\./);t.exports=!!a&&+a[1]},298:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},34:(t,r,i)=>{var a=i(8403),o=Error,l=a("".replace),u=String(new o("zxcasd").stack),c=/\n\s*at [^:]*:[^\n]*/,h=c.test(u);t.exports=function(t,r){if(h&&"string"==typeof t&&!o.prepareStackTrace)for(;r--;)t=l(t,c,"");return t}},1931:(t,r,i)=>{var a=i(9293),o=i(34),l=i(3437),u=Error.captureStackTrace;t.exports=function(t,r,i,c){l&&(u?u(t,r):a(t,"stack",o(i,c)))}},3437:(t,r,i)=>{var a=i(8154),o=i(1198);t.exports=!a((function(){var t=new Error("a");if(!("stack"in t))return!0;Object.defineProperty(t,"stack",o(1,7));return 7!==t.stack}))},3522:(t,r,i)=>{var a=i(940),o=i(8154),l=i(4719),u=i(1264),c=Error.prototype.toString,h=o((function(){if(a){var t=Object.create(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==c.call(t))return!0}return"2: 1"!==c.call({message:1,name:2})||"Error"!==c.call({})}));t.exports=h?function toString(){var t=l(this),r=u(t.name,"Error"),i=u(t.message);return r?i?r+": "+i:r:i}:c},4978:(t,r,i)=>{var a=i(9298),o=i(5764).f,l=i(9293),u=i(7041),c=i(6e3),h=i(1425),d=i(7007);t.exports=function(t,r){var i,p,v,y,g,m=t.target,_=t.global,b=t.stat;if(i=_?a:b?a[m]||c(m,{}):(a[m]||{}).prototype)for(p in r){y=r[p];v=t.dontCallGetSet?(g=o(i,p))&&g.value:i[p];if(!d(_?p:m+(b?".":"#")+p,t.forced)&&void 0!==v){if(typeof y==typeof v)continue;h(y,v)}(t.sham||v&&v.sham)&&l(y,"sham",!0);u(i,p,y,t)}}},8154:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},4629:(t,r,i)=>{i(7942);var a=i(6218),o=i(7041),l=i(2178),u=i(8154),c=i(2292),h=i(9293),d=c("species"),p=RegExp.prototype;t.exports=function(t,r,i,v){var y=c(t),g=!u((function(){var r={};r[y]=function(){return 7};return 7!==""[t](r)})),m=g&&!u((function(){var r=!1,i=/a/;if("split"===t){(i={}).constructor={};i.constructor[d]=function(){return i};i.flags="";i[y]=/./[y]}i.exec=function(){r=!0;return null};i[y]("");return!r}));if(!g||!m||i){var _=a(/./[y]),b=r(y,""[t],(function(t,r,i,o,u){var c=a(t),h=r.exec;return h===l||h===p.exec?g&&!u?{done:!0,value:_(r,i,o)}:{done:!0,value:c(i,r,o)}:{done:!1}}));o(String.prototype,t,b[0]);o(p,y,b[1])}v&&h(p[y],"sham",!0)}},7938:(t,r,i)=>{var a=i(6998),o=i(451),l=i(4287),u=i(7789),flattenIntoArray=function(t,r,i,c,h,d,p,v){for(var y,g,m=h,_=0,b=!!p&&u(p,v);_<c;){if(_ in i){y=b?b(i[_],_,r):i[_];if(d>0&&a(y)){g=o(y);m=flattenIntoArray(t,r,y,g,m,d-1)-1}else{l(m+1);t[m]=y}m++}_++}return m};t.exports=flattenIntoArray},7010:(t,r,i)=>{var a=i(8154);t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},7294:(t,r,i)=>{var a=i(2486),o=Function.prototype,l=o.apply,u=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(a?u.bind(l):function(){return u.apply(l,arguments)})},7789:(t,r,i)=>{var a=i(6218),o=i(1782),l=i(2486),u=a(a.bind);t.exports=function(t,r){o(t);return void 0===r?t:l?u(t,r):function(){return t.apply(r,arguments)}}},2486:(t,r,i)=>{var a=i(8154);t.exports=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6520:(t,r,i)=>{var a=i(8403),o=i(1782),l=i(7633),u=i(936),c=i(2251),h=i(2486),d=Function,p=a([].concat),v=a([].join),y={};t.exports=h?d.bind:function bind(t){var r=o(this),i=r.prototype,a=c(arguments,1),h=function bound(){var i=p(a,c(arguments));return this instanceof h?function(t,r,i){if(!u(y,r)){for(var a=[],o=0;o<r;o++)a[o]="a["+o+"]";y[r]=d("C,a","return new C("+v(a,",")+")")}return y[r](t,i)}(r,i.length,i):r.apply(t,i)};l(i)&&(h.prototype=i);return h}},2026:(t,r,i)=>{var a=i(2486),o=Function.prototype.call;t.exports=a?o.bind(o):function(){return o.apply(o,arguments)}},5145:(t,r,i)=>{var a=i(940),o=i(936),l=Function.prototype,u=a&&Object.getOwnPropertyDescriptor,c=o(l,"name"),h=c&&"something"===function something(){}.name,d=c&&(!a||a&&u(l,"name").configurable);t.exports={EXISTS:c,PROPER:h,CONFIGURABLE:d}},1299:(t,r,i)=>{var a=i(8403),o=i(1782);t.exports=function(t,r,i){try{return a(o(Object.getOwnPropertyDescriptor(t,r)[i]))}catch(t){}}},6218:(t,r,i)=>{var a=i(8374),o=i(8403);t.exports=function(t){if("Function"===a(t))return o(t)}},8403:(t,r,i)=>{var a=i(2486),o=Function.prototype,l=o.call,u=a&&o.bind.bind(l,l);t.exports=a?u:function(t){return function(){return l.apply(t,arguments)}}},7187:(t,r,i)=>{var a=i(9298),o=i(7316);t.exports=function(t,r){return arguments.length<2?(i=a[t],o(i)?i:void 0):a[t]&&a[t][r];var i}},9235:t=>{t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},9115:(t,r,i)=>{var a=i(2026),o=i(4719),l=i(9235),u=i(273);t.exports=function(t,r){r&&"string"==typeof t||o(t);var i=u(t);return l(o(void 0!==i?a(i,t):t))}},273:(t,r,i)=>{var a=i(8329),o=i(8486),l=i(3734),u=i(6596),c=i(2292)("iterator");t.exports=function(t){if(!l(t))return o(t,c)||o(t,"@@iterator")||u[a(t)]}},7612:(t,r,i)=>{var a=i(2026),o=i(1782),l=i(4719),u=i(9762),c=i(273),h=TypeError;t.exports=function(t,r){var i=arguments.length<2?c(t):r;if(o(i))return l(a(i,t));throw new h(u(t)+" is not iterable")}},1801:(t,r,i)=>{var a=i(8403),o=i(6998),l=i(7316),u=i(8374),c=i(5730),h=a([].push);t.exports=function(t){if(l(t))return t;if(o(t)){for(var r=t.length,i=[],a=0;a<r;a++){var d=t[a];"string"==typeof d?h(i,d):"number"!=typeof d&&"Number"!==u(d)&&"String"!==u(d)||h(i,c(d))}var p=i.length,v=!0;return function(t,r){if(v){v=!1;return r}if(o(this))return r;for(var a=0;a<p;a++)if(i[a]===t)return r}}}},8486:(t,r,i)=>{var a=i(1782),o=i(3734);t.exports=function(t,r){var i=t[r];return o(i)?void 0:a(i)}},1096:(t,r,i)=>{var a=i(1782),o=i(4719),l=i(2026),u=i(1003),c=i(9235),h="Invalid size",d=RangeError,p=TypeError,v=Math.max,SetRecord=function(t,r,i,a){this.set=t;this.size=r;this.has=i;this.keys=a};SetRecord.prototype={getIterator:function(){return c(o(l(this.keys,this.set)))},includes:function(t){return l(this.has,this.set,t)}};t.exports=function(t){o(t);var r=+t.size;if(r!=r)throw new p(h);var i=u(r);if(i<0)throw new d(h);return new SetRecord(t,v(i,0),a(t.has),a(t.keys))}},1634:(t,r,i)=>{var a=i(8403),o=i(2007),l=Math.floor,u=a("".charAt),c=a("".replace),h=a("".slice),d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,p=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,r,i,a,v,y){var g=i+t.length,m=a.length,_=p;if(void 0!==v){v=o(v);_=d}return c(y,_,(function(o,c){var d;switch(u(c,0)){case"$":return"$";case"&":return t;case"`":return h(r,0,i);case"'":return h(r,g);case"<":d=v[h(c,1,-1)];break;default:var p=+c;if(0===p)return o;if(p>m){var y=l(p/10);return 0===y?o:y<=m?void 0===a[y-1]?u(c,1):a[y-1]+u(c,1):o}d=a[p-1]}return void 0===d?"":d}))}},9298:function(t){var check=function(t){return t&&t.Math===Math&&t};t.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||check("object"==typeof this&&this)||function(){return this}()||Function("return this")()},936:(t,r,i)=>{var a=i(8403),o=i(2007),l=a({}.hasOwnProperty);t.exports=Object.hasOwn||function hasOwn(t,r){return l(o(t),r)}},6010:t=>{t.exports={}},5285:t=>{t.exports=function(t,r){try{1===arguments.length?console.error(t):console.error(t,r)}catch(t){}}},519:(t,r,i)=>{var a=i(7187);t.exports=a("document","documentElement")},9394:(t,r,i)=>{var a=i(940),o=i(8154),l=i(5584);t.exports=!a&&!o((function(){return 7!==Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}))},3106:t=>{var r=Array,i=Math.abs,a=Math.pow,o=Math.floor,l=Math.log,u=Math.LN2;t.exports={pack:function(t,c,h){var d,p,v,y=r(h),g=8*h-c-1,m=(1<<g)-1,_=m>>1,b=23===c?a(2,-24)-a(2,-77):0,w=t<0||0===t&&1/t<0?1:0,P=0;if((t=i(t))!=t||t===1/0){p=t!=t?1:0;d=m}else{d=o(l(t)/u);if(t*(v=a(2,-d))<1){d--;v*=2}if((t+=d+_>=1?b/v:b*a(2,1-_))*v>=2){d++;v/=2}if(d+_>=m){p=0;d=m}else if(d+_>=1){p=(t*v-1)*a(2,c);d+=_}else{p=t*a(2,_-1)*a(2,c);d=0}}for(;c>=8;){y[P++]=255&p;p/=256;c-=8}d=d<<c|p;g+=c;for(;g>0;){y[P++]=255&d;d/=256;g-=8}y[--P]|=128*w;return y},unpack:function(t,r){var i,o=t.length,l=8*o-r-1,u=(1<<l)-1,c=u>>1,h=l-7,d=o-1,p=t[d--],v=127&p;p>>=7;for(;h>0;){v=256*v+t[d--];h-=8}i=v&(1<<-h)-1;v>>=-h;h+=r;for(;h>0;){i=256*i+t[d--];h-=8}if(0===v)v=1-c;else{if(v===u)return i?NaN:p?-1/0:1/0;i+=a(2,r);v-=c}return(p?-1:1)*i*a(2,v-r)}}},3622:(t,r,i)=>{var a=i(8403),o=i(8154),l=i(8374),u=Object,c=a("".split);t.exports=o((function(){return!u("z").propertyIsEnumerable(0)}))?function(t){return"String"===l(t)?c(t,""):u(t)}:u},7523:(t,r,i)=>{var a=i(7316),o=i(7633),l=i(9763);t.exports=function(t,r,i){var u,c;l&&a(u=r.constructor)&&u!==i&&o(c=u.prototype)&&c!==i.prototype&&l(t,c);return t}},4993:(t,r,i)=>{var a=i(8403),o=i(7316),l=i(7542),u=a(Function.toString);o(l.inspectSource)||(l.inspectSource=function(t){return u(t)});t.exports=l.inspectSource},8422:(t,r,i)=>{var a=i(7633),o=i(9293);t.exports=function(t,r){a(r)&&"cause"in r&&o(t,"cause",r.cause)}},4694:(t,r,i)=>{var a=i(4978),o=i(8403),l=i(6010),u=i(7633),c=i(936),h=i(7744).f,d=i(5455),p=i(2329),v=i(2191),y=i(7561),g=i(7010),m=!1,_=y("meta"),b=0,setMetadata=function(t){h(t,_,{value:{objectID:"O"+b++,weakData:{}}})},w=t.exports={enable:function(){w.enable=function(){};m=!0;var t=d.f,r=o([].splice),i={};i[_]=1;if(t(i).length){d.f=function(i){for(var a=t(i),o=0,l=a.length;o<l;o++)if(a[o]===_){r(a,o,1);break}return a};a({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:p.f})}},fastKey:function(t,r){if(!u(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!c(t,_)){if(!v(t))return"F";if(!r)return"E";setMetadata(t)}return t[_].objectID},getWeakData:function(t,r){if(!c(t,_)){if(!v(t))return!0;if(!r)return!1;setMetadata(t)}return t[_].weakData},onFreeze:function(t){g&&m&&v(t)&&!c(t,_)&&setMetadata(t);return t}};l[_]=!0},1649:(t,r,i)=>{var a,o,l,u=i(8443),c=i(9298),h=i(7633),d=i(9293),p=i(936),v=i(7542),y=i(3727),g=i(6010),m="Object already initialized",_=c.TypeError,b=c.WeakMap;if(u||v.state){var w=v.state||(v.state=new b);w.get=w.get;w.has=w.has;w.set=w.set;a=function(t,r){if(w.has(t))throw new _(m);r.facade=t;w.set(t,r);return r};o=function(t){return w.get(t)||{}};l=function(t){return w.has(t)}}else{var P=y("state");g[P]=!0;a=function(t,r){if(p(t,P))throw new _(m);r.facade=t;d(t,P,r);return r};o=function(t){return p(t,P)?t[P]:{}};l=function(t){return p(t,P)}}t.exports={set:a,get:o,has:l,enforce:function(t){return l(t)?o(t):a(t,{})},getterFor:function(t){return function(r){var i;if(!h(r)||(i=o(r)).type!==t)throw new _("Incompatible receiver, "+t+" required");return i}}}},5191:(t,r,i)=>{var a=i(2292),o=i(6596),l=a("iterator"),u=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||u[l]===t)}},6998:(t,r,i)=>{var a=i(8374);t.exports=Array.isArray||function isArray(t){return"Array"===a(t)}},5986:(t,r,i)=>{var a=i(8329);t.exports=function(t){var r=a(t);return"BigInt64Array"===r||"BigUint64Array"===r}},7316:(t,r,i)=>{var a=i(1558),o=a.all;t.exports=a.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},1694:(t,r,i)=>{var a=i(8403),o=i(8154),l=i(7316),u=i(8329),c=i(7187),h=i(4993),noop=function(){},d=[],p=c("Reflect","construct"),v=/^\s*(?:class|function)\b/,y=a(v.exec),g=!v.test(noop),m=function isConstructor(t){if(!l(t))return!1;try{p(noop,d,t);return!0}catch(t){return!1}},_=function isConstructor(t){if(!l(t))return!1;switch(u(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!y(v,h(t))}catch(t){return!0}};_.sham=!0;t.exports=!p||o((function(){var t;return m(m.call)||!m(Object)||!m((function(){t=!0}))||t}))?_:m},3374:(t,r,i)=>{var a=i(936);t.exports=function(t){return void 0!==t&&(a(t,"value")||a(t,"writable"))}},7007:(t,r,i)=>{var a=i(8154),o=i(7316),l=/#|\.prototype\./,isForced=function(t,r){var i=c[u(t)];return i===d||i!==h&&(o(r)?a(r):!!r)},u=isForced.normalize=function(t){return String(t).replace(l,".").toLowerCase()},c=isForced.data={},h=isForced.NATIVE="N",d=isForced.POLYFILL="P";t.exports=isForced},987:(t,r,i)=>{var a=i(7633),o=Math.floor;t.exports=Number.isInteger||function isInteger(t){return!a(t)&&isFinite(t)&&o(t)===t}},3734:t=>{t.exports=function(t){return null==t}},7633:(t,r,i)=>{var a=i(7316),o=i(1558),l=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:a(t)||t===l}:function(t){return"object"==typeof t?null!==t:a(t)}},2554:t=>{t.exports=!1},6660:(t,r,i)=>{var a=i(7633),o=i(8374),l=i(2292)("match");t.exports=function(t){var r;return a(t)&&(void 0!==(r=t[l])?!!r:"RegExp"===o(t))}},7814:(t,r,i)=>{var a=i(7187),o=i(7316),l=i(2658),u=i(7960),c=Object;t.exports=u?function(t){return"symbol"==typeof t}:function(t){var r=a("Symbol");return o(r)&&l(r.prototype,c(t))}},5504:(t,r,i)=>{var a=i(2026);t.exports=function(t,r,i){for(var o,l,u=i?t:t.iterator,c=t.next;!(o=a(c,u)).done;)if(void 0!==(l=r(o.value)))return l}},6837:(t,r,i)=>{var a=i(7789),o=i(2026),l=i(4719),u=i(9762),c=i(5191),h=i(451),d=i(2658),p=i(7612),v=i(273),y=i(3316),g=TypeError,Result=function(t,r){this.stopped=t;this.result=r},m=Result.prototype;t.exports=function(t,r,i){var _,b,w,P,A,S,E,x=i&&i.that,k=!(!i||!i.AS_ENTRIES),D=!(!i||!i.IS_RECORD),C=!(!i||!i.IS_ITERATOR),T=!(!i||!i.INTERRUPTED),I=a(r,x),stop=function(t){_&&y(_,"normal",t);return new Result(!0,t)},callFn=function(t){if(k){l(t);return T?I(t[0],t[1],stop):I(t[0],t[1])}return T?I(t,stop):I(t)};if(D)_=t.iterator;else if(C)_=t;else{if(!(b=v(t)))throw new g(u(t)+" is not iterable");if(c(b)){for(w=0,P=h(t);P>w;w++)if((A=callFn(t[w]))&&d(m,A))return A;return new Result(!1)}_=p(t,b)}S=D?t.next:_.next;for(;!(E=o(S,_)).done;){try{A=callFn(E.value)}catch(t){y(_,"throw",t)}if("object"==typeof A&&A&&d(m,A))return A}return new Result(!1)}},3316:(t,r,i)=>{var a=i(2026),o=i(4719),l=i(8486);t.exports=function(t,r,i){var u,c;o(t);try{if(!(u=l(t,"return"))){if("throw"===r)throw i;return i}u=a(u,t)}catch(t){c=!0;u=t}if("throw"===r)throw i;if(c)throw u;o(u);return i}},552:(t,r,i)=>{var a=i(5238).IteratorPrototype,o=i(6941),l=i(1198),u=i(7536),c=i(6596),returnThis=function(){return this};t.exports=function(t,r,i,h){var d=r+" Iterator";t.prototype=o(a,{next:l(+!h,i)});u(t,d,!1,!0);c[d]=returnThis;return t}},375:(t,r,i)=>{var a=i(2026),o=i(6941),l=i(9293),u=i(6880),c=i(2292),h=i(1649),d=i(8486),p=i(5238).IteratorPrototype,v=i(1111),y=i(3316),g=c("toStringTag"),m="IteratorHelper",_="WrapForValidIterator",b=h.set,createIteratorProxyPrototype=function(t){var r=h.getterFor(t?_:m);return u(o(p),{next:function next(){var i=r(this);if(t)return i.nextHandler();try{var a=i.done?void 0:i.nextHandler();return v(a,i.done)}catch(t){i.done=!0;throw t}},return:function(){var i=r(this),o=i.iterator;i.done=!0;if(t){var l=d(o,"return");return l?a(l,o):v(void 0,!0)}if(i.inner)try{y(i.inner.iterator,"normal")}catch(t){return y(o,"throw",t)}y(o,"normal");return v(void 0,!0)}})},w=createIteratorProxyPrototype(!0),P=createIteratorProxyPrototype(!1);l(P,g,"Iterator Helper");t.exports=function(t,r){var i=function Iterator(i,a){if(a){a.iterator=i.iterator;a.next=i.next}else a=i;a.type=r?_:m;a.nextHandler=t;a.counter=0;a.done=!1;b(this,a)};i.prototype=r?w:P;return i}},7301:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(2554),u=i(5145),c=i(7316),h=i(552),d=i(2176),p=i(9763),v=i(7536),y=i(9293),g=i(7041),m=i(2292),_=i(6596),b=i(5238),w=u.PROPER,P=u.CONFIGURABLE,A=b.IteratorPrototype,S=b.BUGGY_SAFARI_ITERATORS,E=m("iterator"),x="keys",k="values",D="entries",returnThis=function(){return this};t.exports=function(t,r,i,u,m,b,C){h(i,r,u);var T,I,O,getIterationMethod=function(t){if(t===m&&j)return j;if(!S&&t&&t in G)return G[t];switch(t){case x:return function keys(){return new i(this,t)};case k:return function values(){return new i(this,t)};case D:return function entries(){return new i(this,t)}}return function(){return new i(this)}},M=r+" Iterator",L=!1,G=t.prototype,R=G[E]||G["@@iterator"]||m&&G[m],j=!S&&R||getIterationMethod(m),B="Array"===r&&G.entries||R;if(B&&(T=d(B.call(new t)))!==Object.prototype&&T.next){l||d(T)===A||(p?p(T,A):c(T[E])||g(T,E,returnThis));v(T,M,!0,!0);l&&(_[M]=returnThis)}if(w&&m===k&&R&&R.name!==k)if(!l&&P)y(G,"name",k);else{L=!0;j=function values(){return o(R,this)}}if(m){I={values:getIterationMethod(k),keys:b?j:getIterationMethod(x),entries:getIterationMethod(D)};if(C)for(O in I)(S||L||!(O in G))&&g(G,O,I[O]);else a({target:r,proto:!0,forced:S||L},I)}l&&!C||G[E]===j||g(G,E,j,{name:m});_[r]=j;return I}},8142:(t,r,i)=>{var a=i(2026),o=i(1782),l=i(4719),u=i(9235),c=i(375),h=i(5723),d=c((function(){var t=this.iterator,r=l(a(this.next,t));if(!(this.done=!!r.done))return h(t,this.mapper,[r.value,this.counter++],!0)}));t.exports=function map(t){l(this);o(t);return new d(u(this),{mapper:t})}},5238:(t,r,i)=>{var a,o,l,u=i(8154),c=i(7316),h=i(7633),d=i(6941),p=i(2176),v=i(7041),y=i(2292),g=i(2554),m=y("iterator"),_=!1;[].keys&&("next"in(l=[].keys())?(o=p(p(l)))!==Object.prototype&&(a=o):_=!0);!h(a)||u((function(){var t={};return a[m].call(t)!==t}))?a={}:g&&(a=d(a));c(a[m])||v(a,m,(function(){return this}));t.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:_}},6596:t=>{t.exports={}},451:(t,r,i)=>{var a=i(8293);t.exports=function(t){return a(t.length)}},9687:(t,r,i)=>{var a=i(8403),o=i(8154),l=i(7316),u=i(936),c=i(940),h=i(5145).CONFIGURABLE,d=i(4993),p=i(1649),v=p.enforce,y=p.get,g=String,m=Object.defineProperty,_=a("".slice),b=a("".replace),w=a([].join),P=c&&!o((function(){return 8!==m((function(){}),"length",{value:8}).length})),A=String(String).split("String"),S=t.exports=function(t,r,i){"Symbol("===_(g(r),0,7)&&(r="["+b(g(r),/^Symbol\(([^)]*)\)/,"$1")+"]");i&&i.getter&&(r="get "+r);i&&i.setter&&(r="set "+r);(!u(t,"name")||h&&t.name!==r)&&(c?m(t,"name",{value:r,configurable:!0}):t.name=r);P&&i&&u(i,"arity")&&t.length!==i.arity&&m(t,"length",{value:i.arity});try{i&&u(i,"constructor")&&i.constructor?c&&m(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var a=v(t);u(a,"source")||(a.source=w(A,"string"==typeof r?r:""));return t};Function.prototype.toString=S((function toString(){return l(this)&&y(this).source||d(this)}),"toString")},6336:(t,r,i)=>{var a=i(4875),o=Math.abs,l=2220446049250313e-31,u=1/l;t.exports=function(t,r,i,c){var h=+t,d=o(h),p=a(h);if(d<c)return p*function(t){return t+u-u}(d/c/r)*c*r;var v=(1+r/l)*d,y=v-(v-d);return y>i||y!=y?p*(1/0):p*y}},796:(t,r,i)=>{var a=i(6336);t.exports=Math.fround||function fround(t){return a(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},4875:t=>{t.exports=Math.sign||function sign(t){var r=+t;return 0===r||r!=r?r:r<0?-1:1}},8537:t=>{var r=Math.ceil,i=Math.floor;t.exports=Math.trunc||function trunc(t){var a=+t;return(a>0?i:r)(a)}},1627:(t,r,i)=>{var a,o,l,u,c,h=i(9298),d=i(7789),p=i(5764).f,v=i(4578).set,y=i(1397),g=i(2589),m=i(1458),_=i(8173),b=i(4864),w=h.MutationObserver||h.WebKitMutationObserver,P=h.document,A=h.process,S=h.Promise,E=p(h,"queueMicrotask"),x=E&&E.value;if(!x){var k=new y,flush=function(){var t,r;b&&(t=A.domain)&&t.exit();for(;r=k.get();)try{r()}catch(t){k.head&&a();throw t}t&&t.enter()};if(g||b||_||!w||!P)if(!m&&S&&S.resolve){(u=S.resolve(void 0)).constructor=S;c=d(u.then,u);a=function(){c(flush)}}else if(b)a=function(){A.nextTick(flush)};else{v=d(v,h);a=function(){v(flush)}}else{o=!0;l=P.createTextNode("");new w(flush).observe(l,{characterData:!0});a=function(){l.data=o=!o}}x=function(t){k.head||a();k.add(t)}}t.exports=x},1880:(t,r,i)=>{var a=i(1782),o=TypeError,PromiseCapability=function(t){var r,i;this.promise=new t((function(t,a){if(void 0!==r||void 0!==i)throw new o("Bad Promise constructor");r=t;i=a}));this.resolve=a(r);this.reject=a(i)};t.exports.f=function(t){return new PromiseCapability(t)}},1264:(t,r,i)=>{var a=i(5730);t.exports=function(t,r){return void 0===t?arguments.length<2?"":r:a(t)}},9578:(t,r,i)=>{var a=i(6660),o=TypeError;t.exports=function(t){if(a(t))throw new o("The method doesn't accept regular expressions");return t}},453:(t,r,i)=>{var a=i(940),o=i(8403),l=i(2026),u=i(8154),c=i(1706),h=i(1963),d=i(1879),p=i(2007),v=i(3622),y=Object.assign,g=Object.defineProperty,m=o([].concat);t.exports=!y||u((function(){if(a&&1!==y({b:1},y(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},r={},i=Symbol("assign detection"),o="abcdefghijklmnopqrst";t[i]=7;o.split("").forEach((function(t){r[t]=t}));return 7!==y({},t)[i]||c(y({},r)).join("")!==o}))?function assign(t,r){for(var i=p(t),o=arguments.length,u=1,y=h.f,g=d.f;o>u;)for(var _,b=v(arguments[u++]),w=y?m(c(b),y(b)):c(b),P=w.length,A=0;P>A;){_=w[A++];a&&!l(g,b,_)||(i[_]=b[_])}return i}:y},6941:(t,r,i)=>{var a,o=i(4719),l=i(6617),u=i(298),c=i(6010),h=i(519),d=i(5584),p=i(3727),v="prototype",y="script",g=p("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return"<"+y+">"+t+"</"+y+">"},NullProtoObjectViaActiveX=function(t){t.write(scriptTag(""));t.close();var r=t.parentWindow.Object;t=null;return r},NullProtoObject=function(){try{a=new ActiveXObject("htmlfile")}catch(t){}NullProtoObject="undefined"!=typeof document?document.domain&&a?NullProtoObjectViaActiveX(a):function(){var t,r=d("iframe"),i="java"+y+":";r.style.display="none";h.appendChild(r);r.src=String(i);(t=r.contentWindow.document).open();t.write(scriptTag("document.F=Object"));t.close();return t.F}():NullProtoObjectViaActiveX(a);for(var t=u.length;t--;)delete NullProtoObject[v][u[t]];return NullProtoObject()};c[g]=!0;t.exports=Object.create||function create(t,r){var i;if(null!==t){EmptyConstructor[v]=o(t);i=new EmptyConstructor;EmptyConstructor[v]=null;i[g]=t}else i=NullProtoObject();return void 0===r?i:l.f(i,r)}},6617:(t,r,i)=>{var a=i(940),o=i(9610),l=i(7744),u=i(4719),c=i(4115),h=i(1706);r.f=a&&!o?Object.defineProperties:function defineProperties(t,r){u(t);for(var i,a=c(r),o=h(r),d=o.length,p=0;d>p;)l.f(t,i=o[p++],a[i]);return t}},7744:(t,r,i)=>{var a=i(940),o=i(9394),l=i(9610),u=i(4719),c=i(4871),h=TypeError,d=Object.defineProperty,p=Object.getOwnPropertyDescriptor,v="enumerable",y="configurable",g="writable";r.f=a?l?function defineProperty(t,r,i){u(t);r=c(r);u(i);if("function"==typeof t&&"prototype"===r&&"value"in i&&g in i&&!i[g]){var a=p(t,r);if(a&&a[g]){t[r]=i.value;i={configurable:y in i?i[y]:a[y],enumerable:v in i?i[v]:a[v],writable:!1}}}return d(t,r,i)}:d:function defineProperty(t,r,i){u(t);r=c(r);u(i);if(o)try{return d(t,r,i)}catch(t){}if("get"in i||"set"in i)throw new h("Accessors not supported");"value"in i&&(t[r]=i.value);return t}},5764:(t,r,i)=>{var a=i(940),o=i(2026),l=i(1879),u=i(1198),c=i(4115),h=i(4871),d=i(936),p=i(9394),v=Object.getOwnPropertyDescriptor;r.f=a?v:function getOwnPropertyDescriptor(t,r){t=c(t);r=h(r);if(p)try{return v(t,r)}catch(t){}if(d(t,r))return u(!o(l.f,t,r),t[r])}},2329:(t,r,i)=>{var a=i(8374),o=i(4115),l=i(5455).f,u=i(6071),c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function getOwnPropertyNames(t){return c&&"Window"===a(t)?function(t){try{return l(t)}catch(t){return u(c)}}(t):l(o(t))}},5455:(t,r,i)=>{var a=i(9138),o=i(298).concat("length","prototype");r.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return a(t,o)}},1963:(t,r)=>{r.f=Object.getOwnPropertySymbols},2176:(t,r,i)=>{var a=i(936),o=i(7316),l=i(2007),u=i(3727),c=i(7888),h=u("IE_PROTO"),d=Object,p=d.prototype;t.exports=c?d.getPrototypeOf:function(t){var r=l(t);if(a(r,h))return r[h];var i=r.constructor;return o(i)&&r instanceof i?i.prototype:r instanceof d?p:null}},2191:(t,r,i)=>{var a=i(8154),o=i(7633),l=i(8374),u=i(6944),c=Object.isExtensible,h=a((function(){c(1)}));t.exports=h||u?function isExtensible(t){return!!o(t)&&((!u||"ArrayBuffer"!==l(t))&&(!c||c(t)))}:c},2658:(t,r,i)=>{var a=i(8403);t.exports=a({}.isPrototypeOf)},9138:(t,r,i)=>{var a=i(8403),o=i(936),l=i(4115),u=i(9773).indexOf,c=i(6010),h=a([].push);t.exports=function(t,r){var i,a=l(t),d=0,p=[];for(i in a)!o(c,i)&&o(a,i)&&h(p,i);for(;r.length>d;)o(a,i=r[d++])&&(~u(p,i)||h(p,i));return p}},1706:(t,r,i)=>{var a=i(9138),o=i(298);t.exports=Object.keys||function keys(t){return a(t,o)}},1879:(t,r)=>{var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,o=a&&!i.call({1:2},1);r.f=o?function propertyIsEnumerable(t){var r=a(this,t);return!!r&&r.enumerable}:i},9763:(t,r,i)=>{var a=i(1299),o=i(4719),l=i(4958);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,i={};try{(t=a(Object.prototype,"__proto__","set"))(i,[]);r=i instanceof Array}catch(t){}return function setPrototypeOf(i,a){o(i);l(a);r?t(i,a):i.__proto__=a;return i}}():void 0)},2492:(t,r,i)=>{var a=i(940),o=i(8154),l=i(8403),u=i(2176),c=i(1706),h=i(4115),d=l(i(1879).f),p=l([].push),v=a&&o((function(){var t=Object.create(null);t[2]=2;return!d(t,2)})),createMethod=function(t){return function(r){for(var i,o=h(r),l=c(o),y=v&&null===u(o),g=l.length,m=0,_=[];g>m;){i=l[m++];a&&!(y?i in o:d(o,i))||p(_,t?[i,o[i]]:o[i])}return _}};t.exports={entries:createMethod(!0),values:createMethod(!1)}},759:(t,r,i)=>{var a=i(3077),o=i(8329);t.exports=a?{}.toString:function toString(){return"[object "+o(this)+"]"}},2923:(t,r,i)=>{var a=i(2026),o=i(7316),l=i(7633),u=TypeError;t.exports=function(t,r){var i,c;if("string"===r&&o(i=t.toString)&&!l(c=a(i,t)))return c;if(o(i=t.valueOf)&&!l(c=a(i,t)))return c;if("string"!==r&&o(i=t.toString)&&!l(c=a(i,t)))return c;throw new u("Can't convert object to primitive value")}},8953:(t,r,i)=>{var a=i(7187),o=i(8403),l=i(5455),u=i(1963),c=i(4719),h=o([].concat);t.exports=a("Reflect","ownKeys")||function ownKeys(t){var r=l.f(c(t)),i=u.f;return i?h(r,i(t)):r}},3713:(t,r,i)=>{var a=i(8403),o=i(936),l=SyntaxError,u=parseInt,c=String.fromCharCode,h=a("".charAt),d=a("".slice),p=a(/./.exec),v={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},y=/^[\da-f]{4}$/i,g=/^[\u0000-\u001F]$/;t.exports=function(t,r){for(var i=!0,a="";r<t.length;){var m=h(t,r);if("\\"===m){var _=d(t,r,r+2);if(o(v,_)){a+=v[_];r+=2}else{if("\\u"!==_)throw new l('Unknown escape sequence: "'+_+'"');var b=d(t,r+=2,r+4);if(!p(y,b))throw new l("Bad Unicode escape at: "+r);a+=c(u(b,16));r+=4}}else{if('"'===m){i=!1;r++;break}if(p(g,m))throw new l("Bad control character in string literal at: "+r);a+=m;r++}}if(i)throw new l("Unterminated string at: "+r);return{value:a,end:r}}},1021:(t,r,i)=>{var a=i(9298);t.exports=a},1518:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},8308:(t,r,i)=>{var a=i(9298),o=i(6639),l=i(7316),u=i(7007),c=i(4993),h=i(2292),d=i(3413),p=i(8471),v=i(2554),y=i(2171),g=o&&o.prototype,m=h("species"),_=!1,b=l(a.PromiseRejectionEvent),w=u("Promise",(function(){var t=c(o),r=t!==String(o);if(!r&&66===y)return!0;if(v&&(!g.catch||!g.finally))return!0;if(!y||y<51||!/native code/.test(t)){var i=new o((function(t){t(1)})),FakePromise=function(t){t((function(){}),(function(){}))};(i.constructor={})[m]=FakePromise;if(!(_=i.then((function(){}))instanceof FakePromise))return!0}return!r&&(d||p)&&!b}));t.exports={CONSTRUCTOR:w,REJECTION_EVENT:b,SUBCLASSING:_}},6639:(t,r,i)=>{var a=i(9298);t.exports=a.Promise},2506:(t,r,i)=>{var a=i(4719),o=i(7633),l=i(1880);t.exports=function(t,r){a(t);if(o(r)&&r.constructor===t)return r;var i=l.f(t);(0,i.resolve)(r);return i.promise}},3779:(t,r,i)=>{var a=i(6639),o=i(1374),l=i(8308).CONSTRUCTOR;t.exports=l||!o((function(t){a.all(t).then(void 0,(function(){}))}))},6085:(t,r,i)=>{var a=i(7744).f;t.exports=function(t,r,i){i in t||a(t,i,{configurable:!0,get:function(){return r[i]},set:function(t){r[i]=t}})}},1397:t=>{var Queue=function(){this.head=null;this.tail=null};Queue.prototype={add:function(t){var r={item:t,next:null},i=this.tail;i?i.next=r:this.head=r;this.tail=r},get:function(){var t=this.head;if(t){null===(this.head=t.next)&&(this.tail=null);return t.item}}};t.exports=Queue},8986:(t,r,i)=>{var a=i(2026),o=i(4719),l=i(7316),u=i(8374),c=i(2178),h=TypeError;t.exports=function(t,r){var i=t.exec;if(l(i)){var d=a(i,t,r);null!==d&&o(d);return d}if("RegExp"===u(t))return a(c,t,r);throw new h("RegExp#exec called on incompatible receiver")}},2178:(t,r,i)=>{var a=i(2026),o=i(8403),l=i(5730),u=i(9272),c=i(3286),h=i(6807),d=i(6941),p=i(1649).get,v=i(1714),y=i(2513),g=h("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,_=m,b=o("".charAt),w=o("".indexOf),P=o("".replace),A=o("".slice),S=function(){var t=/a/,r=/b*/g;a(m,t,"a");a(m,r,"a");return 0!==t.lastIndex||0!==r.lastIndex}(),E=c.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(S||x||E||v||y)&&(_=function exec(t){var r,i,o,c,h,v,y,k=this,D=p(k),C=l(t),T=D.raw;if(T){T.lastIndex=k.lastIndex;r=a(_,T,C);k.lastIndex=T.lastIndex;return r}var I=D.groups,O=E&&k.sticky,M=a(u,k),L=k.source,G=0,R=C;if(O){M=P(M,"y","");-1===w(M,"g")&&(M+="g");R=A(C,k.lastIndex);if(k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==b(C,k.lastIndex-1))){L="(?: "+L+")";R=" "+R;G++}i=new RegExp("^(?:"+L+")",M)}x&&(i=new RegExp("^"+L+"$(?!\\s)",M));S&&(o=k.lastIndex);c=a(m,O?i:k,R);if(O)if(c){c.input=A(c.input,G);c[0]=A(c[0],G);c.index=k.lastIndex;k.lastIndex+=c[0].length}else k.lastIndex=0;else S&&c&&(k.lastIndex=k.global?c.index+c[0].length:o);x&&c&&c.length>1&&a(g,c[0],i,(function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(c[h]=void 0)}));if(c&&I){c.groups=v=d(null);for(h=0;h<I.length;h++)v[(y=I[h])[0]]=c[y[1]]}return c});t.exports=_},9272:(t,r,i)=>{var a=i(4719);t.exports=function(){var t=a(this),r="";t.hasIndices&&(r+="d");t.global&&(r+="g");t.ignoreCase&&(r+="i");t.multiline&&(r+="m");t.dotAll&&(r+="s");t.unicode&&(r+="u");t.unicodeSets&&(r+="v");t.sticky&&(r+="y");return r}},1043:(t,r,i)=>{var a=i(2026),o=i(936),l=i(2658),u=i(9272),c=RegExp.prototype;t.exports=function(t){var r=t.flags;return void 0!==r||"flags"in c||o(t,"flags")||!l(c,t)?r:a(u,t)}},3286:(t,r,i)=>{var a=i(8154),o=i(9298).RegExp,l=a((function(){var t=o("a","y");t.lastIndex=2;return null!==t.exec("abcd")})),u=l||a((function(){return!o("a","y").sticky})),c=l||a((function(){var t=o("^r","gy");t.lastIndex=2;return null!==t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:u,UNSUPPORTED_Y:l}},1714:(t,r,i)=>{var a=i(8154),o=i(9298).RegExp;t.exports=a((function(){var t=o(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},2513:(t,r,i)=>{var a=i(8154),o=i(9298).RegExp;t.exports=a((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},5645:(t,r,i)=>{var a=i(3734),o=TypeError;t.exports=function(t){if(a(t))throw new o("Can't call method on "+t);return t}},4057:(t,r,i)=>{var a=i(23),o=i(8848),l=a.Set,u=a.add;t.exports=function(t){var r=new l;o(t,(function(t){u(r,t)}));return r}},5656:(t,r,i)=>{var a=i(5690),o=i(23),l=i(4057),u=i(6098),c=i(1096),h=i(8848),d=i(5504),p=o.has,v=o.remove;t.exports=function difference(t){var r=a(this),i=c(t),o=l(r);u(r)<=i.size?h(r,(function(t){i.includes(t)&&v(o,t)})):d(i.getIterator(),(function(t){p(r,t)&&v(o,t)}));return o}},23:(t,r,i)=>{var a=i(8403),o=Set.prototype;t.exports={Set:Set,add:a(o.add),has:a(o.has),remove:a(o.delete),proto:o}},8461:(t,r,i)=>{var a=i(5690),o=i(23),l=i(6098),u=i(1096),c=i(8848),h=i(5504),d=o.Set,p=o.add,v=o.has;t.exports=function intersection(t){var r=a(this),i=u(t),o=new d;l(r)>i.size?h(i.getIterator(),(function(t){v(r,t)&&p(o,t)})):c(r,(function(t){i.includes(t)&&p(o,t)}));return o}},8550:(t,r,i)=>{var a=i(5690),o=i(23).has,l=i(6098),u=i(1096),c=i(8848),h=i(5504),d=i(3316);t.exports=function isDisjointFrom(t){var r=a(this),i=u(t);if(l(r)<=i.size)return!1!==c(r,(function(t){if(i.includes(t))return!1}),!0);var p=i.getIterator();return!1!==h(p,(function(t){if(o(r,t))return d(p,"normal",!1)}))}},990:(t,r,i)=>{var a=i(5690),o=i(6098),l=i(8848),u=i(1096);t.exports=function isSubsetOf(t){var r=a(this),i=u(t);return!(o(r)>i.size)&&!1!==l(r,(function(t){if(!i.includes(t))return!1}),!0)}},194:(t,r,i)=>{var a=i(5690),o=i(23).has,l=i(6098),u=i(1096),c=i(5504),h=i(3316);t.exports=function isSupersetOf(t){var r=a(this),i=u(t);if(l(r)<i.size)return!1;var d=i.getIterator();return!1!==c(d,(function(t){if(!o(r,t))return h(d,"normal",!1)}))}},8848:(t,r,i)=>{var a=i(8403),o=i(5504),l=i(23),u=l.Set,c=l.proto,h=a(c.forEach),d=a(c.keys),p=d(new u).next;t.exports=function(t,r,i){return i?o({iterator:d(t),next:p},r):h(t,r)}},507:(t,r,i)=>{var a=i(7187),createSetLike=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var r=a("Set");try{(new r)[t](createSetLike(0));try{(new r)[t](createSetLike(-1));return!1}catch(t){return!0}}catch(t){return!1}}},6098:(t,r,i)=>{var a=i(1299),o=i(23);t.exports=a(o.proto,"size","get")||function(t){return t.size}},5963:(t,r,i)=>{var a=i(7187),o=i(9691),l=i(2292),u=i(940),c=l("species");t.exports=function(t){var r=a(t);u&&r&&!r[c]&&o(r,c,{configurable:!0,get:function(){return this}})}},3194:(t,r,i)=>{var a=i(5690),o=i(23),l=i(4057),u=i(1096),c=i(5504),h=o.add,d=o.has,p=o.remove;t.exports=function symmetricDifference(t){var r=a(this),i=u(t).getIterator(),o=l(r);c(i,(function(t){d(r,t)?p(o,t):h(o,t)}));return o}},7536:(t,r,i)=>{var a=i(7744).f,o=i(936),l=i(2292)("toStringTag");t.exports=function(t,r,i){t&&!i&&(t=t.prototype);t&&!o(t,l)&&a(t,l,{configurable:!0,value:r})}},5703:(t,r,i)=>{var a=i(5690),o=i(23).add,l=i(4057),u=i(1096),c=i(5504);t.exports=function union(t){var r=a(this),i=u(t).getIterator(),h=l(r);c(i,(function(t){o(h,t)}));return h}},3727:(t,r,i)=>{var a=i(6807),o=i(7561),l=a("keys");t.exports=function(t){return l[t]||(l[t]=o(t))}},7542:(t,r,i)=>{var a=i(9298),o=i(6e3),l="__core-js_shared__",u=a[l]||o(l,{});t.exports=u},6807:(t,r,i)=>{var a=i(2554),o=i(7542);(t.exports=function(t,r){return o[t]||(o[t]=void 0!==r?r:{})})("versions",[]).push({version:"3.33.3",mode:a?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},8180:(t,r,i)=>{var a=i(4719),o=i(7073),l=i(3734),u=i(2292)("species");t.exports=function(t,r){var i,c=a(t).constructor;return void 0===c||l(i=a(c)[u])?r:o(i)}},6819:(t,r,i)=>{var a=i(8403),o=i(1003),l=i(5730),u=i(5645),c=a("".charAt),h=a("".charCodeAt),d=a("".slice),createMethod=function(t){return function(r,i){var a,p,v=l(u(r)),y=o(i),g=v.length;return y<0||y>=g?t?"":void 0:(a=h(v,y))<55296||a>56319||y+1===g||(p=h(v,y+1))<56320||p>57343?t?c(v,y):a:t?d(v,y,y+2):p-56320+(a-55296<<10)+65536}};t.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},4819:(t,r,i)=>{var a=i(234);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(a)},6460:(t,r,i)=>{var a=i(8403),o=i(8293),l=i(5730),u=i(947),c=i(5645),h=a(u),d=a("".slice),p=Math.ceil,createMethod=function(t){return function(r,i,a){var u,v,y=l(c(r)),g=o(i),m=y.length,_=void 0===a?" ":l(a);if(g<=m||""===_)return y;(v=h(_,p((u=g-m)/_.length))).length>u&&(v=d(v,0,u));return t?y+v:v+y}};t.exports={start:createMethod(!1),end:createMethod(!0)}},2897:(t,r,i)=>{var a=i(8403),o=2147483647,l=/[^\0-\u007E]/,u=/[.\u3002\uFF0E\uFF61]/g,c="Overflow: input needs wider integers to process",h=RangeError,d=a(u.exec),p=Math.floor,v=String.fromCharCode,y=a("".charCodeAt),g=a([].join),m=a([].push),_=a("".replace),b=a("".split),w=a("".toLowerCase),digitToBasic=function(t){return t+22+75*(t<26)},adapt=function(t,r,i){var a=0;t=i?p(t/700):t>>1;t+=p(t/r);for(;t>455;){t=p(t/35);a+=36}return p(a+36*t/(t+38))},encode=function(t){var r=[];t=function(t){for(var r=[],i=0,a=t.length;i<a;){var o=y(t,i++);if(o>=55296&&o<=56319&&i<a){var l=y(t,i++);if(56320==(64512&l))m(r,((1023&o)<<10)+(1023&l)+65536);else{m(r,o);i--}}else m(r,o)}return r}(t);var i,a,l=t.length,u=128,d=0,_=72;for(i=0;i<t.length;i++)(a=t[i])<128&&m(r,v(a));var b=r.length,w=b;b&&m(r,"-");for(;w<l;){var P=o;for(i=0;i<t.length;i++)(a=t[i])>=u&&a<P&&(P=a);var A=w+1;if(P-u>p((o-d)/A))throw new h(c);d+=(P-u)*A;u=P;for(i=0;i<t.length;i++){if((a=t[i])<u&&++d>o)throw new h(c);if(a===u){for(var S=d,E=36;;){var x=E<=_?1:E>=_+26?26:E-_;if(S<x)break;var k=S-x,D=36-x;m(r,v(digitToBasic(x+k%D)));S=p(k/D);E+=36}m(r,v(digitToBasic(S)));_=adapt(d,A,w===b);d=0;w++}}d++;u++}return g(r,"")};t.exports=function(t){var r,i,a=[],o=b(_(w(t),u,"."),".");for(r=0;r<o.length;r++){i=o[r];m(a,d(l,i)?"xn--"+encode(i):i)}return g(a,".")}},947:(t,r,i)=>{var a=i(1003),o=i(5730),l=i(5645),u=RangeError;t.exports=function repeat(t){var r=o(l(this)),i="",c=a(t);if(c<0||c===1/0)throw new u("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(r+=r))1&c&&(i+=r);return i}},4211:(t,r,i)=>{var a=i(83).end,o=i(8729);t.exports=o("trimEnd")?function trimEnd(){return a(this)}:"".trimEnd},8729:(t,r,i)=>{var a=i(5145).PROPER,o=i(8154),l=i(96);t.exports=function(t){return o((function(){return!!l[t]()||""!==""[t]()||a&&l[t].name!==t}))}},83:(t,r,i)=>{var a=i(8403),o=i(5645),l=i(5730),u=i(96),c=a("".replace),h=RegExp("^["+u+"]+"),d=RegExp("(^|[^"+u+"])["+u+"]+$"),createMethod=function(t){return function(r){var i=l(o(r));1&t&&(i=c(i,h,""));2&t&&(i=c(i,d,"$1"));return i}};t.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},4837:(t,r,i)=>{var a=i(9298),o=i(8154),l=i(2171),u=i(3413),c=i(8471),h=i(4864),d=a.structuredClone;t.exports=!!d&&!o((function(){if(c&&l>92||h&&l>94||u&&l>97)return!1;var t=new ArrayBuffer(8),r=d(t,{transfer:[t]});return 0!==t.byteLength||8!==r.byteLength}))},3663:(t,r,i)=>{var a=i(2171),o=i(8154),l=i(9298).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!l(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},5117:(t,r,i)=>{var a=i(2026),o=i(7187),l=i(2292),u=i(7041);t.exports=function(){var t=o("Symbol"),r=t&&t.prototype,i=r&&r.valueOf,c=l("toPrimitive");r&&!r[c]&&u(r,c,(function(t){return a(i,this)}),{arity:1})}},4186:(t,r,i)=>{var a=i(3663);t.exports=a&&!!Symbol.for&&!!Symbol.keyFor},4578:(t,r,i)=>{var a,o,l,u,c=i(9298),h=i(7294),d=i(7789),p=i(7316),v=i(936),y=i(8154),g=i(519),m=i(2251),_=i(5584),b=i(2743),w=i(2589),P=i(4864),A=c.setImmediate,S=c.clearImmediate,E=c.process,x=c.Dispatch,k=c.Function,D=c.MessageChannel,C=c.String,T=0,I={},O="onreadystatechange";y((function(){a=c.location}));var run=function(t){if(v(I,t)){var r=I[t];delete I[t];r()}},runner=function(t){return function(){run(t)}},eventListener=function(t){run(t.data)},globalPostMessageDefer=function(t){c.postMessage(C(t),a.protocol+"//"+a.host)};if(!A||!S){A=function setImmediate(t){b(arguments.length,1);var r=p(t)?t:k(t),i=m(arguments,1);I[++T]=function(){h(r,void 0,i)};o(T);return T};S=function clearImmediate(t){delete I[t]};if(P)o=function(t){E.nextTick(runner(t))};else if(x&&x.now)o=function(t){x.now(runner(t))};else if(D&&!w){u=(l=new D).port2;l.port1.onmessage=eventListener;o=d(u.postMessage,u)}else if(c.addEventListener&&p(c.postMessage)&&!c.importScripts&&a&&"file:"!==a.protocol&&!y(globalPostMessageDefer)){o=globalPostMessageDefer;c.addEventListener("message",eventListener,!1)}else o=O in _("script")?function(t){g.appendChild(_("script"))[O]=function(){g.removeChild(this);run(t)}}:function(t){setTimeout(runner(t),0)}}t.exports={set:A,clear:S}},3328:(t,r,i)=>{var a=i(8403);t.exports=a(1..valueOf)},6985:(t,r,i)=>{var a=i(1003),o=Math.max,l=Math.min;t.exports=function(t,r){var i=a(t);return i<0?o(i+r,0):l(i,r)}},212:(t,r,i)=>{var a=i(4151),o=TypeError;t.exports=function(t){var r=a(t,"number");if("number"==typeof r)throw new o("Can't convert number to bigint");return BigInt(r)}},9548:(t,r,i)=>{var a=i(1003),o=i(8293),l=RangeError;t.exports=function(t){if(void 0===t)return 0;var r=a(t),i=o(r);if(r!==i)throw new l("Wrong length or index");return i}},4115:(t,r,i)=>{var a=i(3622),o=i(5645);t.exports=function(t){return a(o(t))}},1003:(t,r,i)=>{var a=i(8537);t.exports=function(t){var r=+t;return r!=r||0===r?0:a(r)}},8293:(t,r,i)=>{var a=i(1003),o=Math.min;t.exports=function(t){return t>0?o(a(t),9007199254740991):0}},2007:(t,r,i)=>{var a=i(5645),o=Object;t.exports=function(t){return o(a(t))}},9892:(t,r,i)=>{var a=i(9817),o=RangeError;t.exports=function(t,r){var i=a(t);if(i%r)throw new o("Wrong offset");return i}},9817:(t,r,i)=>{var a=i(1003),o=RangeError;t.exports=function(t){var r=a(t);if(r<0)throw new o("The argument can't be less than 0");return r}},4151:(t,r,i)=>{var a=i(2026),o=i(7633),l=i(7814),u=i(8486),c=i(2923),h=i(2292),d=TypeError,p=h("toPrimitive");t.exports=function(t,r){if(!o(t)||l(t))return t;var i,h=u(t,p);if(h){void 0===r&&(r="default");i=a(h,t,r);if(!o(i)||l(i))return i;throw new d("Can't convert object to primitive value")}void 0===r&&(r="number");return c(t,r)}},4871:(t,r,i)=>{var a=i(4151),o=i(7814);t.exports=function(t){var r=a(t,"string");return o(r)?r:r+""}},3077:(t,r,i)=>{var a={};a[i(2292)("toStringTag")]="z";t.exports="[object z]"===String(a)},5730:(t,r,i)=>{var a=i(8329),o=String;t.exports=function(t){if("Symbol"===a(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},9671:t=>{var r=Math.round;t.exports=function(t){var i=r(t);return i<0?0:i>255?255:255&i}},2276:(t,r,i)=>{var a=i(4864);t.exports=function(t){try{if(a)return Function('return require("'+t+'")')()}catch(t){}}},9762:t=>{var r=String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},9173:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(2026),u=i(940),c=i(2127),h=i(5861),d=i(5050),p=i(5834),v=i(1198),y=i(9293),g=i(987),m=i(8293),_=i(9548),b=i(9892),w=i(9671),P=i(4871),A=i(936),S=i(8329),E=i(7633),x=i(7814),k=i(6941),D=i(2658),C=i(9763),T=i(5455).f,I=i(1675),O=i(2423).forEach,M=i(5963),L=i(9691),G=i(7744),R=i(5764),j=i(1649),B=i(7523),N=j.get,W=j.set,V=j.enforce,z=G.f,H=R.f,U=o.RangeError,q=d.ArrayBuffer,K=q.prototype,Y=d.DataView,X=h.NATIVE_ARRAY_BUFFER_VIEWS,$=h.TYPED_ARRAY_TAG,Z=h.TypedArray,Q=h.TypedArrayPrototype,J=h.aTypedArrayConstructor,ee=h.isTypedArray,te="BYTES_PER_ELEMENT",re="Wrong length",fromList=function(t,r){J(t);for(var i=0,a=r.length,o=new t(a);a>i;)o[i]=r[i++];return o},addGetter=function(t,r){L(t,r,{configurable:!0,get:function(){return N(this)[r]}})},isArrayBuffer=function(t){var r;return D(K,t)||"ArrayBuffer"===(r=S(t))||"SharedArrayBuffer"===r},isTypedArrayIndex=function(t,r){return ee(t)&&!x(r)&&r in t&&g(+r)&&r>=0},ne=function getOwnPropertyDescriptor(t,r){r=P(r);return isTypedArrayIndex(t,r)?v(2,t[r]):H(t,r)},ie=function defineProperty(t,r,i){r=P(r);if(isTypedArrayIndex(t,r)&&E(i)&&A(i,"value")&&!A(i,"get")&&!A(i,"set")&&!i.configurable&&(!A(i,"writable")||i.writable)&&(!A(i,"enumerable")||i.enumerable)){t[r]=i.value;return t}return z(t,r,i)};if(u){if(!X){R.f=ne;G.f=ie;addGetter(Q,"buffer");addGetter(Q,"byteOffset");addGetter(Q,"byteLength");addGetter(Q,"length")}a({target:"Object",stat:!0,forced:!X},{getOwnPropertyDescriptor:ne,defineProperty:ie});t.exports=function(t,r,i){var u=t.match(/\d+/)[0]/8,h=t+(i?"Clamped":"")+"Array",d="get"+t,v="set"+t,g=o[h],P=g,A=P&&P.prototype,S={},addElement=function(t,r){z(t,r,{get:function(){return function(t,r){var i=N(t);return i.view[d](r*u+i.byteOffset,!0)}(this,r)},set:function(t){return function(t,r,a){var o=N(t);o.view[v](r*u+o.byteOffset,i?w(a):a,!0)}(this,r,t)},enumerable:!0})};if(X){if(c){P=r((function(t,r,i,a){p(t,A);return B(E(r)?isArrayBuffer(r)?void 0!==a?new g(r,b(i,u),a):void 0!==i?new g(r,b(i,u)):new g(r):ee(r)?fromList(P,r):l(I,P,r):new g(_(r)),t,P)}));C&&C(P,Z);O(T(g),(function(t){t in P||y(P,t,g[t])}));P.prototype=A}}else{P=r((function(t,r,i,a){p(t,A);var o,c,h,d=0,v=0;if(E(r)){if(!isArrayBuffer(r))return ee(r)?fromList(P,r):l(I,P,r);o=r;v=b(i,u);var y=r.byteLength;if(void 0===a){if(y%u)throw new U(re);if((c=y-v)<0)throw new U(re)}else if((c=m(a)*u)+v>y)throw new U(re);h=c/u}else{h=_(r);o=new q(c=h*u)}W(t,{buffer:o,byteOffset:v,byteLength:c,length:h,view:new Y(o)});for(;d<h;)addElement(t,d++)}));C&&C(P,Z);A=P.prototype=k(Q)}A.constructor!==P&&y(A,"constructor",P);V(A).TypedArrayConstructor=P;$&&y(A,$,h);var x=P!==g;S[h]=P;a({global:!0,constructor:!0,forced:x,sham:!X},S);te in P||y(P,te,u);te in A||y(A,te,u);M(h)}}else t.exports=function(){}},2127:(t,r,i)=>{var a=i(9298),o=i(8154),l=i(1374),u=i(5861).NATIVE_ARRAY_BUFFER_VIEWS,c=a.ArrayBuffer,h=a.Int8Array;t.exports=!u||!o((function(){h(1)}))||!o((function(){new h(-1)}))||!l((function(t){new h;new h(null);new h(1.5);new h(t)}),!0)||o((function(){return 1!==new h(new c(2),1,void 0).length}))},5306:(t,r,i)=>{var a=i(7003),o=i(6239);t.exports=function(t,r){return a(o(t),r)}},1675:(t,r,i)=>{var a=i(7789),o=i(2026),l=i(7073),u=i(2007),c=i(451),h=i(7612),d=i(273),p=i(5191),v=i(5986),y=i(5861).aTypedArrayConstructor,g=i(212);t.exports=function from(t){var r,i,m,_,b,w,P,A,S=l(this),E=u(t),x=arguments.length,k=x>1?arguments[1]:void 0,D=void 0!==k,C=d(E);if(C&&!p(C)){A=(P=h(E,C)).next;E=[];for(;!(w=o(A,P)).done;)E.push(w.value)}D&&x>2&&(k=a(k,arguments[2]));i=c(E);m=new(y(S))(i);_=v(m);for(r=0;i>r;r++){b=D?k(E[r],r):E[r];m[r]=_?g(b):+b}return m}},6239:(t,r,i)=>{var a=i(5861),o=i(8180),l=a.aTypedArrayConstructor,u=a.getTypedArrayConstructor;t.exports=function(t){return l(o(t,u(t)))}},7561:(t,r,i)=>{var a=i(8403),o=0,l=Math.random(),u=a(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+u(++o+l,36)}},8815:(t,r,i)=>{var a=i(8154),o=i(2292),l=i(940),u=i(2554),c=o("iterator");t.exports=!a((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),r=t.searchParams,i=new URLSearchParams("a=1&a=2&b=3"),a="";t.pathname="c%20d";r.forEach((function(t,i){r.delete("b");a+=i+t}));i.delete("a",2);i.delete("b",void 0);return u&&(!t.toJSON||!i.has("a",1)||i.has("a",2)||!i.has("a",void 0)||i.has("b"))||!r.size&&(u||!l)||!r.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==r.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!r[c]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},7960:(t,r,i)=>{var a=i(3663);t.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9610:(t,r,i)=>{var a=i(940),o=i(8154);t.exports=a&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2743:t=>{var r=TypeError;t.exports=function(t,i){if(t<i)throw new r("Not enough arguments");return t}},8443:(t,r,i)=>{var a=i(9298),o=i(7316),l=a.WeakMap;t.exports=o(l)&&/native code/.test(String(l))},7120:(t,r,i)=>{var a=i(1021),o=i(936),l=i(8890),u=i(7744).f;t.exports=function(t){var r=a.Symbol||(a.Symbol={});o(r,t)||u(r,t,{value:l.f(t)})}},8890:(t,r,i)=>{var a=i(2292);r.f=a},2292:(t,r,i)=>{var a=i(9298),o=i(6807),l=i(936),u=i(7561),c=i(3663),h=i(7960),d=a.Symbol,p=o("wks"),v=h?d.for||d:d&&d.withoutSetter||u;t.exports=function(t){l(p,t)||(p[t]=c&&l(d,t)?d[t]:v("Symbol."+t));return p[t]}},96:t=>{t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},7342:(t,r,i)=>{var a=i(7187),o=i(936),l=i(9293),u=i(2658),c=i(9763),h=i(1425),d=i(6085),p=i(7523),v=i(1264),y=i(8422),g=i(1931),m=i(940),_=i(2554);t.exports=function(t,r,i,b){var w="stackTraceLimit",P=b?2:1,A=t.split("."),S=A[A.length-1],E=a.apply(null,A);if(E){var x=E.prototype;!_&&o(x,"cause")&&delete x.cause;if(!i)return E;var k=a("Error"),D=r((function(t,r){var i=v(b?r:t,void 0),a=b?new E(t):new E;void 0!==i&&l(a,"message",i);g(a,D,a.stack,2);this&&u(x,this)&&p(a,this,D);arguments.length>P&&y(a,arguments[P]);return a}));D.prototype=x;if("Error"!==S)c?c(D,k):h(D,k,{name:!0});else if(m&&w in E){d(D,E,w);d(D,E,"prepareStackTrace")}h(D,E);if(!_)try{x.name!==S&&l(x,"name",S);x.constructor=D}catch(t){}return D}}},6820:(t,r,i)=>{var a=i(4978),o=i(2007),l=i(451),u=i(1003),c=i(5463);a({target:"Array",proto:!0},{at:function at(t){var r=o(this),i=l(r),a=u(t),c=a>=0?a:i+a;return c<0||c>=i?void 0:r[c]}});c("at")},7874:(t,r,i)=>{var a=i(4978),o=i(8154),l=i(6998),u=i(7633),c=i(2007),h=i(451),d=i(4287),p=i(8947),v=i(8097),y=i(3577),g=i(2292),m=i(2171),_=g("isConcatSpreadable"),b=m>=51||!o((function(){var t=[];t[_]=!1;return t.concat()[0]!==t})),isConcatSpreadable=function(t){if(!u(t))return!1;var r=t[_];return void 0!==r?!!r:l(t)};a({target:"Array",proto:!0,arity:1,forced:!b||!y("concat")},{concat:function concat(t){var r,i,a,o,l,u=c(this),y=v(u,0),g=0;for(r=-1,a=arguments.length;r<a;r++)if(isConcatSpreadable(l=-1===r?u:arguments[r])){o=h(l);d(g+o);for(i=0;i<o;i++,g++)i in l&&p(y,g,l[i])}else{d(g+1);p(y,g++,l)}y.length=g;return y}})},6394:(t,r,i)=>{var a=i(4978),o=i(8041),l=i(5463);a({target:"Array",proto:!0},{fill:o});l("fill")},1585:(t,r,i)=>{var a=i(4978),o=i(2423).filter;a({target:"Array",proto:!0,forced:!i(3577)("filter")},{filter:function filter(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},5621:(t,r,i)=>{var a=i(4978),o=i(2423).findIndex,l=i(5463),u="findIndex",c=!0;u in[]&&Array(1)[u]((function(){c=!1}));a({target:"Array",proto:!0,forced:c},{findIndex:function findIndex(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}});l(u)},3281:(t,r,i)=>{var a=i(4978),o=i(7938),l=i(1782),u=i(2007),c=i(451),h=i(8097);a({target:"Array",proto:!0},{flatMap:function flatMap(t){var r,i=u(this),a=c(i);l(t);(r=h(i,0)).length=o(r,i,i,a,0,1,t,arguments.length>1?arguments[1]:void 0);return r}})},9593:(t,r,i)=>{var a=i(4978),o=i(7609);a({target:"Array",stat:!0,forced:!i(1374)((function(t){Array.from(t)}))},{from:o})},2796:(t,r,i)=>{var a=i(4978),o=i(9773).includes,l=i(8154),u=i(5463);a({target:"Array",proto:!0,forced:l((function(){return!Array(1).includes()}))},{includes:function includes(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}});u("includes")},8649:(t,r,i)=>{var a=i(4978),o=i(6218),l=i(9773).indexOf,u=i(8321),c=o([].indexOf),h=!!c&&1/c([1],1,-0)<0;a({target:"Array",proto:!0,forced:h||!u("indexOf")},{indexOf:function indexOf(t){var r=arguments.length>1?arguments[1]:void 0;return h?c(this,t,r)||0:l(this,t,r)}})},6180:(t,r,i)=>{var a=i(4115),o=i(5463),l=i(6596),u=i(1649),c=i(7744).f,h=i(7301),d=i(1111),p=i(2554),v=i(940),y="Array Iterator",g=u.set,m=u.getterFor(y);t.exports=h(Array,"Array",(function(t,r){g(this,{type:y,target:a(t),index:0,kind:r})}),(function(){var t=m(this),r=t.target,i=t.index++;if(!r||i>=r.length){t.target=void 0;return d(void 0,!0)}switch(t.kind){case"keys":return d(i,!1);case"values":return d(r[i],!1)}return d([i,r[i]],!1)}),"values");var _=l.Arguments=l.Array;o("keys");o("values");o("entries");if(!p&&v&&"values"!==_.name)try{c(_,"name",{value:"values"})}catch(t){}},4997:(t,r,i)=>{var a=i(4978),o=i(8671);a({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},5136:(t,r,i)=>{var a=i(4978),o=i(2423).map;a({target:"Array",proto:!0,forced:!i(3577)("map")},{map:function map(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},4226:(t,r,i)=>{var a=i(4978),o=i(2007),l=i(451),u=i(6661),c=i(4287);a({target:"Array",proto:!0,arity:1,forced:i(8154)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function push(t){var r=o(this),i=l(r),a=arguments.length;c(i+a);for(var h=0;h<a;h++){r[i]=arguments[h];i++}u(r,i);return i}})},171:(t,r,i)=>{var a=i(4978),o=i(6998),l=i(1694),u=i(7633),c=i(6985),h=i(451),d=i(4115),p=i(8947),v=i(2292),y=i(3577),g=i(2251),m=y("slice"),_=v("species"),b=Array,w=Math.max;a({target:"Array",proto:!0,forced:!m},{slice:function slice(t,r){var i,a,v,y=d(this),m=h(y),P=c(t,m),A=c(void 0===r?m:r,m);if(o(y)){i=y.constructor;(l(i)&&(i===b||o(i.prototype))||u(i)&&null===(i=i[_]))&&(i=void 0);if(i===b||void 0===i)return g(y,P,A)}a=new(void 0===i?b:i)(w(A-P,0));for(v=0;P<A;P++,v++)P in y&&p(a,v,y[P]);a.length=v;return a}})},8301:(t,r,i)=>{var a=i(4978),o=i(8403),l=i(1782),u=i(2007),c=i(451),h=i(2322),d=i(5730),p=i(8154),v=i(4689),y=i(8321),g=i(7614),m=i(7463),_=i(2171),b=i(7906),w=[],P=o(w.sort),A=o(w.push),S=p((function(){w.sort(void 0)})),E=p((function(){w.sort(null)})),x=y("sort"),k=!p((function(){if(_)return _<70;if(!(g&&g>3)){if(m)return!0;if(b)return b<603;var t,r,i,a,o="";for(t=65;t<76;t++){r=String.fromCharCode(t);switch(t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(a=0;a<47;a++)w.push({k:r+a,v:i})}w.sort((function(t,r){return r.v-t.v}));for(a=0;a<w.length;a++){r=w[a].k.charAt(0);o.charAt(o.length-1)!==r&&(o+=r)}return"DGBEFHACIJK"!==o}}));a({target:"Array",proto:!0,forced:S||!E||!x||!k},{sort:function sort(t){void 0!==t&&l(t);var r=u(this);if(k)return void 0===t?P(r):P(r,t);var i,a,o=[],p=c(r);for(a=0;a<p;a++)a in r&&A(o,r[a]);v(o,function(t){return function(r,i){return void 0===i?-1:void 0===r?1:void 0!==t?+t(r,i)||0:d(r)>d(i)?1:-1}}(t));i=c(o);a=0;for(;a<i;)r[a]=o[a++];for(;a<p;)h(r,a++);return r}})},6302:(t,r,i)=>{var a=i(4978),o=i(2007),l=i(6985),u=i(1003),c=i(451),h=i(6661),d=i(4287),p=i(8097),v=i(8947),y=i(2322),g=i(3577)("splice"),m=Math.max,_=Math.min;a({target:"Array",proto:!0,forced:!g},{splice:function splice(t,r){var i,a,g,b,w,P,A=o(this),S=c(A),E=l(t,S),x=arguments.length;if(0===x)i=a=0;else if(1===x){i=0;a=S-E}else{i=x-2;a=_(m(u(r),0),S-E)}d(S+i-a);g=p(A,a);for(b=0;b<a;b++)(w=E+b)in A&&v(g,b,A[w]);g.length=a;if(i<a){for(b=E;b<S-a;b++){P=b+i;(w=b+a)in A?A[P]=A[w]:y(A,P)}for(b=S;b>S-a+i;b--)y(A,b-1)}else if(i>a)for(b=S-a;b>E;b--){P=b+i-1;(w=b+a-1)in A?A[P]=A[w]:y(A,P)}for(b=0;b<i;b++)A[b+E]=arguments[b+2];h(A,S-a+i);return g}})},8984:(t,r,i)=>{i(5463)("flatMap")},8806:(t,r,i)=>{var a=i(936),o=i(7041),l=i(3612),u=i(2292)("toPrimitive"),c=Date.prototype;a(c,u)||o(c,u,l)},3352:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(7294),u=i(7342),c="WebAssembly",h=o[c],d=7!==new Error("e",{cause:7}).cause,exportGlobalErrorCauseWrapper=function(t,r){var i={};i[t]=u(t,r,d);a({global:!0,constructor:!0,arity:1,forced:d},i)},exportWebAssemblyErrorCauseWrapper=function(t,r){if(h&&h[t]){var i={};i[t]=u(c+"."+t,r,d);a({target:c,stat:!0,constructor:!0,arity:1,forced:d},i)}};exportGlobalErrorCauseWrapper("Error",(function(t){return function Error(r){return l(t,this,arguments)}}));exportGlobalErrorCauseWrapper("EvalError",(function(t){return function EvalError(r){return l(t,this,arguments)}}));exportGlobalErrorCauseWrapper("RangeError",(function(t){return function RangeError(r){return l(t,this,arguments)}}));exportGlobalErrorCauseWrapper("ReferenceError",(function(t){return function ReferenceError(r){return l(t,this,arguments)}}));exportGlobalErrorCauseWrapper("SyntaxError",(function(t){return function SyntaxError(r){return l(t,this,arguments)}}));exportGlobalErrorCauseWrapper("TypeError",(function(t){return function TypeError(r){return l(t,this,arguments)}}));exportGlobalErrorCauseWrapper("URIError",(function(t){return function URIError(r){return l(t,this,arguments)}}));exportWebAssemblyErrorCauseWrapper("CompileError",(function(t){return function CompileError(r){return l(t,this,arguments)}}));exportWebAssemblyErrorCauseWrapper("LinkError",(function(t){return function LinkError(r){return l(t,this,arguments)}}));exportWebAssemblyErrorCauseWrapper("RuntimeError",(function(t){return function RuntimeError(r){return l(t,this,arguments)}}))},1210:(t,r,i)=>{var a=i(4978),o=i(9298);a({global:!0,forced:o.globalThis!==o},{globalThis:o})},7254:(t,r,i)=>{var a=i(4978),o=i(7187),l=i(7294),u=i(2026),c=i(8403),h=i(8154),d=i(7316),p=i(7814),v=i(2251),y=i(1801),g=i(3663),m=String,_=o("JSON","stringify"),b=c(/./.exec),w=c("".charAt),P=c("".charCodeAt),A=c("".replace),S=c(1..toString),E=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,D=!g||h((function(){var t=o("Symbol")("stringify detection");return"[null]"!==_([t])||"{}"!==_({a:t})||"{}"!==_(Object(t))})),C=h((function(){return'"\\udf06\\ud834"'!==_("\udf06\ud834")||'"\\udead"'!==_("\udead")})),stringifyWithSymbolsFix=function(t,r){var i=v(arguments),a=y(r);if(d(a)||void 0!==t&&!p(t)){i[1]=function(t,r){d(a)&&(r=u(a,this,m(t),r));if(!p(r))return r};return l(_,null,i)}},fixIllFormed=function(t,r,i){var a=w(i,r-1),o=w(i,r+1);return b(x,t)&&!b(k,o)||b(k,t)&&!b(x,a)?"\\u"+S(P(t,0),16):t};_&&a({target:"JSON",stat:!0,arity:3,forced:D||C},{stringify:function stringify(t,r,i){var a=v(arguments),o=l(D?stringifyWithSymbolsFix:_,null,a);return C&&"string"==typeof o?A(o,E,fixIllFormed):o}})},2630:(t,r,i)=>{var a=i(9298);i(7536)(a.JSON,"JSON",!0)},4147:(t,r,i)=>{i(4981)("Map",(function(t){return function Map(){return t(this,arguments.length?arguments[0]:void 0)}}),i(6122))},5548:(t,r,i)=>{i(4147)},7492:(t,r,i)=>{i(4978)({target:"Math",stat:!0},{fround:i(796)})},3821:(t,r,i)=>{var a=i(4978),o=Math.hypot,l=Math.abs,u=Math.sqrt;a({target:"Math",stat:!0,arity:2,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function hypot(t,r){for(var i,a,o=0,c=0,h=arguments.length,d=0;c<h;)if(d<(i=l(arguments[c++]))){o=o*(a=d/i)*a+1;d=i}else o+=i>0?(a=i/d)*a:i;return d===1/0?1/0:d*u(o)}})},4165:(t,r,i)=>{i(4978)({target:"Math",stat:!0},{sign:i(4875)})},1024:(t,r,i)=>{i(7536)(Math,"Math",!0)},5897:(t,r,i)=>{var a=i(4978),o=i(2554),l=i(940),u=i(9298),c=i(1021),h=i(8403),d=i(7007),p=i(936),v=i(7523),y=i(2658),g=i(7814),m=i(4151),_=i(8154),b=i(5455).f,w=i(5764).f,P=i(7744).f,A=i(3328),S=i(83).trim,E="Number",x=u[E],k=c[E],D=x.prototype,C=u.TypeError,T=h("".slice),I=h("".charCodeAt),toNumber=function(t){var r,i,a,o,l,u,c,h,d=m(t,"number");if(g(d))throw new C("Cannot convert a Symbol value to a number");if("string"==typeof d&&d.length>2){d=S(d);if(43===(r=I(d,0))||45===r){if(88===(i=I(d,2))||120===i)return NaN}else if(48===r){switch(I(d,1)){case 66:case 98:a=2;o=49;break;case 79:case 111:a=8;o=55;break;default:return+d}u=(l=T(d,2)).length;for(c=0;c<u;c++)if((h=I(l,c))<48||h>o)return NaN;return parseInt(l,a)}}return+d},O=d(E,!x(" 0o1")||!x("0b1")||x("+0x1")),M=function Number(t){var r,i=arguments.length<1?0:x(function(t){var r=m(t,"number");return"bigint"==typeof r?r:toNumber(r)}(t));return y(D,r=this)&&_((function(){A(r)}))?v(Object(i),this,M):i};M.prototype=D;O&&!o&&(D.constructor=M);a({global:!0,constructor:!0,wrap:!0,forced:O},{Number:M});var copyConstructorProperties=function(t,r){for(var i,a=l?b(r):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;a.length>o;o++)p(r,i=a[o])&&!p(t,i)&&P(t,i,w(r,i))};o&&k&&copyConstructorProperties(c[E],k);(O||o)&&copyConstructorProperties(c[E],x)},9142:(t,r,i)=>{var a=i(4978),o=i(453);a({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},2586:(t,r,i)=>{var a=i(4978),o=i(2492).entries;a({target:"Object",stat:!0},{entries:function entries(t){return o(t)}})},4441:(t,r,i)=>{var a=i(4978),o=i(7010),l=i(8154),u=i(7633),c=i(4694).onFreeze,h=Object.freeze;a({target:"Object",stat:!0,forced:l((function(){h(1)})),sham:!o},{freeze:function freeze(t){return h&&u(t)?h(c(t)):t}})},7262:(t,r,i)=>{var a=i(4978),o=i(8154),l=i(4115),u=i(5764).f,c=i(940);a({target:"Object",stat:!0,forced:!c||o((function(){u(1)})),sham:!c},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(t,r){return u(l(t),r)}})},7335:(t,r,i)=>{var a=i(4978),o=i(940),l=i(8953),u=i(4115),c=i(5764),h=i(8947);a({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(t){for(var r,i,a=u(t),o=c.f,d=l(a),p={},v=0;d.length>v;)void 0!==(i=o(a,r=d[v++]))&&h(p,r,i);return p}})},8564:(t,r,i)=>{var a=i(4978),o=i(3663),l=i(8154),u=i(1963),c=i(2007);a({target:"Object",stat:!0,forced:!o||l((function(){u.f(1)}))},{getOwnPropertySymbols:function getOwnPropertySymbols(t){var r=u.f;return r?r(c(t)):[]}})},13:(t,r,i)=>{var a=i(4978),o=i(8154),l=i(2007),u=i(2176),c=i(7888);a({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!c},{getPrototypeOf:function getPrototypeOf(t){return u(l(t))}})},4668:(t,r,i)=>{var a=i(4978),o=i(2007),l=i(1706);a({target:"Object",stat:!0,forced:i(8154)((function(){l(1)}))},{keys:function keys(t){return l(o(t))}})},895:(t,r,i)=>{var a=i(3077),o=i(7041),l=i(759);a||o(Object.prototype,"toString",l,{unsafe:!0})},9099:(t,r,i)=>{var a=i(4978),o=i(2492).values;a({target:"Object",stat:!0},{values:function values(t){return o(t)}})},4060:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(1782),u=i(1880),c=i(1518),h=i(6837);a({target:"Promise",stat:!0,forced:i(3779)},{allSettled:function allSettled(t){var r=this,i=u.f(r),a=i.resolve,d=i.reject,p=c((function(){var i=l(r.resolve),u=[],c=0,d=1;h(t,(function(t){var l=c++,h=!1;d++;o(i,r,t).then((function(t){if(!h){h=!0;u[l]={status:"fulfilled",value:t};--d||a(u)}}),(function(t){if(!h){h=!0;u[l]={status:"rejected",reason:t};--d||a(u)}}))}));--d||a(u)}));p.error&&d(p.value);return i.promise}})},8392:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(1782),u=i(1880),c=i(1518),h=i(6837);a({target:"Promise",stat:!0,forced:i(3779)},{all:function all(t){var r=this,i=u.f(r),a=i.resolve,d=i.reject,p=c((function(){var i=l(r.resolve),u=[],c=0,p=1;h(t,(function(t){var l=c++,h=!1;p++;o(i,r,t).then((function(t){if(!h){h=!0;u[l]=t;--p||a(u)}}),d)}));--p||a(u)}));p.error&&d(p.value);return i.promise}})},3264:(t,r,i)=>{var a=i(4978),o=i(2554),l=i(8308).CONSTRUCTOR,u=i(6639),c=i(7187),h=i(7316),d=i(7041),p=u&&u.prototype;a({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(t){return this.then(void 0,t)}});if(!o&&h(u)){var v=c("Promise").prototype.catch;p.catch!==v&&d(p,"catch",v,{unsafe:!0})}},7930:(t,r,i)=>{var a,o,l,u=i(4978),c=i(2554),h=i(4864),d=i(9298),p=i(2026),v=i(7041),y=i(9763),g=i(7536),m=i(5963),_=i(1782),b=i(7316),w=i(7633),P=i(5834),A=i(8180),S=i(4578).set,E=i(1627),x=i(5285),k=i(1518),D=i(1397),C=i(1649),T=i(6639),I=i(8308),O=i(1880),M="Promise",L=I.CONSTRUCTOR,G=I.REJECTION_EVENT,R=I.SUBCLASSING,j=C.getterFor(M),B=C.set,N=T&&T.prototype,W=T,V=N,z=d.TypeError,H=d.document,U=d.process,q=O.f,K=q,Y=!!(H&&H.createEvent&&d.dispatchEvent),X="unhandledrejection",isThenable=function(t){var r;return!(!w(t)||!b(r=t.then))&&r},callReaction=function(t,r){var i,a,o,l=r.value,u=1===r.state,c=u?t.ok:t.fail,h=t.resolve,d=t.reject,v=t.domain;try{if(c){if(!u){2===r.rejection&&onHandleUnhandled(r);r.rejection=1}if(!0===c)i=l;else{v&&v.enter();i=c(l);if(v){v.exit();o=!0}}i===t.promise?d(new z("Promise-chain cycle")):(a=isThenable(i))?p(a,i,h,d):h(i)}else d(l)}catch(t){v&&!o&&v.exit();d(t)}},notify=function(t,r){if(!t.notified){t.notified=!0;E((function(){for(var i,a=t.reactions;i=a.get();)callReaction(i,t);t.notified=!1;r&&!t.rejection&&onUnhandled(t)}))}},dispatchEvent=function(t,r,i){var a,o;if(Y){(a=H.createEvent("Event")).promise=r;a.reason=i;a.initEvent(t,!1,!0);d.dispatchEvent(a)}else a={promise:r,reason:i};!G&&(o=d["on"+t])?o(a):t===X&&x("Unhandled promise rejection",i)},onUnhandled=function(t){p(S,d,(function(){var r,i=t.facade,a=t.value;if(isUnhandled(t)){r=k((function(){h?U.emit("unhandledRejection",a,i):dispatchEvent(X,i,a)}));t.rejection=h||isUnhandled(t)?2:1;if(r.error)throw r.value}}))},isUnhandled=function(t){return 1!==t.rejection&&!t.parent},onHandleUnhandled=function(t){p(S,d,(function(){var r=t.facade;h?U.emit("rejectionHandled",r):dispatchEvent("rejectionhandled",r,t.value)}))},bind=function(t,r,i){return function(a){t(r,a,i)}},internalReject=function(t,r,i){if(!t.done){t.done=!0;i&&(t=i);t.value=r;t.state=2;notify(t,!0)}},internalResolve=function(t,r,i){if(!t.done){t.done=!0;i&&(t=i);try{if(t.facade===r)throw new z("Promise can't be resolved itself");var a=isThenable(r);if(a)E((function(){var i={done:!1};try{p(a,r,bind(internalResolve,i,t),bind(internalReject,i,t))}catch(r){internalReject(i,r,t)}}));else{t.value=r;t.state=1;notify(t,!1)}}catch(r){internalReject({done:!1},r,t)}}};if(L){V=(W=function Promise(t){P(this,V);_(t);p(a,this);var r=j(this);try{t(bind(internalResolve,r),bind(internalReject,r))}catch(t){internalReject(r,t)}}).prototype;(a=function Promise(t){B(this,{type:M,done:!1,notified:!1,parent:!1,reactions:new D,rejection:!1,state:0,value:void 0})}).prototype=v(V,"then",(function then(t,r){var i=j(this),a=q(A(this,W));i.parent=!0;a.ok=!b(t)||t;a.fail=b(r)&&r;a.domain=h?U.domain:void 0;0===i.state?i.reactions.add(a):E((function(){callReaction(a,i)}));return a.promise}));o=function(){var t=new a,r=j(t);this.promise=t;this.resolve=bind(internalResolve,r);this.reject=bind(internalReject,r)};O.f=q=function(t){return t===W||undefined===t?new o(t):K(t)};if(!c&&b(T)&&N!==Object.prototype){l=N.then;R||v(N,"then",(function then(t,r){var i=this;return new W((function(t,r){p(l,i,t,r)})).then(t,r)}),{unsafe:!0});try{delete N.constructor}catch(t){}y&&y(N,V)}}u({global:!0,constructor:!0,wrap:!0,forced:L},{Promise:W});g(W,M,!1,!0);m(M)},4750:(t,r,i)=>{var a=i(4978),o=i(2554),l=i(6639),u=i(8154),c=i(7187),h=i(7316),d=i(8180),p=i(2506),v=i(7041),y=l&&l.prototype;a({target:"Promise",proto:!0,real:!0,forced:!!l&&u((function(){y.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var r=d(this,c("Promise")),i=h(t);return this.then(i?function(i){return p(r,t()).then((function(){return i}))}:t,i?function(i){return p(r,t()).then((function(){throw i}))}:t)}});if(!o&&h(l)){var g=c("Promise").prototype.finally;y.finally!==g&&v(y,"finally",g,{unsafe:!0})}},5666:(t,r,i)=>{i(7930);i(8392);i(3264);i(1078);i(4209);i(935)},1078:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(1782),u=i(1880),c=i(1518),h=i(6837);a({target:"Promise",stat:!0,forced:i(3779)},{race:function race(t){var r=this,i=u.f(r),a=i.reject,d=c((function(){var u=l(r.resolve);h(t,(function(t){o(u,r,t).then(i.resolve,a)}))}));d.error&&a(d.value);return i.promise}})},4209:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(1880);a({target:"Promise",stat:!0,forced:i(8308).CONSTRUCTOR},{reject:function reject(t){var r=l.f(this);o(r.reject,void 0,t);return r.promise}})},935:(t,r,i)=>{var a=i(4978),o=i(7187),l=i(2554),u=i(6639),c=i(8308).CONSTRUCTOR,h=i(2506),d=o("Promise"),p=l&&!c;a({target:"Promise",stat:!0,forced:l||c},{resolve:function resolve(t){return h(p&&this===d?u:this,t)}})},6128:(t,r,i)=>{var a=i(4978),o=i(7187),l=i(7294),u=i(6520),c=i(7073),h=i(4719),d=i(7633),p=i(6941),v=i(8154),y=o("Reflect","construct"),g=Object.prototype,m=[].push,_=v((function(){function F(){}return!(y((function(){}),[],F)instanceof F)})),b=!v((function(){y((function(){}))})),w=_||b;a({target:"Reflect",stat:!0,forced:w,sham:w},{construct:function construct(t,r){c(t);h(r);var i=arguments.length<3?t:c(arguments[2]);if(b&&!_)return y(t,r,i);if(t===i){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var a=[null];l(m,a,r);return new(l(u,t,a))}var o=i.prototype,v=p(d(o)?o:g),w=l(t,v,r);return d(w)?w:v}})},9718:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(7633),u=i(4719),c=i(3374),h=i(5764),d=i(2176);a({target:"Reflect",stat:!0},{get:function get(t,r){var i,a,p=arguments.length<3?t:arguments[2];return u(t)===p?t[r]:(i=h.f(t,r))?c(i)?i.value:void 0===i.get?void 0:o(i.get,p):l(a=d(t))?get(a,r,p):void 0}})},9175:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(7536);a({global:!0},{Reflect:{}});l(o.Reflect,"Reflect",!0)},3032:(t,r,i)=>{var a=i(940),o=i(9298),l=i(8403),u=i(7007),c=i(7523),h=i(9293),d=i(5455).f,p=i(2658),v=i(6660),y=i(5730),g=i(1043),m=i(3286),_=i(6085),b=i(7041),w=i(8154),P=i(936),A=i(1649).enforce,S=i(5963),E=i(2292),x=i(1714),k=i(2513),D=E("match"),C=o.RegExp,T=C.prototype,I=o.SyntaxError,O=l(T.exec),M=l("".charAt),L=l("".replace),G=l("".indexOf),R=l("".slice),j=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,B=/a/g,N=/a/g,W=new C(B)!==B,V=m.MISSED_STICKY,z=m.UNSUPPORTED_Y,H=a&&(!W||V||x||k||w((function(){N[D]=!1;return C(B)!==B||C(N)===N||"/a/i"!==String(C(B,"i"))})));if(u("RegExp",H)){for(var U=function RegExp(t,r){var i,a,o,l,u,d,m=p(T,this),_=v(t),b=void 0===r,w=[],S=t;if(!m&&_&&b&&t.constructor===U)return t;if(_||p(T,t)){t=t.source;b&&(r=g(S))}t=void 0===t?"":y(t);r=void 0===r?"":y(r);S=t;x&&"dotAll"in B&&(a=!!r&&G(r,"s")>-1)&&(r=L(r,/s/g,""));i=r;V&&"sticky"in B&&(o=!!r&&G(r,"y")>-1)&&z&&(r=L(r,/y/g,""));if(k){l=function(t){for(var r,i=t.length,a=0,o="",l=[],u={},c=!1,h=!1,d=0,p="";a<=i;a++){if("\\"===(r=M(t,a)))r+=M(t,++a);else if("]"===r)c=!1;else if(!c)switch(!0){case"["===r:c=!0;break;case"("===r:if(O(j,R(t,a+1))){a+=2;h=!0}o+=r;d++;continue;case">"===r&&h:if(""===p||P(u,p))throw new I("Invalid capture group name");u[p]=!0;l[l.length]=[p,d];h=!1;p="";continue}h?p+=r:o+=r}return[o,l]}(t);t=l[0];w=l[1]}u=c(C(t,r),m?this:T,U);if(a||o||w.length){d=A(u);if(a){d.dotAll=!0;d.raw=U(function(t){for(var r,i=t.length,a=0,o="",l=!1;a<=i;a++)if("\\"!==(r=M(t,a)))if(l||"."!==r){"["===r?l=!0:"]"===r&&(l=!1);o+=r}else o+="[\\s\\S]";else o+=r+M(t,++a);return o}(t),i)}o&&(d.sticky=!0);w.length&&(d.groups=w)}if(t!==S)try{h(u,"source",""===S?"(?:)":S)}catch(t){}return u},q=d(C),K=0;q.length>K;)_(U,C,q[K++]);T.constructor=U;U.prototype=T;b(o,"RegExp",U,{constructor:!0})}S("RegExp")},5619:(t,r,i)=>{var a=i(940),o=i(1714),l=i(8374),u=i(9691),c=i(1649).get,h=RegExp.prototype,d=TypeError;a&&o&&u(h,"dotAll",{configurable:!0,get:function dotAll(){if(this!==h){if("RegExp"===l(this))return!!c(this).dotAll;throw new d("Incompatible receiver, RegExp required")}}})},7942:(t,r,i)=>{var a=i(4978),o=i(2178);a({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},9786:(t,r,i)=>{var a=i(940),o=i(3286).MISSED_STICKY,l=i(8374),u=i(9691),c=i(1649).get,h=RegExp.prototype,d=TypeError;a&&o&&u(h,"sticky",{configurable:!0,get:function sticky(){if(this!==h){if("RegExp"===l(this))return!!c(this).sticky;throw new d("Incompatible receiver, RegExp required")}}})},5776:(t,r,i)=>{i(7942);var a=i(4978),o=i(2026),l=i(7316),u=i(4719),c=i(5730),h=function(){var t=!1,r=/[ac]/;r.exec=function(){t=!0;return/./.exec.apply(this,arguments)};return!0===r.test("abc")&&t}(),d=/./.test;a({target:"RegExp",proto:!0,forced:!h},{test:function(t){var r=u(this),i=c(t),a=r.exec;if(!l(a))return o(d,r,i);var h=o(a,r,i);if(null===h)return!1;u(h);return!0}})},924:(t,r,i)=>{var a=i(5145).PROPER,o=i(7041),l=i(4719),u=i(5730),c=i(8154),h=i(1043),d="toString",p=RegExp.prototype[d],v=c((function(){return"/a/b"!==p.call({source:"a",flags:"b"})})),y=a&&p.name!==d;(v||y)&&o(RegExp.prototype,d,(function toString(){var t=l(this);return"/"+u(t.source)+"/"+u(h(t))}),{unsafe:!0})},3810:(t,r,i)=>{i(4981)("Set",(function(t){return function Set(){return t(this,arguments.length?arguments[0]:void 0)}}),i(6122))},2048:(t,r,i)=>{i(3810)},10:(t,r,i)=>{var a=i(4978),o=i(8403),l=i(5645),u=i(1003),c=i(5730),h=i(8154),d=o("".charAt);a({target:"String",proto:!0,forced:h((function(){return"\ud842"!=="".at(-2)}))},{at:function at(t){var r=c(l(this)),i=r.length,a=u(t),o=a>=0?a:i+a;return o<0||o>=i?void 0:d(r,o)}})},6133:(t,r,i)=>{var a,o=i(4978),l=i(6218),u=i(5764).f,c=i(8293),h=i(5730),d=i(9578),p=i(5645),v=i(2280),y=i(2554),g=l("".endsWith),m=l("".slice),_=Math.min,b=v("endsWith");o({target:"String",proto:!0,forced:!(!y&&!b&&!!(a=u(String.prototype,"endsWith"),a&&!a.writable))&&!b},{endsWith:function endsWith(t){var r=h(p(this));d(t);var i=arguments.length>1?arguments[1]:void 0,a=r.length,o=void 0===i?a:_(c(i),a),l=h(t);return g?g(r,l,o):m(r,o-l.length,o)===l}})},2613:(t,r,i)=>{var a=i(4978),o=i(8403),l=i(9578),u=i(5645),c=i(5730),h=i(2280),d=o("".indexOf);a({target:"String",proto:!0,forced:!h("includes")},{includes:function includes(t){return!!~d(c(u(this)),c(l(t)),arguments.length>1?arguments[1]:void 0)}})},1747:(t,r,i)=>{var a=i(6819).charAt,o=i(5730),l=i(1649),u=i(7301),c=i(1111),h="String Iterator",d=l.set,p=l.getterFor(h);u(String,"String",(function(t){d(this,{type:h,string:o(t),index:0})}),(function next(){var t,r=p(this),i=r.string,o=r.index;if(o>=i.length)return c(void 0,!0);t=a(i,o);r.index+=t.length;return c(t,!1)}))},469:(t,r,i)=>{var a=i(2026),o=i(4629),l=i(4719),u=i(3734),c=i(8293),h=i(5730),d=i(5645),p=i(8486),v=i(9047),y=i(8986);o("match",(function(t,r,i){return[function match(r){var i=d(this),o=u(r)?void 0:p(r,t);return o?a(o,r,i):new RegExp(r)[t](h(i))},function(t){var a=l(this),o=h(t),u=i(r,a,o);if(u.done)return u.value;if(!a.global)return y(a,o);var d=a.unicode;a.lastIndex=0;for(var p,g=[],m=0;null!==(p=y(a,o));){var _=h(p[0]);g[m]=_;""===_&&(a.lastIndex=v(o,c(a.lastIndex),d));m++}return 0===m?null:g}]}))},6333:(t,r,i)=>{var a=i(4978),o=i(6460).end;a({target:"String",proto:!0,forced:i(4819)},{padEnd:function padEnd(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},7230:(t,r,i)=>{var a=i(4978),o=i(6460).start;a({target:"String",proto:!0,forced:i(4819)},{padStart:function padStart(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},7600:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(8403),u=i(5645),c=i(7316),h=i(3734),d=i(6660),p=i(5730),v=i(8486),y=i(1043),g=i(1634),m=i(2292),_=i(2554),b=m("replace"),w=TypeError,P=l("".indexOf),A=l("".replace),S=l("".slice),E=Math.max,stringIndexOf=function(t,r,i){return i>t.length?-1:""===r?i:P(t,r,i)};a({target:"String",proto:!0},{replaceAll:function replaceAll(t,r){var i,a,l,m,x,k,D,C,T,I=u(this),O=0,M=0,L="";if(!h(t)){if(i=d(t)){a=p(u(y(t)));if(!~P(a,"g"))throw new w("`.replaceAll` does not allow non-global regexes")}if(l=v(t,b))return o(l,t,I,r);if(_&&i)return A(p(I),t,r)}m=p(I);x=p(t);(k=c(r))||(r=p(r));D=x.length;C=E(1,D);O=stringIndexOf(m,x,0);for(;-1!==O;){T=k?p(r(x,O,m)):g(x,m,O,[],void 0,r);L+=S(m,M,O)+T;M=O+D;O=stringIndexOf(m,x,O+C)}M<m.length&&(L+=S(m,M));return L}})},4711:(t,r,i)=>{var a=i(7294),o=i(2026),l=i(8403),u=i(4629),c=i(8154),h=i(4719),d=i(7316),p=i(3734),v=i(1003),y=i(8293),g=i(5730),m=i(5645),_=i(9047),b=i(8486),w=i(1634),P=i(8986),A=i(2292)("replace"),S=Math.max,E=Math.min,x=l([].concat),k=l([].push),D=l("".indexOf),C=l("".slice),T="$0"==="a".replace(/./,"$0"),I=!!/./[A]&&""===/./[A]("a","$0");u("replace",(function(t,r,i){var l=I?"$":"$0";return[function replace(t,i){var a=m(this),l=p(t)?void 0:b(t,A);return l?o(l,t,a,i):o(r,g(a),t,i)},function(t,o){var u=h(this),c=g(t);if("string"==typeof o&&-1===D(o,l)&&-1===D(o,"$<")){var p=i(r,u,c,o);if(p.done)return p.value}var m=d(o);m||(o=g(o));var b,A=u.global;if(A){b=u.unicode;u.lastIndex=0}for(var T,I=[];null!==(T=P(u,c));){k(I,T);if(!A)break;""===g(T[0])&&(u.lastIndex=_(c,y(u.lastIndex),b))}for(var O,M="",L=0,G=0;G<I.length;G++){for(var R,j=g((T=I[G])[0]),B=S(E(v(T.index),c.length),0),N=[],W=1;W<T.length;W++)k(N,void 0===(O=T[W])?O:String(O));var V=T.groups;if(m){var z=x([j],N,B,c);void 0!==V&&k(z,V);R=g(a(o,void 0,z))}else R=w(j,c,B,N,V,o);if(B>=L){M+=C(c,L,B)+R;L=B+j.length}}return M+C(c,L)}]}),!!c((function(){var t=/./;t.exec=function(){var t=[];t.groups={a:"7"};return t};return"7"!=="".replace(t,"$<a>")}))||!T||I)},4280:(t,r,i)=>{var a=i(7294),o=i(2026),l=i(8403),u=i(4629),c=i(4719),h=i(3734),d=i(6660),p=i(5645),v=i(8180),y=i(9047),g=i(8293),m=i(5730),_=i(8486),b=i(6071),w=i(8986),P=i(2178),A=i(3286),S=i(8154),E=A.UNSUPPORTED_Y,x=4294967295,k=Math.min,D=[].push,C=l(/./.exec),T=l(D),I=l("".slice);u("split",(function(t,r,i){var l;l="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var l=m(p(this)),u=void 0===i?x:i>>>0;if(0===u)return[];if(void 0===t)return[l];if(!d(t))return o(r,l,t,u);for(var c,h,v,y=[],g=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),_=0,w=new RegExp(t.source,g+"g");c=o(P,w,l);){if((h=w.lastIndex)>_){T(y,I(l,_,c.index));c.length>1&&c.index<l.length&&a(D,y,b(c,1));v=c[0].length;_=h;if(y.length>=u)break}w.lastIndex===c.index&&w.lastIndex++}_===l.length?!v&&C(w,"")||T(y,""):T(y,I(l,_));return y.length>u?b(y,0,u):y}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:o(r,this,t,i)}:r;return[function split(r,i){var a=p(this),u=h(r)?void 0:_(r,t);return u?o(u,r,a,i):o(l,m(a),r,i)},function(t,a){var o=c(this),u=m(t),h=i(l,o,u,a,l!==r);if(h.done)return h.value;var d=v(o,RegExp),p=o.unicode,_=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(E?"g":"y"),b=new d(E?"^(?:"+o.source+")":o,_),P=void 0===a?x:a>>>0;if(0===P)return[];if(0===u.length)return null===w(b,u)?[u]:[];for(var A=0,S=0,D=[];S<u.length;){b.lastIndex=E?0:S;var C,O=w(b,E?I(u,S):u);if(null===O||(C=k(g(b.lastIndex+(E?S:0)),u.length))===A)S=y(u,S,p);else{T(D,I(u,A,S));if(D.length===P)return D;for(var M=1;M<=O.length-1;M++){T(D,O[M]);if(D.length===P)return D}S=A=C}}T(D,I(u,A));return D}]}),!!S((function(){var t=/(?:)/,r=t.exec;t.exec=function(){return r.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]})),E)},6421:(t,r,i)=>{var a,o=i(4978),l=i(6218),u=i(5764).f,c=i(8293),h=i(5730),d=i(9578),p=i(5645),v=i(2280),y=i(2554),g=l("".startsWith),m=l("".slice),_=Math.min,b=v("startsWith");o({target:"String",proto:!0,forced:!(!y&&!b&&!!(a=u(String.prototype,"startsWith"),a&&!a.writable))&&!b},{startsWith:function startsWith(t){var r=h(p(this));d(t);var i=c(_(arguments.length>1?arguments[1]:void 0,r.length)),a=h(t);return g?g(r,a,i):m(r,i,i+a.length)===a}})},5404:(t,r,i)=>{i(5493);var a=i(4978),o=i(4211);a({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==o},{trimEnd:o})},5493:(t,r,i)=>{var a=i(4978),o=i(4211);a({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==o},{trimRight:o})},8341:(t,r,i)=>{var a=i(4978),o=i(83).trim;a({target:"String",proto:!0,forced:i(8729)("trim")},{trim:function trim(){return o(this)}})},1133:(t,r,i)=>{i(7120)("asyncIterator")},1532:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(2026),u=i(8403),c=i(2554),h=i(940),d=i(3663),p=i(8154),v=i(936),y=i(2658),g=i(4719),m=i(4115),_=i(4871),b=i(5730),w=i(1198),P=i(6941),A=i(1706),S=i(5455),E=i(2329),x=i(1963),k=i(5764),D=i(7744),C=i(6617),T=i(1879),I=i(7041),O=i(9691),M=i(6807),L=i(3727),G=i(6010),R=i(7561),j=i(2292),B=i(8890),N=i(7120),W=i(5117),V=i(7536),z=i(1649),H=i(2423).forEach,U=L("hidden"),q="Symbol",K="prototype",Y=z.set,X=z.getterFor(q),$=Object[K],Z=o.Symbol,Q=Z&&Z[K],J=o.RangeError,ee=o.TypeError,te=o.QObject,re=k.f,ne=D.f,ie=E.f,ae=T.f,oe=u([].push),se=M("symbols"),le=M("op-symbols"),ue=M("wks"),ce=!te||!te[K]||!te[K].findChild,fallbackDefineProperty=function(t,r,i){var a=re($,r);a&&delete $[r];ne(t,r,i);a&&t!==$&&ne($,r,a)},he=h&&p((function(){return 7!==P(ne({},"a",{get:function(){return ne(this,"a",{value:7}).a}})).a}))?fallbackDefineProperty:ne,wrap=function(t,r){var i=se[t]=P(Q);Y(i,{type:q,tag:t,description:r});h||(i.description=r);return i},de=function defineProperty(t,r,i){t===$&&de(le,r,i);g(t);var a=_(r);g(i);if(v(se,a)){if(i.enumerable){v(t,U)&&t[U][a]&&(t[U][a]=!1);i=P(i,{enumerable:w(0,!1)})}else{v(t,U)||ne(t,U,w(1,{}));t[U][a]=!0}return he(t,a,i)}return ne(t,a,i)},fe=function defineProperties(t,r){g(t);var i=m(r),a=A(i).concat($getOwnPropertySymbols(i));H(a,(function(r){h&&!l(pe,i,r)||de(t,r,i[r])}));return t},pe=function propertyIsEnumerable(t){var r=_(t),i=l(ae,this,r);return!(this===$&&v(se,r)&&!v(le,r))&&(!(i||!v(this,r)||!v(se,r)||v(this,U)&&this[U][r])||i)},ve=function getOwnPropertyDescriptor(t,r){var i=m(t),a=_(r);if(i!==$||!v(se,a)||v(le,a)){var o=re(i,a);!o||!v(se,a)||v(i,U)&&i[U][a]||(o.enumerable=!0);return o}},ye=function getOwnPropertyNames(t){var r=ie(m(t)),i=[];H(r,(function(t){v(se,t)||v(G,t)||oe(i,t)}));return i},$getOwnPropertySymbols=function(t){var r=t===$,i=ie(r?le:m(t)),a=[];H(i,(function(t){!v(se,t)||r&&!v($,t)||oe(a,se[t])}));return a};if(!d){I(Q=(Z=function Symbol(){if(y(Q,this))throw new ee("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?b(arguments[0]):void 0,r=R(t),setter=function(t){var i=void 0===this?o:this;i===$&&l(setter,le,t);v(i,U)&&v(i[U],r)&&(i[U][r]=!1);var a=w(1,t);try{he(i,r,a)}catch(t){if(!(t instanceof J))throw t;fallbackDefineProperty(i,r,a)}};h&&ce&&he($,r,{configurable:!0,set:setter});return wrap(r,t)})[K],"toString",(function toString(){return X(this).tag}));I(Z,"withoutSetter",(function(t){return wrap(R(t),t)}));T.f=pe;D.f=de;C.f=fe;k.f=ve;S.f=E.f=ye;x.f=$getOwnPropertySymbols;B.f=function(t){return wrap(j(t),t)};if(h){O(Q,"description",{configurable:!0,get:function description(){return X(this).description}});c||I($,"propertyIsEnumerable",pe,{unsafe:!0})}}a({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Z});H(A(ue),(function(t){N(t)}));a({target:q,stat:!0,forced:!d},{useSetter:function(){ce=!0},useSimple:function(){ce=!1}});a({target:"Object",stat:!0,forced:!d,sham:!h},{create:function create(t,r){return void 0===r?P(t):fe(P(t),r)},defineProperty:de,defineProperties:fe,getOwnPropertyDescriptor:ve});a({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:ye});W();V(Z,q);G[U]=!0},6678:(t,r,i)=>{var a=i(4978),o=i(940),l=i(9298),u=i(8403),c=i(936),h=i(7316),d=i(2658),p=i(5730),v=i(9691),y=i(1425),g=l.Symbol,m=g&&g.prototype;if(o&&h(g)&&(!("description"in m)||void 0!==g().description)){var _={},b=function Symbol(){var t=arguments.length<1||void 0===arguments[0]?void 0:p(arguments[0]),r=d(m,this)?new g(t):void 0===t?g():g(t);""===t&&(_[r]=!0);return r};y(b,g);b.prototype=m;m.constructor=b;var w="Symbol(description detection)"===String(g("description detection")),P=u(m.valueOf),A=u(m.toString),S=/^Symbol\((.*)\)[^)]+$/,E=u("".replace),x=u("".slice);v(m,"description",{configurable:!0,get:function description(){var t=P(this);if(c(_,t))return"";var r=A(t),i=w?x(r,7,-1):E(r,S,"$1");return""===i?void 0:i}});a({global:!0,constructor:!0,forced:!0},{Symbol:b})}},2389:(t,r,i)=>{var a=i(4978),o=i(7187),l=i(936),u=i(5730),c=i(6807),h=i(4186),d=c("string-to-symbol-registry"),p=c("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!h},{for:function(t){var r=u(t);if(l(d,r))return d[r];var i=o("Symbol")(r);d[r]=i;p[i]=r;return i}})},2926:(t,r,i)=>{i(7120)("iterator")},9366:(t,r,i)=>{i(1532);i(2389);i(5876);i(7254);i(8564)},5876:(t,r,i)=>{var a=i(4978),o=i(936),l=i(7814),u=i(9762),c=i(6807),h=i(4186),d=c("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!h},{keyFor:function keyFor(t){if(!l(t))throw new TypeError(u(t)+" is not a symbol");if(o(d,t))return d[t]}})},5598:(t,r,i)=>{var a=i(7120),o=i(5117);a("toPrimitive");o()},2173:(t,r,i)=>{var a=i(7187),o=i(7120),l=i(7536);o("toStringTag");l(a("Symbol"),"Symbol")},739:(t,r,i)=>{var a=i(5861),o=i(451),l=i(1003),u=a.aTypedArray;(0,a.exportTypedArrayMethod)("at",(function at(t){var r=u(this),i=o(r),a=l(t),c=a>=0?a:i+a;return c<0||c>=i?void 0:r[c]}))},4816:(t,r,i)=>{var a=i(8403),o=i(5861),l=a(i(1474)),u=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",(function copyWithin(t,r){return l(u(this),t,r,arguments.length>2?arguments[2]:void 0)}))},6923:(t,r,i)=>{var a=i(5861),o=i(2423).every,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("every",(function every(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},6775:(t,r,i)=>{var a=i(5861),o=i(8041),l=i(212),u=i(8329),c=i(2026),h=i(8403),d=i(8154),p=a.aTypedArray,v=a.exportTypedArrayMethod,y=h("".slice);v("fill",(function fill(t){var r=arguments.length;p(this);var i="Big"===y(u(this),0,3)?l(t):+t;return c(o,this,i,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)}),d((function(){var t=0;new Int8Array(2).fill({valueOf:function(){return t++}});return 1!==t})))},6474:(t,r,i)=>{var a=i(5861),o=i(2423).filter,l=i(5306),u=a.aTypedArray;(0,a.exportTypedArrayMethod)("filter",(function filter(t){var r=o(u(this),t,arguments.length>1?arguments[1]:void 0);return l(this,r)}))},1665:(t,r,i)=>{var a=i(5861),o=i(2423).findIndex,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("findIndex",(function findIndex(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},9803:(t,r,i)=>{var a=i(5861),o=i(4026).findLastIndex,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("findLastIndex",(function findLastIndex(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},8837:(t,r,i)=>{var a=i(5861),o=i(4026).findLast,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("findLast",(function findLast(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},6450:(t,r,i)=>{var a=i(5861),o=i(2423).find,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("find",(function find(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},1293:(t,r,i)=>{var a=i(5861),o=i(2423).forEach,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("forEach",(function forEach(t){o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},1051:(t,r,i)=>{var a=i(5861),o=i(9773).includes,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("includes",(function includes(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},8260:(t,r,i)=>{var a=i(5861),o=i(9773).indexOf,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("indexOf",(function indexOf(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},8800:(t,r,i)=>{i(9173)("Int32",(function(t){return function Int32Array(r,i,a){return t(this,r,i,a)}}))},5746:(t,r,i)=>{var a=i(9298),o=i(8154),l=i(8403),u=i(5861),c=i(6180),h=i(2292)("iterator"),d=a.Uint8Array,p=l(c.values),v=l(c.keys),y=l(c.entries),g=u.aTypedArray,m=u.exportTypedArrayMethod,_=d&&d.prototype,b=!o((function(){_[h].call([1])})),w=!!_&&_.values&&_[h]===_.values&&"values"===_.values.name,P=function values(){return p(g(this))};m("entries",(function entries(){return y(g(this))}),b);m("keys",(function keys(){return v(g(this))}),b);m("values",P,b||!w,{name:"values"});m(h,P,b||!w,{name:"values"})},202:(t,r,i)=>{var a=i(5861),o=i(8403),l=a.aTypedArray,u=a.exportTypedArrayMethod,c=o([].join);u("join",(function join(t){return c(l(this),t)}))},2138:(t,r,i)=>{var a=i(5861),o=i(7294),l=i(8671),u=a.aTypedArray;(0,a.exportTypedArrayMethod)("lastIndexOf",(function lastIndexOf(t){var r=arguments.length;return o(l,u(this),r>1?[t,arguments[1]]:[t])}))},368:(t,r,i)=>{var a=i(5861),o=i(2423).map,l=i(6239),u=a.aTypedArray;(0,a.exportTypedArrayMethod)("map",(function map(t){return o(u(this),t,arguments.length>1?arguments[1]:void 0,(function(t,r){return new(l(t))(r)}))}))},917:(t,r,i)=>{var a=i(5861),o=i(2741).right,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduceRight",(function reduceRight(t){var r=arguments.length;return o(l(this),t,r,r>1?arguments[1]:void 0)}))},9782:(t,r,i)=>{var a=i(5861),o=i(2741).left,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduce",(function reduce(t){var r=arguments.length;return o(l(this),t,r,r>1?arguments[1]:void 0)}))},3650:(t,r,i)=>{var a=i(5861),o=a.aTypedArray,l=a.exportTypedArrayMethod,u=Math.floor;l("reverse",(function reverse(){for(var t,r=this,i=o(r).length,a=u(i/2),l=0;l<a;){t=r[l];r[l++]=r[--i];r[i]=t}return r}))},8347:(t,r,i)=>{var a=i(9298),o=i(2026),l=i(5861),u=i(451),c=i(9892),h=i(2007),d=i(8154),p=a.RangeError,v=a.Int8Array,y=v&&v.prototype,g=y&&y.set,m=l.aTypedArray,_=l.exportTypedArrayMethod,b=!d((function(){var t=new Uint8ClampedArray(2);o(g,t,{length:1,0:3},1);return 3!==t[1]})),w=b&&l.NATIVE_ARRAY_BUFFER_VIEWS&&d((function(){var t=new v(2);t.set(1);t.set("2",1);return 0!==t[0]||2!==t[1]}));_("set",(function set(t){m(this);var r=c(arguments.length>1?arguments[1]:void 0,1),i=h(t);if(b)return o(g,this,i,r);var a=this.length,l=u(i),d=0;if(l+r>a)throw new p("Wrong length");for(;d<l;)this[r+d]=i[d++]}),!b||w)},7192:(t,r,i)=>{var a=i(5861),o=i(6239),l=i(8154),u=i(2251),c=a.aTypedArray;(0,a.exportTypedArrayMethod)("slice",(function slice(t,r){for(var i=u(c(this),t,r),a=o(this),l=0,h=i.length,d=new a(h);h>l;)d[l]=i[l++];return d}),l((function(){new Int8Array(1).slice()})))},354:(t,r,i)=>{var a=i(5861),o=i(2423).some,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("some",(function some(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},9080:(t,r,i)=>{var a=i(9298),o=i(6218),l=i(8154),u=i(1782),c=i(4689),h=i(5861),d=i(7614),p=i(7463),v=i(2171),y=i(7906),g=h.aTypedArray,m=h.exportTypedArrayMethod,_=a.Uint16Array,b=_&&o(_.prototype.sort),w=!(!b||l((function(){b(new _(2),null)}))&&l((function(){b(new _(2),{})}))),P=!!b&&!l((function(){if(v)return v<74;if(d)return d<67;if(p)return!0;if(y)return y<602;var t,r,i=new _(516),a=Array(516);for(t=0;t<516;t++){r=t%4;i[t]=515-t;a[t]=t-2*r+3}b(i,(function(t,r){return(t/4|0)-(r/4|0)}));for(t=0;t<516;t++)if(i[t]!==a[t])return!0}));m("sort",(function sort(t){void 0!==t&&u(t);return P?b(this,t):c(g(this),function(t){return function(r,i){return void 0!==t?+t(r,i)||0:i!=i?-1:r!=r?1:0===r&&0===i?1/r>0&&1/i<0?1:-1:r>i}}(t))}),!P||w)},7238:(t,r,i)=>{var a=i(9298),o=i(7294),l=i(5861),u=i(8154),c=i(2251),h=a.Int8Array,d=l.aTypedArray,p=l.exportTypedArrayMethod,v=[].toLocaleString,y=!!h&&u((function(){v.call(new h(1))}));p("toLocaleString",(function toLocaleString(){return o(v,y?c(d(this)):d(this),c(arguments))}),u((function(){return[1,2].toLocaleString()!==new h([1,2]).toLocaleString()}))||!u((function(){h.prototype.toLocaleString.call([1,2])})))},7995:(t,r,i)=>{var a=i(2304),o=i(5861),l=o.aTypedArray,u=o.exportTypedArrayMethod,c=o.getTypedArrayConstructor;u("toReversed",(function toReversed(){return a(l(this),c(this))}))},62:(t,r,i)=>{var a=i(5861),o=i(8403),l=i(1782),u=i(7003),c=a.aTypedArray,h=a.getTypedArrayConstructor,d=a.exportTypedArrayMethod,p=o(a.TypedArrayPrototype.sort);d("toSorted",(function toSorted(t){void 0!==t&&l(t);var r=c(this),i=u(h(r),r);return p(i,t)}))},6635:(t,r,i)=>{var a=i(5861).exportTypedArrayMethod,o=i(8154),l=i(9298),u=i(8403),c=l.Uint8Array,h=c&&c.prototype||{},d=[].toString,p=u([].join);o((function(){d.call({})}))&&(d=function toString(){return p(this)});var v=h.toString!==d;a("toString",d,v)},4624:(t,r,i)=>{i(9173)("Uint32",(function(t){return function Uint32Array(r,i,a){return t(this,r,i,a)}}))},4699:(t,r,i)=>{i(9173)("Uint8",(function(t){return function Uint8Array(r,i,a){return t(this,r,i,a)}}))},4602:(t,r,i)=>{var a=i(5886),o=i(5861),l=i(5986),u=i(1003),c=i(212),h=o.aTypedArray,d=o.getTypedArrayConstructor,p=o.exportTypedArrayMethod,v=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();p("with",{with:function(t,r){var i=h(this),o=u(t),p=l(i)?c(r):+r;return a(i,d(i),o,p)}}.with,!v)},4507:(t,r,i)=>{var a,o=i(7010),l=i(9298),u=i(8403),c=i(6880),h=i(4694),d=i(4981),p=i(9609),v=i(7633),y=i(1649).enforce,g=i(8154),m=i(8443),_=Object,b=Array.isArray,w=_.isExtensible,P=_.isFrozen,A=_.isSealed,S=_.freeze,E=_.seal,x={},k={},D=!l.ActiveXObject&&"ActiveXObject"in l,wrapper=function(t){return function WeakMap(){return t(this,arguments.length?arguments[0]:void 0)}},C=d("WeakMap",wrapper,p),T=C.prototype,I=u(T.set);if(m)if(D){a=p.getConstructor(wrapper,"WeakMap",!0);h.enable();var O=u(T.delete),M=u(T.has),L=u(T.get);c(T,{delete:function(t){if(v(t)&&!w(t)){var r=y(this);r.frozen||(r.frozen=new a);return O(this,t)||r.frozen.delete(t)}return O(this,t)},has:function has(t){if(v(t)&&!w(t)){var r=y(this);r.frozen||(r.frozen=new a);return M(this,t)||r.frozen.has(t)}return M(this,t)},get:function get(t){if(v(t)&&!w(t)){var r=y(this);r.frozen||(r.frozen=new a);return M(this,t)?L(this,t):r.frozen.get(t)}return L(this,t)},set:function set(t,r){if(v(t)&&!w(t)){var i=y(this);i.frozen||(i.frozen=new a);M(this,t)?I(this,t,r):i.frozen.set(t,r)}else I(this,t,r);return this}})}else o&&g((function(){var t=S([]);I(new C,t,1);return!P(t)}))&&c(T,{set:function set(t,r){var i;b(t)&&(P(t)?i=x:A(t)&&(i=k));I(this,t,r);i===x&&S(t);i===k&&E(t);return this}})},7484:(t,r,i)=>{i(4507)},5804:(t,r,i)=>{i(4981)("WeakSet",(function(t){return function WeakSet(){return t(this,arguments.length?arguments[0]:void 0)}}),i(9609))},394:(t,r,i)=>{i(5804)},344:(t,r,i)=>{var a=i(940),o=i(9691),l=i(582),u=ArrayBuffer.prototype;a&&!("detached"in u)&&o(u,"detached",{configurable:!0,get:function detached(){return l(this)}})},7583:(t,r,i)=>{var a=i(4978),o=i(4358);o&&a({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function transferToFixedLength(){return o(this,arguments.length?arguments[0]:void 0,!1)}})},4305:(t,r,i)=>{var a=i(4978),o=i(4358);o&&a({target:"ArrayBuffer",proto:!0},{transfer:function transfer(){return o(this,arguments.length?arguments[0]:void 0,!0)}})},7121:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(5834),u=i(7316),c=i(2176),h=i(9293),d=i(8154),p=i(936),v=i(2292),y=i(5238).IteratorPrototype,g=i(2554),m=v("toStringTag"),_=TypeError,b=o.Iterator,w=g||!u(b)||b.prototype!==y||!d((function(){b({})})),P=function Iterator(){l(this,y);if(c(this)===y)throw new _("Abstract class Iterator not directly constructable")};p(y,m)||h(y,m,"Iterator");!w&&p(y,"constructor")&&y.constructor!==Object||h(y,"constructor",P);P.prototype=y;a({global:!0,constructor:!0,forced:w},{Iterator:P})},385:(t,r,i)=>{var a=i(4978),o=i(6837),l=i(1782),u=i(4719),c=i(9235);a({target:"Iterator",proto:!0,real:!0},{every:function every(t){u(this);l(t);var r=c(this),i=0;return!o(r,(function(r,a){if(!t(r,i++))return a()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2993:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(1782),u=i(4719),c=i(9235),h=i(375),d=i(5723),p=i(2554),v=h((function(){for(var t,r,i=this.iterator,a=this.predicate,l=this.next;;){t=u(o(l,i));if(this.done=!!t.done)return;r=t.value;if(d(i,a,[r,this.counter++],!0))return r}}));a({target:"Iterator",proto:!0,real:!0,forced:p},{filter:function filter(t){u(this);l(t);return new v(c(this),{predicate:t})}})},8497:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(1782),u=i(4719),c=i(9235),h=i(9115),d=i(375),p=i(3316),v=i(2554),y=d((function(){for(var t,r,i=this.iterator,a=this.mapper;;){if(r=this.inner)try{if(!(t=u(o(r.next,r.iterator))).done)return t.value;this.inner=null}catch(t){p(i,"throw",t)}t=u(o(this.next,i));if(this.done=!!t.done)return;try{this.inner=h(a(t.value,this.counter++),!1)}catch(t){p(i,"throw",t)}}}));a({target:"Iterator",proto:!0,real:!0,forced:v},{flatMap:function flatMap(t){u(this);l(t);return new y(c(this),{mapper:t,inner:null})}})},6770:(t,r,i)=>{var a=i(4978),o=i(6837),l=i(1782),u=i(4719),c=i(9235);a({target:"Iterator",proto:!0,real:!0},{forEach:function forEach(t){u(this);l(t);var r=c(this),i=0;o(r,(function(r){t(r,i++)}),{IS_RECORD:!0})}})},7944:(t,r,i)=>{var a=i(4978),o=i(8142);a({target:"Iterator",proto:!0,real:!0,forced:i(2554)},{map:o})},8518:(t,r,i)=>{var a=i(4978),o=i(6837),l=i(1782),u=i(4719),c=i(9235);a({target:"Iterator",proto:!0,real:!0},{some:function some(t){u(this);l(t);var r=c(this),i=0;return o(r,(function(r,a){if(t(r,i++))return a()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2808:(t,r,i)=>{var a=i(4978),o=i(940),l=i(9298),u=i(7187),c=i(8403),h=i(2026),d=i(7316),p=i(7633),v=i(6998),y=i(936),g=i(5730),m=i(451),_=i(8947),b=i(8154),w=i(3713),P=i(3663),A=l.JSON,S=l.Number,E=l.SyntaxError,x=A&&A.parse,k=u("Object","keys"),D=Object.getOwnPropertyDescriptor,C=c("".charAt),T=c("".slice),I=c(/./.exec),O=c([].push),M=/^\d$/,L=/^[1-9]$/,G=/^(?:-|\d)$/,R=/^[\t\n\r ]$/,internalize=function(t,r,i,a){var o,l,u,c,d,g=t[r],_=a&&g===a.value,b=_&&"string"==typeof a.source?{source:a.source}:{};if(p(g)){var w=v(g),P=_?a.nodes:w?[]:{};if(w){o=P.length;u=m(g);for(c=0;c<u;c++)internalizeProperty(g,c,internalize(g,""+c,i,c<o?P[c]:void 0))}else{l=k(g);u=m(l);for(c=0;c<u;c++){d=l[c];internalizeProperty(g,d,internalize(g,d,i,y(P,d)?P[d]:void 0))}}}return h(i,t,r,g,b)},internalizeProperty=function(t,r,i){if(o){var a=D(t,r);if(a&&!a.configurable)return}void 0===i?delete t[r]:_(t,r,i)},Node=function(t,r,i,a){this.value=t;this.end=r;this.source=i;this.nodes=a},Context=function(t,r){this.source=t;this.index=r};Context.prototype={fork:function(t){return new Context(this.source,t)},parse:function(){var t=this.source,r=this.skip(R,this.index),i=this.fork(r),a=C(t,r);if(I(G,a))return i.number();switch(a){case"{":return i.object();case"[":return i.array();case'"':return i.string();case"t":return i.keyword(!0);case"f":return i.keyword(!1);case"n":return i.keyword(null)}throw new E('Unexpected character: "'+a+'" at: '+r)},node:function(t,r,i,a,o){return new Node(r,a,t?null:T(this.source,i,a),o)},object:function(){for(var t=this.source,r=this.index+1,i=!1,a={},o={};r<t.length;){r=this.until(['"',"}"],r);if("}"===C(t,r)&&!i){r++;break}var l=this.fork(r).string(),u=l.value;r=l.end;r=this.until([":"],r)+1;r=this.skip(R,r);l=this.fork(r).parse();_(o,u,l);_(a,u,l.value);r=this.until([",","}"],l.end);var c=C(t,r);if(","===c){i=!0;r++}else if("}"===c){r++;break}}return this.node(1,a,this.index,r,o)},array:function(){for(var t=this.source,r=this.index+1,i=!1,a=[],o=[];r<t.length;){r=this.skip(R,r);if("]"===C(t,r)&&!i){r++;break}var l=this.fork(r).parse();O(o,l);O(a,l.value);r=this.until([",","]"],l.end);if(","===C(t,r)){i=!0;r++}else if("]"===C(t,r)){r++;break}}return this.node(1,a,this.index,r,o)},string:function(){var t=this.index,r=w(this.source,this.index+1);return this.node(0,r.value,t,r.end)},number:function(){var t=this.source,r=this.index,i=r;"-"===C(t,i)&&i++;if("0"===C(t,i))i++;else{if(!I(L,C(t,i)))throw new E("Failed to parse number at: "+i);i=this.skip(M,++i)}"."===C(t,i)&&(i=this.skip(M,++i));if("e"===C(t,i)||"E"===C(t,i)){i++;"+"!==C(t,i)&&"-"!==C(t,i)||i++;if(i===(i=this.skip(M,i)))throw new E("Failed to parse number's exponent value at: "+i)}return this.node(0,S(T(t,r,i)),r,i)},keyword:function(t){var r=""+t,i=this.index,a=i+r.length;if(T(this.source,i,a)!==r)throw new E("Failed to parse value at: "+i);return this.node(0,t,i,a)},skip:function(t,r){for(var i=this.source;r<i.length&&I(t,C(i,r));r++);return r},until:function(t,r){r=this.skip(R,r);for(var i=C(this.source,r),a=0;a<t.length;a++)if(t[a]===i)return r;throw new E('Unexpected character: "'+i+'" at: '+r)}};var j=b((function(){var t,r="9007199254740993";x(r,(function(r,i,a){t=a.source}));return t!==r})),B=P&&!b((function(){return 1/x("-0 \t")!=-1/0}));a({target:"JSON",stat:!0,forced:j},{parse:function parse(t,r){return B&&!d(r)?x(t):function(t,r){t=g(t);var i=new Context(t,0,""),a=i.parse(),o=a.value,l=i.skip(R,a.end);if(l<t.length)throw new E('Unexpected extra character: "'+C(t,l)+'" after the parsed data at: '+l);return d(r)?internalize({"":o},"",r,a):o}(t,r)}})},5561:(t,r,i)=>{var a=i(4978),o=i(5656);a({target:"Set",proto:!0,real:!0,forced:!i(507)("difference")},{difference:o})},8587:(t,r,i)=>{var a=i(4978),o=i(8154),l=i(8461);a({target:"Set",proto:!0,real:!0,forced:!i(507)("intersection")||o((function(){return"3,2"!==Array.from(new Set([1,2,3]).intersection(new Set([3,2])))}))},{intersection:l})},3247:(t,r,i)=>{var a=i(4978),o=i(8550);a({target:"Set",proto:!0,real:!0,forced:!i(507)("isDisjointFrom")},{isDisjointFrom:o})},3302:(t,r,i)=>{var a=i(4978),o=i(990);a({target:"Set",proto:!0,real:!0,forced:!i(507)("isSubsetOf")},{isSubsetOf:o})},9490:(t,r,i)=>{var a=i(4978),o=i(194);a({target:"Set",proto:!0,real:!0,forced:!i(507)("isSupersetOf")},{isSupersetOf:o})},5438:(t,r,i)=>{var a=i(4978),o=i(3194);a({target:"Set",proto:!0,real:!0,forced:!i(507)("symmetricDifference")},{symmetricDifference:o})},7914:(t,r,i)=>{var a=i(4978),o=i(5703);a({target:"Set",proto:!0,real:!0,forced:!i(507)("union")},{union:o})},1378:(t,r,i)=>{var a=i(9298),o=i(2411),l=i(3942),u=i(8208),c=i(9293),handlePrototype=function(t){if(t&&t.forEach!==u)try{c(t,"forEach",u)}catch(r){t.forEach=u}};for(var h in o)o[h]&&handlePrototype(a[h]&&a[h].prototype);handlePrototype(l)},2374:(t,r,i)=>{var a=i(9298),o=i(2411),l=i(3942),u=i(6180),c=i(9293),h=i(2292),d=h("iterator"),p=h("toStringTag"),v=u.values,handlePrototype=function(t,r){if(t){if(t[d]!==v)try{c(t,d,v)}catch(r){t[d]=v}t[p]||c(t,p,r);if(o[r])for(var i in u)if(t[i]!==u[i])try{c(t,i,u[i])}catch(r){t[i]=u[i]}}};for(var y in o)handlePrototype(a[y]&&a[y].prototype,y);handlePrototype(l,"DOMTokenList")},2822:(t,r,i)=>{var a=i(4978),o=i(2276),l=i(7187),u=i(8154),c=i(6941),h=i(1198),d=i(7744).f,p=i(7041),v=i(9691),y=i(936),g=i(5834),m=i(4719),_=i(3522),b=i(1264),w=i(8560),P=i(34),A=i(1649),S=i(940),E=i(2554),x="DOMException",k="DATA_CLONE_ERR",D=l("Error"),C=l(x)||function(){try{(new(l("MessageChannel")||o("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(t){if(t.name===k&&25===t.code)return t.constructor}}(),T=C&&C.prototype,I=D.prototype,O=A.set,M=A.getterFor(x),L="stack"in new D(x),codeFor=function(t){return y(w,t)&&w[t].m?w[t].c:0},G=function DOMException(){g(this,R);var t=arguments.length,r=b(t<1?void 0:arguments[0]),i=b(t<2?void 0:arguments[1],"Error"),a=codeFor(i);O(this,{type:x,name:i,message:r,code:a});if(!S){this.name=i;this.message=r;this.code=a}if(L){var o=new D(r);o.name=x;d(this,"stack",h(1,P(o.stack,1)))}},R=G.prototype=c(I),createGetterDescriptor=function(t){return{enumerable:!0,configurable:!0,get:t}},getterFor=function(t){return createGetterDescriptor((function(){return M(this)[t]}))};if(S){v(R,"code",getterFor("code"));v(R,"message",getterFor("message"));v(R,"name",getterFor("name"))}d(R,"constructor",h(1,G));var j=u((function(){return!(new C instanceof D)})),B=j||u((function(){return I.toString!==_||"2: 1"!==String(new C(1,2))})),N=j||u((function(){return 25!==new C(1,"DataCloneError").code})),W=j||25!==C[k]||25!==T[k],V=E?B||N||W:j;a({global:!0,constructor:!0,forced:V},{DOMException:V?G:C});var z=l(x),H=z.prototype;B&&(E||C===z)&&p(H,"toString",_);N&&S&&C===z&&v(H,"code",createGetterDescriptor((function(){return codeFor(m(this).name)})));for(var U in w)if(y(w,U)){var q=w[U],K=q.s,Y=h(6,q.c);y(z,K)||d(z,K,Y);y(H,K)||d(H,K,Y)}},9709:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(7187),u=i(1198),c=i(7744).f,h=i(936),d=i(5834),p=i(7523),v=i(1264),y=i(8560),g=i(34),m=i(940),_=i(2554),b="DOMException",w=l("Error"),P=l(b),A=function DOMException(){d(this,S);var t=arguments.length,r=v(t<1?void 0:arguments[0]),i=v(t<2?void 0:arguments[1],"Error"),a=new P(r,i),o=new w(r);o.name=b;c(a,"stack",u(1,g(o.stack,1)));p(a,this,A);return a},S=A.prototype=P.prototype,E="stack"in new w(b),x="stack"in new P(1,2),k=P&&m&&Object.getOwnPropertyDescriptor(o,b),D=!(!k||k.writable&&k.configurable),C=E&&!D&&!x;a({global:!0,constructor:!0,forced:_||C},{DOMException:C?A:P});var T=l(b),I=T.prototype;if(I.constructor!==T){_||c(I,"constructor",u(1,T));for(var O in y)if(h(y,O)){var M=y[O],L=M.s;h(T,L)||c(T,L,u(6,M.c))}}},2642:(t,r,i)=>{var a=i(7187),o="DOMException";i(7536)(a(o),o)},5057:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(9691),u=i(940),c=TypeError,h=Object.defineProperty,d=o.self!==o;try{if(u){var p=Object.getOwnPropertyDescriptor(o,"self");!d&&p&&p.get&&p.enumerable||l(o,"self",{get:function self(){return o},set:function self(t){if(this!==o)throw new c("Illegal invocation");h(o,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else a({global:!0,simple:!0,forced:d},{self:o})}catch(t){}},1872:(t,r,i)=>{i(6180);var a=i(4978),o=i(9298),l=i(2026),u=i(8403),c=i(940),h=i(8815),d=i(7041),p=i(9691),v=i(6880),y=i(7536),g=i(552),m=i(1649),_=i(5834),b=i(7316),w=i(936),P=i(7789),A=i(8329),S=i(4719),E=i(7633),x=i(5730),k=i(6941),D=i(1198),C=i(7612),T=i(273),I=i(1111),O=i(2743),M=i(2292),L=i(4689),G=M("iterator"),R="URLSearchParams",j=R+"Iterator",B=m.set,N=m.getterFor(R),W=m.getterFor(j),V=Object.getOwnPropertyDescriptor,safeGetBuiltIn=function(t){if(!c)return o[t];var r=V(o,t);return r&&r.value},z=safeGetBuiltIn("fetch"),H=safeGetBuiltIn("Request"),U=safeGetBuiltIn("Headers"),q=H&&H.prototype,K=U&&U.prototype,Y=o.RegExp,X=o.TypeError,$=o.decodeURIComponent,Z=o.encodeURIComponent,Q=u("".charAt),J=u([].join),ee=u([].push),te=u("".replace),re=u([].shift),ne=u([].splice),ie=u("".split),ae=u("".slice),oe=/\+/g,se=Array(4),percentSequence=function(t){return se[t-1]||(se[t-1]=Y("((?:%[\\da-f]{2}){"+t+"})","gi"))},percentDecode=function(t){try{return $(t)}catch(r){return t}},deserialize=function(t){var r=te(t,oe," "),i=4;try{return $(r)}catch(t){for(;i;)r=te(r,percentSequence(i--),percentDecode);return r}},le=/[!'()~]|%20/g,ue={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(t){return ue[t]},serialize=function(t){return te(Z(t),le,replacer)},ce=g((function Iterator(t,r){B(this,{type:j,target:N(t).entries,index:0,kind:r})}),R,(function next(){var t=W(this),r=t.target,i=t.index++;if(!r||i>=r.length){t.target=void 0;return I(void 0,!0)}var a=r[i];switch(t.kind){case"keys":return I(a.key,!1);case"values":return I(a.value,!1)}return I([a.key,a.value],!1)}),!0),URLSearchParamsState=function(t){this.entries=[];this.url=null;void 0!==t&&(E(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===Q(t,0)?ae(t,1):t:x(t)))};URLSearchParamsState.prototype={type:R,bindURL:function(t){this.url=t;this.update()},parseObject:function(t){var r,i,a,o,u,c,h,d=this.entries,p=T(t);if(p){i=(r=C(t,p)).next;for(;!(a=l(i,r)).done;){u=(o=C(S(a.value))).next;if((c=l(u,o)).done||(h=l(u,o)).done||!l(u,o).done)throw new X("Expected sequence with length 2");ee(d,{key:x(c.value),value:x(h.value)})}}else for(var v in t)w(t,v)&&ee(d,{key:v,value:x(t[v])})},parseQuery:function(t){if(t)for(var r,i,a=this.entries,o=ie(t,"&"),l=0;l<o.length;)if((r=o[l++]).length){i=ie(r,"=");ee(a,{key:deserialize(re(i)),value:deserialize(J(i,"="))})}},serialize:function(){for(var t,r=this.entries,i=[],a=0;a<r.length;){t=r[a++];ee(i,serialize(t.key)+"="+serialize(t.value))}return J(i,"&")},update:function(){this.entries.length=0;this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function URLSearchParams(){_(this,de);var t=B(this,new URLSearchParamsState(arguments.length>0?arguments[0]:void 0));c||(this.size=t.entries.length)},de=he.prototype;v(de,{append:function append(t,r){var i=N(this);O(arguments.length,2);ee(i.entries,{key:x(t),value:x(r)});c||this.length++;i.updateURL()},delete:function(t){for(var r=N(this),i=O(arguments.length,1),a=r.entries,o=x(t),l=i<2?void 0:arguments[1],u=void 0===l?l:x(l),h=0;h<a.length;){var d=a[h];if(d.key!==o||void 0!==u&&d.value!==u)h++;else{ne(a,h,1);if(void 0!==u)break}}c||(this.size=a.length);r.updateURL()},get:function get(t){var r=N(this).entries;O(arguments.length,1);for(var i=x(t),a=0;a<r.length;a++)if(r[a].key===i)return r[a].value;return null},getAll:function getAll(t){var r=N(this).entries;O(arguments.length,1);for(var i=x(t),a=[],o=0;o<r.length;o++)r[o].key===i&&ee(a,r[o].value);return a},has:function has(t){for(var r=N(this).entries,i=O(arguments.length,1),a=x(t),o=i<2?void 0:arguments[1],l=void 0===o?o:x(o),u=0;u<r.length;){var c=r[u++];if(c.key===a&&(void 0===l||c.value===l))return!0}return!1},set:function set(t,r){var i=N(this);O(arguments.length,1);for(var a,o=i.entries,l=!1,u=x(t),h=x(r),d=0;d<o.length;d++)if((a=o[d]).key===u)if(l)ne(o,d--,1);else{l=!0;a.value=h}l||ee(o,{key:u,value:h});c||(this.size=o.length);i.updateURL()},sort:function sort(){var t=N(this);L(t.entries,(function(t,r){return t.key>r.key?1:-1}));t.updateURL()},forEach:function forEach(t){for(var r,i=N(this).entries,a=P(t,arguments.length>1?arguments[1]:void 0),o=0;o<i.length;)a((r=i[o++]).value,r.key,this)},keys:function keys(){return new ce(this,"keys")},values:function values(){return new ce(this,"values")},entries:function entries(){return new ce(this,"entries")}},{enumerable:!0});d(de,G,de.entries,{name:"entries"});d(de,"toString",(function toString(){return N(this).serialize()}),{enumerable:!0});c&&p(de,"size",{get:function size(){return N(this).entries.length},configurable:!0,enumerable:!0});y(he,R);a({global:!0,constructor:!0,forced:!h},{URLSearchParams:he});if(!h&&b(U)){var fe=u(K.has),pe=u(K.set),wrapRequestOptions=function(t){if(E(t)){var r,i=t.body;if(A(i)===R){r=t.headers?new U(t.headers):new U;fe(r,"content-type")||pe(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8");return k(t,{body:D(0,x(i)),headers:D(0,r)})}}return t};b(z)&&a({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function fetch(t){return z(t,arguments.length>1?wrapRequestOptions(arguments[1]):{})}});if(b(H)){var ve=function Request(t){_(this,q);return new H(t,arguments.length>1?wrapRequestOptions(arguments[1]):{})};q.constructor=ve;ve.prototype=q;a({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ve})}}t.exports={URLSearchParams:he,getState:N}},3655:(t,r,i)=>{var a=i(7041),o=i(8403),l=i(5730),u=i(2743),c=URLSearchParams,h=c.prototype,d=o(h.append),p=o(h.delete),v=o(h.forEach),y=o([].push),g=new c("a=1&a=2&b=3");g.delete("a",1);g.delete("b",void 0);g+""!="a=2"&&a(h,"delete",(function(t){var r=arguments.length,i=r<2?void 0:arguments[1];if(r&&void 0===i)return p(this,t);var a=[];v(this,(function(t,r){y(a,{key:r,value:t})}));u(r,1);for(var o,c=l(t),h=l(i),g=0,m=0,_=!1,b=a.length;g<b;){o=a[g++];if(_||o.key===c){_=!0;p(this,o.key)}else m++}for(;m<b;)(o=a[m++]).key===c&&o.value===h||d(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},2555:(t,r,i)=>{var a=i(7041),o=i(8403),l=i(5730),u=i(2743),c=URLSearchParams,h=c.prototype,d=o(h.getAll),p=o(h.has),v=new c("a=1");!v.has("a",2)&&v.has("a",void 0)||a(h,"has",(function has(t){var r=arguments.length,i=r<2?void 0:arguments[1];if(r&&void 0===i)return p(this,t);var a=d(this,t);u(r,1);for(var o=l(i),c=0;c<a.length;)if(a[c++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},3757:(t,r,i)=>{i(1872)},2202:(t,r,i)=>{var a=i(940),o=i(8403),l=i(9691),u=URLSearchParams.prototype,c=o(u.forEach);a&&!("size"in u)&&l(u,"size",{get:function size(){var t=0;c(this,(function(){t++}));return t},configurable:!0,enumerable:!0})},9258:(t,r,i)=>{i(1747);var a,o=i(4978),l=i(940),u=i(8815),c=i(9298),h=i(7789),d=i(8403),p=i(7041),v=i(9691),y=i(5834),g=i(936),m=i(453),_=i(7609),b=i(6071),w=i(6819).codeAt,P=i(2897),A=i(5730),S=i(7536),E=i(2743),x=i(1872),k=i(1649),D=k.set,C=k.getterFor("URL"),T=x.URLSearchParams,I=x.getState,O=c.URL,M=c.TypeError,L=c.parseInt,G=Math.floor,R=Math.pow,j=d("".charAt),B=d(/./.exec),N=d([].join),W=d(1..toString),V=d([].pop),z=d([].push),H=d("".replace),U=d([].shift),q=d("".split),K=d("".slice),Y=d("".toLowerCase),X=d([].unshift),$="Invalid scheme",Z="Invalid host",Q="Invalid port",J=/[a-z]/i,ee=/[\d+-.a-z]/i,te=/\d/,re=/^0x/i,ne=/^[0-7]+$/,ie=/^\d+$/,ae=/^[\da-f]+$/i,oe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,se=/[\0\t\n\r #/:<>?@[\\\]^|]/,le=/^[\u0000-\u0020]+/,ue=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ce=/[\t\n\r]/g,serializeHost=function(t){var r,i,a,o;if("number"==typeof t){r=[];for(i=0;i<4;i++){X(r,t%256);t=G(t/256)}return N(r,".")}if("object"==typeof t){r="";a=function(t){for(var r=null,i=1,a=null,o=0,l=0;l<8;l++)if(0!==t[l]){if(o>i){r=a;i=o}a=null;o=0}else{null===a&&(a=l);++o}if(o>i){r=a;i=o}return r}(t);for(i=0;i<8;i++)if(!o||0!==t[i]){o&&(o=!1);if(a===i){r+=i?":":"::";o=!0}else{r+=W(t[i],16);i<7&&(r+=":")}}return"["+r+"]"}return t},he={},de=m({},he,{" ":1,'"':1,"<":1,">":1,"`":1}),fe=m({},de,{"#":1,"?":1,"{":1,"}":1}),pe=m({},fe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(t,r){var i=w(t,0);return i>32&&i<127&&!g(r,t)?t:encodeURIComponent(t)},ve={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(t,r){var i;return 2===t.length&&B(J,j(t,0))&&(":"===(i=j(t,1))||!r&&"|"===i)},startsWithWindowsDriveLetter=function(t){var r;return t.length>1&&isWindowsDriveLetter(K(t,0,2))&&(2===t.length||"/"===(r=j(t,2))||"\\"===r||"?"===r||"#"===r)},isSingleDot=function(t){return"."===t||"%2e"===Y(t)},ye={},ge={},me={},_e={},be={},we={},Pe={},Ae={},Se={},Ee={},Fe={},xe={},ke={},De={},Ce={},Te={},Ie={},Oe={},Me={},Le={},Ge={},URLState=function(t,r,i){var a,o,l,u=A(t);if(r){if(o=this.parse(u))throw new M(o);this.searchParams=null}else{void 0!==i&&(a=new URLState(i,!0));if(o=this.parse(u,null,a))throw new M(o);(l=I(new T)).bindURL(this);this.searchParams=l}};URLState.prototype={type:"URL",parse:function(t,r,i){var o,l,u,c,h,d=this,p=r||ye,v=0,y="",m=!1,w=!1,P=!1;t=A(t);if(!r){d.scheme="";d.username="";d.password="";d.host=null;d.port=null;d.path=[];d.query=null;d.fragment=null;d.cannotBeABaseURL=!1;t=H(t,le,"");t=H(t,ue,"$1")}t=H(t,ce,"");o=_(t);for(;v<=o.length;){l=o[v];switch(p){case ye:if(!l||!B(J,l)){if(r)return $;p=me;continue}y+=Y(l);p=ge;break;case ge:if(l&&(B(ee,l)||"+"===l||"-"===l||"."===l))y+=Y(l);else{if(":"!==l){if(r)return $;y="";p=me;v=0;continue}if(r&&(d.isSpecial()!==g(ve,y)||"file"===y&&(d.includesCredentials()||null!==d.port)||"file"===d.scheme&&!d.host))return;d.scheme=y;if(r){d.isSpecial()&&ve[d.scheme]===d.port&&(d.port=null);return}y="";if("file"===d.scheme)p=De;else if(d.isSpecial()&&i&&i.scheme===d.scheme)p=_e;else if(d.isSpecial())p=Ae;else if("/"===o[v+1]){p=be;v++}else{d.cannotBeABaseURL=!0;z(d.path,"");p=Me}}break;case me:if(!i||i.cannotBeABaseURL&&"#"!==l)return $;if(i.cannotBeABaseURL&&"#"===l){d.scheme=i.scheme;d.path=b(i.path);d.query=i.query;d.fragment="";d.cannotBeABaseURL=!0;p=Ge;break}p="file"===i.scheme?De:we;continue;case _e:if("/"!==l||"/"!==o[v+1]){p=we;continue}p=Se;v++;break;case be:if("/"===l){p=Ee;break}p=Oe;continue;case we:d.scheme=i.scheme;if(l===a){d.username=i.username;d.password=i.password;d.host=i.host;d.port=i.port;d.path=b(i.path);d.query=i.query}else if("/"===l||"\\"===l&&d.isSpecial())p=Pe;else if("?"===l){d.username=i.username;d.password=i.password;d.host=i.host;d.port=i.port;d.path=b(i.path);d.query="";p=Le}else{if("#"!==l){d.username=i.username;d.password=i.password;d.host=i.host;d.port=i.port;d.path=b(i.path);d.path.length--;p=Oe;continue}d.username=i.username;d.password=i.password;d.host=i.host;d.port=i.port;d.path=b(i.path);d.query=i.query;d.fragment="";p=Ge}break;case Pe:if(!d.isSpecial()||"/"!==l&&"\\"!==l){if("/"!==l){d.username=i.username;d.password=i.password;d.host=i.host;d.port=i.port;p=Oe;continue}p=Ee}else p=Se;break;case Ae:p=Se;if("/"!==l||"/"!==j(y,v+1))continue;v++;break;case Se:if("/"!==l&&"\\"!==l){p=Ee;continue}break;case Ee:if("@"===l){m&&(y="%40"+y);m=!0;u=_(y);for(var S=0;S<u.length;S++){var E=u[S];if(":"!==E||P){var x=percentEncode(E,pe);P?d.password+=x:d.username+=x}else P=!0}y=""}else if(l===a||"/"===l||"?"===l||"#"===l||"\\"===l&&d.isSpecial()){if(m&&""===y)return"Invalid authority";v-=_(y).length+1;y="";p=Fe}else y+=l;break;case Fe:case xe:if(r&&"file"===d.scheme){p=Te;continue}if(":"!==l||w){if(l===a||"/"===l||"?"===l||"#"===l||"\\"===l&&d.isSpecial()){if(d.isSpecial()&&""===y)return Z;if(r&&""===y&&(d.includesCredentials()||null!==d.port))return;if(c=d.parseHost(y))return c;y="";p=Ie;if(r)return;continue}"["===l?w=!0:"]"===l&&(w=!1);y+=l}else{if(""===y)return Z;if(c=d.parseHost(y))return c;y="";p=ke;if(r===xe)return}break;case ke:if(!B(te,l)){if(l===a||"/"===l||"?"===l||"#"===l||"\\"===l&&d.isSpecial()||r){if(""!==y){var k=L(y,10);if(k>65535)return Q;d.port=d.isSpecial()&&k===ve[d.scheme]?null:k;y=""}if(r)return;p=Ie;continue}return Q}y+=l;break;case De:d.scheme="file";if("/"===l||"\\"===l)p=Ce;else{if(!i||"file"!==i.scheme){p=Oe;continue}switch(l){case a:d.host=i.host;d.path=b(i.path);d.query=i.query;break;case"?":d.host=i.host;d.path=b(i.path);d.query="";p=Le;break;case"#":d.host=i.host;d.path=b(i.path);d.query=i.query;d.fragment="";p=Ge;break;default:if(!startsWithWindowsDriveLetter(N(b(o,v),""))){d.host=i.host;d.path=b(i.path);d.shortenPath()}p=Oe;continue}}break;case Ce:if("/"===l||"\\"===l){p=Te;break}i&&"file"===i.scheme&&!startsWithWindowsDriveLetter(N(b(o,v),""))&&(isWindowsDriveLetter(i.path[0],!0)?z(d.path,i.path[0]):d.host=i.host);p=Oe;continue;case Te:if(l===a||"/"===l||"\\"===l||"?"===l||"#"===l){if(!r&&isWindowsDriveLetter(y))p=Oe;else if(""===y){d.host="";if(r)return;p=Ie}else{if(c=d.parseHost(y))return c;"localhost"===d.host&&(d.host="");if(r)return;y="";p=Ie}continue}y+=l;break;case Ie:if(d.isSpecial()){p=Oe;if("/"!==l&&"\\"!==l)continue}else if(r||"?"!==l)if(r||"#"!==l){if(l!==a){p=Oe;if("/"!==l)continue}}else{d.fragment="";p=Ge}else{d.query="";p=Le}break;case Oe:if(l===a||"/"===l||"\\"===l&&d.isSpecial()||!r&&("?"===l||"#"===l)){if(".."===(h=Y(h=y))||"%2e."===h||".%2e"===h||"%2e%2e"===h){d.shortenPath();"/"===l||"\\"===l&&d.isSpecial()||z(d.path,"")}else if(isSingleDot(y))"/"===l||"\\"===l&&d.isSpecial()||z(d.path,"");else{if("file"===d.scheme&&!d.path.length&&isWindowsDriveLetter(y)){d.host&&(d.host="");y=j(y,0)+":"}z(d.path,y)}y="";if("file"===d.scheme&&(l===a||"?"===l||"#"===l))for(;d.path.length>1&&""===d.path[0];)U(d.path);if("?"===l){d.query="";p=Le}else if("#"===l){d.fragment="";p=Ge}}else y+=percentEncode(l,fe);break;case Me:if("?"===l){d.query="";p=Le}else if("#"===l){d.fragment="";p=Ge}else l!==a&&(d.path[0]+=percentEncode(l,he));break;case Le:if(r||"#"!==l)l!==a&&("'"===l&&d.isSpecial()?d.query+="%27":d.query+="#"===l?"%23":percentEncode(l,he));else{d.fragment="";p=Ge}break;case Ge:l!==a&&(d.fragment+=percentEncode(l,de))}v++}},parseHost:function(t){var r,i,a;if("["===j(t,0)){if("]"!==j(t,t.length-1))return Z;r=function(t){var r,i,a,o,l,u,c,h=[0,0,0,0,0,0,0,0],d=0,p=null,v=0,chr=function(){return j(t,v)};if(":"===chr()){if(":"!==j(t,1))return;v+=2;p=++d}for(;chr();){if(8===d)return;if(":"!==chr()){r=i=0;for(;i<4&&B(ae,chr());){r=16*r+L(chr(),16);v++;i++}if("."===chr()){if(0===i)return;v-=i;if(d>6)return;a=0;for(;chr();){o=null;if(a>0){if(!("."===chr()&&a<4))return;v++}if(!B(te,chr()))return;for(;B(te,chr());){l=L(chr(),10);if(null===o)o=l;else{if(0===o)return;o=10*o+l}if(o>255)return;v++}h[d]=256*h[d]+o;2!=++a&&4!==a||d++}if(4!==a)return;break}if(":"===chr()){v++;if(!chr())return}else if(chr())return;h[d++]=r}else{if(null!==p)return;v++;p=++d}}if(null!==p){u=d-p;d=7;for(;0!==d&&u>0;){c=h[d];h[d--]=h[p+u-1];h[p+--u]=c}}else if(8!==d)return;return h}(K(t,1,-1));if(!r)return Z;this.host=r}else if(this.isSpecial()){t=P(t);if(B(oe,t))return Z;r=function(t){var r,i,a,o,l,u,c,h=q(t,".");h.length&&""===h[h.length-1]&&h.length--;if((r=h.length)>4)return t;i=[];for(a=0;a<r;a++){if(""===(o=h[a]))return t;l=10;if(o.length>1&&"0"===j(o,0)){l=B(re,o)?16:8;o=K(o,8===l?1:2)}if(""===o)u=0;else{if(!B(10===l?ie:8===l?ne:ae,o))return t;u=L(o,l)}z(i,u)}for(a=0;a<r;a++){u=i[a];if(a===r-1){if(u>=R(256,5-r))return null}else if(u>255)return null}c=V(i);for(a=0;a<i.length;a++)c+=i[a]*R(256,3-a);return c}(t);if(null===r)return Z;this.host=r}else{if(B(se,t))return Z;r="";i=_(t);for(a=0;a<i.length;a++)r+=percentEncode(i[a],he);this.host=r}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return g(ve,this.scheme)},shortenPath:function(){var t=this.path,r=t.length;!r||"file"===this.scheme&&1===r&&isWindowsDriveLetter(t[0],!0)||t.length--},serialize:function(){var t=this,r=t.scheme,i=t.username,a=t.password,o=t.host,l=t.port,u=t.path,c=t.query,h=t.fragment,d=r+":";if(null!==o){d+="//";t.includesCredentials()&&(d+=i+(a?":"+a:"")+"@");d+=serializeHost(o);null!==l&&(d+=":"+l)}else"file"===r&&(d+="//");d+=t.cannotBeABaseURL?u[0]:u.length?"/"+N(u,"/"):"";null!==c&&(d+="?"+c);null!==h&&(d+="#"+h);return d},setHref:function(t){var r=this.parse(t);if(r)throw new M(r);this.searchParams.update()},getOrigin:function(){var t=this.scheme,r=this.port;if("blob"===t)try{return new Re(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+serializeHost(this.host)+(null!==r?":"+r:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(A(t)+":",ye)},getUsername:function(){return this.username},setUsername:function(t){var r=_(A(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var i=0;i<r.length;i++)this.username+=percentEncode(r[i],pe)}},getPassword:function(){return this.password},setPassword:function(t){var r=_(A(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var i=0;i<r.length;i++)this.password+=percentEncode(r[i],pe)}},getHost:function(){var t=this.host,r=this.port;return null===t?"":null===r?serializeHost(t):serializeHost(t)+":"+r},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Fe)},getHostname:function(){var t=this.host;return null===t?"":serializeHost(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,xe)},getPort:function(){var t=this.port;return null===t?"":A(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=A(t))?this.port=null:this.parse(t,ke))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+N(t,"/"):""},setPathname:function(t){if(!this.cannotBeABaseURL){this.path=[];this.parse(t,Ie)}},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){if(""===(t=A(t)))this.query=null;else{"?"===j(t,0)&&(t=K(t,1));this.query="";this.parse(t,Le)}this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){if(""!==(t=A(t))){"#"===j(t,0)&&(t=K(t,1));this.fragment="";this.parse(t,Ge)}else this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Re=function URL(t){var r=y(this,je),i=E(arguments.length,1)>1?arguments[1]:void 0,a=D(r,new URLState(t,!1,i));if(!l){r.href=a.serialize();r.origin=a.getOrigin();r.protocol=a.getProtocol();r.username=a.getUsername();r.password=a.getPassword();r.host=a.getHost();r.hostname=a.getHostname();r.port=a.getPort();r.pathname=a.getPathname();r.search=a.getSearch();r.searchParams=a.getSearchParams();r.hash=a.getHash()}},je=Re.prototype,accessorDescriptor=function(t,r){return{get:function(){return C(this)[t]()},set:r&&function(t){return C(this)[r](t)},configurable:!0,enumerable:!0}};if(l){v(je,"href",accessorDescriptor("serialize","setHref"));v(je,"origin",accessorDescriptor("getOrigin"));v(je,"protocol",accessorDescriptor("getProtocol","setProtocol"));v(je,"username",accessorDescriptor("getUsername","setUsername"));v(je,"password",accessorDescriptor("getPassword","setPassword"));v(je,"host",accessorDescriptor("getHost","setHost"));v(je,"hostname",accessorDescriptor("getHostname","setHostname"));v(je,"port",accessorDescriptor("getPort","setPort"));v(je,"pathname",accessorDescriptor("getPathname","setPathname"));v(je,"search",accessorDescriptor("getSearch","setSearch"));v(je,"searchParams",accessorDescriptor("getSearchParams"));v(je,"hash",accessorDescriptor("getHash","setHash"))}p(je,"toJSON",(function toJSON(){return C(this).serialize()}),{enumerable:!0});p(je,"toString",(function toString(){return C(this).serialize()}),{enumerable:!0});if(O){var Be=O.createObjectURL,Ne=O.revokeObjectURL;Be&&p(Re,"createObjectURL",h(Be,O));Ne&&p(Re,"revokeObjectURL",h(Ne,O))}S(Re,"URL");o({global:!0,constructor:!0,forced:!u,sham:!l},{URL:Re})},7529:(t,r,i)=>{i(9258)},7640:(t,r,i)=>{i.d(r,{AnnotationLayer:()=>Ee,FreeTextAnnotationElement:()=>J,InkAnnotationElement:()=>he,StampAnnotationElement:()=>ye});i(6180),i(895),i(1747),i(394),i(2374),i(7874),i(171),i(4668),i(2586),i(4226),i(5548),i(2048),i(5561),i(8587),i(3247),i(3302),i(9490),i(5438),i(7914),i(9099),i(7254),i(2796),i(2613),i(7942),i(4711),i(7600),i(924),i(469),i(5136),i(7944),i(1585),i(5621),i(3281),i(8984),i(7121),i(8497),i(4280),i(5776),i(9593),i(7484),i(5598),i(8806),i(9366),i(6678),i(3352),i(5897),i(2926),i(13),i(9175),i(6128),i(9718),i(7262),i(5666),i(1133),i(2173),i(2630),i(1024),i(6770),i(1378);var a=i(3266),o=i(473),l=i(4780);i(7230);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function makeColorComp(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function scaleAndClamp(t){return Math.max(0,Math.min(255,255*t))}var u=function(){function ColorConverters(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ColorConverters)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(ColorConverters,null,[{key:"CMYK_G",value:function CMYK_G(t){var r=_slicedToArray(t,4),i=r[0],a=r[1],o=r[2],l=r[3];return["G",1-Math.min(1,.3*i+.59*o+.11*a+l)]}},{key:"G_CMYK",value:function G_CMYK(t){return["CMYK",0,0,0,1-_slicedToArray(t,1)[0]]}},{key:"G_RGB",value:function G_RGB(t){var r=_slicedToArray(t,1)[0];return["RGB",r,r,r]}},{key:"G_rgb",value:function G_rgb(t){var r=_slicedToArray(t,1)[0];return[r=scaleAndClamp(r),r,r]}},{key:"G_HTML",value:function G_HTML(t){var r=makeColorComp(_slicedToArray(t,1)[0]);return"#".concat(r).concat(r).concat(r)}},{key:"RGB_G",value:function RGB_G(t){var r=_slicedToArray(t,3);return["G",.3*r[0]+.59*r[1]+.11*r[2]]}},{key:"RGB_rgb",value:function RGB_rgb(t){return t.map(scaleAndClamp)}},{key:"RGB_HTML",value:function RGB_HTML(t){return"#".concat(t.map(makeColorComp).join(""))}},{key:"T_HTML",value:function T_HTML(){return"#00000000"}},{key:"T_rgb",value:function T_rgb(){return[null]}},{key:"CMYK_RGB",value:function CMYK_RGB(t){var r=_slicedToArray(t,4),i=r[0],a=r[1],o=r[2],l=r[3];return["RGB",1-Math.min(1,i+l),1-Math.min(1,o+l),1-Math.min(1,a+l)]}},{key:"CMYK_rgb",value:function CMYK_rgb(t){var r=_slicedToArray(t,4),i=r[0],a=r[1],o=r[2],l=r[3];return[scaleAndClamp(1-Math.min(1,i+l)),scaleAndClamp(1-Math.min(1,o+l)),scaleAndClamp(1-Math.min(1,a+l))]}},{key:"CMYK_HTML",value:function CMYK_HTML(t){var r=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(r)}},{key:"RGB_CMYK",value:function RGB_CMYK(t){var r=_slicedToArray(t,3),i=1-r[0],a=1-r[1],o=1-r[2];return["CMYK",i,a,o,Math.min(i,a,o)]}}]);return ColorConverters}(),c=i(8266);function annotation_layer_typeof(t){return annotation_layer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},annotation_layer_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==annotation_layer_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(annotation_layer_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _get(){_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,r,i){var a=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?t:i):o.value}};return _get.apply(this,arguments)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return annotation_layer_arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||annotation_layer_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===annotation_layer_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=annotation_layer_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function annotation_layer_slicedToArray(t,r){return function annotation_layer_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function annotation_layer_iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||annotation_layer_unsupportedIterableToArray(t,r)||function annotation_layer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function annotation_layer_unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return annotation_layer_arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?annotation_layer_arrayLikeToArray(t,r):void 0}}function annotation_layer_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperty(t,r,i){(r=annotation_layer_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function annotation_layer_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function annotation_layer_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,annotation_layer_toPropertyKey(a.key),a)}}function annotation_layer_createClass(t,r,i){r&&annotation_layer_defineProperties(t.prototype,r);i&&annotation_layer_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function annotation_layer_toPropertyKey(t){var r=function annotation_layer_toPrimitive(t,r){if("object"!==annotation_layer_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==annotation_layer_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===annotation_layer_typeof(r)?r:String(r)}var h=1e3,d=new WeakSet;function getRectDims(t){return{width:t[2]-t[0],height:t[3]-t[1]}}var p=function(){function AnnotationElementFactory(){annotation_layer_classCallCheck(this,AnnotationElementFactory)}annotation_layer_createClass(AnnotationElementFactory,null,[{key:"create",value:function create(t){switch(t.data.annotationType){case a.AnnotationType.LINK:return new b(t);case a.AnnotationType.TEXT:return new w(t);case a.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new A(t);case"Btn":return t.data.radioButton?new x(t):t.data.checkBox?new E(t):new k(t);case"Ch":return new D(t);case"Sig":return new S(t)}return new P(t);case a.AnnotationType.POPUP:return new C(t);case a.AnnotationType.FREETEXT:return new J(t);case a.AnnotationType.LINE:return new te(t);case a.AnnotationType.SQUARE:return new ne(t);case a.AnnotationType.CIRCLE:return new ae(t);case a.AnnotationType.POLYLINE:return new se(t);case a.AnnotationType.CARET:return new ue(t);case a.AnnotationType.INK:return new he(t);case a.AnnotationType.POLYGON:return new le(t);case a.AnnotationType.HIGHLIGHT:return new de(t);case a.AnnotationType.UNDERLINE:return new fe(t);case a.AnnotationType.SQUIGGLY:return new pe(t);case a.AnnotationType.STRIKEOUT:return new ve(t);case a.AnnotationType.STAMP:return new ye(t);case a.AnnotationType.FILEATTACHMENT:return new _e(t);default:return new y(t)}}}]);return AnnotationElementFactory}(),v=new WeakMap,y=function(){function AnnotationElement(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.isRenderable,a=void 0!==i&&i,o=r.ignoreBorder,l=void 0!==o&&o,u=r.createQuadrilaterals,c=void 0!==u&&u;annotation_layer_classCallCheck(this,AnnotationElement);_classPrivateFieldInitSpec(this,v,{writable:!0,value:!1});this.isRenderable=a;this.data=t.data;this.layer=t.layer;this.linkService=t.linkService;this.downloadManager=t.downloadManager;this.imageResourcesPath=t.imageResourcesPath;this.renderForms=t.renderForms;this.svgFactory=t.svgFactory;this.annotationStorage=t.annotationStorage;this.enableScripting=t.enableScripting;this.hasJSActions=t.hasJSActions;this._fieldObjects=t.fieldObjects;this.parent=t.parent;a&&(this.container=this._createContainer(l));c&&this._createQuadrilaterals()}annotation_layer_createClass(AnnotationElement,[{key:"hasPopupData",get:function get(){return AnnotationElement._hasPopupData(this.data)}},{key:"_createContainer",value:function _createContainer(t){var r=this.data,i=this.parent,o=i.page,l=i.viewport,u=document.createElement("section");u.setAttribute("data-annotation-id",r.id);this instanceof P||(u.tabIndex=h);u.style.zIndex=this.parent.zIndex++;this.data.popupRef&&u.setAttribute("aria-haspopup","dialog");r.noRotate&&u.classList.add("norotate");var c=l.rawDims,d=c.pageWidth,p=c.pageHeight,y=c.pageX,g=c.pageY;if(!r.rect||this instanceof C){var m=r.rotation;r.hasOwnCanvas||0===m||this.setRotation(m,u);return u}var _=getRectDims(r.rect),b=_.width,w=_.height,A=a.Util.normalizeRect([r.rect[0],o.view[3]-r.rect[1]+o.view[1],r.rect[2],o.view[3]-r.rect[3]+o.view[1]]);if(!t&&r.borderStyle.width>0){u.style.borderWidth="".concat(r.borderStyle.width,"px");var S=r.borderStyle.horizontalCornerRadius,E=r.borderStyle.verticalCornerRadius;if(S>0||E>0){var k="calc(".concat(S,"px * var(--scale-factor)) / calc(").concat(E,"px * var(--scale-factor))");u.style.borderRadius=k}else if(this instanceof x){var D="calc(".concat(b,"px * var(--scale-factor)) / calc(").concat(w,"px * var(--scale-factor))");u.style.borderRadius=D}switch(r.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:u.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:u.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:u.style.borderBottomStyle="solid"}var T=r.borderColor||null;if(T){_classPrivateFieldSet(this,v,!0);u.style.borderColor=a.Util.makeHexColor(0|T[0],0|T[1],0|T[2])}else u.style.borderWidth=0}u.style.left="".concat(100*(A[0]-y)/d,"%");u.style.top="".concat(100*(A[1]-g)/p,"%");var I=r.rotation;if(r.hasOwnCanvas||0===I){u.style.width="".concat(100*b/d,"%");u.style.height="".concat(100*w/p,"%")}else this.setRotation(I,u);return u}},{key:"setRotation",value:function setRotation(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(this.data.rect){var i,a,o=this.parent.viewport.rawDims,l=o.pageWidth,u=o.pageHeight,c=getRectDims(this.data.rect),h=c.width,d=c.height;if(t%180==0){i=100*h/l;a=100*d/u}else{i=100*d/l;a=100*h/u}r.style.width="".concat(i,"%");r.style.height="".concat(a,"%");r.setAttribute("data-main-rotation",(360-t)%360)}}},{key:"_commonActions",get:function get(){var t=this,r=function setColor(r,i,a){var o=a.detail[r],l=o[0],c=o.slice(1);a.target.style[i]=u["".concat(l,"_HTML")](c);t.annotationStorage.setValue(t.data.id,_defineProperty({},i,u["".concat(l,"_rgb")](c)))};return(0,a.shadow)(this,"_commonActions",{display:function display(r){var display=r.detail.display,i=display%2==1;t.container.style.visibility=i?"hidden":"visible";t.annotationStorage.setValue(t.data.id,{noView:i,noPrint:1===display||2===display})},print:function print(r){t.annotationStorage.setValue(t.data.id,{noPrint:!r.detail.print})},hidden:function hidden(r){var hidden=r.detail.hidden;t.container.style.visibility=hidden?"hidden":"visible";t.annotationStorage.setValue(t.data.id,{noPrint:hidden,noView:hidden})},focus:function focus(t){setTimeout((function(){return t.target.focus({preventScroll:!1})}),0)},userName:function userName(t){t.target.title=t.detail.userName},readonly:function readonly(t){t.target.disabled=t.detail.readonly},required:function required(r){t._setRequired(r.target,r.detail.required)},bgColor:function bgColor(t){r("bgColor","backgroundColor",t)},fillColor:function fillColor(t){r("fillColor","backgroundColor",t)},fgColor:function fgColor(t){r("fgColor","color",t)},textColor:function textColor(t){r("textColor","color",t)},borderColor:function borderColor(t){r("borderColor","borderColor",t)},strokeColor:function strokeColor(t){r("strokeColor","borderColor",t)},rotation:function rotation(r){var i=r.detail.rotation;t.setRotation(i);t.annotationStorage.setValue(t.data.id,{rotation:i})}})}},{key:"_dispatchEventFromSandbox",value:function _dispatchEventFromSandbox(t,r){for(var i=this._commonActions,a=0,o=Object.keys(r.detail);a<o.length;a++){var l=o[a],u=t[l]||i[l];null==u||u(r)}}},{key:"_setDefaultPropertiesFromJS",value:function _setDefaultPropertiesFromJS(t){if(this.enableScripting){var r=this.annotationStorage.getRawValue(this.data.id);if(r)for(var i=this._commonActions,a=0,o=Object.entries(r);a<o.length;a++){var l=annotation_layer_slicedToArray(o[a],2),u=l[0],c=l[1],h=i[u];if(h){h({detail:_defineProperty({},u,c),target:t});delete r[u]}}}}},{key:"_createQuadrilaterals",value:function _createQuadrilaterals(){if(this.container){var t=this.data.quadPoints;if(t){var r=annotation_layer_slicedToArray(this.data.rect,4),i=r[0],a=r[1],o=r[2],l=r[3];if(1===t.length){var u=annotation_layer_slicedToArray(t[0],3),c=u[1],h=c.x,d=c.y,p=u[2],y=p.x,g=p.y;if(o===h&&l===d&&i===y&&a===g)return}var m,_=this.container.style;if(_classPrivateFieldGet(this,v)){var b=_.borderColor,w=_.borderWidth;_.borderWidth=0;m=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(b,'" stroke-width="').concat(w,'">')];this.container.classList.add("hasBorder")}var P=o-i,A=l-a,S=this.svgFactory,E=S.createElement("svg");E.classList.add("quadrilateralsContainer");E.setAttribute("width",0);E.setAttribute("height",0);var x=S.createElement("defs");E.append(x);var k=S.createElement("clipPath"),D="clippath_".concat(this.data.id);k.setAttribute("id",D);k.setAttribute("clipPathUnits","objectBoundingBox");x.append(k);var C,T=_createForOfIteratorHelper(t);try{for(T.s();!(C=T.n()).done;){var I,O=annotation_layer_slicedToArray(C.value,3),M=O[1],L=M.x,G=M.y,R=O[2],j=R.x,B=R.y,N=S.createElement("rect"),W=(j-i)/P,V=(l-G)/A,z=(L-j)/P,H=(G-B)/A;N.setAttribute("x",W);N.setAttribute("y",V);N.setAttribute("width",z);N.setAttribute("height",H);k.append(N);null===(I=m)||void 0===I||I.push('<rect vector-effect="non-scaling-stroke" x="'.concat(W,'" y="').concat(V,'" width="').concat(z,'" height="').concat(H,'"/>'))}}catch(t){T.e(t)}finally{T.f()}if(_classPrivateFieldGet(this,v)){m.push("</g></svg>')");_.backgroundImage=m.join("")}this.container.append(E);this.container.style.clipPath="url(#".concat(D,")")}}}},{key:"_createPopup",value:function _createPopup(){var t=this.container,r=this.data;t.setAttribute("aria-haspopup","dialog");var i=new C({data:{color:r.color,titleObj:r.titleObj,modificationDate:r.modificationDate,contentsObj:r.contentsObj,richText:r.richText,parentRect:r.rect,borderStyle:0,id:"popup_".concat(r.id),rotation:r.rotation},parent:this.parent,elements:[this]});this.parent.div.append(i.render())}},{key:"render",value:function render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function _getElementsByName(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=[];if(this._fieldObjects){var o=this._fieldObjects[t];if(o){var l,u=_createForOfIteratorHelper(o);try{for(u.s();!(l=u.n()).done;){var c=l.value,h=c.page,p=c.id,v=c.exportValues;if(-1!==h&&p!==r){var y="string"==typeof v?v:null,g=document.querySelector('[data-element-id="'.concat(p,'"]'));!g||d.has(g)?i.push({id:p,exportValue:y,domElement:g}):(0,a.warn)("_getElementsByName - element not allowed: ".concat(p))}}}catch(t){u.e(t)}finally{u.f()}}return i}var m,_=_createForOfIteratorHelper(document.getElementsByName(t));try{for(_.s();!(m=_.n()).done;){var b=m.value,w=b.exportValue,P=b.getAttribute("data-element-id");P!==r&&(d.has(b)&&i.push({id:P,exportValue:w,domElement:b}))}}catch(t){_.e(t)}finally{_.f()}return i}},{key:"show",value:function show(){var t;this.container&&(this.container.hidden=!1);null===(t=this.popup)||void 0===t||t.maybeShow()}},{key:"hide",value:function hide(){var t;this.container&&(this.container.hidden=!0);null===(t=this.popup)||void 0===t||t.forceHide()}},{key:"getElementsToTriggerPopup",value:function getElementsToTriggerPopup(){return this.container}},{key:"addHighlightArea",value:function addHighlightArea(){var t=this.getElementsToTriggerPopup();if(Array.isArray(t)){var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){r.value.classList.add("highlightArea")}}catch(t){i.e(t)}finally{i.f()}}else t.classList.add("highlightArea")}},{key:"_isEditable",get:function get(){return!1}},{key:"_editOnDoubleClick",value:function _editOnDoubleClick(){var t=this;if(this._isEditable){var r=this.annotationEditorType,i=this.data.id;this.container.addEventListener("dblclick",(function(){var a;null===(a=t.linkService.eventBus)||void 0===a||a.dispatch("switchannotationeditormode",{source:t,mode:r,editId:i})}))}}}],[{key:"_hasPopupData",value:function _hasPopupData(t){var r=t.titleObj,i=t.contentsObj,a=t.richText;return!!(null!=r&&r.str||null!=i&&i.str||null!=a&&a.str)}}]);return AnnotationElement}(),g=new WeakSet,m=new WeakSet,_=new WeakSet,b=function(t){_inherits(LinkAnnotationElement,t);var r=_createSuper(LinkAnnotationElement);function LinkAnnotationElement(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;annotation_layer_classCallCheck(this,LinkAnnotationElement);_classPrivateMethodInitSpec(_assertThisInitialized(i=r.call(this,t,{isRenderable:!0,ignoreBorder:!(null==a||!a.ignoreBorder),createQuadrilaterals:!0})),_);_classPrivateMethodInitSpec(_assertThisInitialized(i),m);_classPrivateMethodInitSpec(_assertThisInitialized(i),g);i.isTooltipOnly=t.data.isTooltipOnly;return i}annotation_layer_createClass(LinkAnnotationElement,[{key:"render",value:function render(){var t=this.data,r=this.linkService,i=document.createElement("a");i.setAttribute("data-element-id",t.id);var a=!1;if(t.url){r.addLinkAttributes(i,t.url,t.newWindow);a=!0}else if(t.action){this._bindNamedAction(i,t.action);a=!0}else if(t.attachment){_classPrivateMethodGet(this,m,_bindAttachment2).call(this,i,t.attachment,t.attachmentDest);a=!0}else if(t.setOCGState){_classPrivateMethodGet(this,_,_bindSetOCGState2).call(this,i,t.setOCGState);a=!0}else if(t.dest){this._bindLink(i,t.dest);a=!0}else{if(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions){this._bindJSAction(i,t);a=!0}if(t.resetForm){this._bindResetFormAction(i,t.resetForm);a=!0}else if(this.isTooltipOnly&&!a){this._bindLink(i,"");a=!0}}this.container.classList.add("linkAnnotation");a&&this.container.append(i);return this.container}},{key:"_bindLink",value:function _bindLink(t,r){var i=this;t.href=this.linkService.getDestinationHash(r);t.onclick=function(){r&&i.linkService.goToDestination(r);return!1};(r||""===r)&&_classPrivateMethodGet(this,g,_setInternalLink2).call(this)}},{key:"_bindNamedAction",value:function _bindNamedAction(t,r){var i=this;t.href=this.linkService.getAnchorUrl("");t.onclick=function(){i.linkService.executeNamedAction(r);return!1};_classPrivateMethodGet(this,g,_setInternalLink2).call(this)}},{key:"_bindJSAction",value:function _bindJSAction(t,r){var i=this;t.href=this.linkService.getAnchorUrl("");for(var a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),o=function _loop(){var o=u[l],c=a.get(o);if(!c)return 1;t[c]=function(){var t;null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:r.id,name:o}});return!1}},l=0,u=Object.keys(r.actions);l<u.length;l++)o();t.onclick||(t.onclick=function(){return!1});_classPrivateMethodGet(this,g,_setInternalLink2).call(this)}},{key:"_bindResetFormAction",value:function _bindResetFormAction(t,r){var i=this,o=t.onclick;o||(t.href=this.linkService.getAnchorUrl(""));_classPrivateMethodGet(this,g,_setInternalLink2).call(this);if(this._fieldObjects)t.onclick=function(){null==o||o();var t=r.fields,l=r.refs,u=r.include,c=[];if(0!==t.length||0!==l.length){var h,p=new Set(l),v=_createForOfIteratorHelper(t);try{for(v.s();!(h=v.n()).done;){var y,g=h.value,m=_createForOfIteratorHelper(i._fieldObjects[g]||[]);try{for(m.s();!(y=m.n()).done;){var _=y.value.id;p.add(_)}}catch(t){m.e(t)}finally{m.f()}}}catch(t){v.e(t)}finally{v.f()}for(var b=0,w=Object.values(i._fieldObjects);b<w.length;b++){var P,A=_createForOfIteratorHelper(w[b]);try{for(A.s();!(P=A.n()).done;){var S=P.value;p.has(S.id)===u&&c.push(S)}}catch(t){A.e(t)}finally{A.f()}}}else for(var E=0,x=Object.values(i._fieldObjects);E<x.length;E++){var k=x[E];c.push.apply(c,_toConsumableArray(k))}for(var D=i.annotationStorage,C=[],T=0,I=c;T<I.length;T++){var O=I[T],M=O.id;C.push(M);switch(O.type){case"text":var L=O.defaultValue||"";D.setValue(M,{value:L});window.updateAngularFormValue(M,{value:L});break;case"checkbox":case"radiobutton":var G=O.defaultValue===O.exportValues;D.setValue(M,{value:G});window.updateAngularFormValue(M,{value:G});break;case"combobox":case"listbox":var R=O.defaultValue||"";D.setValue(M,{value:R});window.updateAngularFormValue(M,{value:R});break;default:continue}var j=document.querySelector('[data-element-id="'.concat(M,'"]'));j&&(d.has(j)?j.dispatchEvent(new Event("resetform")):(0,a.warn)("_bindResetFormAction - element not allowed: ".concat(M)))}if(i.enableScripting){var B;null===(B=i.linkService.eventBus)||void 0===B||B.dispatch("dispatcheventinsandbox",{source:i,detail:{id:"app",ids:C,name:"ResetForm"}})}return!1};else{(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.');o||(t.onclick=function(){return!1})}}}]);return LinkAnnotationElement}(y);function _setInternalLink2(){this.container.setAttribute("data-internal-link","")}function _bindAttachment2(t,r){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.href=this.linkService.getAnchorUrl("");t.onclick=function(){var t;null===(t=i.downloadManager)||void 0===t||t.openOrDownloadData(r.content,r.filename,a);return!1};_classPrivateMethodGet(this,g,_setInternalLink2).call(this)}function _bindSetOCGState2(t,r){var i=this;t.href=this.linkService.getAnchorUrl("");t.onclick=function(){i.linkService.executeSetOCGState(r);return!1};_classPrivateMethodGet(this,g,_setInternalLink2).call(this)}var w=function(t){_inherits(TextAnnotationElement,t);var r=_createSuper(TextAnnotationElement);function TextAnnotationElement(t){annotation_layer_classCallCheck(this,TextAnnotationElement);return r.call(this,t,{isRenderable:!0})}annotation_layer_createClass(TextAnnotationElement,[{key:"render",value:function render(){this.container.classList.add("textAnnotation");var t=document.createElement("img");t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";t.setAttribute("data-l10n-id","pdfjs-text-annotation-type");t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name}));!this.data.popupRef&&this.hasPopupData&&this._createPopup();this.container.append(t);return this.container}}]);return TextAnnotationElement}(y),P=function(t){_inherits(WidgetAnnotationElement,t);var r=_createSuper(WidgetAnnotationElement);function WidgetAnnotationElement(){annotation_layer_classCallCheck(this,WidgetAnnotationElement);return r.apply(this,arguments)}annotation_layer_createClass(WidgetAnnotationElement,[{key:"render",value:function render(){this.data.alternativeText&&(this.container.title=this.data.alternativeText);return this.container}},{key:"showElementAndHideCanvas",value:function showElementAndHideCanvas(t){if(this.data.hasOwnCanvas){var r;"CANVAS"===(null===(r=t.previousSibling)||void 0===r?void 0:r.nodeName)&&(t.previousSibling.hidden=!0);t.hidden=!1}}},{key:"_getKeyModifier",value:function _getKeyModifier(t){return a.FeatureTest.platform.isMac?t.metaKey:t.ctrlKey}},{key:"_setEventListener",value:function _setEventListener(t,r,i,a,o){var l=this;i.includes("mouse")?t.addEventListener(i,(function(t){var r;null===(r=l.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:l,detail:{id:l.data.id,name:a,value:o(t),shift:t.shiftKey,modifier:l._getKeyModifier(t)}})})):t.addEventListener(i,(function(t){var u;if("blur"===i){if(!r.focused||!t.relatedTarget)return;r.focused=!1}else if("focus"===i){if(r.focused)return;r.focused=!0}o&&(null===(u=l.linkService.eventBus)||void 0===u||u.dispatch("dispatcheventinsandbox",{source:l,detail:{id:l.data.id,name:a,value:o(t)}}))}))}},{key:"_setEventListeners",value:function _setEventListeners(t,r,i,a){var o,l=_createForOfIteratorHelper(i);try{for(l.s();!(o=l.n()).done;){var u,c=annotation_layer_slicedToArray(o.value,2),h=c[0],d=c[1];if("Action"===d||null!==(u=this.data.actions)&&void 0!==u&&u[d]){var p,v;"Focus"!==d&&"Blur"!==d||r||(r={focused:!1});this._setEventListener(t,r,h,d,a);"Focus"!==d||null!==(p=this.data.actions)&&void 0!==p&&p.Blur?"Blur"!==d||null!==(v=this.data.actions)&&void 0!==v&&v.Focus||this._setEventListener(t,r,"focus","Focus",null):this._setEventListener(t,r,"blur","Blur",null)}}}catch(t){l.e(t)}finally{l.f()}}},{key:"_setBackgroundColor",value:function _setBackgroundColor(t){var r=this.data.backgroundColor||null;t.style.backgroundColor=null===r?"transparent":a.Util.makeHexColor(r[0],r[1],r[2])}},{key:"_setTextStyle",value:function _setTextStyle(t){var r,i=this.data.defaultAppearanceData.fontColor,o=this.data.defaultAppearanceData.fontSize||9,l=t.style,u=function roundToOneDecimal(t){return Math.round(10*t)/10};if(this.data.multiLine){var c=Math.abs(this.data.rect[3]-this.data.rect[1]-2),h=c/(Math.round(c/(a.LINE_FACTOR*o))||1);r=Math.min(o,u(h/a.LINE_FACTOR))}else{var d=Math.abs(this.data.rect[3]-this.data.rect[1]-2);r=Math.min(o,u(d/a.LINE_FACTOR))}l.fontSize="calc(".concat(r,"px * var(--scale-factor))");l.color=a.Util.makeHexColor(i[0],i[1],i[2]);null!==this.data.textAlignment&&(l.textAlign=["left","center","right"][this.data.textAlignment])}},{key:"_setRequired",value:function _setRequired(t,r){r?t.setAttribute("required",!0):t.removeAttribute("required");t.setAttribute("aria-required",r)}}]);return WidgetAnnotationElement}(y),A=function(t){_inherits(TextWidgetAnnotationElement,t);var r=_createSuper(TextWidgetAnnotationElement);function TextWidgetAnnotationElement(t){annotation_layer_classCallCheck(this,TextWidgetAnnotationElement);var i=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;return r.call(this,t,{isRenderable:i})}annotation_layer_createClass(TextWidgetAnnotationElement,[{key:"setPropertyOnSiblings",value:function setPropertyOnSiblings(t,r,i,a){var o,l=this.annotationStorage,u=_createForOfIteratorHelper(this._getElementsByName(t.name,t.id));try{for(u.s();!(o=u.n()).done;){var c=o.value;c.domElement&&(c.domElement[r]=i);l.setValue(c.id,_defineProperty({},a,i))}}catch(t){u.e(t)}finally{u.f()}}},{key:"render",value:function render(){var t=this,r=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");var a=null;if(this.renderForms){var o,l=window.getFormValueFromAngular(this.data.fieldName),u=r.getValue(i,{value:this.data.fieldValue}),c=l.value?l:u;l!==u&&r.setValue(i,{value:l.value});var p=c.value||"",v=r.getValue(i,{charLimit:this.data.maxLen}).charLimit;v&&p.length>v&&(p=p.slice(0,v));var y=c.formattedValue||(null===(o=this.data.textContent)||void 0===o?void 0:o.join("\n"))||null;y&&this.data.comb&&(y=y.replaceAll(/\s+/g,""));var g={userValue:p,formattedValue:y,lastCommittedValue:null,commitKey:1,focused:!1};if(this.data.multiLine){var m;(a=document.createElement("textarea")).textContent=null!==(m=y)&&void 0!==m?m:p;this.data.doNotScroll&&(a.style.overflowY="hidden")}else{var _;(a=document.createElement("input")).type="text";a.setAttribute("value",null!==(_=y)&&void 0!==_?_:p);this.data.doNotScroll&&(a.style.overflowX="hidden")}this.data.hasOwnCanvas&&(a.hidden=!0);d.add(a);a.setAttribute("data-element-id",i);a.disabled=this.data.readOnly;a.name=this.data.fieldName;a.tabIndex=h;this._setRequired(a,this.data.required);v&&(a.maxLength=v);a.addEventListener("input",(function(o){r.setValue(i,{value:o.target.value});window.updateAngularFormValue(i,{value:o.target.value});t.setPropertyOnSiblings(a,"value",o.target.value,"value");g.formattedValue=null}));a.addEventListener("resetform",(function(r){var i,o=null!==(i=t.data.defaultFieldValue)&&void 0!==i?i:"";a.value=g.userValue=o;g.formattedValue=null}));var b=function blurListener(t){var r=g.formattedValue;null!=r&&(t.target.value=r);t.target.scrollLeft=0};window.registerAcroformField(i,a,c.value);a.addEventListener("updateFromAngular",(function(t){return r.setValue(i,{value:t.detail})}));if(this.enableScripting&&this.hasJSActions){var w;a.addEventListener("focus",(function(r){var i;if(!g.focused){var a=r.target;g.userValue&&(a.value=g.userValue);g.lastCommittedValue=a.value;g.commitKey=1;null!==(i=t.data.actions)&&void 0!==i&&i.Focus||(g.focused=!0)}}));a.addEventListener("updatefromsandbox",(function(a){t.showElementAndHideCanvas(a.target);var o={value:function value(t){var a;g.userValue=null!==(a=t.detail.value)&&void 0!==a?a:"";r.setValue(i,{value:g.userValue.toString()});window.updateAngularFormValue(i,{value:g.userValue.toString()});t.target.value=g.userValue},formattedValue:function formattedValue(t){var formattedValue=t.detail.formattedValue;g.formattedValue=formattedValue;null!=formattedValue&&t.target!==document.activeElement&&(t.target.value=formattedValue);r.setValue(i,{formattedValue:formattedValue});window.updateAngularFormValue(i,{formattedValue:formattedValue})},selRange:function selRange(t){var r;(r=t.target).setSelectionRange.apply(r,_toConsumableArray(t.detail.selRange))},charLimit:function charLimit(a){var o,charLimit=a.detail.charLimit,l=a.target;if(0!==charLimit){l.setAttribute("maxLength",charLimit);var u=g.userValue;if(u&&!(u.length<=charLimit)){u=u.slice(0,charLimit);l.value=g.userValue=u;r.setValue(i,{value:u});window.updateAngularFormValue(i,{value:u});null===(o=t.linkService.eventBus)||void 0===o||o.dispatch("dispatcheventinsandbox",{source:t,detail:{id:i,name:"Keystroke",value:u,willCommit:!0,commitKey:1,selStart:l.selectionStart,selEnd:l.selectionEnd}})}}else l.removeAttribute("maxLength")}};t._dispatchEventFromSandbox(o,a)}));a.addEventListener("keydown",(function(r){var a;g.commitKey=1;var o=-1;"Escape"===r.key?o=0:"Enter"!==r.key||t.data.multiLine?"Tab"===r.key&&(g.commitKey=3):o=2;if(-1!==o){var l=r.target.value;if(g.lastCommittedValue!==l){g.lastCommittedValue=l;g.userValue=l;null===(a=t.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:t,detail:{id:i,name:"Keystroke",value:l,willCommit:!0,commitKey:o,selStart:r.target.selectionStart,selEnd:r.target.selectionEnd}})}}}));var P=b;b=null;a.addEventListener("blur",(function(r){var a;if(g.focused&&r.relatedTarget){null!==(a=t.data.actions)&&void 0!==a&&a.Blur||(g.focused=!1);var o=r.target.value;g.userValue=o;if(g.lastCommittedValue!==o){var l;null===(l=t.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:t,detail:{id:i,name:"Keystroke",value:o,willCommit:!0,commitKey:g.commitKey,selStart:r.target.selectionStart,selEnd:r.target.selectionEnd}})}P(r)}}));null!==(w=this.data.actions)&&void 0!==w&&w.Keystroke&&a.addEventListener("beforeinput",(function(r){var a;g.lastCommittedValue=null;var o=r.data,l=r.target,u=l.value,c=l.selectionStart,h=l.selectionEnd,d=c,p=h;switch(r.inputType){case"deleteWordBackward":var v=u.substring(0,c).match(/\w*[^\w]*$/);v&&(d-=v[0].length);break;case"deleteWordForward":var y=u.substring(c).match(/^[^\w]*\w*/);y&&(p+=y[0].length);break;case"deleteContentBackward":c===h&&(d-=1);break;case"deleteContentForward":c===h&&(p+=1)}r.preventDefault();null===(a=t.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:t,detail:{id:i,name:"Keystroke",value:u,change:o||"",willCommit:!1,selStart:d,selEnd:p}})}));this._setEventListeners(a,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.value}))}b&&a.addEventListener("blur",b);if(this.data.comb){var A=(this.data.rect[2]-this.data.rect[0])/v;a.classList.add("comb");a.style.letterSpacing="calc(".concat(A,"px * var(--scale-factor) - 1ch)")}}else{(a=document.createElement("div")).textContent=this.data.fieldValue;a.style.verticalAlign="middle";a.style.display="table-cell";this.data.hasOwnCanvas&&(a.hidden=!0)}this._setTextStyle(a);this._setBackgroundColor(a);this._setDefaultPropertiesFromJS(a);this.container.append(a);return this.container}}]);return TextWidgetAnnotationElement}(P),S=function(t){_inherits(SignatureWidgetAnnotationElement,t);var r=_createSuper(SignatureWidgetAnnotationElement);function SignatureWidgetAnnotationElement(t){annotation_layer_classCallCheck(this,SignatureWidgetAnnotationElement);return r.call(this,t,{isRenderable:!!t.data.hasOwnCanvas})}return annotation_layer_createClass(SignatureWidgetAnnotationElement)}(P),E=function(t){_inherits(CheckboxWidgetAnnotationElement,t);var r=_createSuper(CheckboxWidgetAnnotationElement);function CheckboxWidgetAnnotationElement(t){annotation_layer_classCallCheck(this,CheckboxWidgetAnnotationElement);return r.call(this,t,{isRenderable:t.renderForms})}annotation_layer_createClass(CheckboxWidgetAnnotationElement,[{key:"render",value:function render(){var t=this,r=this.annotationStorage,i=this.data,a=i.id,o=window.getFormValueFromAngular(this.data.fieldName),l=r.getValue(a,{value:i.exportValue===i.fieldValue}).value,u=void 0;o.value&&(u=!0===o.value||o.value===i.exportValue);var c=void 0!==u?u:l,p=!1;if("string"==typeof c){c=c===i.exportValue;r.setValue(a,{value:c});p=!0}else if(void 0!==(null==o?void 0:o.value)&&o.value!==l){c=o.value===i.exportValue;r.setValue(a,{value:c})}this.container.classList.add("buttonWidgetAnnotation","checkBox");var v=document.createElement("input");d.add(v);v.setAttribute("data-element-id",a);v.disabled=i.readOnly;this._setRequired(v,this.data.required);v.type="checkbox";v.name=i.fieldName;c&&v.setAttribute("checked",!0);v.setAttribute("exportValue",i.exportValue);v.tabIndex=h;v.addEventListener("change",(function(o){var l,u=o.target,c=u.name,h=u.checked,d=_createForOfIteratorHelper(t._getElementsByName(c,a));try{for(d.s();!(l=d.n()).done;){var p=l.value,v=h&&p.exportValue===i.exportValue;p.domElement&&(p.domElement.checked=v);r.setValue(p.id,{value:v});window.updateAngularFormValue(a,{value:v})}}catch(t){d.e(t)}finally{d.f()}r.setValue(a,{value:h});window.updateAngularFormValue(a,{value:h})}));v.addEventListener("resetform",(function(t){var r=i.defaultFieldValue||"Off";t.target.checked=r===i.exportValue}));window.registerAcroformField(a,v,!!c&&i.exportValue);v.addEventListener("updateFromAngular",(function(t){return r.setValue(a,{value:t.detail})}));p&&window.updateAngularFormValue(a,{value:c});if(this.enableScripting&&this.hasJSActions){v.addEventListener("updatefromsandbox",(function(i){var o={value:function value(t){t.target.checked="Off"!==t.detail.value;r.setValue(a,{value:t.target.checked});window.updateAngularFormValue(a,{value:t.target.value})}};t._dispatchEventFromSandbox(o,i)}));this._setEventListeners(v,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))}this._setBackgroundColor(v);this._setDefaultPropertiesFromJS(v);this.container.append(v);return this.container}}]);return CheckboxWidgetAnnotationElement}(P),x=function(t){_inherits(RadioButtonWidgetAnnotationElement,t);var r=_createSuper(RadioButtonWidgetAnnotationElement);function RadioButtonWidgetAnnotationElement(t){annotation_layer_classCallCheck(this,RadioButtonWidgetAnnotationElement);return r.call(this,t,{isRenderable:t.renderForms})}annotation_layer_createClass(RadioButtonWidgetAnnotationElement,[{key:"render",value:function render(){var t,r=this;this.container.classList.add("buttonWidgetAnnotation","radioButton");var i=this.annotationStorage,a=this.data,o=a.id,l=window.getFormValueFromAngular(this.data.fieldName),u=i.getValue(o,{value:a.fieldValue===a.buttonValue}).value,c=null!==(t=l.value)&&void 0!==t?t:u;if("string"==typeof c||l!==u){c=c===a.buttonValue;i.setValue(o,{value:c})}else c&&window.updateAngularFormValue(o,{value:a.buttonValue});if(c){var p,v=_createForOfIteratorHelper(this._getElementsByName(a.fieldName,o));try{for(v.s();!(p=v.n()).done;){var y=p.value;i.setValue(y.id,{value:!1})}}catch(t){v.e(t)}finally{v.f()}}var g=document.createElement("input");d.add(g);g.setAttribute("data-element-id",o);g.disabled=a.readOnly;this._setRequired(g,this.data.required);g.type="radio";g.name=a.fieldName;c&&g.setAttribute("checked",!0);g.tabIndex=h;g.addEventListener("change",(function(t){var a,l=t.target,u=l.name,c=l.checked,h=_createForOfIteratorHelper(r._getElementsByName(u,o));try{for(h.s();!(a=h.n()).done;){var d=a.value;i.setValue(d.id,{value:!1});window.updateAngularFormValue(d.id,{value:!1})}}catch(t){h.e(t)}finally{h.f()}i.setValue(o,{value:c});window.updateAngularFormValue(o,{value:c})}));g.addEventListener("resetform",(function(t){var r=a.defaultFieldValue;t.target.checked=null!=r&&r===a.buttonValue}));window.registerAcroformField(o,g,c?a.buttonValue:void 0,a.buttonValue);g.addEventListener("updateFromAngular",(function(t){return i.setValue(o,{value:t.detail})}));if(this.enableScripting&&this.hasJSActions){var m=a.buttonValue;g.addEventListener("updatefromsandbox",(function(t){var a={value:function value(t){var a,l=m===t.detail.value,u=_createForOfIteratorHelper(r._getElementsByName(t.target.name));try{for(u.s();!(a=u.n()).done;){var c=a.value,h=l&&c.id===o;c.domElement&&(c.domElement.checked=h);i.setValue(c.id,{value:h});window.updateAngularFormValue(o,{value:h})}}catch(t){u.e(t)}finally{u.f()}}};r._dispatchEventFromSandbox(a,t)}));this._setEventListeners(g,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))}this._setBackgroundColor(g);this._setDefaultPropertiesFromJS(g);this.container.append(g);return this.container}}]);return RadioButtonWidgetAnnotationElement}(P),k=function(t){_inherits(PushButtonWidgetAnnotationElement,t);var r=_createSuper(PushButtonWidgetAnnotationElement);function PushButtonWidgetAnnotationElement(t){annotation_layer_classCallCheck(this,PushButtonWidgetAnnotationElement);return r.call(this,t,{ignoreBorder:t.data.hasAppearance})}annotation_layer_createClass(PushButtonWidgetAnnotationElement,[{key:"render",value:function render(){var t=this,r=_get(_getPrototypeOf(PushButtonWidgetAnnotationElement.prototype),"render",this).call(this);r.classList.add("buttonWidgetAnnotation","pushButton");this.data.alternativeText&&(r.title=this.data.alternativeText);var i=r.lastChild;if(this.enableScripting&&this.hasJSActions&&i){this._setDefaultPropertiesFromJS(i);i.addEventListener("updatefromsandbox",(function(r){t._dispatchEventFromSandbox({},r)}))}return r}}]);return PushButtonWidgetAnnotationElement}(b),D=function(t){_inherits(ChoiceWidgetAnnotationElement,t);var r=_createSuper(ChoiceWidgetAnnotationElement);function ChoiceWidgetAnnotationElement(t){annotation_layer_classCallCheck(this,ChoiceWidgetAnnotationElement);return r.call(this,t,{isRenderable:t.renderForms})}annotation_layer_createClass(ChoiceWidgetAnnotationElement,[{key:"render",value:function render(){var t=this;this.container.classList.add("choiceWidgetAnnotation");var r=this.annotationStorage,i=this.data.id,a=window.getFormValueFromAngular(this.data.fieldName),o=r.getValue(i,{value:this.data.fieldValue}),l=a.value?a:o;a!==o&&r.setValue(i,{value:a.value});var u=document.createElement("select");d.add(u);u.setAttribute("data-element-id",i);u.disabled=this.data.readOnly;this._setRequired(u,this.data.required);u.name=this.data.fieldName;u.tabIndex=h;var c=this.data.combo&&this.data.options.length>0;if(!this.data.combo){u.size=this.data.options.length;this.data.multiSelect&&(u.multiple=!0)}u.addEventListener("resetform",(function(r){var i,a=t.data.defaultFieldValue,o=_createForOfIteratorHelper(u.options);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.selected=l.value===a}}catch(t){o.e(t)}finally{o.f()}}));var p,v=_createForOfIteratorHelper(this.data.options);try{for(v.s();!(p=v.n()).done;){var y=p.value,g=document.createElement("option");g.textContent=y.displayValue;g.value=y.exportValue;if(l.value.includes(y.exportValue)){g.setAttribute("selected",!0);c=!1}u.append(g)}}catch(t){v.e(t)}finally{v.f()}var m=null;if(c){var _=document.createElement("option");_.value=" ";_.setAttribute("hidden",!0);_.setAttribute("selected",!0);u.prepend(_);m=function removeEmptyEntry(){_.remove();u.removeEventListener("input",m);m=null};u.addEventListener("input",m)}var b=function getValue(t){var r=t?"value":"textContent",i=u.options;return u.multiple?Array.prototype.filter.call(i,(function(t){return t.selected})).map((function(t){return t[r]})):-1===i.selectedIndex?null:i[i.selectedIndex][r]},w=b(!1),P=function getItems(t){var r=t.target.options;return Array.prototype.map.call(r,(function(t){return{displayValue:t.textContent,exportValue:t.value}}))};window.registerAcroformField(i,u,w);u.addEventListener("updateFromAngular",(function(t){return r.setValue(i,{value:t.detail})}));if(this.enableScripting&&this.hasJSActions){u.addEventListener("updatefromsandbox",(function(a){var o={value:function value(t){var a;null===(a=m)||void 0===a||a();var o,value=t.detail.value,l=new Set(Array.isArray(value)?value:[value]),c=_createForOfIteratorHelper(u.options);try{for(c.s();!(o=c.n()).done;){var h=o.value;h.selected=l.has(h.value)}}catch(t){c.e(t)}finally{c.f()}r.setValue(i,{value:b(!0)});w=b(!1);window.updateAngularFormValue(i,{value:w})},multipleSelection:function multipleSelection(t){u.multiple=!0},remove:function remove(t){var a=u.options,o=t.detail.remove;a[o].selected=!1;u.remove(o);if(a.length>0){var l=Array.prototype.findIndex.call(a,(function(t){return t.selected}));-1===l&&(a[0].selected=!0)}r.setValue(i,{value:b(!0),items:P(t)});w=b(!1)},clear:function clear(t){for(;0!==u.length;)u.remove(0);r.setValue(i,{value:null,items:[]});w=b(!1);window.updateAngularFormValue(i,{value:w})},insert:function insert(t){var a=t.detail.insert,o=a.index,l=a.displayValue,c=a.exportValue,h=u.children[o],d=document.createElement("option");d.textContent=l;d.value=c;h?h.before(d):u.append(d);r.setValue(i,{value:b(!0),items:P(t)});w=b(!1);window.updateAngularFormValue(i,{value:w})},items:function items(t){for(var items=t.detail.items;0!==u.length;)u.remove(0);var a,o=_createForOfIteratorHelper(items);try{for(o.s();!(a=o.n()).done;){var l=a.value,c=l.displayValue,h=l.exportValue,d=document.createElement("option");d.textContent=c;d.value=h;u.append(d)}}catch(t){o.e(t)}finally{o.f()}u.options.length>0&&(u.options[0].selected=!0);r.setValue(i,{value:b(!0),items:P(t)});w=b(!1);window.updateAngularFormValue(i,{value:w})},indices:function indices(t){var a,indices=new Set(t.detail.indices),o=_createForOfIteratorHelper(t.target.options);try{for(o.s();!(a=o.n()).done;){var l=a.value;l.selected=indices.has(l.index)}}catch(t){o.e(t)}finally{o.f()}r.setValue(i,{value:b(!0)});w=b(!1);window.updateAngularFormValue(i,{value:w})},editable:function editable(t){t.target.disabled=!t.detail.editable}};t._dispatchEventFromSandbox(o,a)}));u.addEventListener("input",(function(a){var o,l=b(!0);r.setValue(i,{value:l});window.updateAngularFormValue(i,{value:l});a.preventDefault();null===(o=t.linkService.eventBus)||void 0===o||o.dispatch("dispatcheventinsandbox",{source:t,detail:{id:i,name:"Keystroke",value:w,changeEx:l,willCommit:!1,commitKey:1,keyDown:!1}})}));this._setEventListeners(u,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(function(t){return t.target.value}))}else u.addEventListener("input",(function(t){r.setValue(i,{value:b(!0)});window.updateAngularFormValue(i,{value:b(!0)})}));this.data.combo&&this._setTextStyle(u);this._setBackgroundColor(u);this._setDefaultPropertiesFromJS(u);this.container.append(u);return this.container}}]);return ChoiceWidgetAnnotationElement}(P),C=function(t){_inherits(PopupAnnotationElement,t);var r=_createSuper(PopupAnnotationElement);function PopupAnnotationElement(t){var i;annotation_layer_classCallCheck(this,PopupAnnotationElement);var a=t.data,o=t.elements;(i=r.call(this,t,{isRenderable:y._hasPopupData(a)})).elements=o;return i}annotation_layer_createClass(PopupAnnotationElement,[{key:"render",value:function render(){this.container.classList.add("popupAnnotation");var t,r=new Q({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[],o=_createForOfIteratorHelper(this.elements);try{for(o.s();!(t=o.n()).done;){var l=t.value;l.popup=r;i.push(l.data.id);l.addHighlightArea()}}catch(t){o.e(t)}finally{o.f()}this.container.setAttribute("aria-controls",i.map((function(t){return"".concat(a.AnnotationPrefix).concat(t)})).join(","));return this.container}}]);return PopupAnnotationElement}(y),T=new WeakMap,I=new WeakMap,O=new WeakMap,M=new WeakMap,L=new WeakMap,G=new WeakMap,R=new WeakMap,j=new WeakMap,B=new WeakMap,N=new WeakMap,W=new WeakMap,V=new WeakMap,z=new WeakMap,H=new WeakMap,U=new WeakMap,q=new WeakMap,K=new WeakMap,Y=new WeakSet,X=new WeakSet,$=new WeakSet,Z=new WeakSet,Q=function(){function PopupElement(t){var r=t.container,i=t.color,a=t.elements,l=t.titleObj,u=t.modificationDate,c=t.contentsObj,h=t.richText,d=t.parent,p=t.rect,v=t.parentRect,y=t.open;annotation_layer_classCallCheck(this,PopupElement);_classPrivateMethodInitSpec(this,Z);_classPrivateMethodInitSpec(this,$);_classPrivateMethodInitSpec(this,X);_classPrivateMethodInitSpec(this,Y);_classPrivateFieldInitSpec(this,T,{writable:!0,value:_classPrivateMethodGet(this,Y,_keyDown2).bind(this)});_classPrivateFieldInitSpec(this,I,{writable:!0,value:_classPrivateMethodGet(this,Z,_hide2).bind(this)});_classPrivateFieldInitSpec(this,O,{writable:!0,value:_classPrivateMethodGet(this,$,_show2).bind(this)});_classPrivateFieldInitSpec(this,M,{writable:!0,value:_classPrivateMethodGet(this,X,_toggle2).bind(this)});_classPrivateFieldInitSpec(this,L,{writable:!0,value:null});_classPrivateFieldInitSpec(this,G,{writable:!0,value:null});_classPrivateFieldInitSpec(this,R,{writable:!0,value:null});_classPrivateFieldInitSpec(this,j,{writable:!0,value:null});_classPrivateFieldInitSpec(this,B,{writable:!0,value:null});_classPrivateFieldInitSpec(this,N,{writable:!0,value:null});_classPrivateFieldInitSpec(this,W,{writable:!0,value:null});_classPrivateFieldInitSpec(this,V,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,z,{writable:!0,value:null});_classPrivateFieldInitSpec(this,H,{writable:!0,value:null});_classPrivateFieldInitSpec(this,U,{writable:!0,value:null});_classPrivateFieldInitSpec(this,q,{writable:!0,value:null});_classPrivateFieldInitSpec(this,K,{writable:!0,value:!1});_classPrivateFieldSet(this,G,r);_classPrivateFieldSet(this,q,l);_classPrivateFieldSet(this,R,c);_classPrivateFieldSet(this,U,h);_classPrivateFieldSet(this,N,d);_classPrivateFieldSet(this,L,i);_classPrivateFieldSet(this,H,p);_classPrivateFieldSet(this,W,v);_classPrivateFieldSet(this,B,a);_classPrivateFieldSet(this,j,o.PDFDateString.toDateObject(u));this.trigger=a.flatMap((function(t){return t.getElementsToTriggerPopup()}));var g,m=_createForOfIteratorHelper(this.trigger);try{for(m.s();!(g=m.n()).done;){var _=g.value;_.addEventListener("click",_classPrivateFieldGet(this,M));_.addEventListener("mouseenter",_classPrivateFieldGet(this,O));_.addEventListener("mouseleave",_classPrivateFieldGet(this,I));_.classList.add("popupTriggerArea")}}catch(t){m.e(t)}finally{m.f()}var b,w=_createForOfIteratorHelper(a);try{for(w.s();!(b=w.n()).done;){var P;null===(P=b.value.container)||void 0===P||P.addEventListener("keydown",_classPrivateFieldGet(this,T))}}catch(t){w.e(t)}finally{w.f()}_classPrivateFieldGet(this,G).hidden=!0;y&&_classPrivateMethodGet(this,X,_toggle2).call(this)}annotation_layer_createClass(PopupElement,[{key:"render",value:function render(){if(!_classPrivateFieldGet(this,z)){var t=_classPrivateFieldGet(this,N),r=t.page.view,i=t.viewport.rawDims,o=i.pageWidth,l=i.pageHeight,u=i.pageX,h=i.pageY,d=_classPrivateFieldSet(this,z,document.createElement("div"));d.className="popup";if(_classPrivateFieldGet(this,L)){var p=d.style.outlineColor=a.Util.makeHexColor.apply(a.Util,_toConsumableArray(_classPrivateFieldGet(this,L)));if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))d.style.backgroundColor="color-mix(in srgb, ".concat(p," 30%, white)");else{d.style.backgroundColor=a.Util.makeHexColor.apply(a.Util,_toConsumableArray(_classPrivateFieldGet(this,L).map((function(t){return Math.floor(.7*(255-t)+t)}))))}}var v=document.createElement("span");v.className="header";var y=document.createElement("h1");v.append(y);var g=_classPrivateFieldGet(this,q);y.dir=g.dir;y.textContent=g.str;d.append(v);if(_classPrivateFieldGet(this,j)){var m=document.createElement("span");m.classList.add("popupDate");m.setAttribute("data-l10n-id","pdfjs-annotation-date-string");m.setAttribute("data-l10n-args",JSON.stringify({date:_classPrivateFieldGet(this,j).toLocaleDateString(),time:_classPrivateFieldGet(this,j).toLocaleTimeString()}));v.append(m)}var _=_classPrivateFieldGet(this,R),b=_classPrivateFieldGet(this,U);if(null==b||!b.str||null!=_&&_.str&&_.str!==b.str){var w=this._formatContents(_);d.append(w)}else{c.XfaLayer.render({xfaHtml:b.html,intent:"richText",div:d});d.lastChild.classList.add("richText","popupContent")}var P,A=!!_classPrivateFieldGet(this,W),S=_classPrivateFieldGet(this,A?W:H),E=_createForOfIteratorHelper(_classPrivateFieldGet(this,B));try{for(E.s();!(P=E.n()).done;){var x=P.value;if(!S||null!==a.Util.intersect(x.data.rect,S)){S=x.data.rect;A=!0;break}}}catch(t){E.e(t)}finally{E.f()}var k=a.Util.normalizeRect([S[0],r[3]-S[1]+r[1],S[2],r[3]-S[3]+r[1]]),D=A?S[2]-S[0]+5:0,C=k[0]+D,T=k[1],I=_classPrivateFieldGet(this,G).style;I.left="".concat(100*(C-u)/o,"%");I.top="".concat(100*(T-h)/l,"%");_classPrivateFieldGet(this,G).append(d)}}},{key:"_formatContents",value:function _formatContents(t){var r=t.str,i=t.dir,a=document.createElement("p");a.classList.add("popupContent");a.dir=i;for(var o=r.split(/(?:\r\n?|\n)/),l=0,u=o.length;l<u;++l){var c=o[l];a.append(document.createTextNode(c));l<u-1&&a.append(document.createElement("br"))}return a}},{key:"forceHide",value:function forceHide(){_classPrivateFieldSet(this,K,this.isVisible);_classPrivateFieldGet(this,K)&&(_classPrivateFieldGet(this,G).hidden=!0)}},{key:"maybeShow",value:function maybeShow(){if(_classPrivateFieldGet(this,K)){_classPrivateFieldSet(this,K,!1);_classPrivateFieldGet(this,G).hidden=!1}}},{key:"isVisible",get:function get(){return!1===_classPrivateFieldGet(this,G).hidden}}]);return PopupElement}();function _keyDown2(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&_classPrivateFieldGet(this,V))&&_classPrivateMethodGet(this,X,_toggle2).call(this)}function _toggle2(){_classPrivateFieldSet(this,V,!_classPrivateFieldGet(this,V));if(_classPrivateFieldGet(this,V)){_classPrivateMethodGet(this,$,_show2).call(this);_classPrivateFieldGet(this,G).addEventListener("click",_classPrivateFieldGet(this,M));_classPrivateFieldGet(this,G).addEventListener("keydown",_classPrivateFieldGet(this,T))}else{_classPrivateMethodGet(this,Z,_hide2).call(this);_classPrivateFieldGet(this,G).removeEventListener("click",_classPrivateFieldGet(this,M));_classPrivateFieldGet(this,G).removeEventListener("keydown",_classPrivateFieldGet(this,T))}}function _show2(){_classPrivateFieldGet(this,z)||this.render();if(this.isVisible)_classPrivateFieldGet(this,V)&&_classPrivateFieldGet(this,G).classList.add("focused");else{_classPrivateFieldGet(this,G).hidden=!1;_classPrivateFieldGet(this,G).style.zIndex=parseInt(_classPrivateFieldGet(this,G).style.zIndex)+1e3}}function _hide2(){_classPrivateFieldGet(this,G).classList.remove("focused");if(!_classPrivateFieldGet(this,V)&&this.isVisible){_classPrivateFieldGet(this,G).hidden=!0;_classPrivateFieldGet(this,G).style.zIndex=parseInt(_classPrivateFieldGet(this,G).style.zIndex)-1e3}}var J=function(t){_inherits(FreeTextAnnotationElement,t);var r=_createSuper(FreeTextAnnotationElement);function FreeTextAnnotationElement(t){var i;annotation_layer_classCallCheck(this,FreeTextAnnotationElement);(i=r.call(this,t,{isRenderable:!0,ignoreBorder:!0})).textContent=t.data.textContent;i.textPosition=t.data.textPosition;i.annotationEditorType=a.AnnotationEditorType.FREETEXT;return i}annotation_layer_createClass(FreeTextAnnotationElement,[{key:"render",value:function render(){this.container.classList.add("freeTextAnnotation");if(this.textContent){var t=document.createElement("div");t.classList.add("annotationTextContent");t.setAttribute("role","comment");var r,i=_createForOfIteratorHelper(this.textContent);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=document.createElement("span");o.textContent=a;t.append(o)}}catch(t){i.e(t)}finally{i.f()}this.container.append(t)}!this.data.popupRef&&this.hasPopupData&&this._createPopup();this._editOnDoubleClick();return this.container}},{key:"_isEditable",get:function get(){return this.data.hasOwnCanvas}}]);return FreeTextAnnotationElement}(y),ee=new WeakMap,te=function(t){_inherits(LineAnnotationElement,t);var r=_createSuper(LineAnnotationElement);function LineAnnotationElement(t){var i;annotation_layer_classCallCheck(this,LineAnnotationElement);_classPrivateFieldInitSpec(_assertThisInitialized(i=r.call(this,t,{isRenderable:!0,ignoreBorder:!0})),ee,{writable:!0,value:null});return i}annotation_layer_createClass(LineAnnotationElement,[{key:"render",value:function render(){this.container.classList.add("lineAnnotation");var t=this.data,r=getRectDims(t.rect),i=r.width,a=r.height,o=this.svgFactory.create(i,a,!0),l=_classPrivateFieldSet(this,ee,this.svgFactory.createElement("svg:line"));l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]);l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]);l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]);l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]);l.setAttribute("stroke-width",t.borderStyle.width||1);l.setAttribute("stroke","transparent");l.setAttribute("fill","transparent");o.append(l);this.container.append(o);!t.popupRef&&this.hasPopupData&&this._createPopup();return this.container}},{key:"getElementsToTriggerPopup",value:function getElementsToTriggerPopup(){return _classPrivateFieldGet(this,ee)}},{key:"addHighlightArea",value:function addHighlightArea(){this.container.classList.add("highlightArea")}}]);return LineAnnotationElement}(y),re=new WeakMap,ne=function(t){_inherits(SquareAnnotationElement,t);var r=_createSuper(SquareAnnotationElement);function SquareAnnotationElement(t){var i;annotation_layer_classCallCheck(this,SquareAnnotationElement);_classPrivateFieldInitSpec(_assertThisInitialized(i=r.call(this,t,{isRenderable:!0,ignoreBorder:!0})),re,{writable:!0,value:null});return i}annotation_layer_createClass(SquareAnnotationElement,[{key:"render",value:function render(){this.container.classList.add("squareAnnotation");var t=this.data,r=getRectDims(t.rect),i=r.width,a=r.height,o=this.svgFactory.create(i,a,!0),l=t.borderStyle.width,u=_classPrivateFieldSet(this,re,this.svgFactory.createElement("svg:rect"));u.setAttribute("x",l/2);u.setAttribute("y",l/2);u.setAttribute("width",i-l);u.setAttribute("height",a-l);u.setAttribute("stroke-width",l||1);u.setAttribute("stroke","transparent");u.setAttribute("fill","transparent");o.append(u);this.container.append(o);!t.popupRef&&this.hasPopupData&&this._createPopup();return this.container}},{key:"getElementsToTriggerPopup",value:function getElementsToTriggerPopup(){return _classPrivateFieldGet(this,re)}},{key:"addHighlightArea",value:function addHighlightArea(){this.container.classList.add("highlightArea")}}]);return SquareAnnotationElement}(y),ie=new WeakMap,ae=function(t){_inherits(CircleAnnotationElement,t);var r=_createSuper(CircleAnnotationElement);function CircleAnnotationElement(t){var i;annotation_layer_classCallCheck(this,CircleAnnotationElement);_classPrivateFieldInitSpec(_assertThisInitialized(i=r.call(this,t,{isRenderable:!0,ignoreBorder:!0})),ie,{writable:!0,value:null});return i}annotation_layer_createClass(CircleAnnotationElement,[{key:"render",value:function render(){this.container.classList.add("circleAnnotation");var t=this.data,r=getRectDims(t.rect),i=r.width,a=r.height,o=this.svgFactory.create(i,a,!0),l=t.borderStyle.width,u=_classPrivateFieldSet(this,ie,this.svgFactory.createElement("svg:ellipse"));u.setAttribute("cx",i/2);u.setAttribute("cy",a/2);u.setAttribute("rx",i/2-l/2);u.setAttribute("ry",a/2-l/2);u.setAttribute("stroke-width",l||1);u.setAttribute("stroke","transparent");u.setAttribute("fill","transparent");o.append(u);this.container.append(o);!t.popupRef&&this.hasPopupData&&this._createPopup();return this.container}},{key:"getElementsToTriggerPopup",value:function getElementsToTriggerPopup(){return _classPrivateFieldGet(this,ie)}},{key:"addHighlightArea",value:function addHighlightArea(){this.container.classList.add("highlightArea")}}]);return CircleAnnotationElement}(y),oe=new WeakMap,se=function(t){_inherits(PolylineAnnotationElement,t);var r=_createSuper(PolylineAnnotationElement);function PolylineAnnotationElement(t){var i;annotation_layer_classCallCheck(this,PolylineAnnotationElement);_classPrivateFieldInitSpec(_assertThisInitialized(i=r.call(this,t,{isRenderable:!0,ignoreBorder:!0})),oe,{writable:!0,value:null});i.containerClassName="polylineAnnotation";i.svgElementName="svg:polyline";return i}annotation_layer_createClass(PolylineAnnotationElement,[{key:"render",value:function render(){this.container.classList.add(this.containerClassName);var t,r=this.data,i=getRectDims(r.rect),a=i.width,o=i.height,l=this.svgFactory.create(a,o,!0),u=[],c=_createForOfIteratorHelper(r.vertices);try{for(c.s();!(t=c.n()).done;){var h=t.value,d=h.x-r.rect[0],p=r.rect[3]-h.y;u.push(d+","+p)}}catch(t){c.e(t)}finally{c.f()}u=u.join(" ");var v=_classPrivateFieldSet(this,oe,this.svgFactory.createElement(this.svgElementName));v.setAttribute("points",u);v.setAttribute("stroke-width",r.borderStyle.width||1);v.setAttribute("stroke","transparent");v.setAttribute("fill","transparent");l.append(v);this.container.append(l);!r.popupRef&&this.hasPopupData&&this._createPopup();return this.container}},{key:"getElementsToTriggerPopup",value:function getElementsToTriggerPopup(){return _classPrivateFieldGet(this,oe)}},{key:"addHighlightArea",value:function addHighlightArea(){this.container.classList.add("highlightArea")}}]);return PolylineAnnotationElement}(y),le=function(t){_inherits(PolygonAnnotationElement,t);var r=_createSuper(PolygonAnnotationElement);function PolygonAnnotationElement(t){var i;annotation_layer_classCallCheck(this,PolygonAnnotationElement);(i=r.call(this,t)).containerClassName="polygonAnnotation";i.svgElementName="svg:polygon";return i}return annotation_layer_createClass(PolygonAnnotationElement)}(se),ue=function(t){_inherits(CaretAnnotationElement,t);var r=_createSuper(CaretAnnotationElement);function CaretAnnotationElement(t){annotation_layer_classCallCheck(this,CaretAnnotationElement);return r.call(this,t,{isRenderable:!0,ignoreBorder:!0})}annotation_layer_createClass(CaretAnnotationElement,[{key:"render",value:function render(){this.container.classList.add("caretAnnotation");!this.data.popupRef&&this.hasPopupData&&this._createPopup();return this.container}}]);return CaretAnnotationElement}(y),ce=new WeakMap,he=function(t){_inherits(InkAnnotationElement,t);var r=_createSuper(InkAnnotationElement);function InkAnnotationElement(t){var i;annotation_layer_classCallCheck(this,InkAnnotationElement);_classPrivateFieldInitSpec(_assertThisInitialized(i=r.call(this,t,{isRenderable:!0,ignoreBorder:!0})),ce,{writable:!0,value:[]});i.containerClassName="inkAnnotation";i.svgElementName="svg:polyline";i.annotationEditorType=a.AnnotationEditorType.INK;return i}annotation_layer_createClass(InkAnnotationElement,[{key:"render",value:function render(){this.container.classList.add(this.containerClassName);var t,r=this.data,i=getRectDims(r.rect),a=i.width,o=i.height,l=this.svgFactory.create(a,o,!0),u=_createForOfIteratorHelper(r.inkLists);try{for(u.s();!(t=u.n()).done;){var c,h=t.value,d=[],p=_createForOfIteratorHelper(h);try{for(p.s();!(c=p.n()).done;){var v=c.value,y=v.x-r.rect[0],g=r.rect[3]-v.y;d.push("".concat(y,",").concat(g))}}catch(t){p.e(t)}finally{p.f()}d=d.join(" ");var m=this.svgFactory.createElement(this.svgElementName);_classPrivateFieldGet(this,ce).push(m);m.setAttribute("points",d);m.setAttribute("stroke-width",r.borderStyle.width||1);m.setAttribute("stroke","transparent");m.setAttribute("fill","transparent");!r.popupRef&&this.hasPopupData&&this._createPopup();l.append(m)}}catch(t){u.e(t)}finally{u.f()}this.container.append(l);return this.container}},{key:"getElementsToTriggerPopup",value:function getElementsToTriggerPopup(){return _classPrivateFieldGet(this,ce)}},{key:"addHighlightArea",value:function addHighlightArea(){this.container.classList.add("highlightArea")}}]);return InkAnnotationElement}(y),de=function(t){_inherits(HighlightAnnotationElement,t);var r=_createSuper(HighlightAnnotationElement);function HighlightAnnotationElement(t){annotation_layer_classCallCheck(this,HighlightAnnotationElement);return r.call(this,t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}annotation_layer_createClass(HighlightAnnotationElement,[{key:"render",value:function render(){!this.data.popupRef&&this.hasPopupData&&this._createPopup();this.container.classList.add("highlightAnnotation");return this.container}}]);return HighlightAnnotationElement}(y),fe=function(t){_inherits(UnderlineAnnotationElement,t);var r=_createSuper(UnderlineAnnotationElement);function UnderlineAnnotationElement(t){annotation_layer_classCallCheck(this,UnderlineAnnotationElement);return r.call(this,t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}annotation_layer_createClass(UnderlineAnnotationElement,[{key:"render",value:function render(){!this.data.popupRef&&this.hasPopupData&&this._createPopup();this.container.classList.add("underlineAnnotation");return this.container}}]);return UnderlineAnnotationElement}(y),pe=function(t){_inherits(SquigglyAnnotationElement,t);var r=_createSuper(SquigglyAnnotationElement);function SquigglyAnnotationElement(t){annotation_layer_classCallCheck(this,SquigglyAnnotationElement);return r.call(this,t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}annotation_layer_createClass(SquigglyAnnotationElement,[{key:"render",value:function render(){!this.data.popupRef&&this.hasPopupData&&this._createPopup();this.container.classList.add("squigglyAnnotation");return this.container}}]);return SquigglyAnnotationElement}(y),ve=function(t){_inherits(StrikeOutAnnotationElement,t);var r=_createSuper(StrikeOutAnnotationElement);function StrikeOutAnnotationElement(t){annotation_layer_classCallCheck(this,StrikeOutAnnotationElement);return r.call(this,t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}annotation_layer_createClass(StrikeOutAnnotationElement,[{key:"render",value:function render(){!this.data.popupRef&&this.hasPopupData&&this._createPopup();this.container.classList.add("strikeoutAnnotation");return this.container}}]);return StrikeOutAnnotationElement}(y),ye=function(t){_inherits(StampAnnotationElement,t);var r=_createSuper(StampAnnotationElement);function StampAnnotationElement(t){annotation_layer_classCallCheck(this,StampAnnotationElement);return r.call(this,t,{isRenderable:!0,ignoreBorder:!0})}annotation_layer_createClass(StampAnnotationElement,[{key:"render",value:function render(){this.container.classList.add("stampAnnotation");!this.data.popupRef&&this.hasPopupData&&this._createPopup();return this.container}}]);return StampAnnotationElement}(y),ge=new WeakMap,me=new WeakSet,_e=function(t){_inherits(FileAttachmentAnnotationElement,t);var r=_createSuper(FileAttachmentAnnotationElement);function FileAttachmentAnnotationElement(t){var i,a;annotation_layer_classCallCheck(this,FileAttachmentAnnotationElement);_classPrivateMethodInitSpec(_assertThisInitialized(a=r.call(this,t,{isRenderable:!0})),me);_classPrivateFieldInitSpec(_assertThisInitialized(a),ge,{writable:!0,value:null});var l=a.data.file,u=l.filename,c=l.content;a.filename=(0,o.getFilenameFromUrl)(u,!0);a.content=c;null===(i=a.linkService.eventBus)||void 0===i||i.dispatch("fileattachmentannotation",{source:_assertThisInitialized(a),filename:u,content:c});return a}annotation_layer_createClass(FileAttachmentAnnotationElement,[{key:"render",value:function render(){var t=this;this.container.classList.add("fileAttachmentAnnotation");var r,i=this.container,o=this.data;if(o.hasAppearance||0===o.fillAlpha)r=document.createElement("div");else{(r=document.createElement("img")).src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(o.name)?"paperclip":"pushpin",".svg");o.fillAlpha&&o.fillAlpha<1&&(r.style="filter: opacity(".concat(Math.round(100*o.fillAlpha),"%);"))}r.addEventListener("dblclick",_classPrivateMethodGet(this,me,_download2).bind(this));_classPrivateFieldSet(this,ge,r);var l=a.FeatureTest.platform.isMac;i.addEventListener("keydown",(function(r){"Enter"===r.key&&(l?r.metaKey:r.ctrlKey)&&_classPrivateMethodGet(t,me,_download2).call(t)}));!o.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea");i.append(r);return i}},{key:"getElementsToTriggerPopup",value:function getElementsToTriggerPopup(){return _classPrivateFieldGet(this,ge)}},{key:"addHighlightArea",value:function addHighlightArea(){this.container.classList.add("highlightArea")}}]);return FileAttachmentAnnotationElement}(y);function _download2(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.content,this.filename)}var be=new WeakMap,we=new WeakMap,Pe=new WeakMap,Ae=new WeakSet,Se=new WeakSet,Ee=function(){function AnnotationLayer(t){var r=t.div,i=t.accessibilityManager,a=t.annotationCanvasMap,o=t.page,l=t.viewport;annotation_layer_classCallCheck(this,AnnotationLayer);_classPrivateMethodInitSpec(this,Se);_classPrivateMethodInitSpec(this,Ae);_classPrivateFieldInitSpec(this,be,{writable:!0,value:null});_classPrivateFieldInitSpec(this,we,{writable:!0,value:null});_classPrivateFieldInitSpec(this,Pe,{writable:!0,value:new Map});this.div=r;_classPrivateFieldSet(this,be,i);_classPrivateFieldSet(this,we,a);this.page=o;this.viewport=l;this.zIndex=0}annotation_layer_createClass(AnnotationLayer,[{key:"render",value:(t=function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(t){var r,i,u,c,h,d,v,y,g,m,_,b,w,P,A;return _regeneratorRuntime().wrap((function _callee$(S){for(;;)switch(S.prev=S.next){case 0:r=t.annotations;i=this.div;(0,o.setLayerDimensions)(i,this.viewport);u=new Map;c={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new o.DOMSVGFactory,annotationStorage:t.annotationStorage||new l.AnnotationStorage,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};h=_createForOfIteratorHelper(r);S.prev=6;h.s();case 8:if((d=h.n()).done){S.next=34;break}if(!(v=d.value).noHTML){S.next=12;break}return S.abrupt("continue",32);case 12:if(y=v.annotationType===a.AnnotationType.POPUP){S.next=19;break}g=getRectDims(v.rect),m=g.width,_=g.height;if(!(m<=0||_<=0)){S.next=17;break}return S.abrupt("continue",32);case 17:S.next=23;break;case 19:if(b=u.get(v.id)){S.next=22;break}return S.abrupt("continue",32);case 22:c.elements=b;case 23:c.data=v;if((w=p.create(c)).isRenderable){S.next=27;break}return S.abrupt("continue",32);case 27:!y&&v.popupRef&&((P=u.get(v.popupRef))?P.push(w):u.set(v.popupRef,[w]));w.annotationEditorType>0&&_classPrivateFieldGet(this,Pe).set(w.data.id,w);A=w.render();v.hidden&&(A.style.visibility="hidden");_classPrivateMethodGet(this,Ae,_appendElement2).call(this,A,v.id);case 32:S.next=8;break;case 34:S.next=39;break;case 36:S.prev=36;S.t0=S.catch(6);h.e(S.t0);case 39:S.prev=39;h.f();return S.finish(39);case 42:_classPrivateMethodGet(this,Se,_setAnnotationCanvasMap2).call(this);case 43:case"end":return S.stop()}}),_callee,this,[[6,36,39,42]])}))),function render(r){return t.apply(this,arguments)})},{key:"update",value:function update(t){var r=t.viewport,i=this.div;this.viewport=r;(0,o.setLayerDimensions)(i,{rotation:r.rotation});_classPrivateMethodGet(this,Se,_setAnnotationCanvasMap2).call(this);i.hidden=!1}},{key:"getEditableAnnotations",value:function getEditableAnnotations(){return Array.from(_classPrivateFieldGet(this,Pe).values())}},{key:"getEditableAnnotation",value:function getEditableAnnotation(t){return _classPrivateFieldGet(this,Pe).get(t)}}]);var t;return AnnotationLayer}();function _appendElement2(t,r){var i,o=t.firstChild||t;o.id="".concat(a.AnnotationPrefix).concat(r);this.div.append(t);null===(i=_classPrivateFieldGet(this,be))||void 0===i||i.moveElementInDOM(this.div,t,o,!1)}function _setAnnotationCanvasMap2(){if(_classPrivateFieldGet(this,we)){var t,r=this.div,i=_createForOfIteratorHelper(_classPrivateFieldGet(this,we));try{for(i.s();!(t=i.n()).done;){var a=annotation_layer_slicedToArray(t.value,2),o=a[0],l=a[1],u=r.querySelector('[data-annotation-id="'.concat(o,'"]'));if(u){var c=u.firstChild;c?"CANVAS"===c.nodeName?c.replaceWith(l):c.before(l):u.append(l)}}}catch(t){i.e(t)}finally{i.f()}_classPrivateFieldGet(this,we).clear()}}},4780:(t,r,i)=>{i.d(r,{AnnotationStorage:()=>p,PrintAnnotationStorage:()=>y,SerializableEmpty:()=>u});i(4441),i(6180),i(5548),i(895),i(1747),i(2374),i(9142),i(2586),i(4226),i(7874),i(7254),i(5136),i(7944),i(4668),i(2048),i(2822),i(9709),i(2642),i(7484),i(394),i(3352),i(5598),i(8806),i(9366),i(6678),i(5897),i(171),i(924),i(9593),i(7942),i(5776),i(2926),i(13),i(9175),i(6128);var a=i(3266),o=i(5796),l=i(2825);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var u=Object.freeze({map:null,hash:"",transfer:void 0}),c=new WeakMap,h=new WeakMap,d=new WeakSet,p=function(){function AnnotationStorage(){_classCallCheck(this,AnnotationStorage);!function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}(this,d);_classPrivateFieldInitSpec(this,c,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,h,{writable:!0,value:new Map});this.onSetModified=null;this.onResetModified=null;this.onAnnotationEditor=null}_createClass(AnnotationStorage,[{key:"getValue",value:function getValue(t,r){var i=_classPrivateFieldGet(this,h).get(t);return void 0===i?r:Object.assign(r,i)}},{key:"getRawValue",value:function getRawValue(t){return _classPrivateFieldGet(this,h).get(t)}},{key:"remove",value:function remove(t){_classPrivateFieldGet(this,h).delete(t);0===_classPrivateFieldGet(this,h).size&&this.resetModified();if("function"==typeof this.onAnnotationEditor){var r,i=_createForOfIteratorHelper(_classPrivateFieldGet(this,h).values());try{for(i.s();!(r=i.n()).done;){if(r.value instanceof o.AnnotationEditor)return}}catch(t){i.e(t)}finally{i.f()}this.onAnnotationEditor(null)}}},{key:"setValue",value:function setValue(t,r){var i=_classPrivateFieldGet(this,h).get(t),a=!1;if(void 0!==i)for(var l=0,u=Object.entries(r);l<u.length;l++){var c=_slicedToArray(u[l],2),p=c[0],v=c[1];if(i[p]!==v){a=!0;i[p]=v}}else{a=!0;_classPrivateFieldGet(this,h).set(t,r)}a&&function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}(this,d,_setModified2).call(this);r instanceof o.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(r.constructor._type)}},{key:"has",value:function has(t){return _classPrivateFieldGet(this,h).has(t)}},{key:"getAll",value:function getAll(){return _classPrivateFieldGet(this,h).size>0?(0,a.objectFromMap)(_classPrivateFieldGet(this,h)):null}},{key:"setAll",value:function setAll(t){for(var r=0,i=Object.entries(t);r<i.length;r++){var a=_slicedToArray(i[r],2),o=a[0],l=a[1];this.setValue(o,l)}}},{key:"size",get:function get(){return _classPrivateFieldGet(this,h).size}},{key:"resetModified",value:function resetModified(){if(_classPrivateFieldGet(this,c)){_classPrivateFieldSet(this,c,!1);"function"==typeof this.onResetModified&&this.onResetModified()}}},{key:"print",get:function get(){return new y(this)}},{key:"serializable",get:function get(){if(0===_classPrivateFieldGet(this,h).size)return u;var t,r=new Map,i=new l.MurmurHash3_64,a=[],c=Object.create(null),d=!1,p=_createForOfIteratorHelper(_classPrivateFieldGet(this,h));try{for(p.s();!(t=p.n()).done;){var v=_slicedToArray(t.value,2),y=v[0],g=v[1],m=g instanceof o.AnnotationEditor?g.serialize(!1,c):g;if(m){r.set(y,m);i.update("".concat(y,":").concat(JSON.stringify(m)));d||(d=!!m.bitmap)}}}catch(t){p.e(t)}finally{p.f()}if(d){var _,b=_createForOfIteratorHelper(r.values());try{for(b.s();!(_=b.n()).done;){var w=_.value;w.bitmap&&a.push(w.bitmap)}}catch(t){b.e(t)}finally{b.f()}}return r.size>0?{map:r,hash:i.hexdigest(),transfer:a}:u}}]);return AnnotationStorage}();function _setModified2(){if(!_classPrivateFieldGet(this,c)){_classPrivateFieldSet(this,c,!0);"function"==typeof this.onSetModified&&this.onSetModified()}}var v=new WeakMap,y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}(PrintAnnotationStorage,t);var r=_createSuper(PrintAnnotationStorage);function PrintAnnotationStorage(t){var i;_classCallCheck(this,PrintAnnotationStorage);_classPrivateFieldInitSpec(_assertThisInitialized(i=r.call(this)),v,{writable:!0,value:void 0});var a=t.serializable,o=a.map,l=a.hash,u=a.transfer,c=structuredClone(o,u?{transfer:u}:null);_classPrivateFieldSet(_assertThisInitialized(i),v,{map:c,hash:l,transfer:u});return i}_createClass(PrintAnnotationStorage,[{key:"print",get:function get(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}},{key:"serializable",get:function get(){return _classPrivateFieldGet(this,v)}}]);return PrintAnnotationStorage}(p)},9406:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFDataRangeTransport:()=>I,PDFWorker:()=>H,build:()=>se,getDocument:()=>getDocument,version:()=>oe});i(6180),i(895),i(1747),i(2374),i(7529),i(3757),i(3655),i(2555),i(2202),i(3352),i(5897),i(1210),i(5666),i(4699),i(739),i(4816),i(6923),i(6775),i(6474),i(6450),i(1665),i(8837),i(9803),i(1293),i(1051),i(8260),i(5746),i(202),i(2138),i(368),i(9782),i(917),i(3650),i(8347),i(7192),i(354),i(9080),i(7238),i(7995),i(62),i(6635),i(4602),i(344),i(4305),i(7583),i(4226),i(5548),i(2048),i(5561),i(8587),i(3247),i(3302),i(9490),i(5438),i(7914),i(9142),i(5136),i(7944),i(4668),i(2822),i(9709),i(2642),i(7484),i(7874),i(4750),i(394),i(9366),i(6678),i(2926),i(171),i(924),i(9593),i(7942),i(5776),i(5598),i(8806),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378);var o=i(3266),l=i(4780),u=i(473),c=i(3742),h=i(7738),d=i(1250),p=i(1368),v=i(6694),y=i(3472),g=i(3890),m=i(4092),_=i(5171),b=i(3474),w=i(3498),P=i(1521),A=t([h,w]);[h,w]=A.then?(await A)():A;function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classStaticPrivateFieldSpecSet(t,r,i,a){_classCheckPrivateStaticAccess(t,r);_classCheckPrivateStaticFieldDescriptor(i,"set");_classApplyDescriptorSet(t,i,a);return a}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}function _classStaticPrivateFieldSpecGet(t,r,i){_classCheckPrivateStaticAccess(t,r);_classCheckPrivateStaticFieldDescriptor(i,"get");return _classApplyDescriptorGet(t,i)}function _classCheckPrivateStaticFieldDescriptor(t,r){if(void 0===t)throw new TypeError("attempted to "+r+" private static field before its declaration")}function _classCheckPrivateStaticAccess(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_unsupportedIterableToArray(t,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var S=65536;window.ServiceWorkerOptions={showUnverifiedSignatures:!1};var E=o.isNodeJS?h.NodeCanvasFactory:u.DOMCanvasFactory,x=o.isNodeJS?h.NodeCMapReaderFactory:u.DOMCMapReaderFactory,k=o.isNodeJS?h.NodeFilterFactory:u.DOMFilterFactory,D=o.isNodeJS?h.NodeStandardFontDataFactory:u.DOMStandardFontDataFactory;function getDocument(t){var r,i;"string"==typeof t||t instanceof URL?t={url:t}:(0,o.isArrayBuffer)(t)&&(t={data:t});if("object"!==_typeof(t))throw new Error("Invalid parameter in getDocument, need parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");var a=new C,l=a.docId,c=t.url?getUrlProp(t.url,t.baseHref):null,h=t.data?getDataProp(t.data):null,d=t.httpHeaders||null,y=!0===t.withCredentials,g=null!==(r=t.password)&&void 0!==r?r:null,P=t.range instanceof I?t.range:null,A=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:S,T=t.worker instanceof H?t.worker:null,O=t.verbosity,M="string"!=typeof t.docBaseUrl||(0,u.isDataScheme)(t.docBaseUrl)?null:t.docBaseUrl,L="function"==typeof t.cMapUrl?t.cMapUrl():"string"==typeof t.cMapUrl?t.cMapUrl:null,G=!1!==t.cMapPacked,R=t.CMapReaderFactory||x,j="function"==typeof t.standardFontDataUrl?t.standardFontDataUrl():"string"==typeof t.standardFontDataUrl?t.standardFontDataUrl:null,B=t.StandardFontDataFactory||D,N=!0!==t.stopAtErrors,W=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,V=!1!==t.isEvalSupported,z="boolean"==typeof t.isOffscreenCanvasSupported?t.isOffscreenCanvasSupported:!o.isNodeJS,U=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,q="boolean"==typeof t.disableFontFace?t.disableFontFace:o.isNodeJS,K=!0===t.fontExtraProperties,Y=!0===t.enableXfa,X=t.ownerDocument||globalThis.document,$=!0===t.disableRange,Z=!0===t.disableStream,J=!0===t.disableAutoFetch,ee=!0===t.pdfBug,te=P?P.length:null!==(i=t.length)&&void 0!==i?i:NaN,re="boolean"==typeof t.useSystemFonts?t.useSystemFonts:!o.isNodeJS&&!q,ne="boolean"==typeof t.useWorkerFetch?t.useWorkerFetch:R===u.DOMCMapReaderFactory&&B===u.DOMStandardFontDataFactory&&L&&j&&(0,u.isValidFetchUrl)(L,document.baseURI)&&(0,u.isValidFetchUrl)(j,document.baseURI),ie=t.canvasFactory||new E({ownerDocument:X}),ae=t.filterFactory||new k({docId:l,ownerDocument:X});(0,o.setVerbosityLevel)(O);var oe={canvasFactory:ie,filterFactory:ae};if(!ne){oe.cMapReaderFactory=new R({baseUrl:L,isCompressed:G});oe.standardFontDataFactory=new B({baseUrl:j})}if(!T){var se={verbosity:O,port:p.GlobalWorkerOptions.workerPort};T=se.port?H.fromPort(se):new H(se);a._worker=T}var le={docId:l,apiVersion:"4.0.718",data:h,password:g,disableAutoFetch:J,rangeChunkSize:A,length:te,docBaseUrl:M,enableXfa:Y,evaluatorOptions:{maxImageSize:W,disableFontFace:q,ignoreErrors:N,isEvalSupported:V,isOffscreenCanvasSupported:z,canvasMaxAreaInBytes:U,fontExtraProperties:K,useSystemFonts:re,cMapUrl:ne?L:null,standardFontDataUrl:ne?j:null}},ue={ignoreErrors:N,isEvalSupported:V,disableFontFace:q,fontExtraProperties:K,enableXfa:Y,ownerDocument:X,disableAutoFetch:J,pdfBug:ee,styleElement:null};T.promise.then((function(){if(a.destroyed)throw new Error("Loading aborted");var t=_fetchDocument(T,le),r=new Promise((function(t){var r;if(P)r=new m.PDFDataTransportStream({length:te,initialData:P.initialData,progressiveDone:P.progressiveDone,contentDispositionFilename:P.contentDispositionFilename,disableRange:$,disableStream:Z},P);else if(!h){r=function createPDFNetworkStream(t){return o.isNodeJS?new w.PDFNodeStream(t):(0,u.isValidFetchUrl)(t.url)?new _.PDFFetchStream(t):new b.PDFNetworkStream(t)}({url:c,length:te,httpHeaders:d,withCredentials:y,rangeChunkSize:A,disableRange:$,disableStream:Z})}t(r)}));return Promise.all([t,r]).then((function(t){var r=_slicedToArray(t,2),i=r[0],o=r[1];if(a.destroyed)throw new Error("Loading aborted");var u=new v.MessageHandler(l,i,T.port),c=new Q(u,a,o,ue,oe);a._transport=c;u.send("showUnverifiedSignatures",window.ServiceWorkerOptions.showUnverifiedSignatures);u.send("Ready",null)}))})).catch(a._capability.reject);return a}function _fetchDocument(t,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee6(t,r){var i;return _regeneratorRuntime().wrap((function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:if(!t.destroyed){a.next=2;break}throw new Error("Worker was destroyed");case 2:a.next=4;return t.messageHandler.sendWithPromise("GetDocRequest",r,r.data?[r.data.buffer]:null);case 4:i=a.sent;if(!t.destroyed){a.next=7;break}throw new Error("Worker was destroyed");case 7:return a.abrupt("return",i);case 8:case"end":return a.stop()}}),_callee6)})))).apply(this,arguments)}function getUrlProp(t,r){if(t instanceof URL)return t.href;try{return r?new URL(t,window.location.origin+r).href:new URL(t,window.location).href}catch(r){if(o.isNodeJS&&"string"==typeof t)return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(t){if(o.isNodeJS&&"undefined"!=typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"==typeof t)return(0,o.stringToBytes)(t);if("object"===_typeof(t)&&!isNaN(null==t?void 0:t.length)||(0,o.isArrayBuffer)(t))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}var C=function(){function PDFDocumentLoadingTask(){var t,r;_classCallCheck(this,PDFDocumentLoadingTask);this._capability=new o.PromiseCapability;this._transport=null;this._worker=null;this.docId="d".concat((_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,T,(t=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,T),r=t++,t)),r));this.destroyed=!1;this.onPassword=null;this.onProgress=null}_createClass(PDFDocumentLoadingTask,[{key:"promise",get:function get(){return this._capability.promise}},{key:"destroy",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t,r,i;return _regeneratorRuntime().wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:this.destroyed=!0;a.prev=1;null!==(t=this._worker)&&void 0!==t&&t.port&&(this._worker._pendingDestroy=!0);a.next=5;return null===(r=this._transport)||void 0===r?void 0:r.destroy();case 5:a.next=11;break;case 7:a.prev=7;a.t0=a.catch(1);null!==(i=this._worker)&&void 0!==i&&i.port&&delete this._worker._pendingDestroy;throw a.t0;case 11:this._transport=null;if(this._worker){this._worker.destroy();this._worker=null}case 13:case"end":return a.stop()}}),_callee,this,[[1,7]])}))),function destroy(){return t.apply(this,arguments)})}]);var t;return PDFDocumentLoadingTask}(),T={writable:!0,value:0},I=function(){function PDFDataRangeTransport(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,PDFDataRangeTransport);this.length=t;this.initialData=r;this.progressiveDone=i;this.contentDispositionFilename=a;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._progressiveDoneListeners=[];this._readyCapability=new o.PromiseCapability}_createClass(PDFDataRangeTransport,[{key:"addRangeListener",value:function addRangeListener(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function addProgressListener(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function onDataRange(t,r){var i,a=_createForOfIteratorHelper(this._rangeListeners);try{for(a.s();!(i=a.n()).done;){(0,i.value)(t,r)}}catch(t){a.e(t)}finally{a.f()}}},{key:"onDataProgress",value:function onDataProgress(t,r){var i=this;this._readyCapability.promise.then((function(){var a,o=_createForOfIteratorHelper(i._progressListeners);try{for(o.s();!(a=o.n()).done;){(0,a.value)(t,r)}}catch(t){o.e(t)}finally{o.f()}}))}},{key:"onDataProgressiveRead",value:function onDataProgressiveRead(t){var r=this;this._readyCapability.promise.then((function(){var i,a=_createForOfIteratorHelper(r._progressiveReadListeners);try{for(a.s();!(i=a.n()).done;){(0,i.value)(t)}}catch(t){a.e(t)}finally{a.f()}}))}},{key:"onDataProgressiveDone",value:function onDataProgressiveDone(){var t=this;this._readyCapability.promise.then((function(){var r,i=_createForOfIteratorHelper(t._progressiveDoneListeners);try{for(i.s();!(r=i.n()).done;){(0,r.value)()}}catch(t){i.e(t)}finally{i.f()}}))}},{key:"transportReady",value:function transportReady(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function requestDataRange(t,r){(0,o.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function abort(){}}]);return PDFDataRangeTransport}(),O=function(){function PDFDocumentProxy(t,r){_classCallCheck(this,PDFDocumentProxy);this._pdfInfo=t;this._transport=r}_createClass(PDFDocumentProxy,[{key:"annotationStorage",get:function get(){return this._transport.annotationStorage}},{key:"filterFactory",get:function get(){return this._transport.filterFactory}},{key:"numPages",get:function get(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function get(){return this._pdfInfo.fingerprints}},{key:"isPureXfa",get:function get(){return(0,o.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}},{key:"allXfaHtml",get:function get(){return this._transport._htmlForXfa}},{key:"getPage",value:function getPage(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function getPageIndex(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function getDestinations(){return this._transport.getDestinations()}},{key:"getDestination",value:function getDestination(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function getPageLabels(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function getPageLayout(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function getPageMode(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function getViewerPreferences(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function getOpenAction(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function getAttachments(){return this._transport.getAttachments()}},{key:"getJSActions",value:function getJSActions(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function getOutline(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function getPermissions(){return this._transport.getPermissions()}},{key:"getMetadata",value:function getMetadata(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function getMarkInfo(){return this._transport.getMarkInfo()}},{key:"getData",value:function getData(){return this._transport.getData()}},{key:"saveDocument",value:function saveDocument(){return this._transport.saveDocument()}},{key:"getDownloadInfo",value:function getDownloadInfo(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function cleanup(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}},{key:"destroy",value:function destroy(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function get(){return this._transport.loadingParams}},{key:"loadingTask",get:function get(){return this._transport.loadingTask}},{key:"getFieldObjects",value:function getFieldObjects(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function hasJSActions(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}]);return PDFDocumentProxy}(),M=new WeakMap,L=new WeakMap,G=new WeakSet,R=new WeakSet,j=function(){function PDFPageProxy(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,PDFPageProxy);_classPrivateMethodInitSpec(this,R);_classPrivateMethodInitSpec(this,G);_classPrivateFieldInitSpec(this,M,{writable:!0,value:null});_classPrivateFieldInitSpec(this,L,{writable:!0,value:!1});this._pageIndex=t;this._pageInfo=r;this._transport=i;this._stats=a?new u.StatTimer:null;this._pdfBug=a;this.commonObjs=i.commonObjs;this.objs=new te;this._maybeCleanupAfterRender=!1;this._intentStates=new Map;this.destroyed=!1}_createClass(PDFPageProxy,[{key:"pageNumber",get:function get(){return this._pageIndex+1}},{key:"rotate",get:function get(){return this._pageInfo.rotate}},{key:"ref",get:function get(){return this._pageInfo.ref}},{key:"userUnit",get:function get(){return this._pageInfo.userUnit}},{key:"view",get:function get(){return this._pageInfo.view}},{key:"getViewport",value:function getViewport(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.scale,i=t.rotation,a=void 0===i?this.rotate:i,o=t.offsetX,l=void 0===o?0:o,c=t.offsetY,h=void 0===c?0:c,d=t.dontFlip,p=void 0!==d&&d;return new u.PageViewport({viewBox:this.view,scale:r,rotation:a,offsetX:l,offsetY:h,dontFlip:p})}},{key:"getAnnotations",value:function getAnnotations(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intent,r=void 0===t?"display":t,i=this._transport.getRenderingIntent(r);return this._transport.getAnnotations(this._pageIndex,i.renderingIntent)}},{key:"getJSActions",value:function getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}},{key:"filterFactory",get:function get(){return this._transport.filterFactory}},{key:"isPureXfa",get:function get(){return(0,o.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}},{key:"getXfa",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var t;return _regeneratorRuntime().wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null);case 1:case"end":return r.stop()}}),_callee2,this)}))),function getXfa(){return t.apply(this,arguments)})},{key:"render",value:function render(t){var r,i,a=this,l=t.canvasContext,u=t.viewport,c=t.intent,h=void 0===c?"display":c,d=t.annotationMode,p=void 0===d?o.AnnotationMode.ENABLE:d,v=t.transform,y=void 0===v?null:v,g=t.background,m=void 0===g?null:g,_=t.optionalContentConfigPromise,b=void 0===_?null:_,w=t.annotationCanvasMap,P=void 0===w?null:w,A=t.pageColors,S=void 0===A?null:A,E=t.printAnnotationStorage,x=void 0===E?null:E;null===(r=this._stats)||void 0===r||r.time("Overall");var k=this._transport.getRenderingIntent(h,p,x);_classPrivateFieldSet(this,L,!1);_classPrivateMethodGet(this,R,_abortDelayedCleanup2).call(this);b||(b=this._transport.getOptionalContentConfig());var D=this._intentStates.get(k.cacheKey);if(!D){D=Object.create(null);this._intentStates.set(k.cacheKey,D)}if(D.streamReaderCancelTimeout){clearTimeout(D.streamReaderCancelTimeout);D.streamReaderCancelTimeout=null}var C=!!(k.renderingIntent&o.RenderingIntentFlag.PRINT);if(!D.displayReadyCapability){var T;D.displayReadyCapability=new o.PromiseCapability;D.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null};null===(T=this._stats)||void 0===T||T.time("Page Request");this._pumpOperatorList(k)}var I=function complete(t){var r,i;D.renderTasks.delete(O);(a._maybeCleanupAfterRender||C)&&_classPrivateFieldSet(a,L,!0);_classPrivateMethodGet(a,G,_tryCleanup2).call(a,!C);if(t){O.capability.reject(t);a._abortOperatorList({intentState:D,reason:t instanceof Error?t:new Error(t)})}else O.capability.resolve();null===(r=a._stats)||void 0===r||r.timeEnd("Rendering");null===(i=a._stats)||void 0===i||i.timeEnd("Overall")},O=new ie({callback:I,params:{canvasContext:l,viewport:u,transform:y,background:m},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:P,operatorList:D.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:S});((i=D).renderTasks||(i.renderTasks=new Set)).add(O);var M=O.task;Promise.all([D.displayReadyCapability.promise,b]).then((function(t){var r,i=_slicedToArray(t,2),o=i[0],l=i[1];if(a.destroyed)I();else{null===(r=a._stats)||void 0===r||r.time("Rendering");O.initializeGraphics({transparency:o,optionalContentConfig:l});O.operatorListChanged()}})).catch(I);return M}},{key:"getOperatorList",value:function getOperatorList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.intent,i=void 0===r?"display":r,a=t.annotationMode,l=void 0===a?o.AnnotationMode.ENABLE:a,u=t.printAnnotationStorage,c=void 0===u?null:u;var h,d=this._transport.getRenderingIntent(i,l,c,!0),p=this._intentStates.get(d.cacheKey);if(!p){p=Object.create(null);this._intentStates.set(d.cacheKey,p)}if(!p.opListReadCapability){var v,y;(h=Object.create(null)).operatorListChanged=function operatorListChanged(){if(p.operatorList.lastChunk){p.opListReadCapability.resolve(p.operatorList);p.renderTasks.delete(h)}};p.opListReadCapability=new o.PromiseCapability;((v=p).renderTasks||(v.renderTasks=new Set)).add(h);p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null};null===(y=this._stats)||void 0===y||y.time("Page Request");this._pumpOperatorList(d)}return p.opListReadCapability.promise}},{key:"streamTextContent",value:function streamTextContent(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.includeMarkedContent,i=void 0!==r&&r,a=t.disableNormalization,o=void 0!==a&&a;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===i,disableNormalization:!0===o},{highWaterMark:100,size:function size(t){return t.items.length}})}},{key:"getTextContent",value:function getTextContent(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((function(t){return P.XfaText.textContent(t)}));var r=this.streamTextContent(t);return new Promise((function(t,i){var a=r.getReader(),o={items:[],styles:Object.create(null)};!function pump(){a.read().then((function(r){var i,a=r.value;if(r.done)t(o);else{Object.assign(o.styles,a.styles);(i=o.items).push.apply(i,_arrayWithoutHoles(l=a.items)||_iterableToArray(l)||_unsupportedIterableToArray(l)||_nonIterableSpread());var l;pump()}}),i)}()}))}},{key:"getStructTree",value:function getStructTree(){return this._transport.getStructTree(this._pageIndex)}},{key:"_destroy",value:function _destroy(){this.destroyed=!0;var t,r=[],i=_createForOfIteratorHelper(this._intentStates.values());try{for(i.s();!(t=i.n()).done;){var a=t.value;this._abortOperatorList({intentState:a,reason:new Error("Page was destroyed."),force:!0});if(!a.opListReadCapability){var o,l=_createForOfIteratorHelper(a.renderTasks);try{for(l.s();!(o=l.n()).done;){var u=o.value;r.push(u.completed);u.cancel()}}catch(t){l.e(t)}finally{l.f()}}}}catch(t){i.e(t)}finally{i.f()}this.objs.clear();_classPrivateFieldSet(this,L,!1);_classPrivateMethodGet(this,R,_abortDelayedCleanup2).call(this);return Promise.all(r)}},{key:"cleanup",value:function cleanup(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classPrivateFieldSet(this,L,!0);var r=_classPrivateMethodGet(this,G,_tryCleanup2).call(this,!1);t&&r&&this._stats&&(this._stats=new u.StatTimer);return r}},{key:"_startRenderPage",value:function _startRenderPage(t,r){var i,a,o=this._intentStates.get(r);if(o){null===(i=this._stats)||void 0===i||i.timeEnd("Page Request");null===(a=o.displayReadyCapability)||void 0===a||a.resolve(t)}}},{key:"_renderPageChunk",value:function _renderPageChunk(t,r){for(var i=0,a=t.length;i<a;i++){r.operatorList.fnArray.push(t.fnArray[i]);r.operatorList.argsArray.push(t.argsArray[i])}r.operatorList.lastChunk=t.lastChunk;r.operatorList.separateAnnots=t.separateAnnots;var o,l=_createForOfIteratorHelper(r.renderTasks);try{for(l.s();!(o=l.n()).done;){o.value.operatorListChanged()}}catch(t){l.e(t)}finally{l.f()}t.lastChunk&&_classPrivateMethodGet(this,G,_tryCleanup2).call(this,!0)}},{key:"_pumpOperatorList",value:function _pumpOperatorList(t){var r=this,i=t.renderingIntent,a=t.cacheKey,o=t.annotationStorageSerializable,l=o.map,u=o.transfer,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:i,cacheKey:a,annotationStorage:l},u).getReader(),h=this._intentStates.get(a);h.streamReader=c;!function pump(){c.read().then((function(t){var i=t.value;if(t.done)h.streamReader=null;else if(!r._transport.destroyed){r._renderPageChunk(i,h);pump()}}),(function(t){h.streamReader=null;if(!r._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;var i,a=_createForOfIteratorHelper(h.renderTasks);try{for(a.s();!(i=a.n()).done;){i.value.operatorListChanged()}}catch(t){a.e(t)}finally{a.f()}_classPrivateMethodGet(r,G,_tryCleanup2).call(r,!0)}if(h.displayReadyCapability)h.displayReadyCapability.reject(t);else{if(!h.opListReadCapability)throw t;h.opListReadCapability.reject(t)}}}))}()}},{key:"_abortOperatorList",value:function _abortOperatorList(t){var r=this,i=t.intentState,a=t.reason,l=t.force,c=void 0!==l&&l;if(i.streamReader){if(i.streamReaderCancelTimeout){clearTimeout(i.streamReaderCancelTimeout);i.streamReaderCancelTimeout=null}if(!c){if(i.renderTasks.size>0)return;if(a instanceof u.RenderingCancelledException){var h=100;a.extraDelay>0&&a.extraDelay<1e3&&(h+=a.extraDelay);i.streamReaderCancelTimeout=setTimeout((function(){i.streamReaderCancelTimeout=null;r._abortOperatorList({intentState:i,reason:a,force:!0})}),h);return}}i.streamReader.cancel(new o.AbortException(a.message)).catch((function(){}));i.streamReader=null;if(!this._transport.destroyed){var d,p=_createForOfIteratorHelper(this._intentStates);try{for(p.s();!(d=p.n()).done;){var v=_slicedToArray(d.value,2),y=v[0];if(v[1]===i){this._intentStates.delete(y);break}}}catch(t){p.e(t)}finally{p.f()}this.cleanup()}}}},{key:"stats",get:function get(){return this._stats}}]);var t;return PDFPageProxy}();function _tryCleanup2(){var t=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classPrivateMethodGet(this,R,_abortDelayedCleanup2).call(this);if(!_classPrivateFieldGet(this,L)||this.destroyed)return!1;if(r){_classPrivateFieldSet(this,M,setTimeout((function(){_classPrivateFieldSet(t,M,null);_classPrivateMethodGet(t,G,_tryCleanup2).call(t,!1)}),5e3));return!1}var i,a=_createForOfIteratorHelper(this._intentStates.values());try{for(a.s();!(i=a.n()).done;){var o=i.value,l=o.renderTasks,u=o.operatorList;if(l.size>0||!u.lastChunk)return!1}}catch(t){a.e(t)}finally{a.f()}this._intentStates.clear();this.objs.clear();_classPrivateFieldSet(this,L,!1);return!0}function _abortDelayedCleanup2(){if(_classPrivateFieldGet(this,M)){clearTimeout(_classPrivateFieldGet(this,M));_classPrivateFieldSet(this,M,null)}}var B=new WeakMap,N=new WeakMap,W=function(){function LoopbackPort(){_classCallCheck(this,LoopbackPort);_classPrivateFieldInitSpec(this,B,{writable:!0,value:new Set});_classPrivateFieldInitSpec(this,N,{writable:!0,value:Promise.resolve()})}_createClass(LoopbackPort,[{key:"postMessage",value:function postMessage(t,r){var i=this,a={data:structuredClone(t,r?{transfer:r}:null)};_classPrivateFieldGet(this,N).then((function(){var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(i,B));try{for(r.s();!(t=r.n()).done;){t.value.call(i,a)}}catch(t){r.e(t)}finally{r.f()}}))}},{key:"addEventListener",value:function addEventListener(t,r){_classPrivateFieldGet(this,B).add(r)}},{key:"removeEventListener",value:function removeEventListener(t,r){_classPrivateFieldGet(this,B).delete(r)}},{key:"terminate",value:function terminate(){_classPrivateFieldGet(this,B).clear()}}]);return LoopbackPort}(),V={isWorkerDisabled:!1,fakeWorkerId:0};if(o.isNodeJS){V.isWorkerDisabled=!0;p.GlobalWorkerOptions.workerSrc||(p.GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")}V.isSameOrigin=function(t,r){var i;try{if(!(i=new URL(t)).origin||"null"===i.origin)return!1}catch(t){return!1}var a=new URL(r,i);return i.origin===a.origin};V.createCDNWrapper=function(t){var r='await import("'.concat(t,'");');return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))};var z=new WeakSet,H=function(){function PDFWorker(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.name,i=void 0===r?null:r,a=t.port,l=void 0===a?null:a,u=t.verbosity,c=void 0===u?(0,o.getVerbosityLevel)():u;_classCallCheck(this,PDFWorker);_classPrivateMethodInitSpec(this,z);this.name=i;this.destroyed=!1;this.verbosity=c;this._readyCapability=new o.PromiseCapability;this._port=null;this._webWorker=null;this._messageHandler=null;if(l){var h;if(null!==(h=_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,q))&&void 0!==h&&h.has(l))throw new Error("Cannot use more than one PDFWorker per port.");(_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,q)||_classStaticPrivateFieldSpecSet(PDFWorker,PDFWorker,q,new WeakMap)).set(l,this);this._initializeFromPort(l)}else this._initialize()}_createClass(PDFWorker,[{key:"promise",get:function get(){return this._readyCapability.promise}},{key:"port",get:function get(){return this._port}},{key:"messageHandler",get:function get(){return this._messageHandler}},{key:"_initializeFromPort",value:function _initializeFromPort(t){this._port=t;this._messageHandler=new v.MessageHandler("main","worker",t);this._messageHandler.on("ready",(function(){}));this._readyCapability.resolve();this._messageHandler.send("configure",{verbosity:this.verbosity})}},{key:"_initialize",value:function _initialize(){var t=this;if(!V.isWorkerDisabled&&!_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,U)){var r=PDFWorker.workerSrc;try{V.isSameOrigin(window.location.href,r)||(r=V.createCDNWrapper(new URL(r,window.location).href));var i=new Worker(_classPrivateMethodGet(this,z,_generateTrustedURL2).call(this,r),{type:"module"}),a=new v.MessageHandler("main","worker",i),l=function terminateEarly(){i.removeEventListener("error",u);a.destroy();i.terminate();t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},u=function onWorkerError(){t._webWorker||l()};i.addEventListener("error",u);a.on("test",(function(r){i.removeEventListener("error",u);if(t.destroyed)l();else if(r){t._messageHandler=a;t._port=i;t._webWorker=i;t._readyCapability.resolve();a.send("configure",{verbosity:t.verbosity})}else{t._setupFakeWorker();a.destroy();i.terminate()}}));a.on("ready",(function(r){i.removeEventListener("error",u);if(t.destroyed)l();else try{c()}catch(r){t._setupFakeWorker()}}));var c=function sendTest(){var t=new Uint8Array;a.send("test",t,[t.buffer])};c();return}catch(t){(0,o.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function _setupFakeWorker(){var t=this;if(!V.isWorkerDisabled){(0,o.warn)("Setting up fake worker.");V.isWorkerDisabled=!0}PDFWorker._setupFakeWorkerGlobal.then((function(r){if(t.destroyed)t._readyCapability.reject(new Error("Worker was destroyed"));else{var i=new W;t._port=i;var a="fake".concat(V.fakeWorkerId++),o=new v.MessageHandler(a+"_worker",a,i);r.setup(o,i);var l=new v.MessageHandler(a,a+"_worker",i);t._messageHandler=l;t._readyCapability.resolve();l.send("configure",{verbosity:t.verbosity})}})).catch((function(r){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(r.message,'".')))}))}},{key:"destroy",value:function destroy(){var t;this.destroyed=!0;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}null===(t=_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,q))||void 0===t||t.delete(this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}}],[{key:"fromPort",value:function fromPort(t){var r;if(null==t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");var i=null===(r=_classStaticPrivateFieldSpecGet(this,PDFWorker,q))||void 0===r?void 0:r.get(t.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new PDFWorker(t)}},{key:"workerSrc",get:function get(){if(p.GlobalWorkerOptions.workerSrc)return"Function"===p.GlobalWorkerOptions.workerSrc.constructor.name?p.GlobalWorkerOptions.workerSrc():p.GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_setupFakeWorkerGlobal",get:function get(){var t=this,r=function(){var r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var r;return _regeneratorRuntime().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(!_classStaticPrivateFieldSpecGet(t,PDFWorker,U)){i.next=2;break}return i.abrupt("return",_classStaticPrivateFieldSpecGet(t,PDFWorker,U));case 2:i.next=4;return import(t.workerSrc);case 4:r=i.sent;return i.abrupt("return",r.WorkerMessageHandler);case 6:case"end":return i.stop()}}),_callee3)})));return function loader(){return r.apply(this,arguments)}}();return(0,o.shadow)(this,"_setupFakeWorkerGlobal",r())}}]);return PDFWorker}();function _generateTrustedURL2(t){if(window.trustedTypes){return window.trustedTypes.createPolicy("foo",{createScriptURL:function createScriptURL(t){return t}}).createScriptURL(t)}return t}function _get_mainThreadWorkerMessageHandler(){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(t){return null}}var U={get:_get_mainThreadWorkerMessageHandler,set:void 0},q={writable:!0,value:void 0},K=new WeakMap,Y=new WeakMap,X=new WeakMap,$=new WeakMap,Z=new WeakSet,Q=function(){function WorkerTransport(t,r,i,a,l){_classCallCheck(this,WorkerTransport);_classPrivateMethodInitSpec(this,Z);_classPrivateFieldInitSpec(this,K,{writable:!0,value:new Map});_classPrivateFieldInitSpec(this,Y,{writable:!0,value:new Map});_classPrivateFieldInitSpec(this,X,{writable:!0,value:new Map});_classPrivateFieldInitSpec(this,$,{writable:!0,value:null});this.messageHandler=t;this.loadingTask=r;this.commonObjs=new te;this.fontLoader=new c.FontLoader({ownerDocument:a.ownerDocument,styleElement:a.styleElement});this._params=a;this.canvasFactory=l.canvasFactory;this.filterFactory=l.filterFactory;this.cMapReaderFactory=l.cMapReaderFactory;this.standardFontDataFactory=l.standardFontDataFactory;this.destroyed=!1;this.destroyCapability=null;this._networkStream=i;this._fullReader=null;this._lastProgress=null;this.downloadInfoCapability=new o.PromiseCapability;this.setupMessageHandler()}_createClass(WorkerTransport,[{key:"annotationStorage",get:function get(){return(0,o.shadow)(this,"annotationStorage",new l.AnnotationStorage)}},{key:"getRenderingIntent",value:function getRenderingIntent(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.AnnotationMode.ENABLE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=o.RenderingIntentFlag.DISPLAY,c=l.SerializableEmpty;switch(t){case"any":u=o.RenderingIntentFlag.ANY;break;case"display":break;case"print":u=o.RenderingIntentFlag.PRINT;break;default:(0,o.warn)("getRenderingIntent - invalid intent: ".concat(t))}switch(r){case o.AnnotationMode.DISABLE:u+=o.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case o.AnnotationMode.ENABLE:break;case o.AnnotationMode.ENABLE_FORMS:u+=o.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case o.AnnotationMode.ENABLE_STORAGE:c=((u+=o.RenderingIntentFlag.ANNOTATIONS_STORAGE)&o.RenderingIntentFlag.PRINT&&i instanceof l.PrintAnnotationStorage?i:this.annotationStorage).serializable;break;default:(0,o.warn)("getRenderingIntent - invalid annotationMode: ".concat(r))}a&&(u+=o.RenderingIntentFlag.OPLIST);return{renderingIntent:u,cacheKey:"".concat(u,"_").concat(c.hash),annotationStorageSerializable:c}}},{key:"destroy",value:function destroy(){var t,r=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0;this.destroyCapability=new o.PromiseCapability;null===(t=_classPrivateFieldGet(this,$))||void 0===t||t.reject(new Error("Worker was destroyed during onPassword callback"));var i,a=[],l=_createForOfIteratorHelper(_classPrivateFieldGet(this,Y).values());try{for(l.s();!(i=l.n()).done;){var u=i.value;a.push(u._destroy())}}catch(t){l.e(t)}finally{l.f()}_classPrivateFieldGet(this,Y).clear();_classPrivateFieldGet(this,X).clear();this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var c=this.messageHandler.sendWithPromise("Terminate",null);a.push(c);Promise.all(a).then((function(){var t;r.commonObjs.clear();r.fontLoader.clear();_classPrivateFieldGet(r,K).clear();r.filterFactory.destroy();null===(t=r._networkStream)||void 0===t||t.cancelAllRequests(new o.AbortException("Worker was terminated."));if(r.messageHandler){r.messageHandler.destroy();r.messageHandler=null}r.destroyCapability.resolve()}),this.destroyCapability.reject);return this.destroyCapability.promise}},{key:"setupMessageHandler",value:function setupMessageHandler(){var t=this,r=this.messageHandler,i=this.loadingTask;r.on("GetReader",(function(r,i){(0,o.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available.");t._fullReader=t._networkStream.getFullReader();t._fullReader.onProgress=function(r){t._lastProgress={loaded:r.loaded,total:r.total}};i.onPull=function(){t._fullReader.read().then((function(t){var r=t.value;if(t.done)i.close();else{(0,o.assert)(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer.");i.enqueue(new Uint8Array(r),1,[r])}})).catch((function(t){i.error(t)}))};i.onCancel=function(r){t._fullReader.cancel(r);i.ready.catch((function(r){if(!t.destroyed)throw r}))}}));r.on("ReaderHeadersReady",(function(r){var a=new o.PromiseCapability,l=t._fullReader;l.headersReady.then((function(){if(!l.isStreamingSupported||!l.isRangeSupported){if(t._lastProgress){var r;null===(r=i.onProgress)||void 0===r||r.call(i,t._lastProgress)}l.onProgress=function(t){var r;null===(r=i.onProgress)||void 0===r||r.call(i,{loaded:t.loaded,total:t.total})}}a.resolve({isStreamingSupported:l.isStreamingSupported,isRangeSupported:l.isRangeSupported,contentLength:l.contentLength})}),a.reject);return a.promise}));r.on("GetRangeReader",(function(r,i){(0,o.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var a=t._networkStream.getRangeReader(r.begin,r.end);if(a){i.onPull=function(){a.read().then((function(t){var r=t.value;if(t.done)i.close();else{(0,o.assert)(r instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer.");i.enqueue(new Uint8Array(r),1,[r])}})).catch((function(t){i.error(t)}))};i.onCancel=function(r){a.cancel(r);i.ready.catch((function(r){if(!t.destroyed)throw r}))}}else i.close()}));r.on("GetDoc",(function(r){var a=r.pdfInfo;t._numPages=a.numPages;t._htmlForXfa=a.htmlForXfa;delete a.htmlForXfa;i._capability.resolve(new O(a,t))}));r.on("DocException",(function(t){var r;switch(t.name){case"PasswordException":r=new o.PasswordException(t.message,t.code);break;case"InvalidPDFException":r=new o.InvalidPDFException(t.message);break;case"MissingPDFException":r=new o.MissingPDFException(t.message);break;case"UnexpectedResponseException":r=new o.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":r=new o.UnknownErrorException(t.message,t.details);break;default:(0,o.unreachable)("DocException - expected a valid Error.")}i._capability.reject(r)}));r.on("PasswordRequest",(function(r){_classPrivateFieldSet(t,$,new o.PromiseCapability);if(i.onPassword){try{i.onPassword((function updatePassword(r){r instanceof Error?_classPrivateFieldGet(t,$).reject(r):_classPrivateFieldGet(t,$).resolve({password:r})}),r.code)}catch(r){_classPrivateFieldGet(t,$).reject(r)}}else _classPrivateFieldGet(t,$).reject(new o.PasswordException(r.message,r.code));return _classPrivateFieldGet(t,$).promise}));r.on("DataLoaded",(function(r){var a;null===(a=i.onProgress)||void 0===a||a.call(i,{loaded:r.length,total:r.length});t.downloadInfoCapability.resolve(r)}));r.on("StartRenderPage",(function(r){if(!t.destroyed){_classPrivateFieldGet(t,Y).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}}));r.on("commonobj",(function(i){var a,l=_slicedToArray(i,3),u=l[0],h=l[1],d=l[2];if(!t.destroyed&&!t.commonObjs.has(u))switch(h){case"Font":var p=t._params;if("error"in d){var v=d.error;(0,o.warn)("Error during font loading: ".concat(v));t.commonObjs.resolve(u,v);break}var y=p.pdfBug&&null!==(a=globalThis.FontInspector)&&void 0!==a&&a.enabled?function(t,r){return globalThis.FontInspector.fontAdded(t,r)}:null,g=new c.FontFaceObject(d,{isEvalSupported:p.isEvalSupported,disableFontFace:p.disableFontFace,ignoreErrors:p.ignoreErrors,inspectFont:y});t.fontLoader.bind(g).catch((function(t){return r.sendWithPromise("FontFallback",{id:u})})).finally((function(){!p.fontExtraProperties&&g.data&&(g.data=null);t.commonObjs.resolve(u,g)}));break;case"FontPath":case"Image":case"Pattern":t.commonObjs.resolve(u,d);break;default:throw new Error("Got unknown common object type ".concat(h))}}));r.on("obj",(function(r){var i=_slicedToArray(r,4),a=i[0],l=i[1],u=i[2],c=i[3];if(!t.destroyed){var h=_classPrivateFieldGet(t,Y).get(l);if(!h.objs.has(a))if(0!==h._intentStates.size)switch(u){case"Image":h.objs.resolve(a,c);if(c){var d;if(c.bitmap){d=c.width*c.height*4}else{var p;d=(null===(p=c.data)||void 0===p?void 0:p.length)||0}d>o.MAX_IMAGE_SIZE_TO_CACHE&&(h._maybeCleanupAfterRender=!0)}break;case"Pattern":h.objs.resolve(a,c);break;default:throw new Error("Got unknown object type ".concat(u))}else{var v;null==c||null===(v=c.bitmap)||void 0===v||v.close()}}}));r.on("DocProgress",(function(r){var a;t.destroyed||null===(a=i.onProgress)||void 0===a||a.call(i,{loaded:r.loaded,total:r.total})}));r.on("FetchBuiltInCMap",(function(r){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.cMapReaderFactory?t.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}));r.on("FetchStandardFontData",(function(r){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.standardFontDataFactory?t.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))}))}},{key:"getData",value:function getData(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"saveDocument",value:function saveDocument(){var t,r,i=this;this.annotationStorage.size<=0&&(0,o.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");var a=this.annotationStorage.serializable,l=a.map,u=a.transfer;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:l,filename:null!==(t=null===(r=this._fullReader)||void 0===r?void 0:r.filename)&&void 0!==t?t:null},u).finally((function(){i.annotationStorage.resetModified()}))}},{key:"getPage",value:function getPage(t){var r=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));var i=t-1,a=_classPrivateFieldGet(this,X).get(i);if(a)return a;var o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then((function(t){if(r.destroyed)throw new Error("Transport destroyed");var a=new j(i,t,r,r._params.pdfBug);_classPrivateFieldGet(r,Y).set(i,a);return a}));_classPrivateFieldGet(this,X).set(i,o);return o}},{key:"getPageIndex",value:function getPageIndex(t){return"object"!==_typeof(t)||null===t||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}},{key:"getAnnotations",value:function getAnnotations(t,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:r})}},{key:"getFieldObjects",value:function getFieldObjects(){return _classPrivateMethodGet(this,Z,_cacheSimpleMethod2).call(this,"GetFieldObjects")}},{key:"hasJSActions",value:function hasJSActions(){return _classPrivateMethodGet(this,Z,_cacheSimpleMethod2).call(this,"HasJSActions")}},{key:"getCalculationOrderIds",value:function getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function getDestination(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getDocJSActions",value:function getDocJSActions(){return _classPrivateMethodGet(this,Z,_cacheSimpleMethod2).call(this,"GetDocJSActions")}},{key:"getPageJSActions",value:function getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((function(t){return new g.OptionalContentConfig(t)}))}},{key:"getPermissions",value:function getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function getMetadata(){var t=this,r="GetMetadata",i=_classPrivateFieldGet(this,K).get(r);if(i)return i;var a=this.messageHandler.sendWithPromise(r,null).then((function(r){var i,a,o,l;return{info:r[0],metadata:r[1]?new y.Metadata(r[1]):null,contentDispositionFilename:null!==(i=null===(a=t._fullReader)||void 0===a?void 0:a.filename)&&void 0!==i?i:null,contentLength:null!==(o=null===(l=t._fullReader)||void 0===l?void 0:l.contentLength)&&void 0!==o?o:null}}));_classPrivateFieldGet(this,K).set(r,a);return a}},{key:"getMarkInfo",value:function getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){var t,r,i,a,o=arguments;return _regeneratorRuntime().wrap((function _callee4$(l){for(;;)switch(l.prev=l.next){case 0:t=o.length>0&&void 0!==o[0]&&o[0];if(!this.destroyed){l.next=3;break}return l.abrupt("return");case 3:l.next=5;return this.messageHandler.sendWithPromise("Cleanup",null);case 5:r=_createForOfIteratorHelper(_classPrivateFieldGet(this,Y).values());l.prev=6;r.s();case 8:if((i=r.n()).done){l.next=15;break}if((a=i.value).cleanup()){l.next=13;break}throw new Error("startCleanup: Page ".concat(a.pageNumber," is currently rendering."));case 13:l.next=8;break;case 15:l.next=20;break;case 17:l.prev=17;l.t0=l.catch(6);r.e(l.t0);case 20:l.prev=20;r.f();return l.finish(20);case 23:this.commonObjs.clear();t||this.fontLoader.clear();_classPrivateFieldGet(this,K).clear();this.filterFactory.destroy(!0);case 27:case"end":return l.stop()}}),_callee4,this,[[6,17,20,23]])}))),function startCleanup(){return t.apply(this,arguments)})},{key:"loadingParams",get:function get(){var t=this._params,r=t.disableAutoFetch,i=t.enableXfa;return(0,o.shadow)(this,"loadingParams",{disableAutoFetch:r,enableXfa:i})}}]);var t;return WorkerTransport}();function _cacheSimpleMethod2(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=_classPrivateFieldGet(this,K).get(t);if(i)return i;var a=this.messageHandler.sendWithPromise(t,r);_classPrivateFieldGet(this,K).set(t,a);return a}var J=new WeakMap,ee=new WeakSet,te=function(){function PDFObjects(){_classCallCheck(this,PDFObjects);_classPrivateMethodInitSpec(this,ee);_classPrivateFieldInitSpec(this,J,{writable:!0,value:Object.create(null)})}_createClass(PDFObjects,[{key:"get",value:function get(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r){var i=_classPrivateMethodGet(this,ee,_ensureObj2).call(this,t);i.capability.promise.then((function(){return r(i.data)}));return null}var a=_classPrivateFieldGet(this,J)[t];if(null==a||!a.capability.settled)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return a.data}},{key:"has",value:function has(t){var r=_classPrivateFieldGet(this,J)[t];return(null==r?void 0:r.capability.settled)||!1}},{key:"resolve",value:function resolve(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=_classPrivateMethodGet(this,ee,_ensureObj2).call(this,t);i.data=r;i.capability.resolve()}},{key:"clear",value:function clear(){for(var t in _classPrivateFieldGet(this,J)){var r,i=_classPrivateFieldGet(this,J)[t].data;null==i||null===(r=i.bitmap)||void 0===r||r.close()}_classPrivateFieldSet(this,J,Object.create(null))}}]);return PDFObjects}();function _ensureObj2(t){var r;return(r=_classPrivateFieldGet(this,J))[t]||(r[t]={capability:new o.PromiseCapability,data:null})}var re=new WeakMap,ne=function(){function RenderTask(t){_classCallCheck(this,RenderTask);_classPrivateFieldInitSpec(this,re,{writable:!0,value:null});_classPrivateFieldSet(this,re,t);this.onContinue=null}_createClass(RenderTask,[{key:"promise",get:function get(){return _classPrivateFieldGet(this,re).capability.promise}},{key:"cancel",value:function cancel(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_classPrivateFieldGet(this,re).cancel(null,t)}},{key:"separateAnnots",get:function get(){var t=_classPrivateFieldGet(this,re).operatorList.separateAnnots;if(!t)return!1;var r=_classPrivateFieldGet(this,re).annotationCanvasMap;return t.form||t.canvas&&(null==r?void 0:r.size)>0}}]);return RenderTask}(),ie=function(){function InternalRenderTask(t){var r=t.callback,i=t.params,a=t.objs,l=t.commonObjs,u=t.annotationCanvasMap,c=t.operatorList,h=t.pageIndex,d=t.canvasFactory,p=t.filterFactory,v=t.useRequestAnimationFrame,y=void 0!==v&&v,g=t.pdfBug,m=void 0!==g&&g,_=t.pageColors,b=void 0===_?null:_;_classCallCheck(this,InternalRenderTask);this.callback=r;this.params=i;this.objs=a;this.commonObjs=l;this.annotationCanvasMap=u;this.operatorListIdx=null;this.operatorList=c;this._pageIndex=h;this.canvasFactory=d;this.filterFactory=p;this._pdfBug=m;this.pageColors=b;this.running=!1;this.graphicsReadyCallback=null;this.graphicsReady=!1;this._useRequestAnimationFrame=!0===y&&"undefined"!=typeof window;this.cancelled=!1;this.capability=new o.PromiseCapability;this.task=new ne(this);this._cancelBound=this.cancel.bind(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=i.canvasContext.canvas}_createClass(InternalRenderTask,[{key:"completed",get:function get(){return this.capability.promise.catch((function(){}))}},{key:"initializeGraphics",value:function initializeGraphics(t){var r,i,a=t.transparency,o=void 0!==a&&a,l=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,ae).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,ae).add(this._canvas)}if(this._pdfBug&&null!==(r=globalThis.StepperManager)&&void 0!==r&&r.enabled){this.stepper=globalThis.StepperManager.create(this._pageIndex);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var u=this.params,c=u.canvasContext,h=u.viewport,p=u.transform,v=u.background;this.gfx=new d.CanvasGraphics(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:l},this.annotationCanvasMap,this.pageColors);this.gfx.beginDrawing({transform:p,viewport:h,transparency:o,background:v});this.operatorListIdx=0;this.graphicsReady=!0;null===(i=this.graphicsReadyCallback)||void 0===i||i.call(this)}}},{key:"cancel",value:function cancel(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1;this.cancelled=!0;null===(t=this.gfx)||void 0===t||t.endDrawing();_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,ae).delete(this._canvas);this.callback(r||new u.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),i))}},{key:"operatorListChanged",value:function operatorListChanged(){var t;if(this.graphicsReady){null===(t=this.stepper)||void 0===t||t.updateOperatorList(this.operatorList);this.running||this._continue()}else this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function _continue(){this.running=!0;this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function _scheduleNext(){var t=this;window.ngxZone.runOutsideAngular((function(){t._useRequestAnimationFrame?window.requestAnimationFrame((function(){t._nextBound().catch(t._cancelBound)})):Promise.resolve().then(t._nextBound).catch(t._cancelBound)}))}},{key:"_next",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(){return _regeneratorRuntime().wrap((function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=!1;if(this.operatorList.lastChunk){this.gfx.endDrawing();_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,ae).delete(this._canvas);this.callback()}}case 4:case"end":return t.stop()}}),_callee5,this)}))),function _next(){return t.apply(this,arguments)})}]);var t;return InternalRenderTask}(),ae={writable:!0,value:new WeakSet},oe="4.0.718",se="698acb08e";a()}catch(le){a(le)}}))},6822:(t,r,i)=>{i.d(r,{BaseCMapReaderFactory:()=>u,BaseCanvasFactory:()=>l,BaseFilterFactory:()=>o,BaseSVGFactory:()=>h,BaseStandardFontDataFactory:()=>c});i(5598),i(8806),i(9366),i(6678),i(895),i(3352),i(5897),i(7874),i(2926),i(6180),i(1747),i(2374),i(5666),i(1133),i(2173),i(2630),i(1024),i(13),i(4226),i(7121),i(6770),i(1378),i(171);var a=i(3266);function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}var o=function(){function BaseFilterFactory(){_classCallCheck(this,BaseFilterFactory);this.constructor===BaseFilterFactory&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}_createClass(BaseFilterFactory,[{key:"addFilter",value:function addFilter(t){return"none"}},{key:"addHCMFilter",value:function addHCMFilter(t,r){return"none"}},{key:"addHighlightHCMFilter",value:function addHighlightHCMFilter(t,r,i,a){return"none"}},{key:"destroy",value:function destroy(){}}]);return BaseFilterFactory}(),l=function(){function BaseCanvasFactory(){_classCallCheck(this,BaseCanvasFactory);this.constructor===BaseCanvasFactory&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}_createClass(BaseCanvasFactory,[{key:"create",value:function create(t,r){if(t<=0||r<=0)throw new Error("Invalid canvas size");var i=this._createCanvas(t,r),a=window.pdfDefaultOptions.activateWillReadFrequentlyFlag?{willReadFrequently:!0}:void 0,o=i.getContext("2d",a);return{canvas:i,context:o}}},{key:"reset",value:function reset(t,r,i){if(!t.canvas)throw new Error("Canvas is not specified");if(r<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=r;t.canvas.height=i}},{key:"destroy",value:function destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0;t.canvas.height=0;t.canvas=null;t.context=null}},{key:"_createCanvas",value:function _createCanvas(t,r){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}]);return BaseCanvasFactory}(),u=function(){function BaseCMapReaderFactory(t){var r=t.baseUrl,i=void 0===r?null:r,o=t.isCompressed,l=void 0===o||o;_classCallCheck(this,BaseCMapReaderFactory);this.constructor===BaseCMapReaderFactory&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory.");this.baseUrl=i;this.isCompressed=l}_createClass(BaseCMapReaderFactory,[{key:"fetch",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(t){var r,i,o,l=this;return _regeneratorRuntime().wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:r=t.name;if(this.baseUrl){u.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(r){u.next=5;break}throw new Error("CMap name must be specified.");case 5:i=this.baseUrl+r+(this.isCompressed?".bcmap":"");o=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return u.abrupt("return",this._fetchData(i,o).catch((function(t){throw new Error("Unable to load ".concat(l.isCompressed?"binary ":"","CMap at: ").concat(i))})));case 8:case"end":return u.stop()}}),_callee,this)}))),function fetch(r){return t.apply(this,arguments)})},{key:"_fetchData",value:function _fetchData(t,r){(0,a.unreachable)("Abstract method `_fetchData` called.")}}]);var t;return BaseCMapReaderFactory}(),c=function(){function BaseStandardFontDataFactory(t){var r=t.baseUrl,i=void 0===r?null:r;_classCallCheck(this,BaseStandardFontDataFactory);this.constructor===BaseStandardFontDataFactory&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory.");this.baseUrl=i}_createClass(BaseStandardFontDataFactory,[{key:"fetch",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t){var r,i;return _regeneratorRuntime().wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:r=t.filename;if(this.baseUrl){a.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(r){a.next=5;break}throw new Error("Font filename must be specified.");case 5:i="".concat(this.baseUrl).concat(r);return a.abrupt("return",this._fetchData(i).catch((function(t){throw new Error("Unable to load font data at: ".concat(i))})));case 7:case"end":return a.stop()}}),_callee2,this)}))),function fetch(r){return t.apply(this,arguments)})},{key:"_fetchData",value:function _fetchData(t){(0,a.unreachable)("Abstract method `_fetchData` called.")}}]);var t;return BaseStandardFontDataFactory}(),h=function(){function BaseSVGFactory(){_classCallCheck(this,BaseSVGFactory);this.constructor===BaseSVGFactory&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}_createClass(BaseSVGFactory,[{key:"create",value:function create(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||r<=0)throw new Error("Invalid SVG dimensions");var a=this._createSVG("svg:svg");a.setAttribute("version","1.1");if(!i){a.setAttribute("width","".concat(t,"px"));a.setAttribute("height","".concat(r,"px"))}a.setAttribute("preserveAspectRatio","none");a.setAttribute("viewBox","0 0 ".concat(t," ").concat(r));return a}},{key:"createElement",value:function createElement(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}},{key:"_createSVG",value:function _createSVG(t){(0,a.unreachable)("Abstract method `_createSVG` called.")}}]);return BaseSVGFactory}()},1250:(t,r,i)=>{i.d(r,{CanvasGraphics:()=>C});i(3352),i(4165),i(3821),i(6180),i(895),i(4699),i(739),i(4816),i(6923),i(6775),i(6474),i(6450),i(1665),i(8837),i(9803),i(1293),i(1051),i(8260),i(5746),i(202),i(2138),i(368),i(9782),i(917),i(3650),i(8347),i(7192),i(354),i(9080),i(7238),i(7995),i(62),i(6635),i(4602),i(344),i(4305),i(7583),i(8800),i(6394),i(171),i(4624),i(1585),i(7121),i(2993),i(7492),i(1210),i(5548),i(1747),i(2374),i(6421),i(7254),i(4226),i(7874),i(5136),i(7944),i(394),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926),i(924),i(9593),i(7942),i(5776);var a=i(3266),o=i(473);i(13),i(9175),i(6128);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var l="Fill",u="Stroke",c="Shading";function applyBoundingBox(t,r){if(r){var i=r[2]-r[0],a=r[3]-r[1],o=new Path2D;o.rect(r[0],r[1],i,a);t.clip(o)}}var h=function(){function BaseShadingPattern(){_classCallCheck(this,BaseShadingPattern);this.constructor===BaseShadingPattern&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}_createClass(BaseShadingPattern,[{key:"getPattern",value:function getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}]);return BaseShadingPattern}(),d=function(t){_inherits(RadialAxialShadingPattern,t);var r=_createSuper(RadialAxialShadingPattern);function RadialAxialShadingPattern(t){var i;_classCallCheck(this,RadialAxialShadingPattern);(i=r.call(this))._type=t[1];i._bbox=t[2];i._colorStops=t[3];i._p0=t[4];i._p1=t[5];i._r0=t[6];i._r1=t[7];i.matrix=null;return i}_createClass(RadialAxialShadingPattern,[{key:"_createGradient",value:function _createGradient(t){var r;"axial"===this._type?r=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(r=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var i,a=_createForOfIteratorHelper(this._colorStops);try{for(a.s();!(i=a.n()).done;){var o=i.value;r.addColorStop(o[0],o[1])}}catch(t){a.e(t)}finally{a.f()}return r}},{key:"getPattern",value:function getPattern(t,r,i,c){var h;if(c===u||c===l){var d=r.current.getClippedPathBoundingBox(c,(0,o.getCurrentTransform)(t))||[0,0,0,0],p=Math.ceil(d[2]-d[0])||1,v=Math.ceil(d[3]-d[1])||1,y=r.cachedCanvases.getCanvas("pattern",p,v,!0),g=y.context;g.clearRect(0,0,g.canvas.width,g.canvas.height);g.beginPath();g.rect(0,0,g.canvas.width,g.canvas.height);g.translate(-d[0],-d[1]);i=a.Util.transform(i,[1,0,0,1,d[0],d[1]]);g.transform.apply(g,_toConsumableArray(r.baseTransform));this.matrix&&g.transform.apply(g,_toConsumableArray(this.matrix));applyBoundingBox(g,this._bbox);g.fillStyle=this._createGradient(g);g.fill();h=t.createPattern(y.canvas,"no-repeat");var m=new DOMMatrix(i);h.setTransform(m)}else{applyBoundingBox(t,this._bbox);h=this._createGradient(t)}return h}}]);return RadialAxialShadingPattern}(h);function drawTriangle(t,r,i,a,o,l,u,c){var h,d=r.coords,p=r.colors,v=t.data,y=4*t.width;if(d[i+1]>d[a+1]){h=i;i=a;a=h;h=l;l=u;u=h}if(d[a+1]>d[o+1]){h=a;a=o;o=h;h=u;u=c;c=h}if(d[i+1]>d[a+1]){h=i;i=a;a=h;h=l;l=u;u=h}var g=(d[i]+r.offsetX)*r.scaleX,m=(d[i+1]+r.offsetY)*r.scaleY,_=(d[a]+r.offsetX)*r.scaleX,b=(d[a+1]+r.offsetY)*r.scaleY,w=(d[o]+r.offsetX)*r.scaleX,P=(d[o+1]+r.offsetY)*r.scaleY;if(!(m>=P))for(var A,S,E,x,k,D,C,T,I=p[l],O=p[l+1],M=p[l+2],L=p[u],G=p[u+1],R=p[u+2],j=p[c],B=p[c+1],N=p[c+2],W=Math.round(m),V=Math.round(P),z=W;z<=V;z++){if(z<b){var H=z<m?0:(m-z)/(m-b);A=g-(g-_)*H;S=I-(I-L)*H;E=O-(O-G)*H;x=M-(M-R)*H}else{var U=void 0;A=_-(_-w)*(U=z>P?1:b===P?0:(b-z)/(b-P));S=L-(L-j)*U;E=G-(G-B)*U;x=R-(R-N)*U}var q=void 0;k=g-(g-w)*(q=z<m?0:z>P?1:(m-z)/(m-P));D=I-(I-j)*q;C=O-(O-B)*q;T=M-(M-N)*q;for(var K=Math.round(Math.min(A,k)),Y=Math.round(Math.max(A,k)),X=y*z+4*K,$=K;$<=Y;$++){(q=(A-$)/(A-k))<0?q=0:q>1&&(q=1);v[X++]=S-(S-D)*q|0;v[X++]=E-(E-C)*q|0;v[X++]=x-(x-T)*q|0;v[X++]=255}}}function drawFigure(t,r,i){var a,o,l=r.coords,u=r.colors;switch(r.type){case"lattice":var c=r.verticesPerRow,h=Math.floor(l.length/c)-1,d=c-1;for(a=0;a<h;a++)for(var p=a*c,v=0;v<d;v++,p++){drawTriangle(t,i,l[p],l[p+1],l[p+c],u[p],u[p+1],u[p+c]);drawTriangle(t,i,l[p+c+1],l[p+1],l[p+c],u[p+c+1],u[p+1],u[p+c])}break;case"triangles":for(a=0,o=l.length;a<o;a+=3)drawTriangle(t,i,l[a],l[a+1],l[a+2],u[a],u[a+1],u[a+2]);break;default:throw new Error("illegal figure")}}var p=function(t){_inherits(MeshShadingPattern,t);var r=_createSuper(MeshShadingPattern);function MeshShadingPattern(t){var i;_classCallCheck(this,MeshShadingPattern);(i=r.call(this))._coords=t[2];i._colors=t[3];i._figures=t[4];i._bounds=t[5];i._bbox=t[7];i._background=t[8];i.matrix=null;return i}_createClass(MeshShadingPattern,[{key:"_createMeshCanvas",value:function _createMeshCanvas(t,r,i){var a=Math.floor(this._bounds[0]),o=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-o,c=Math.min(Math.ceil(Math.abs(l*t[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),d=l/c,p=u/h,v={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-o,scaleX:1/d,scaleY:1/p},y=c+4,g=h+4,m=i.getCanvas("mesh",y,g,!1),_=m.context,b=_.createImageData(c,h);if(r)for(var w=b.data,P=0,A=w.length;P<A;P+=4){w[P]=r[0];w[P+1]=r[1];w[P+2]=r[2];w[P+3]=255}var S,E=_createForOfIteratorHelper(this._figures);try{for(E.s();!(S=E.n()).done;){drawFigure(b,S.value,v)}}catch(t){E.e(t)}finally{E.f()}_.putImageData(b,2,2);return{canvas:m.canvas,offsetX:a-2*d,offsetY:o-2*p,scaleX:d,scaleY:p}}},{key:"getPattern",value:function getPattern(t,r,i,l){applyBoundingBox(t,this._bbox);var u;if(l===c)u=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(t));else{u=a.Util.singularValueDecompose2dScale(r.baseTransform);if(this.matrix){var h=a.Util.singularValueDecompose2dScale(this.matrix);u=[u[0]*h[0],u[1]*h[1]]}}var d=this._createMeshCanvas(u,l===c?null:this._background,r.cachedCanvases);if(l!==c){t.setTransform.apply(t,_toConsumableArray(r.baseTransform));this.matrix&&t.transform.apply(t,_toConsumableArray(this.matrix))}t.translate(d.offsetX,d.offsetY);t.scale(d.scaleX,d.scaleY);return t.createPattern(d.canvas,"no-repeat")}}]);return MeshShadingPattern}(h),v=function(t){_inherits(DummyShadingPattern,t);var r=_createSuper(DummyShadingPattern);function DummyShadingPattern(){_classCallCheck(this,DummyShadingPattern);return r.apply(this,arguments)}_createClass(DummyShadingPattern,[{key:"getPattern",value:function getPattern(){return"hotpink"}}]);return DummyShadingPattern}(h);var y=1,g=2,m=function(){function TilingPattern(t,r,i,a,o){_classCallCheck(this,TilingPattern);this.operatorList=t[2];this.matrix=t[3]||[1,0,0,1,0,0];this.bbox=t[4];this.xstep=t[5];this.ystep=t[6];this.paintType=t[7];this.tilingType=t[8];this.color=r;this.ctx=i;this.canvasGraphicsFactory=a;this.baseTransform=o}_createClass(TilingPattern,[{key:"createPatternCanvas",value:function createPatternCanvas(t){var r=this.operatorList,i=this.bbox,l=this.xstep,u=this.ystep,c=this.paintType,h=this.tilingType,d=this.color,p=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+h);var v=i[0],y=i[1],g=i[2],m=i[3],_=a.Util.singularValueDecompose2dScale(this.matrix),b=a.Util.singularValueDecompose2dScale(this.baseTransform),w=[_[0]*b[0],_[1]*b[1]],P=this.getSizeAndScale(l,this.ctx.canvas.width,w[0]),A=this.getSizeAndScale(u,this.ctx.canvas.height,w[1]),S=t.cachedCanvases.getCanvas("pattern",P.size,A.size,!0),E=S.context,x=p.createCanvasGraphics(E);x.groupLevel=t.groupLevel;this.setFillAndStrokeStyleToContext(x,c,d);var k=v,D=y,C=g,T=m;if(v<0){k=0;C+=Math.abs(v)}if(y<0){D=0;T+=Math.abs(y)}E.translate(-P.scale*k,-A.scale*D);x.transform(P.scale,0,0,A.scale,0,0);E.save();this.clipBbox(x,k,D,C,T);x.baseTransform=(0,o.getCurrentTransform)(x.ctx);x.executeOperatorList(r);x.endDrawing();return{canvas:S.canvas,scaleX:P.scale,scaleY:A.scale,offsetX:k,offsetY:D}}},{key:"getSizeAndScale",value:function getSizeAndScale(t,r,i){t=Math.abs(t);var a=Math.max(TilingPattern.MAX_PATTERN_SIZE,r),o=Math.ceil(t*i);o>=a?o=a:i=o/t;return{scale:i,size:o}}},{key:"clipBbox",value:function clipBbox(t,r,i,a,l){var u=a-r,c=l-i;t.ctx.rect(r,i,u,c);t.current.updateRectMinMax((0,o.getCurrentTransform)(t.ctx),[r,i,a,l]);t.clip();t.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function setFillAndStrokeStyleToContext(t,r,i){var o=t.ctx,l=t.current;switch(r){case y:var u=this.ctx;o.fillStyle=u.fillStyle;o.strokeStyle=u.strokeStyle;l.fillColor=u.fillStyle;l.strokeColor=u.strokeStyle;break;case g:var c=a.Util.makeHexColor(i[0],i[1],i[2]);o.fillStyle=c;o.strokeStyle=c;l.fillColor=c;l.strokeColor=c;break;default:throw new a.FormatError("Unsupported paint type: ".concat(r))}}},{key:"getPattern",value:function getPattern(t,r,i,o){var l=i;if(o!==c){l=a.Util.transform(l,r.baseTransform);this.matrix&&(l=a.Util.transform(l,this.matrix))}var u=this.createPatternCanvas(r),h=new DOMMatrix(l);h=(h=h.translate(u.offsetX,u.offsetY)).scale(1/u.scaleX,1/u.scaleY);var d=t.createPattern(u.canvas,"repeat");d.setTransform(h);return d}}]);return TilingPattern}();!function _defineProperty(t,r,i){(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}(m,"MAX_PATTERN_SIZE",3e3);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||function image_utils_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return image_utils_arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return image_utils_arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function image_utils_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function convertBlackAndWhiteToRGBA(t){var r=t.src,i=t.srcPos,o=void 0===i?0:i,l=t.dest,u=t.width,c=t.height,h=t.nonBlackColor,d=void 0===h?4294967295:h,p=t.inverseDecode,v=void 0!==p&&p,y=a.FeatureTest.isLittleEndian?4278190080:255,g=_slicedToArray(v?[d,y]:[y,d],2),m=g[0],_=g[1],b=u>>3,w=7&u,P=r.length;l=new Uint32Array(l.buffer);for(var A=0,S=0;S<c;S++){for(var E=o+b;o<E;o++){var x=o<P?r[o]:255;l[A++]=128&x?_:m;l[A++]=64&x?_:m;l[A++]=32&x?_:m;l[A++]=16&x?_:m;l[A++]=8&x?_:m;l[A++]=4&x?_:m;l[A++]=2&x?_:m;l[A++]=1&x?_:m}if(0!==w)for(var k=o<P?r[o++]:255,D=0;D<w;D++)l[A++]=k&1<<7-D?_:m}return{srcPos:o,destPos:A}}function canvas_typeof(t){return canvas_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},canvas_typeof(t)}function canvas_toConsumableArray(t){return function canvas_arrayWithoutHoles(t){if(Array.isArray(t))return canvas_arrayLikeToArray(t)}(t)||function canvas_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||canvas_unsupportedIterableToArray(t)||function canvas_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _classPrivateMethodInitSpec(t,r){!function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r);r.add(t)}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function canvas_createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=canvas_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function canvas_slicedToArray(t,r){return function canvas_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function canvas_iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||canvas_unsupportedIterableToArray(t,r)||function canvas_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function canvas_unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return canvas_arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?canvas_arrayLikeToArray(t,r):void 0}}function canvas_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function canvas_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function canvas_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function canvas_toPrimitive(t,r){if("object"!==canvas_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==canvas_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===canvas_typeof(l)?l:String(l)),a)}var o,l}function canvas_createClass(t,r,i){r&&canvas_defineProperties(t.prototype,r);i&&canvas_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}var _=4096,b=16;var w=function(){function CachedCanvases(t){canvas_classCallCheck(this,CachedCanvases);this.canvasFactory=t;this.cache=Object.create(null)}canvas_createClass(CachedCanvases,[{key:"getCanvas",value:function getCanvas(t,r,i){var a;if(void 0!==this.cache[t]){a=this.cache[t];this.canvasFactory.reset(a,r,i)}else{a=this.canvasFactory.create(r,i);this.cache[t]=a}return a}},{key:"delete",value:function _delete(t){delete this.cache[t]}},{key:"clear",value:function clear(){for(var t in this.cache){var r=this.cache[t];this.canvasFactory.destroy(r);delete this.cache[t]}}}]);return CachedCanvases}();function drawImageAtIntegerCoords(t,r,i,a,l,u,c,h,d,p){var v=canvas_slicedToArray((0,o.getCurrentTransform)(t),6),y=v[0],g=v[1],m=v[2],_=v[3],b=v[4],w=v[5];if(0===g&&0===m){var P=c*y+b,A=Math.round(P),S=h*_+w,E=Math.round(S),x=(c+d)*y+b,k=Math.abs(Math.round(x)-A)||1,D=(h+p)*_+w,C=Math.abs(Math.round(D)-E)||1;t.setTransform(Math.sign(y),0,0,Math.sign(_),A,E);t.drawImage(r,i,a,l,u,0,0,k,C);t.setTransform(y,g,m,_,b,w);return[k,C]}if(0===y&&0===_){var T=h*m+b,I=Math.round(T),O=c*g+w,M=Math.round(O),L=(h+p)*m+b,G=Math.abs(Math.round(L)-I)||1,R=(c+d)*g+w,j=Math.abs(Math.round(R)-M)||1;t.setTransform(0,Math.sign(g),Math.sign(m),0,I,M);t.drawImage(r,i,a,l,u,0,0,j,G);t.setTransform(y,g,m,_,b,w);return[j,G]}t.drawImage(r,i,a,l,u,c,h,d,p);return[Math.hypot(y,g)*d,Math.hypot(m,_)*p]}var P=function(){function CanvasExtraState(t,r){canvas_classCallCheck(this,CanvasExtraState);this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=a.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=a.FONT_IDENTITY_MATRIX;this.leading=0;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRenderingMode=a.TextRenderingMode.FILL;this.textRise=0;this.fillColor="#000000";this.strokeColor="#000000";this.patternFill=!1;this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.activeSMask=null;this.transferMaps="none";this.startNewPathAndClipBox([0,0,t,r])}canvas_createClass(CanvasExtraState,[{key:"clone",value:function clone(){var clone=Object.create(this);clone.clipBox=this.clipBox.slice();return clone}},{key:"setCurrentPoint",value:function setCurrentPoint(t,r){this.x=t;this.y=r}},{key:"updatePathMinMax",value:function updatePathMinMax(t,r,i){var o=canvas_slicedToArray(a.Util.applyTransform([r,i],t),2);r=o[0];i=o[1];this.minX=Math.min(this.minX,r);this.minY=Math.min(this.minY,i);this.maxX=Math.max(this.maxX,r);this.maxY=Math.max(this.maxY,i)}},{key:"updateRectMinMax",value:function updateRectMinMax(t,r){var i=a.Util.applyTransform(r,t),o=a.Util.applyTransform(r.slice(2),t),l=a.Util.applyTransform([r[0],r[3]],t),u=a.Util.applyTransform([r[2],r[1]],t);this.minX=Math.min(this.minX,i[0],o[0],l[0],u[0]);this.minY=Math.min(this.minY,i[1],o[1],l[1],u[1]);this.maxX=Math.max(this.maxX,i[0],o[0],l[0],u[0]);this.maxY=Math.max(this.maxY,i[1],o[1],l[1],u[1])}},{key:"updateScalingPathMinMax",value:function updateScalingPathMinMax(t,r){a.Util.scaleMinMax(t,r);this.minX=Math.min(this.minX,r[0]);this.maxX=Math.max(this.maxX,r[1]);this.minY=Math.min(this.minY,r[2]);this.maxY=Math.max(this.maxY,r[3])}},{key:"updateCurvePathMinMax",value:function updateCurvePathMinMax(t,r,i,o,l,u,c,h,d,p){var v=a.Util.bezierBoundingBox(r,i,o,l,u,c,h,d);if(p){p[0]=Math.min(p[0],v[0],v[2]);p[1]=Math.max(p[1],v[0],v[2]);p[2]=Math.min(p[2],v[1],v[3]);p[3]=Math.max(p[3],v[1],v[3])}else this.updateRectMinMax(t,v)}},{key:"getPathBoundingBox",value:function getPathBoundingBox(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=[this.minX,this.minY,this.maxX,this.maxY];if(t===u){r||(0,a.unreachable)("Stroke bounding box must include transform.");var o=a.Util.singularValueDecompose2dScale(r),c=o[0]*this.lineWidth/2,h=o[1]*this.lineWidth/2;i[0]-=c;i[1]-=h;i[2]+=c;i[3]+=h}return i}},{key:"updateClipFromPath",value:function updateClipFromPath(){var t=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}},{key:"isEmptyClip",value:function isEmptyClip(){return this.minX===1/0}},{key:"startNewPathAndClipBox",value:function startNewPathAndClipBox(t){this.clipBox=t;this.minX=1/0;this.minY=1/0;this.maxX=0;this.maxY=0}},{key:"getClippedPathBoundingBox",value:function getClippedPathBoundingBox(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.Util.intersect(this.clipBox,this.getPathBoundingBox(t,r))}}]);return CanvasExtraState}();function putBinaryImageData(t,r){if("undefined"!=typeof ImageData&&r instanceof ImageData)t.putImageData(r,0,0);else{var i,o,l,u,c,h=r.height,d=r.width,p=h%b,v=(h-p)/b,y=0===p?v:v+1,g=t.createImageData(d,b),m=0,_=r.data,w=g.data;if(r.kind===a.ImageKind.GRAYSCALE_1BPP){var P=_.byteLength,A=new Uint32Array(w.buffer,0,w.byteLength>>2),S=A.length,E=d+7>>3,x=4294967295,k=a.FeatureTest.isLittleEndian?4278190080:255;for(o=0;o<y;o++){u=o<v?b:p;i=0;for(l=0;l<u;l++){for(var D=P-m,C=0,T=D>E?d:8*D-7,I=-8&T,O=0,M=0;C<I;C+=8){M=_[m++];A[i++]=128&M?x:k;A[i++]=64&M?x:k;A[i++]=32&M?x:k;A[i++]=16&M?x:k;A[i++]=8&M?x:k;A[i++]=4&M?x:k;A[i++]=2&M?x:k;A[i++]=1&M?x:k}for(;C<T;C++){if(0===O){M=_[m++];O=128}A[i++]=M&O?x:k;O>>=1}}for(;i<S;)A[i++]=0;t.putImageData(g,0,o*b)}}else if(r.kind===a.ImageKind.RGBA_32BPP){l=0;c=d*b*4;for(o=0;o<v;o++){w.set(_.subarray(m,m+c));m+=c;t.putImageData(g,0,l);l+=b}if(o<y){c=d*p*4;w.set(_.subarray(m,m+c));t.putImageData(g,0,l)}}else{if(r.kind!==a.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(r.kind));c=d*(u=b);for(o=0;o<y;o++){o>=v&&(c=d*(u=p));i=0;for(l=c;l--;){w[i++]=_[m++];w[i++]=_[m++];w[i++]=_[m++];w[i++]=255}t.putImageData(g,0,o*b)}}}}function putBinaryImageMask(t,r){if(r.bitmap)t.drawImage(r.bitmap,0,0);else for(var i=r.height,a=r.width,o=i%b,l=(i-o)/b,u=0===o?l:l+1,c=t.createImageData(a,b),h=0,d=r.data,p=c.data,v=0;v<u;v++){h=convertBlackAndWhiteToRGBA({src:d,srcPos:h,dest:p,width:a,height:v<l?b:o,nonBlackColor:0}).srcPos;t.putImageData(c,0,v*b)}}function copyCtxState(t,r){for(var i=0,a=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];i<a.length;i++){var o=a[i];void 0!==t[o]&&(r[o]=t[o])}if(void 0!==t.setLineDash){r.setLineDash(t.getLineDash());r.lineDashOffset=t.lineDashOffset}}function resetCtxToDefault(t){t.strokeStyle=t.fillStyle="#000000";t.fillRule="nonzero";t.globalAlpha=1;t.lineWidth=1;t.lineCap="butt";t.lineJoin="miter";t.miterLimit=10;t.globalCompositeOperation="source-over";t.font="10px sans-serif";if(void 0!==t.setLineDash){t.setLineDash([]);t.lineDashOffset=0}if(!a.isNodeJS){var r=t.filter;"none"!==r&&""!==r&&(t.filter="none")}}function composeSMaskBackdrop(t,r,i,a){for(var o=t.length,l=3;l<o;l+=4){var u=t[l];if(0===u){t[l-3]=r;t[l-2]=i;t[l-1]=a}else if(u<255){var c=255-u;t[l-3]=t[l-3]*u+r*c>>8;t[l-2]=t[l-2]*u+i*c>>8;t[l-1]=t[l-1]*u+a*c>>8}}}function composeSMaskAlpha(t,r,i){for(var a=t.length,o=3;o<a;o+=4){var l=i?i[t[o]]:t[o];r[o]=r[o]*l*.00392156862745098|0}}function composeSMaskLuminosity(t,r,i){for(var a=t.length,o=3;o<a;o+=4){var l=77*t[o-3]+152*t[o-2]+28*t[o-1];r[o]=i?r[o]*i[l>>8]>>8:r[o]*l>>16}}function composeSMask(t,r,i,a){var o=a[0],l=a[1],u=a[2]-o,c=a[3]-l;if(0!==u&&0!==c){!function genericComposeSMask(t,r,i,a,o,l,u,c,h,d,p){for(var v=!!l,y=v?l[0]:0,g=v?l[1]:0,m=v?l[2]:0,_="Luminosity"===o?composeSMaskLuminosity:composeSMaskAlpha,b=Math.min(a,Math.ceil(1048576/i)),w=0;w<a;w+=b){var P=Math.min(b,a-w),A=t.getImageData(c-d,w+(h-p),i,P),S=r.getImageData(c,w+h,i,P);v&&composeSMaskBackdrop(A.data,y,g,m);_(A.data,S.data,u);r.putImageData(S,c,w+h)}}(r.context,i,u,c,r.subtype,r.backdrop,r.transferMap,o,l,r.offsetX,r.offsetY);t.save();t.globalAlpha=1;t.globalCompositeOperation="source-over";t.setTransform(1,0,0,1,0,0);t.drawImage(i.canvas,0,0);t.restore()}}function getImageSmoothingEnabled(t,r){var i=a.Util.singularValueDecompose2dScale(t);i[0]=Math.fround(i[0]);i[1]=Math.fround(i[1]);var l=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==r?r:i[0]<=l||i[1]<=l}var A=["butt","round","square"],S=["miter","round","bevel"],E={},x={},k=new WeakSet,D=new WeakSet,C=function(){function CanvasGraphics(t,r,i,a,o,l,u,c){var h=l.optionalContentConfig,d=l.markedContentStack,p=void 0===d?null:d;canvas_classCallCheck(this,CanvasGraphics);_classPrivateMethodInitSpec(this,D);_classPrivateMethodInitSpec(this,k);this.ctx=t;this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height);this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.res=null;this.xobjs=null;this.commonObjs=r;this.objs=i;this.canvasFactory=a;this.filterFactory=o;this.groupStack=[];this.processingType3=null;this.baseTransform=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.suspendedCtx=null;this.contentVisible=!0;this.markedContentStack=p||[];this.optionalContentConfig=h;this.cachedCanvases=new w(this.canvasFactory);this.cachedPatterns=new Map;this.annotationCanvasMap=u;this.viewportScale=1;this.outputScaleX=1;this.outputScaleY=1;this.pageColors=c;this._cachedScaleForStroking=[-1,0];this._cachedGetSinglePixelWidth=null;this._cachedBitmapsMap=new Map}canvas_createClass(CanvasGraphics,[{key:"getObject",value:function getObject(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):r}},{key:"beginDrawing",value:function beginDrawing(t){var r,i=t.transform,a=t.viewport,l=t.transparency,u=void 0!==l&&l,c=t.background,h=void 0===c?null:c,d=this.ctx.canvas.width,p=this.ctx.canvas.height,v=this.ctx.fillStyle;this.ctx.fillStyle=h||"#ffffff";this.ctx.fillRect(0,0,d,p);this.ctx.fillStyle=v;if(u){var y,g=this.cachedCanvases.getCanvas("transparent",d,p);this.compositeCtx=this.ctx;this.transparentCanvas=g.canvas;this.ctx=g.context;this.ctx.save();(y=this.ctx).transform.apply(y,canvas_toConsumableArray((0,o.getCurrentTransform)(this.compositeCtx)))}this.ctx.save();resetCtxToDefault(this.ctx);if(i){var m;(m=this.ctx).transform.apply(m,canvas_toConsumableArray(i));this.outputScaleX=i[0];this.outputScaleY=i[0]}(r=this.ctx).transform.apply(r,canvas_toConsumableArray(a.transform));this.viewportScale=a.scale;this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}},{key:"executeOperatorList",value:function executeOperatorList(t,r,i,o){var l=t.argsArray,u=t.fnArray,c=r||0,h=l.length;if(h===c)return c;for(var d,p=h-c>10&&"function"==typeof i,v=p?Date.now()+15:0,y=0,g=this.commonObjs,m=this.objs;;){if(void 0!==o&&c===o.nextBreakPoint){o.breakIt(c,i);return c}if((d=u[c])!==a.OPS.dependency)this[d].apply(this,l[c]);else{var _,b=canvas_createForOfIteratorHelper(l[c]);try{for(b.s();!(_=b.n()).done;){var w=_.value,P=w.startsWith("g_")?g:m;if(!P.has(w)){P.get(w,i);return c}}}catch(t){b.e(t)}finally{b.f()}}if(++c===h)return c;if(p&&++y>10){if(Date.now()>v){i();return c}y=0}}}},{key:"endDrawing",value:function endDrawing(){_classPrivateMethodGet(this,k,_restoreInitialState2).call(this);this.cachedCanvases.clear();this.cachedPatterns.clear();var t,r=canvas_createForOfIteratorHelper(this._cachedBitmapsMap.values());try{for(r.s();!(t=r.n()).done;){var i,a=t.value,o=canvas_createForOfIteratorHelper(a.values());try{for(o.s();!(i=o.n()).done;){var l=i.value;"undefined"!=typeof HTMLCanvasElement&&l instanceof HTMLCanvasElement&&(l.width=l.height=0)}}catch(t){o.e(t)}finally{o.f()}a.clear()}}catch(t){r.e(t)}finally{r.f()}this._cachedBitmapsMap.clear();_classPrivateMethodGet(this,D,_drawFilter2).call(this)}},{key:"_scaleImage",value:function _scaleImage(t,r){for(var i,a,o=t.width,l=t.height,u=Math.max(Math.hypot(r[0],r[1]),1),c=Math.max(Math.hypot(r[2],r[3]),1),h=o,d=l,p="prescale1";u>2&&h>1||c>2&&d>1;){var v=h,y=d;u>2&&h>1&&(u/=h/(v=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2)));c>2&&d>1&&(c/=d/(y=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2));(a=(i=this.cachedCanvases.getCanvas(p,v,y)).context).clearRect(0,0,v,y);a.drawImage(t,0,0,h,d,0,0,v,y);t=i.canvas;h=v;d=y;p="prescale1"===p?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:d}}},{key:"_createMaskCanvas",value:function _createMaskCanvas(t){var r,i,u,c,h=this.ctx,d=t.width,p=t.height,v=this.current.fillColor,y=this.current.patternFill,g=(0,o.getCurrentTransform)(h);if((t.bitmap||t.data)&&t.count>1){var m=t.bitmap||t.data.buffer;i=JSON.stringify(y?g:[g.slice(0,4),v]);if(!(r=this._cachedBitmapsMap.get(m))){r=new Map;this._cachedBitmapsMap.set(m,r)}var _=r.get(i);if(_&&!y){return{canvas:_,offsetX:Math.round(Math.min(g[0],g[2])+g[4]),offsetY:Math.round(Math.min(g[1],g[3])+g[5])}}u=_}u||putBinaryImageMask((c=this.cachedCanvases.getCanvas("maskCanvas",d,p)).context,t);var b=a.Util.transform(g,[1/d,0,0,-1/p,0,0]);b=a.Util.transform(b,[1,0,0,1,0,-p]);var w=canvas_slicedToArray(a.Util.getAxialAlignedBoundingBox([0,0,d,p],b),4),P=w[0],A=w[1],S=w[2],E=w[3],x=Math.round(S-P)||1,k=Math.round(E-A)||1,D=this.cachedCanvases.getCanvas("fillCanvas",x,k),C=D.context,T=P,I=A;C.translate(-T,-I);C.transform.apply(C,canvas_toConsumableArray(b));if(!u){u=(u=this._scaleImage(c.canvas,(0,o.getCurrentTransformInverse)(C))).img;r&&y&&r.set(i,u)}C.imageSmoothingEnabled=getImageSmoothingEnabled((0,o.getCurrentTransform)(C),t.interpolate);drawImageAtIntegerCoords(C,u,0,0,u.width,u.height,0,0,d,p);C.globalCompositeOperation="source-in";var O=a.Util.transform((0,o.getCurrentTransformInverse)(C),[1,0,0,1,-T,-I]);C.fillStyle=y?v.getPattern(h,this,O,l):v;C.fillRect(0,0,d,p);if(r&&!y){this.cachedCanvases.delete("fillCanvas");r.set(i,D.canvas)}return{canvas:D.canvas,offsetX:Math.round(T),offsetY:Math.round(I)}}},{key:"setLineWidth",value:function setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1);this.current.lineWidth=t;this.ctx.lineWidth=t}},{key:"setLineCap",value:function setLineCap(t){this.ctx.lineCap=A[t]}},{key:"setLineJoin",value:function setLineJoin(t){this.ctx.lineJoin=S[t]}},{key:"setMiterLimit",value:function setMiterLimit(t){this.ctx.miterLimit=t}},{key:"setDash",value:function setDash(t,r){var i=this.ctx;if(void 0!==i.setLineDash){i.setLineDash(t);i.lineDashOffset=r}}},{key:"setRenderingIntent",value:function setRenderingIntent(t){}},{key:"setFlatness",value:function setFlatness(t){}},{key:"setGState",value:function setGState(t){var r,i=canvas_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var a=canvas_slicedToArray(r.value,2),o=a[0],l=a[1];switch(o){case"LW":this.setLineWidth(l);break;case"LC":this.setLineCap(l);break;case"LJ":this.setLineJoin(l);break;case"ML":this.setMiterLimit(l);break;case"D":this.setDash(l[0],l[1]);break;case"RI":this.setRenderingIntent(l);break;case"FL":this.setFlatness(l);break;case"Font":this.setFont(l[0],l[1]);break;case"CA":this.current.strokeAlpha=l;break;case"ca":this.current.fillAlpha=l;this.ctx.globalAlpha=l;break;case"BM":this.ctx.globalCompositeOperation=l;break;case"SMask":this.current.activeSMask=l?this.tempSMask:null;this.tempSMask=null;this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(l)}}}catch(t){i.e(t)}finally{i.f()}}},{key:"inSMaskMode",get:function get(){return!!this.suspendedCtx}},{key:"checkSMaskState",value:function checkSMaskState(){var t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var t=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,r);this.suspendedCtx=this.ctx;this.ctx=a.context;var l=this.ctx;l.setTransform.apply(l,canvas_toConsumableArray((0,o.getCurrentTransform)(this.suspendedCtx)));copyCtxState(this.suspendedCtx,l);!function mirrorContextOperations(t,r){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save;t.__originalRestore=t.restore;t.__originalRotate=t.rotate;t.__originalScale=t.scale;t.__originalTranslate=t.translate;t.__originalTransform=t.transform;t.__originalSetTransform=t.setTransform;t.__originalResetTransform=t.resetTransform;t.__originalClip=t.clip;t.__originalMoveTo=t.moveTo;t.__originalLineTo=t.lineTo;t.__originalBezierCurveTo=t.bezierCurveTo;t.__originalRect=t.rect;t.__originalClosePath=t.closePath;t.__originalBeginPath=t.beginPath;t._removeMirroring=function(){t.save=t.__originalSave;t.restore=t.__originalRestore;t.rotate=t.__originalRotate;t.scale=t.__originalScale;t.translate=t.__originalTranslate;t.transform=t.__originalTransform;t.setTransform=t.__originalSetTransform;t.resetTransform=t.__originalResetTransform;t.clip=t.__originalClip;t.moveTo=t.__originalMoveTo;t.lineTo=t.__originalLineTo;t.bezierCurveTo=t.__originalBezierCurveTo;t.rect=t.__originalRect;t.closePath=t.__originalClosePath;t.beginPath=t.__originalBeginPath;delete t._removeMirroring};t.save=function ctxSave(){r.save();this.__originalSave()};t.restore=function ctxRestore(){r.restore();this.__originalRestore()};t.translate=function ctxTranslate(t,i){r.translate(t,i);this.__originalTranslate(t,i)};t.scale=function ctxScale(t,i){r.scale(t,i);this.__originalScale(t,i)};t.transform=function ctxTransform(t,i,a,o,l,u){r.transform(t,i,a,o,l,u);this.__originalTransform(t,i,a,o,l,u)};t.setTransform=function ctxSetTransform(t,i,a,o,l,u){r.setTransform(t,i,a,o,l,u);this.__originalSetTransform(t,i,a,o,l,u)};t.resetTransform=function ctxResetTransform(){r.resetTransform();this.__originalResetTransform()};t.rotate=function ctxRotate(t){r.rotate(t);this.__originalRotate(t)};t.clip=function ctxRotate(t){r.clip(t);this.__originalClip(t)};t.moveTo=function(t,i){r.moveTo(t,i);this.__originalMoveTo(t,i)};t.lineTo=function(t,i){r.lineTo(t,i);this.__originalLineTo(t,i)};t.bezierCurveTo=function(t,i,a,o,l,u){r.bezierCurveTo(t,i,a,o,l,u);this.__originalBezierCurveTo(t,i,a,o,l,u)};t.rect=function(t,i,a,o){r.rect(t,i,a,o);this.__originalRect(t,i,a,o)};t.closePath=function(){r.closePath();this.__originalClosePath()};t.beginPath=function(){r.beginPath();this.__originalBeginPath()}}(l,this.suspendedCtx);this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring();copyCtxState(this.ctx,this.suspendedCtx);this.ctx=this.suspendedCtx;this.suspendedCtx=null}},{key:"compose",value:function compose(t){if(this.current.activeSMask){if(t){t[0]=Math.floor(t[0]);t[1]=Math.floor(t[1]);t[2]=Math.ceil(t[2]);t[3]=Math.ceil(t[3])}else t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var r=this.current.activeSMask;composeSMask(this.suspendedCtx,r,this.ctx,t);this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);this.ctx.restore()}}},{key:"save",value:function save(){if(this.inSMaskMode){copyCtxState(this.ctx,this.suspendedCtx);this.suspendedCtx.save()}else this.ctx.save();var t=this.current;this.stateStack.push(t);this.current=t.clone()}},{key:"restore",value:function restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode();if(0!==this.stateStack.length){this.current=this.stateStack.pop();if(this.inSMaskMode){this.suspendedCtx.restore();copyCtxState(this.suspendedCtx,this.ctx)}else this.ctx.restore();this.checkSMaskState();this.pendingClip=null;this._cachedScaleForStroking[0]=-1;this._cachedGetSinglePixelWidth=null}}},{key:"transform",value:function transform(t,r,i,a,o,l){this.ctx.transform(t,r,i,a,o,l);this._cachedScaleForStroking[0]=-1;this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function constructPath(t,r,i){for(var l,u,c=this.ctx,h=this.current,d=h.x,p=h.y,v=(0,o.getCurrentTransform)(c),y=0===v[0]&&0===v[3]||0===v[1]&&0===v[2],g=y?i.slice(0):null,m=0,_=0,b=t.length;m<b;m++)switch(0|t[m]){case a.OPS.rectangle:d=r[_++];p=r[_++];var w=r[_++],P=r[_++],A=d+w,S=p+P;c.moveTo(d,p);if(0===w||0===P)c.lineTo(A,S);else{c.lineTo(A,p);c.lineTo(A,S);c.lineTo(d,S)}y||h.updateRectMinMax(v,[d,p,A,S]);c.closePath();break;case a.OPS.moveTo:d=r[_++];p=r[_++];c.moveTo(d,p);y||h.updatePathMinMax(v,d,p);break;case a.OPS.lineTo:d=r[_++];p=r[_++];c.lineTo(d,p);y||h.updatePathMinMax(v,d,p);break;case a.OPS.curveTo:l=d;u=p;d=r[_+4];p=r[_+5];c.bezierCurveTo(r[_],r[_+1],r[_+2],r[_+3],d,p);h.updateCurvePathMinMax(v,l,u,r[_],r[_+1],r[_+2],r[_+3],d,p,g);_+=6;break;case a.OPS.curveTo2:l=d;u=p;c.bezierCurveTo(d,p,r[_],r[_+1],r[_+2],r[_+3]);h.updateCurvePathMinMax(v,l,u,d,p,r[_],r[_+1],r[_+2],r[_+3],g);d=r[_+2];p=r[_+3];_+=4;break;case a.OPS.curveTo3:l=d;u=p;d=r[_+2];p=r[_+3];c.bezierCurveTo(r[_],r[_+1],d,p,d,p);h.updateCurvePathMinMax(v,l,u,r[_],r[_+1],d,p,d,p,g);_+=4;break;case a.OPS.closePath:c.closePath()}y&&h.updateScalingPathMinMax(v,g);h.setCurrentPoint(d,p)}},{key:"closePath",value:function closePath(){this.ctx.closePath()}},{key:"stroke",value:function stroke(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.ctx,i=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha;if(this.contentVisible)if("object"===canvas_typeof(i)&&null!=i&&i.getPattern){r.save();r.strokeStyle=i.getPattern(r,this,(0,o.getCurrentTransformInverse)(r),u);this.rescaleAndStroke(!1);r.restore()}else this.rescaleAndStroke(!0);t&&this.consumePath(this.current.getClippedPathBoundingBox());r.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function closeStroke(){this.closePath();this.stroke()}},{key:"fill",value:function fill(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.ctx,i=this.current.fillColor,a=!1;if(this.current.patternFill){r.save();r.fillStyle=i.getPattern(r,this,(0,o.getCurrentTransformInverse)(r),l);a=!0}var u=this.current.getClippedPathBoundingBox();if(this.contentVisible&&null!==u)if(this.pendingEOFill){r.fill("evenodd");this.pendingEOFill=!1}else r.fill();a&&r.restore();t&&this.consumePath(u)}},{key:"eoFill",value:function eoFill(){this.pendingEOFill=!0;this.fill()}},{key:"fillStroke",value:function fillStroke(){this.fill(!1);this.stroke(!1);this.consumePath()}},{key:"eoFillStroke",value:function eoFillStroke(){this.pendingEOFill=!0;this.fillStroke()}},{key:"closeFillStroke",value:function closeFillStroke(){this.closePath();this.fillStroke()}},{key:"closeEOFillStroke",value:function closeEOFillStroke(){this.pendingEOFill=!0;this.closePath();this.fillStroke()}},{key:"endPath",value:function endPath(){this.consumePath()}},{key:"clip",value:function clip(){this.pendingClip=E}},{key:"eoClip",value:function eoClip(){this.pendingClip=x}},{key:"beginText",value:function beginText(){this.current.textMatrix=a.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0}},{key:"endText",value:function endText(){var t=this.pendingTextPaths,r=this.ctx;if(void 0!==t){r.save();r.beginPath();var i,a=canvas_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;r.setTransform.apply(r,canvas_toConsumableArray(o.transform));r.translate(o.x,o.y);o.addToPath(r,o.fontSize)}}catch(t){a.e(t)}finally{a.f()}r.restore();r.clip();r.beginPath();delete this.pendingTextPaths}else r.beginPath()}},{key:"setCharSpacing",value:function setCharSpacing(t){this.current.charSpacing=t}},{key:"setWordSpacing",value:function setWordSpacing(t){this.current.wordSpacing=t}},{key:"setHScale",value:function setHScale(t){this.current.textHScale=t/100}},{key:"setLeading",value:function setLeading(t){this.current.leading=-t}},{key:"setFont",value:function setFont(t,r){var i,o=this.commonObjs.get(t),l=this.current;if(!o)throw new Error("Can't find font for ".concat(t));l.fontMatrix=o.fontMatrix||a.FONT_IDENTITY_MATRIX;0!==l.fontMatrix[0]&&0!==l.fontMatrix[3]||(0,a.warn)("Invalid font matrix for font "+t);if(r<0){r=-r;l.fontDirection=-1}else l.fontDirection=1;this.current.font=o;this.current.fontSize=r;if(!o.isType3Font){var u=o.loadedName||"sans-serif",c=(null===(i=o.systemFontInfo)||void 0===i?void 0:i.css)||'"'.concat(u,'", ').concat(o.fallbackName),h="normal";o.black?h="900":o.bold&&(h="bold");var d=o.italic?"italic":"normal",p=r;r<16?p=16:r>100&&(p=100);this.current.fontSizeScale=r/p;this.ctx.font="".concat(d," ").concat(h," ").concat(p,"px ").concat(c)}}},{key:"setTextRenderingMode",value:function setTextRenderingMode(t){this.current.textRenderingMode=t}},{key:"setTextRise",value:function setTextRise(t){this.current.textRise=t}},{key:"moveText",value:function moveText(t,r){this.current.x=this.current.lineX+=t;this.current.y=this.current.lineY+=r}},{key:"setLeadingMoveText",value:function setLeadingMoveText(t,r){this.setLeading(-r);this.moveText(t,r)}},{key:"setTextMatrix",value:function setTextMatrix(t,r,i,a,o,l){this.current.textMatrix=[t,r,i,a,o,l];this.current.textMatrixScale=Math.hypot(t,r);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0}},{key:"nextLine",value:function nextLine(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function paintChar(t,r,i,l){var u,c=this.ctx,h=this.current,d=h.font,p=h.textRenderingMode,v=h.fontSize/h.fontSizeScale,y=p&a.TextRenderingMode.FILL_STROKE_MASK,g=!!(p&a.TextRenderingMode.ADD_TO_PATH_FLAG),m=h.patternFill&&!d.missingFile;(d.disableFontFace||g||m)&&(u=d.getPathGenerator(this.commonObjs,t));if(d.disableFontFace||m){c.save();c.translate(r,i);c.beginPath();u(c,v);l&&c.setTransform.apply(c,canvas_toConsumableArray(l));y!==a.TextRenderingMode.FILL&&y!==a.TextRenderingMode.FILL_STROKE||c.fill();y!==a.TextRenderingMode.STROKE&&y!==a.TextRenderingMode.FILL_STROKE||c.stroke();c.restore()}else{y!==a.TextRenderingMode.FILL&&y!==a.TextRenderingMode.FILL_STROKE||c.fillText(t,r,i);y!==a.TextRenderingMode.STROKE&&y!==a.TextRenderingMode.FILL_STROKE||c.strokeText(t,r,i)}if(g){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(c),x:r,y:i,fontSize:v,addToPath:u})}}},{key:"isFontSubpixelAAEnabled",get:function get(){var t=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;t.scale(1.5,1);t.fillText("I",0,10);for(var r=t.getImageData(0,0,10,10).data,i=!1,o=3;o<r.length;o+=4)if(r[o]>0&&r[o]<255){i=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",i)}},{key:"showText",value:function showText(t){var r=this.current,i=r.font;if(i.isType3Font)return this.showType3Text(t);var u=r.fontSize;if(0!==u){var c,h=this.ctx,d=r.fontSizeScale,p=r.charSpacing,v=r.wordSpacing,y=r.fontDirection,g=r.textHScale*y,m=t.length,_=i.vertical,b=_?1:-1,w=i.defaultVMetrics,P=u*r.fontMatrix[0],A=r.textRenderingMode===a.TextRenderingMode.FILL&&!i.disableFontFace&&!r.patternFill;h.save();h.transform.apply(h,canvas_toConsumableArray(r.textMatrix));h.translate(r.x,r.y+r.textRise);y>0?h.scale(g,-1):h.scale(g,1);if(r.patternFill){h.save();var S=r.fillColor.getPattern(h,this,(0,o.getCurrentTransformInverse)(h),l);c=(0,o.getCurrentTransform)(h);h.restore();h.fillStyle=S}var E=r.lineWidth,x=r.textMatrixScale;if(0===x||0===E){var k=r.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;k!==a.TextRenderingMode.STROKE&&k!==a.TextRenderingMode.FILL_STROKE||(E=this.getSinglePixelWidth())}else E/=x;if(1!==d){h.scale(d,d);E/=d}h.lineWidth=E;if(i.isInvalidPDFjsFont){var D,C=[],T=0,I=canvas_createForOfIteratorHelper(t);try{for(I.s();!(D=I.n()).done;){var O=D.value;C.push(O.unicode);T+=O.width}}catch(t){I.e(t)}finally{I.f()}h.fillText(C.join(""),0,0);r.x+=T*P*g;h.restore();this.compose()}else{var M,L=0;for(M=0;M<m;++M){var G=t[M];if("number"!=typeof G){var R=!1,j=(G.isSpace?v:0)+p,B=G.fontChar,N=G.accent,W=void 0,V=void 0,z=G.width;if(_){var H=G.vmetric||w,U=-(G.vmetric?H[1]:.5*z)*P,q=H[2]*P;z=H?-H[0]:z;W=U/d;V=(L+q)/d}else{W=L/d;V=0}if(i.remeasure&&z>0){var K=1e3*h.measureText(B).width/u*d;if(z<K&&this.isFontSubpixelAAEnabled){var Y=z/K;R=!0;h.save();h.scale(Y,1);W/=Y}else z!==K&&(W+=(z-K)/2e3*u/d)}if(this.contentVisible&&(G.isInFont||i.missingFile))if(A&&!N)h.fillText(B,W,V);else{this.paintChar(B,W,V,c);if(N){var X=W+u*N.offset.x/d,$=V-u*N.offset.y/d;this.paintChar(N.fontChar,X,$,c)}}L+=_?z*P-j*y:z*P+j*y;R&&h.restore()}else L+=b*G*u/1e3}_?r.y-=L:r.x+=L*g;h.restore();this.compose()}}}},{key:"showType3Text",value:function showType3Text(t){var r,i,o,l,u=this.ctx,c=this.current,h=c.font,d=c.fontSize,p=c.fontDirection,v=h.vertical?1:-1,y=c.charSpacing,g=c.wordSpacing,m=c.textHScale*p,_=c.fontMatrix||a.FONT_IDENTITY_MATRIX,b=t.length;if(!(c.textRenderingMode===a.TextRenderingMode.INVISIBLE)&&0!==d){this._cachedScaleForStroking[0]=-1;this._cachedGetSinglePixelWidth=null;u.save();u.transform.apply(u,canvas_toConsumableArray(c.textMatrix));u.translate(c.x,c.y);u.scale(m,p);for(r=0;r<b;++r)if("number"!=typeof(i=t[r])){var w=(i.isSpace?g:0)+y,P=h.charProcOperatorList[i.operatorListId];if(P){if(this.contentVisible){this.processingType3=i;this.save();u.scale(d,d);u.transform.apply(u,canvas_toConsumableArray(_));this.executeOperatorList(P);this.restore()}o=a.Util.applyTransform([i.width,0],_)[0]*d+w;u.translate(o,0);c.x+=o*m}else(0,a.warn)('Type3 character "'.concat(i.operatorListId,'" is not available.'))}else{l=v*i*d/1e3;this.ctx.translate(l,0);c.x+=l*m}u.restore();this.processingType3=null}}},{key:"setCharWidth",value:function setCharWidth(t,r){}},{key:"setCharWidthAndBounds",value:function setCharWidthAndBounds(t,r,i,a,o,l){this.ctx.rect(i,a,o-i,l-a);this.ctx.clip();this.endPath()}},{key:"getColorN_Pattern",value:function getColorN_Pattern(t){var r,i=this;if("TilingPattern"===t[0]){var a=t[1],l=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),u={createCanvasGraphics:function createCanvasGraphics(t){return new CanvasGraphics(t,i.commonObjs,i.objs,i.canvasFactory,i.filterFactory,{optionalContentConfig:i.optionalContentConfig,markedContentStack:i.markedContentStack})}};r=new m(t,a,this.ctx,u,l)}else r=this._getPattern(t[1],t[2]);return r}},{key:"setStrokeColorN",value:function setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function setStrokeRGBColor(t,r,i){var o=a.Util.makeHexColor(t,r,i);this.ctx.strokeStyle=o;this.current.strokeColor=o}},{key:"setFillRGBColor",value:function setFillRGBColor(t,r,i){var o=a.Util.makeHexColor(t,r,i);this.ctx.fillStyle=o;this.current.fillColor=o;this.current.patternFill=!1}},{key:"_getPattern",value:function _getPattern(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.cachedPatterns.has(t))r=this.cachedPatterns.get(t);else{r=function getShadingPattern(t){switch(t[0]){case"RadialAxial":return new d(t);case"Mesh":return new p(t);case"Dummy":return new v}throw new Error("Unknown IR type: ".concat(t[0]))}(this.getObject(t));this.cachedPatterns.set(t,r)}i&&(r.matrix=i);return r}},{key:"shadingFill",value:function shadingFill(t){if(this.contentVisible){var r=this.ctx;this.save();var i=this._getPattern(t);r.fillStyle=i.getPattern(r,this,(0,o.getCurrentTransformInverse)(r),c);var l=(0,o.getCurrentTransformInverse)(r);if(l){var u=r.canvas,h=u.width,d=u.height,p=canvas_slicedToArray(a.Util.getAxialAlignedBoundingBox([0,0,h,d],l),4),v=p[0],y=p[1],g=p[2],m=p[3];this.ctx.fillRect(v,y,g-v,m-y)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox());this.restore()}}},{key:"beginInlineImage",value:function beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function beginImageData(){(0,a.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function paintFormXObjectBegin(t,r){if(this.contentVisible){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(t)&&6===t.length&&this.transform.apply(this,canvas_toConsumableArray(t));this.baseTransform=(0,o.getCurrentTransform)(this.ctx);if(r){var i=r[2]-r[0],a=r[3]-r[1];this.ctx.rect(r[0],r[1],i,a);this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),r);this.clip();this.endPath()}}}},{key:"paintFormXObjectEnd",value:function paintFormXObjectEnd(){if(this.contentVisible){this.restore();this.baseTransform=this.baseTransformStack.pop()}}},{key:"beginGroup",value:function beginGroup(t){if(this.contentVisible){this.save();if(this.inSMaskMode){this.endSMaskMode();this.current.activeSMask=null}var r=this.ctx;t.isolated||(0,a.info)("TODO: Support non-isolated groups.");t.knockout&&(0,a.warn)("Knockout groups not supported.");var i=(0,o.getCurrentTransform)(r);t.matrix&&r.transform.apply(r,canvas_toConsumableArray(t.matrix));if(!t.bbox)throw new Error("Bounding box is required.");var l=a.Util.getAxialAlignedBoundingBox(t.bbox,(0,o.getCurrentTransform)(r)),u=[0,0,r.canvas.width,r.canvas.height];l=a.Util.intersect(l,u)||[0,0,0,0];var c=Math.floor(l[0]),h=Math.floor(l[1]),d=Math.max(Math.ceil(l[2])-c,1),p=Math.max(Math.ceil(l[3])-h,1),v=1,y=1;if(d>_){v=d/_;d=_}if(p>_){y=p/_;p=_}this.current.startNewPathAndClipBox([0,0,d,p]);var g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);var m=this.cachedCanvases.getCanvas(g,d,p),b=m.context;b.scale(1/v,1/y);b.translate(-c,-h);b.transform.apply(b,canvas_toConsumableArray(i));if(t.smask)this.smaskStack.push({canvas:m.canvas,context:b,offsetX:c,offsetY:h,scaleX:v,scaleY:y,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null});else{r.setTransform(1,0,0,1,0,0);r.translate(c,h);r.scale(v,y);r.save()}copyCtxState(r,b);this.ctx=b;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(r);this.groupLevel++}}},{key:"endGroup",value:function endGroup(t){if(this.contentVisible){this.groupLevel--;var r=this.ctx,i=this.groupStack.pop();this.ctx=i;this.ctx.imageSmoothingEnabled=!1;if(t.smask){this.tempSMask=this.smaskStack.pop();this.restore()}else{var l;this.ctx.restore();var u=(0,o.getCurrentTransform)(this.ctx);this.restore();this.ctx.save();(l=this.ctx).setTransform.apply(l,canvas_toConsumableArray(u));var c=a.Util.getAxialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],u);this.ctx.drawImage(r.canvas,0,0);this.ctx.restore();this.compose(c)}}}},{key:"beginAnnotation",value:function beginAnnotation(t,r,i,l,u){_classPrivateMethodGet(this,k,_restoreInitialState2).call(this);resetCtxToDefault(this.ctx);this.ctx.save();this.save();if(this.baseTransform){var c;(c=this.ctx).setTransform.apply(c,canvas_toConsumableArray(this.baseTransform))}if(Array.isArray(r)&&4===r.length){var h=r[2]-r[0],d=r[3]-r[1];if(u&&this.annotationCanvasMap){(i=i.slice())[4]-=r[0];i[5]-=r[1];(r=r.slice())[0]=r[1]=0;r[2]=h;r[3]=d;var p=canvas_slicedToArray(a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),2),v=p[0],y=p[1],g=this.viewportScale,m=Math.ceil(h*this.outputScaleX*g),_=Math.ceil(d*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(m,_);var b=this.annotationCanvas,w=b.canvas,A=b.context;this.annotationCanvasMap.set(t,w);this.annotationCanvas.savedCtx=this.ctx;this.ctx=A;this.ctx.save();this.ctx.setTransform(v,0,0,-y,0,d*y);resetCtxToDefault(this.ctx)}else{resetCtxToDefault(this.ctx);this.ctx.rect(r[0],r[1],h,d);this.ctx.clip();this.endPath()}}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height);this.transform.apply(this,canvas_toConsumableArray(i));this.transform.apply(this,canvas_toConsumableArray(l))}},{key:"endAnnotation",value:function endAnnotation(){if(this.annotationCanvas){this.ctx.restore();_classPrivateMethodGet(this,D,_drawFilter2).call(this);this.ctx=this.annotationCanvas.savedCtx;delete this.annotationCanvas.savedCtx;delete this.annotationCanvas}}},{key:"paintImageMaskXObject",value:function paintImageMaskXObject(t){if(this.contentVisible){var r=t.count;(t=this.getObject(t.data,t)).count=r;var i=this.ctx,a=this.processingType3;if(a){void 0===a.compiled&&(a.compiled=function compileType3Glyph(t){var r=t.width,i=t.height;if(r>1e3||i>1e3)return null;var a,o,l,u,c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),h=r+1,d=new Uint8Array(h*(i+1)),p=r+7&-8,v=new Uint8Array(p*i),y=0,g=canvas_createForOfIteratorHelper(t.data);try{for(g.s();!(u=g.n()).done;)for(var m=u.value,_=128;_>0;){v[y++]=m&_?0:255;_>>=1}}catch(t){g.e(t)}finally{g.f()}var b=0;if(0!==v[y=0]){d[0]=1;++b}for(o=1;o<r;o++){if(v[y]!==v[y+1]){d[o]=v[y]?2:1;++b}y++}if(0!==v[y]){d[o]=2;++b}for(a=1;a<i;a++){l=a*h;if(v[(y=a*p)-p]!==v[y]){d[l]=v[y]?1:8;++b}var w=(v[y]?4:0)+(v[y-p]?8:0);for(o=1;o<r;o++){if(c[w=(w>>2)+(v[y+1]?4:0)+(v[y-p+1]?8:0)]){d[l+o]=c[w];++b}y++}if(v[y-p]!==v[y]){d[l+o]=v[y]?2:4;++b}if(b>1e3)return null}l=a*h;if(0!==v[y=p*(i-1)]){d[l]=8;++b}for(o=1;o<r;o++){if(v[y]!==v[y+1]){d[l+o]=v[y]?4:8;++b}y++}if(0!==v[y]){d[l+o]=4;++b}if(b>1e3)return null;var P=new Int32Array([0,h,-1,0,-h,0,0,0,1]),A=new Path2D;for(a=0;b&&a<=i;a++){for(var S=a*h,E=S+r;S<E&&!d[S];)S++;if(S!==E){A.moveTo(S%h,a);var x=S,k=d[S];do{var D=P[k];do{S+=D}while(!d[S]);var C=d[S];if(5!==C&&10!==C){k=C;d[S]=0}else{k=C&51*k>>4;d[S]&=k>>2|k<<2}A.lineTo(S%h,S/h|0);d[S]||--b}while(x!==S);--a}}v=null;d=null;return function drawOutline(t){t.save();t.scale(1/r,-1/i);t.translate(0,-i);t.fill(A);t.beginPath();t.restore()}}(t));if(a.compiled){a.compiled(i);return}}var o=this._createMaskCanvas(t),l=o.canvas;i.save();i.setTransform(1,0,0,1,0,0);i.drawImage(l,o.offsetX,o.offsetY);i.restore();this.compose()}}},{key:"paintImageMaskXObjectRepeat",value:function paintImageMaskXObjectRepeat(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){t=this.getObject(t.data,t);var h=this.ctx;h.save();var d=(0,o.getCurrentTransform)(h);h.transform(r,i,l,u,0,0);var p=this._createMaskCanvas(t);h.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]);for(var v=0,y=c.length;v<y;v+=2){var g=a.Util.transform(d,[r,i,l,u,c[v],c[v+1]]),m=canvas_slicedToArray(a.Util.applyTransform([0,0],g),2),_=m[0],b=m[1];h.drawImage(p.canvas,_,b)}h.restore();this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function paintImageMaskXObjectGroup(t){if(this.contentVisible){var r,i=this.ctx,a=this.current.fillColor,u=this.current.patternFill,c=canvas_createForOfIteratorHelper(t);try{for(c.s();!(r=c.n()).done;){var h=r.value,d=h.data,p=h.width,v=h.height,y=h.transform,g=this.cachedCanvases.getCanvas("maskCanvas",p,v),m=g.context;m.save();putBinaryImageMask(m,this.getObject(d,h));m.globalCompositeOperation="source-in";m.fillStyle=u?a.getPattern(m,this,(0,o.getCurrentTransformInverse)(i),l):a;m.fillRect(0,0,p,v);m.restore();i.save();i.transform.apply(i,canvas_toConsumableArray(y));i.scale(1,-1);drawImageAtIntegerCoords(i,g.canvas,0,0,p,v,0,-1,1,1);i.restore()}}catch(t){c.e(t)}finally{c.f()}this.compose()}}},{key:"paintImageXObject",value:function paintImageXObject(t){if(this.contentVisible){var r=this.getObject(t);r?this.paintInlineImageXObject(r):(0,a.warn)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function paintImageXObjectRepeat(t,r,i,o){if(this.contentVisible){var l=this.getObject(t);if(l){for(var u=l.width,c=l.height,h=[],d=0,p=o.length;d<p;d+=2)h.push({transform:[r,0,0,i,o[d],o[d+1]],x:0,y:0,w:u,h:c});this.paintInlineImageXObjectGroup(l,h)}else(0,a.warn)("Dependent image isn't ready yet")}}},{key:"applyTransferMapsToCanvas",value:function applyTransferMapsToCanvas(t){if("none"!==this.current.transferMaps){t.filter=this.current.transferMaps;t.drawImage(t.canvas,0,0);t.filter="none"}return t.canvas}},{key:"applyTransferMapsToBitmap",value:function applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;var r=t.bitmap,i=t.width,a=t.height,o=this.cachedCanvases.getCanvas("inlineImage",i,a),l=o.context;l.filter=this.current.transferMaps;l.drawImage(r,0,0);l.filter="none";return o.canvas}},{key:"paintInlineImageXObject",value:function paintInlineImageXObject(t){if(this.contentVisible){var r,i=t.width,l=t.height,u=this.ctx;this.save();if(!a.isNodeJS){var c=u.filter;"none"!==c&&""!==c&&(u.filter="none")}u.scale(1/i,-1/l);if(t.bitmap)r=this.applyTransferMapsToBitmap(t);else if("function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)r=t;else{var h=this.cachedCanvases.getCanvas("inlineImage",i,l).context;putBinaryImageData(h,t);r=this.applyTransferMapsToCanvas(h)}var d=this._scaleImage(r,(0,o.getCurrentTransformInverse)(u));u.imageSmoothingEnabled=getImageSmoothingEnabled((0,o.getCurrentTransform)(u),t.interpolate);drawImageAtIntegerCoords(u,d.img,0,0,d.paintWidth,d.paintHeight,0,-l,i,l);this.compose();this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function paintInlineImageXObjectGroup(t,r){if(this.contentVisible){var i,a=this.ctx;if(t.bitmap)i=t.bitmap;else{var o=t.width,l=t.height,u=this.cachedCanvases.getCanvas("inlineImage",o,l).context;putBinaryImageData(u,t);i=this.applyTransferMapsToCanvas(u)}var c,h=canvas_createForOfIteratorHelper(r);try{for(h.s();!(c=h.n()).done;){var d=c.value;a.save();a.transform.apply(a,canvas_toConsumableArray(d.transform));a.scale(1,-1);drawImageAtIntegerCoords(a,i,d.x,d.y,d.w,d.h,0,-1,1,1);a.restore()}}catch(t){h.e(t)}finally{h.f()}this.compose()}}},{key:"paintSolidColorImageMask",value:function paintSolidColorImageMask(){if(this.contentVisible){this.ctx.fillRect(0,0,1,1);this.compose()}}},{key:"markPoint",value:function markPoint(t){}},{key:"markPointProps",value:function markPointProps(t,r){}},{key:"beginMarkedContent",value:function beginMarkedContent(t){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function beginMarkedContentProps(t,r){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0});this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function endMarkedContent(){this.markedContentStack.pop();this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function beginCompat(){}},{key:"endCompat",value:function endCompat(){}},{key:"consumePath",value:function consumePath(t){var r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath();this.pendingClip||this.compose(t);var i=this.ctx;if(this.pendingClip){r||(this.pendingClip===x?i.clip("evenodd"):i.clip());this.pendingClip=null}this.current.startNewPathAndClipBox(this.current.clipBox);i.beginPath()}},{key:"getSinglePixelWidth",value:function getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){var t=(0,o.getCurrentTransform)(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{var r=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/r}}return this._cachedGetSinglePixelWidth}},{key:"getScaleForStroking",value:function getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){var t,r,i=this.current.lineWidth,a=this.ctx.getTransform(),o=a.a,l=a.b,u=a.c,c=a.d;if(0===l&&0===u){var h=Math.abs(o),d=Math.abs(c);if(h===d)if(0===i)t=r=1/h;else{var p=h*i;t=r=p<1?1/p:1}else if(0===i){t=1/h;r=1/d}else{var v=h*i,y=d*i;t=v<1?1/v:1;r=y<1?1/y:1}}else{var g=Math.abs(o*c-l*u),m=Math.hypot(o,l),_=Math.hypot(u,c);if(0===i){t=_/g;r=m/g}else{var b=i*g;t=_>b?_/b:1;r=m>b?m/b:1}}this._cachedScaleForStroking[0]=t;this._cachedScaleForStroking[1]=r}return this._cachedScaleForStroking}},{key:"rescaleAndStroke",value:function rescaleAndStroke(t){var r=this.ctx,i=this.current.lineWidth,a=canvas_slicedToArray(this.getScaleForStroking(),2),o=a[0],l=a[1];r.lineWidth=i||1;if(1!==o||1!==l){var u=r.getLineDash();t&&r.save();r.scale(o,l);if(u.length>0){var c=Math.max(o,l);r.setLineDash(u.map((function(t){return t/c})));r.lineDashOffset/=c}r.stroke();t&&r.restore()}else r.stroke()}},{key:"isContentVisible",value:function isContentVisible(){for(var t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}]);return CanvasGraphics}();function _restoreInitialState2(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore();if(this.transparentCanvas){this.ctx=this.compositeCtx;this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.drawImage(this.transparentCanvas,0,0);this.ctx.restore();this.transparentCanvas=null}}function _drawFilter2(){if(this.pageColors){var t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){var r=this.ctx.filter;this.ctx.filter=t;this.ctx.drawImage(this.ctx.canvas,0,0);this.ctx.filter=r}}}for(var T in a.OPS)void 0!==C.prototype[T]&&(C.prototype[a.OPS[T]]=C.prototype[T])},473:(t,r,i)=>{i.d(r,{DOMCMapReaderFactory:()=>O,DOMCanvasFactory:()=>I,DOMFilterFactory:()=>T,DOMSVGFactory:()=>L,DOMStandardFontDataFactory:()=>M,PDFDateString:()=>N,PageViewport:()=>G,PixelsPerInch:()=>c,RenderingCancelledException:()=>R,StatTimer:()=>B,fetchData:()=>fetchData,getColorValues:()=>getColorValues,getCurrentTransform:()=>getCurrentTransform,getCurrentTransformInverse:()=>getCurrentTransformInverse,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getRGB:()=>getRGB,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,isValidFetchUrl:()=>isValidFetchUrl,noContextMenu:()=>noContextMenu,setLayerDimensions:()=>setLayerDimensions});i(13),i(9175),i(6128),i(2926),i(9593),i(1133),i(2173),i(2630),i(1024),i(7121),i(6770),i(1378),i(1210),i(7874),i(5136),i(7944),i(895),i(6180),i(4699),i(739),i(4816),i(6923),i(6775),i(6474),i(6450),i(1665),i(8837),i(9803),i(1293),i(1051),i(8260),i(5746),i(202),i(2138),i(368),i(9782),i(917),i(3650),i(8347),i(7192),i(354),i(9080),i(7238),i(7995),i(62),i(6635),i(4602),i(344),i(4305),i(7583),i(3352),i(171),i(8341),i(7942),i(5776),i(4280),i(4997),i(2796),i(2613),i(4226),i(6333),i(1747),i(2374),i(7529),i(3757),i(3655),i(2555),i(2202),i(3032),i(5619),i(9786),i(924),i(6421),i(5598),i(8806),i(9366),i(6678),i(5897),i(7484),i(394),i(5548),i(5666);var a,o=i(6822),l=i(3266);function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperty(t,r,i){(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var u="http://www.w3.org/2000/svg",c=_createClass((function PixelsPerInch(){_classCallCheck(this,PixelsPerInch)}));a=c;_defineProperty(c,"CSS",96);_defineProperty(c,"PDF",72);_defineProperty(c,"PDF_TO_CSS_UNITS",a.CSS/a.PDF);var h=new WeakMap,d=new WeakMap,p=new WeakMap,v=new WeakMap,y=new WeakMap,g=new WeakMap,m=new WeakMap,_=new WeakMap,b=new WeakMap,w=new WeakMap,P=new WeakMap,A=new WeakMap,S=new WeakMap,E=new WeakSet,x=new WeakSet,k=new WeakSet,D=new WeakSet,C=new WeakSet,T=function(t){_inherits(DOMFilterFactory,t);var r=_createSuper(DOMFilterFactory);function DOMFilterFactory(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=i.docId,o=i.ownerDocument,l=void 0===o?globalThis.document:o;_classCallCheck(this,DOMFilterFactory);_classPrivateMethodInitSpec(_assertThisInitialized(t=r.call(this)),C);_classPrivateMethodInitSpec(_assertThisInitialized(t),D);_classPrivateMethodInitSpec(_assertThisInitialized(t),k);_classPrivateMethodInitSpec(_assertThisInitialized(t),x);_classPrivateMethodInitSpec(_assertThisInitialized(t),E);_classPrivateFieldInitSpec(_assertThisInitialized(t),S,{get:_get_defs,set:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(t),A,{get:_get_cache,set:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(t),h,{writable:!0,value:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(t),d,{writable:!0,value:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(t),p,{writable:!0,value:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(t),v,{writable:!0,value:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(t),y,{writable:!0,value:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(t),g,{writable:!0,value:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(t),m,{writable:!0,value:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(t),_,{writable:!0,value:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(t),b,{writable:!0,value:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(t),w,{writable:!0,value:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(t),P,{writable:!0,value:0});_classPrivateFieldSet(_assertThisInitialized(t),p,a);_classPrivateFieldSet(_assertThisInitialized(t),v,l);return t}_createClass(DOMFilterFactory,[{key:"addFilter",value:function addFilter(t){var r,i;if(!t)return"none";var a,o,l,u,c=_classPrivateFieldGet(this,A).get(t);if(c)return c;if(1===t.length){for(var h=t[0],d=new Array(256),v=0;v<256;v++)d[v]=h[v]/255;u=a=o=l=d.join(",")}else{for(var y=_slicedToArray(t,3),g=y[0],m=y[1],_=y[2],b=new Array(256),w=new Array(256),S=new Array(256),E=0;E<256;E++){b[E]=g[E]/255;w[E]=m[E]/255;S[E]=_[E]/255}a=b.join(",");o=w.join(",");l=S.join(",");u="".concat(a).concat(o).concat(l)}if(c=_classPrivateFieldGet(this,A).get(u)){_classPrivateFieldGet(this,A).set(t,c);return c}var k="g_".concat(_classPrivateFieldGet(this,p),"_transfer_map_").concat((_classPrivateFieldSet(this,P,(r=_classPrivateFieldGet(this,P),i=r++,r)),i)),C="url(#".concat(k,")");_classPrivateFieldGet(this,A).set(t,C);_classPrivateFieldGet(this,A).set(u,C);var T=_classPrivateMethodGet(this,x,_createFilter2).call(this,k);_classPrivateMethodGet(this,D,_addTransferMapConversion2).call(this,a,o,l,T);return C}},{key:"addHCMFilter",value:function addHCMFilter(t,r){var i,a="".concat(t,"-").concat(r);if(_classPrivateFieldGet(this,g)===a)return _classPrivateFieldGet(this,m);_classPrivateFieldSet(this,g,a);_classPrivateFieldSet(this,m,"none");null===(i=_classPrivateFieldGet(this,y))||void 0===i||i.remove();if(!t||!r)return _classPrivateFieldGet(this,m);var o=_classPrivateMethodGet(this,C,_getRGB2).call(this,t);t=l.Util.makeHexColor.apply(l.Util,_toConsumableArray(o));var u=_classPrivateMethodGet(this,C,_getRGB2).call(this,r);r=l.Util.makeHexColor.apply(l.Util,_toConsumableArray(u));_classPrivateFieldGet(this,S).style.color="";if("#000000"===t&&"#ffffff"===r||t===r)return _classPrivateFieldGet(this,m);for(var c=new Array(256),h=0;h<=255;h++){var d=h/255;c[h]=d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4)}var v=c.join(","),b="g_".concat(_classPrivateFieldGet(this,p),"_hcm_filter"),w=_classPrivateFieldSet(this,_,_classPrivateMethodGet(this,x,_createFilter2).call(this,b));_classPrivateMethodGet(this,D,_addTransferMapConversion2).call(this,v,v,v,w);_classPrivateMethodGet(this,E,_addGrayConversion2).call(this,w);var P=function getSteps(t,r){for(var i=o[t]/255,a=u[t]/255,l=new Array(r+1),c=0;c<=r;c++)l[c]=i+c/r*(a-i);return l.join(",")};_classPrivateMethodGet(this,D,_addTransferMapConversion2).call(this,P(0,5),P(1,5),P(2,5),w);_classPrivateFieldSet(this,m,"url(#".concat(b,")"));return _classPrivateFieldGet(this,m)}},{key:"addHighlightHCMFilter",value:function addHighlightHCMFilter(t,r,i,a){var o,l="".concat(t,"-").concat(r,"-").concat(i,"-").concat(a);if(_classPrivateFieldGet(this,b)===l)return _classPrivateFieldGet(this,w);_classPrivateFieldSet(this,b,l);_classPrivateFieldSet(this,w,"none");null===(o=_classPrivateFieldGet(this,_))||void 0===o||o.remove();if(!t||!r)return _classPrivateFieldGet(this,w);var u=_slicedToArray([t,r].map(_classPrivateMethodGet(this,C,_getRGB2).bind(this)),2),c=u[0],h=u[1],d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),v=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),y=_slicedToArray([i,a].map(_classPrivateMethodGet(this,C,_getRGB2).bind(this)),2),g=y[0],m=y[1];if(v<d){var P=[v,d,m,g];d=P[0];v=P[1];g=P[2];m=P[3]}_classPrivateFieldGet(this,S).style.color="";var A=function getSteps(t,r,i){for(var a=new Array(256),o=(v-d)/i,l=t/255,u=(r-t)/(255*i),c=0,h=0;h<=i;h++){for(var p=Math.round(d+h*o),y=l+h*u,g=c;g<=p;g++)a[g]=y;c=p+1}for(var m=c;m<256;m++)a[m]=a[c-1];return a.join(",")},k="g_".concat(_classPrivateFieldGet(this,p),"_hcm_highlight_filter"),T=_classPrivateFieldSet(this,_,_classPrivateMethodGet(this,x,_createFilter2).call(this,k));_classPrivateMethodGet(this,E,_addGrayConversion2).call(this,T);_classPrivateMethodGet(this,D,_addTransferMapConversion2).call(this,A(g[0],m[0],5),A(g[1],m[1],5),A(g[2],m[2],5),T);_classPrivateFieldSet(this,w,"url(#".concat(k,")"));return _classPrivateFieldGet(this,w)}},{key:"destroy",value:function destroy(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])||!_classPrivateFieldGet(this,m)&&!_classPrivateFieldGet(this,w)){if(_classPrivateFieldGet(this,d)){_classPrivateFieldGet(this,d).parentNode.parentNode.remove();_classPrivateFieldSet(this,d,null)}if(_classPrivateFieldGet(this,h)){_classPrivateFieldGet(this,h).clear();_classPrivateFieldSet(this,h,null)}_classPrivateFieldSet(this,P,0)}}}]);return DOMFilterFactory}(o.BaseFilterFactory);function _get_cache(){return _classPrivateFieldGet(this,h)||_classPrivateFieldSet(this,h,new Map)}function _get_defs(){if(!_classPrivateFieldGet(this,d)){var t=_classPrivateFieldGet(this,v).createElement("div"),r=t.style;r.visibility="hidden";r.contain="strict";r.width=r.height=0;r.position="absolute";r.top=r.left=0;r.zIndex=-1;var i=_classPrivateFieldGet(this,v).createElementNS(u,"svg");i.setAttribute("width",0);i.setAttribute("height",0);_classPrivateFieldSet(this,d,_classPrivateFieldGet(this,v).createElementNS(u,"defs"));t.append(i);i.append(_classPrivateFieldGet(this,d));_classPrivateFieldGet(this,v).body.append(t)}return _classPrivateFieldGet(this,d)}function _addGrayConversion2(t){var r=_classPrivateFieldGet(this,v).createElementNS(u,"feColorMatrix");r.setAttribute("type","matrix");r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0");t.append(r)}function _createFilter2(t){var r=_classPrivateFieldGet(this,v).createElementNS(u,"filter");r.setAttribute("color-interpolation-filters","sRGB");r.setAttribute("id",t);_classPrivateFieldGet(this,S).append(r);return r}function _appendFeFunc2(t,r,i){var a=_classPrivateFieldGet(this,v).createElementNS(u,r);a.setAttribute("type","discrete");a.setAttribute("tableValues",i);t.append(a)}function _addTransferMapConversion2(t,r,i,a){var o=_classPrivateFieldGet(this,v).createElementNS(u,"feComponentTransfer");a.append(o);_classPrivateMethodGet(this,k,_appendFeFunc2).call(this,o,"feFuncR",t);_classPrivateMethodGet(this,k,_appendFeFunc2).call(this,o,"feFuncG",r);_classPrivateMethodGet(this,k,_appendFeFunc2).call(this,o,"feFuncB",i)}function _getRGB2(t){_classPrivateFieldGet(this,S).style.color=t;return getRGB(getComputedStyle(_classPrivateFieldGet(this,S)).getPropertyValue("color"))}var I=function(t){_inherits(DOMCanvasFactory,t);var r=_createSuper(DOMCanvasFactory);function DOMCanvasFactory(){var t,i=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ownerDocument,a=void 0===i?globalThis.document:i;_classCallCheck(this,DOMCanvasFactory);(t=r.call(this))._document=a;return t}_createClass(DOMCanvasFactory,[{key:"_createCanvas",value:function _createCanvas(t,r){var i=this._document.createElement("canvas");i.width=t;i.height=r;return i}}]);return DOMCanvasFactory}(o.BaseCanvasFactory);function fetchData(t){return _fetchData.apply(this,arguments)}function _fetchData(){_fetchData=function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(t){var r,i,a=arguments;return _regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:r=a.length>1&&void 0!==a[1]?a[1]:"text";if(!isValidFetchUrl(t,document.baseURI)){o.next=14;break}o.next=4;return fetch(t);case 4:if((i=o.sent).ok){o.next=7;break}throw new Error(i.statusText);case 7:o.t0=r;o.next="arraybuffer"===o.t0?10:"blob"===o.t0?11:"json"===o.t0?12:13;break;case 10:return o.abrupt("return",i.arrayBuffer());case 11:return o.abrupt("return",i.blob());case 12:return o.abrupt("return",i.json());case 13:return o.abrupt("return",i.text());case 14:return o.abrupt("return",new Promise((function(i,a){var o=new XMLHttpRequest;o.open("GET",t,!0);o.responseType=r;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){var t;switch(r){case"arraybuffer":case"blob":case"json":t=o.response;break;default:t=o.responseText}if(t){i(t);return}}a(new Error(o.statusText))}};o.send(null)})));case 15:case"end":return o.stop()}}),_callee)})));return _fetchData.apply(this,arguments)}var O=function(t){_inherits(DOMCMapReaderFactory,t);var r=_createSuper(DOMCMapReaderFactory);function DOMCMapReaderFactory(){_classCallCheck(this,DOMCMapReaderFactory);return r.apply(this,arguments)}_createClass(DOMCMapReaderFactory,[{key:"_fetchData",value:function _fetchData(t,r){return fetchData(t,this.isCompressed?"arraybuffer":"text").then((function(t){return{cMapData:t instanceof ArrayBuffer?new Uint8Array(t):(0,l.stringToBytes)(t),compressionType:r}}))}}]);return DOMCMapReaderFactory}(o.BaseCMapReaderFactory),M=function(t){_inherits(DOMStandardFontDataFactory,t);var r=_createSuper(DOMStandardFontDataFactory);function DOMStandardFontDataFactory(){_classCallCheck(this,DOMStandardFontDataFactory);return r.apply(this,arguments)}_createClass(DOMStandardFontDataFactory,[{key:"_fetchData",value:function _fetchData(t){return fetchData(t,"arraybuffer").then((function(t){return new Uint8Array(t)}))}}]);return DOMStandardFontDataFactory}(o.BaseStandardFontDataFactory),L=function(t){_inherits(DOMSVGFactory,t);var r=_createSuper(DOMSVGFactory);function DOMSVGFactory(){_classCallCheck(this,DOMSVGFactory);return r.apply(this,arguments)}_createClass(DOMSVGFactory,[{key:"_createSVG",value:function _createSVG(t){return document.createElementNS(u,t)}}]);return DOMSVGFactory}(o.BaseSVGFactory),G=function(){function PageViewport(t){var r=t.viewBox,i=t.scale,a=t.rotation,o=t.offsetX,l=void 0===o?0:o,u=t.offsetY,c=void 0===u?0:u,h=t.dontFlip,d=void 0!==h&&h;_classCallCheck(this,PageViewport);this.viewBox=r;this.scale=i;this.rotation=a;this.offsetX=l;this.offsetY=c;var p,v,y,g,m,_,b,w,P=(r[2]+r[0])/2,A=(r[3]+r[1])/2;(a%=360)<0&&(a+=360);switch(a){case 180:p=-1;v=0;y=0;g=1;break;case 90:p=0;v=1;y=1;g=0;break;case 270:p=0;v=-1;y=-1;g=0;break;case 0:p=1;v=0;y=0;g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}if(d){y=-y;g=-g}if(0===p){m=Math.abs(A-r[1])*i+l;_=Math.abs(P-r[0])*i+c;b=(r[3]-r[1])*i;w=(r[2]-r[0])*i}else{m=Math.abs(P-r[0])*i+l;_=Math.abs(A-r[1])*i+c;b=(r[2]-r[0])*i;w=(r[3]-r[1])*i}this.transform=[p*i,v*i,y*i,g*i,m-p*i*P-y*i*A,_-v*i*P-g*i*A];this.width=b;this.height=w}_createClass(PageViewport,[{key:"rawDims",get:function get(){var t=this.viewBox;return(0,l.shadow)(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}},{key:"clone",value:function clone(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.scale,i=void 0===r?this.scale:r,a=t.rotation,o=void 0===a?this.rotation:a,l=t.offsetX,u=void 0===l?this.offsetX:l,c=t.offsetY,h=void 0===c?this.offsetY:c,d=t.dontFlip,p=void 0!==d&&d;return new PageViewport({viewBox:this.viewBox.slice(),scale:i,rotation:o,offsetX:u,offsetY:h,dontFlip:p})}},{key:"convertToViewportPoint",value:function convertToViewportPoint(t,r){return l.Util.applyTransform([t,r],this.transform)}},{key:"convertToViewportRectangle",value:function convertToViewportRectangle(t){var r=l.Util.applyTransform([t[0],t[1]],this.transform),i=l.Util.applyTransform([t[2],t[3]],this.transform);return[r[0],r[1],i[0],i[1]]}},{key:"convertToPdfPoint",value:function convertToPdfPoint(t,r){return l.Util.applyInverseTransform([t,r],this.transform)}}]);return PageViewport}(),R=function(t){_inherits(RenderingCancelledException,t);var r=_createSuper(RenderingCancelledException);function RenderingCancelledException(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,RenderingCancelledException);(i=r.call(this,t,"RenderingCancelledException")).extraDelay=a;return i}return _createClass(RenderingCancelledException)}(l.BaseException);function isDataScheme(t){for(var r=t.length,i=0;i<r&&""===t[i].trim();)i++;return"data:"===t.substring(i,i+5).toLowerCase()}function isPdfFile(t){return"string"==typeof t&&/\.pdf$/i.test(t)}function getFilenameFromUrl(t){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var r=t.split(/[#?]/,1);t=_slicedToArray(r,1)[0]}return t.substring(t.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if(window.PDFViewerApplication.appConfig.filenameForDownload)return window.PDFViewerApplication.appConfig.filenameForDownload;if("string"!=typeof t)return r;if(isDataScheme(t)){(0,l.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.');return r}var i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t),o=i.exec(a[1])||i.exec(a[2])||i.exec(a[3]);if(o&&(o=o[0]).includes("%"))try{o=i.exec(decodeURIComponent(o))[0]}catch(t){}return o||r}var j,B=function(){function StatTimer(){_classCallCheck(this,StatTimer);_defineProperty(this,"started",Object.create(null));_defineProperty(this,"times",[])}_createClass(StatTimer,[{key:"time",value:function time(t){t in this.started&&(0,l.warn)("Timer is already running for ".concat(t));this.started[t]=Date.now()}},{key:"timeEnd",value:function timeEnd(t){t in this.started||(0,l.warn)("Timer has not been started for ".concat(t));this.times.push({name:t,start:this.started[t],end:Date.now()});delete this.started[t]}},{key:"toString",value:function toString(){var t,r=[],i=0,a=_createForOfIteratorHelper(this.times);try{for(a.s();!(t=a.n()).done;){var o=t.value.name;i=Math.max(o.length,i)}}catch(t){a.e(t)}finally{a.f()}var l,u=_createForOfIteratorHelper(this.times);try{for(u.s();!(l=u.n()).done;){var c=l.value,h=c.name,d=c.start,p=c.end;r.push("".concat(h.padEnd(i)," ").concat(p-d,"ms\n"))}}catch(t){u.e(t)}finally{u.f()}return r.join("")}}]);return StatTimer}();function isValidFetchUrl(t,r){try{var i=(r?new URL(t,r):new URL(t)).protocol;return"http:"===i||"https:"===i||"capacitor:"===i}catch(t){return!1}}function noContextMenu(t){t.preventDefault()}var N=function(){function PDFDateString(){_classCallCheck(this,PDFDateString)}_createClass(PDFDateString,null,[{key:"toDateObject",value:function toDateObject(t){if(!t||"string"!=typeof t)return null;j||(j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var r=j.exec(t);if(!r)return null;var i=parseInt(r[1],10),a=parseInt(r[2],10);a=a>=1&&a<=12?a-1:0;var o=parseInt(r[3],10);o=o>=1&&o<=31?o:1;var l=parseInt(r[4],10);l=l>=0&&l<=23?l:0;var u=parseInt(r[5],10);u=u>=0&&u<=59?u:0;var c=parseInt(r[6],10);c=c>=0&&c<=59?c:0;var h=r[7]||"Z",d=parseInt(r[8],10);d=d>=0&&d<=23?d:0;var p=parseInt(r[9],10)||0;p=p>=0&&p<=59?p:0;if("-"===h){l+=d;u+=p}else if("+"===h){l-=d;u-=p}return new Date(Date.UTC(i,a,o,l,u,c))}}]);return PDFDateString}();function getXfaPageViewport(t,r){var i=r.scale,a=void 0===i?1:i,o=r.rotation,l=void 0===o?0:o,u=t.attributes.style,c=u.width,h=u.height,d=[0,0,parseInt(c),parseInt(h)];return new G({viewBox:d,scale:a,rotation:l})}function getRGB(t){if(t.startsWith("#")){var r=parseInt(t.slice(1),16);return[(16711680&r)>>16,(65280&r)>>8,255&r]}if(t.startsWith("rgb("))return t.slice(4,-1).split(",").map((function(t){return parseInt(t)}));if(t.startsWith("rgba("))return t.slice(5,-1).split(",").map((function(t){return parseInt(t)})).slice(0,3);(0,l.warn)('Not a valid color format: "'.concat(t,'"'));return[0,0,0]}function getColorValues(t){var r=document.createElement("span");r.style.visibility="hidden";document.body.append(r);var i,a=_createForOfIteratorHelper(t.keys());try{for(a.s();!(i=a.n()).done;){var o=i.value;r.style.color=o;var l=window.getComputedStyle(r).color;t.set(o,getRGB(l))}}catch(t){a.e(t)}finally{a.f()}r.remove()}function getCurrentTransform(t){var r=t.getTransform();return[r.a,r.b,r.c,r.d,r.e,r.f]}function getCurrentTransformInverse(t){var r=t.getTransform().invertSelf();return[r.a,r.b,r.c,r.d,r.e,r.f]}function setLayerDimensions(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(r instanceof G){var o=r.rawDims,u=o.pageWidth,c=o.pageHeight,h=t.style,d=l.FeatureTest.isCSSRoundSupported,p="var(--scale-factor) * ".concat(u,"px"),v="var(--scale-factor) * ".concat(c,"px"),y=d?"round(".concat(p,", 1px)"):"calc(".concat(p,")"),g=d?"round(".concat(v,", 1px)"):"calc(".concat(v,")");if(i&&r.rotation%180!=0){h.width=g;h.height=y}else{h.width=y;h.height=g}}a&&t.setAttribute("data-main-rotation",r.rotation)}},9423:(t,r,i)=>{i.d(r,{DrawLayer:()=>p});i(3352),i(5598),i(8806),i(9366),i(6678),i(5897),i(171),i(924),i(9593),i(7942),i(5776),i(2926),i(6180),i(5548),i(895),i(1747),i(2374),i(7874),i(7484),i(394),i(4226);var a,o=i(473),l=i(3266);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classStaticPrivateMethodGet(t,r,i){!function _classCheckPrivateStaticAccess(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}(t,r);return i}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var u=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakSet,p=function(){function DrawLayer(t){var r=t.pageIndex;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,DrawLayer);!function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}(this,d);_classPrivateFieldInitSpec(this,u,{writable:!0,value:null});_classPrivateFieldInitSpec(this,c,{writable:!0,value:0});_classPrivateFieldInitSpec(this,h,{writable:!0,value:new Map});this.pageIndex=r}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(DrawLayer,[{key:"setParent",value:function setParent(t){if(_classPrivateFieldGet(this,u)){if(_classPrivateFieldGet(this,u)!==t){if(_classPrivateFieldGet(this,h).size>0){var r,i=_createForOfIteratorHelper(_classPrivateFieldGet(this,h).values());try{for(i.s();!(r=i.n()).done;){var a=r.value;a.remove();t.append(a)}}catch(t){i.e(t)}finally{i.f()}}_classPrivateFieldSet(this,u,t)}}else _classPrivateFieldSet(this,u,t)}},{key:"highlight",value:function highlight(t,r,i){var a,o,l=t.outlines,u=t.box,p=(_classPrivateFieldSet(this,c,(a=_classPrivateFieldGet(this,c),o=a++,a)),o),v=_classPrivateMethodGet(this,d,_createSVG2).call(this,u);v.classList.add("highlight");var y=DrawLayer._svgFactory.createElement("defs");v.append(y);var g=DrawLayer._svgFactory.createElement("path");y.append(g);var m="path_p".concat(this.pageIndex,"_").concat(p);g.setAttribute("id",m);g.setAttribute("d",_classStaticPrivateMethodGet(DrawLayer,DrawLayer,_extractPathFromHighlightOutlines).call(DrawLayer,l));var _=DrawLayer._svgFactory.createElement("clipPath");y.append(_);var b="clip_".concat(m);_.setAttribute("id",b);_.setAttribute("clipPathUnits","objectBoundingBox");var w=DrawLayer._svgFactory.createElement("use");_.append(w);w.setAttribute("href","#".concat(m));w.classList.add("clip");var P=DrawLayer._svgFactory.createElement("use");v.append(P);v.setAttribute("fill",r);v.setAttribute("fill-opacity",i);P.setAttribute("href","#".concat(m));_classPrivateFieldGet(this,h).set(p,v);return{id:p,clipPathId:"url(#".concat(b,")")}}},{key:"highlightOutline",value:function highlightOutline(t){var r,i,a=t.outlines,o=t.box,l=(_classPrivateFieldSet(this,c,(r=_classPrivateFieldGet(this,c),i=r++,r)),i),u=_classPrivateMethodGet(this,d,_createSVG2).call(this,o);u.classList.add("highlightOutline");var p=DrawLayer._svgFactory.createElement("defs");u.append(p);var v=DrawLayer._svgFactory.createElement("path");p.append(v);var y="path_p".concat(this.pageIndex,"_").concat(l);v.setAttribute("id",y);v.setAttribute("d",_classStaticPrivateMethodGet(DrawLayer,DrawLayer,_extractPathFromHighlightOutlines).call(DrawLayer,a));v.setAttribute("vector-effect","non-scaling-stroke");var g=DrawLayer._svgFactory.createElement("use");u.append(g);g.setAttribute("href","#".concat(y));var m=g.cloneNode();u.append(m);g.classList.add("mainOutline");m.classList.add("secondaryOutline");_classPrivateFieldGet(this,h).set(l,u);return l}},{key:"updateBox",value:function updateBox(t,r){_classStaticPrivateMethodGet(DrawLayer,DrawLayer,_setBox).call(DrawLayer,_classPrivateFieldGet(this,h).get(t),r)}},{key:"rotate",value:function rotate(t,r){_classPrivateFieldGet(this,h).get(t).setAttribute("data-main-rotation",r)}},{key:"changeColor",value:function changeColor(t,r){_classPrivateFieldGet(this,h).get(t).setAttribute("fill",r)}},{key:"changeOpacity",value:function changeOpacity(t,r){_classPrivateFieldGet(this,h).get(t).setAttribute("fill-opacity",r)}},{key:"addClass",value:function addClass(t,r){_classPrivateFieldGet(this,h).get(t).classList.add(r)}},{key:"removeClass",value:function removeClass(t,r){_classPrivateFieldGet(this,h).get(t).classList.remove(r)}},{key:"remove",value:function remove(t){_classPrivateFieldGet(this,h).get(t).remove();_classPrivateFieldGet(this,h).delete(t)}},{key:"destroy",value:function destroy(){_classPrivateFieldSet(this,u,null);var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,h).values());try{for(r.s();!(t=r.n()).done;){t.value.remove()}}catch(t){r.e(t)}finally{r.f()}_classPrivateFieldGet(this,h).clear()}}],[{key:"_svgFactory",get:function get(){return(0,l.shadow)(this,"_svgFactory",new o.DOMSVGFactory)}}]);return DrawLayer}();a=p;function _setBox(t,r){var i=r.x,a=r.y,o=r.width,l=r.height,u=t.style;u.top="".concat(100*a,"%");u.left="".concat(100*i,"%");u.width="".concat(100*o,"%");u.height="".concat(100*l,"%")}function _createSVG2(t){var r=a._svgFactory.create(1,1,!0);_classPrivateFieldGet(this,u).append(r);_classStaticPrivateMethodGet(a,a,_setBox).call(a,r,t);return r}function _extractPathFromHighlightOutlines(t){var r,i=[],a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,l=_slicedToArray(o,2),u=l[0],c=l[1];i.push("M".concat(u," ").concat(c));for(var h=2;h<o.length;h+=2){var d=o[h],p=o[h+1];if(d===u){i.push("V".concat(p));c=p}else if(p===c){i.push("H".concat(d));u=d}}i.push("Z")}}catch(t){a.e(t)}finally{a.f()}return i.join(" ")}},331:(t,r,i)=>{i.d(r,{AnnotationEditorLayer:()=>tt});i(3352),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926),i(9593),i(171),i(924),i(7942),i(5776),i(4668),i(1585),i(7121),i(2993),i(7262),i(4226),i(6770),i(1378),i(7335),i(6180),i(5548),i(895),i(1747),i(2374),i(2048),i(5561),i(8587),i(3247),i(3302),i(9490),i(5438),i(7914),i(7484),i(394),i(5136),i(7944);var a,o=i(3266),l=i(5796),u=(i(8341),i(5404),i(4711),i(8518),i(13),i(9175),i(6128),i(9718),i(4812)),c=i(7640);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach((function(r){_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _get(){_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,r,i){var a=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?t:i):o.value}};return _get.apply(this,arguments)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _defineProperty(t,r,i){(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var h=new WeakMap,d=new WeakMap,p=new WeakMap,v=new WeakMap,y=new WeakMap,g=new WeakMap,m=new WeakMap,_=new WeakMap,b=new WeakMap,w=new WeakSet,P=new WeakSet,A=new WeakSet,S=new WeakSet,E=new WeakSet,x=new WeakSet,k=new WeakSet,D=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}(FreeTextEditor,t);var r=_createSuper(FreeTextEditor);function FreeTextEditor(t){var i;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,FreeTextEditor);_classPrivateMethodInitSpec(_assertThisInitialized(i=r.call(this,_objectSpread(_objectSpread({},t),{},{name:"freeTextEditor"}))),k);_classPrivateMethodInitSpec(_assertThisInitialized(i),x);_classPrivateMethodInitSpec(_assertThisInitialized(i),E);_classPrivateMethodInitSpec(_assertThisInitialized(i),S);_classPrivateMethodInitSpec(_assertThisInitialized(i),A);_classPrivateMethodInitSpec(_assertThisInitialized(i),P);_classPrivateMethodInitSpec(_assertThisInitialized(i),w);_classPrivateFieldInitSpec(_assertThisInitialized(i),h,{writable:!0,value:i.editorDivBlur.bind(_assertThisInitialized(i))});_classPrivateFieldInitSpec(_assertThisInitialized(i),d,{writable:!0,value:i.editorDivFocus.bind(_assertThisInitialized(i))});_classPrivateFieldInitSpec(_assertThisInitialized(i),p,{writable:!0,value:i.editorDivInput.bind(_assertThisInitialized(i))});_classPrivateFieldInitSpec(_assertThisInitialized(i),v,{writable:!0,value:i.editorDivKeydown.bind(_assertThisInitialized(i))});_classPrivateFieldInitSpec(_assertThisInitialized(i),y,{writable:!0,value:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(i),g,{writable:!0,value:""});_classPrivateFieldInitSpec(_assertThisInitialized(i),m,{writable:!0,value:"".concat(i.id,"-editor")});_classPrivateFieldInitSpec(_assertThisInitialized(i),_,{writable:!0,value:void 0});_classPrivateFieldInitSpec(_assertThisInitialized(i),b,{writable:!0,value:null});_classPrivateFieldSet(_assertThisInitialized(i),y,t.color||FreeTextEditor._defaultColor||l.AnnotationEditor._defaultLineColor);_classPrivateFieldSet(_assertThisInitialized(i),_,t.fontSize||FreeTextEditor._defaultFontSize);return i}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(FreeTextEditor,[{key:"updateParams",value:function updateParams(t,r){switch(t){case o.AnnotationEditorParamsType.FREETEXT_SIZE:_classPrivateMethodGet(this,w,_updateFontSize2).call(this,r);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:_classPrivateMethodGet(this,P,_updateColor2).call(this,r)}}},{key:"propertiesToUpdate",get:function get(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(this,_)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(this,y)]]}},{key:"_translateEmpty",value:function _translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}},{key:"getInitialTranslation",value:function getInitialTranslation(){var t=this.parentScale;return[-FreeTextEditor._internalPadding*t,-(FreeTextEditor._internalPadding+_classPrivateFieldGet(this,_))*t]}},{key:"rebuild",value:function rebuild(){if(this.parent){_get(_getPrototypeOf(FreeTextEditor.prototype),"rebuild",this).call(this);null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}}},{key:"enableEditMode",value:function enableEditMode(){if(!this.isInEditMode()){this.parent.setEditingState(!1);this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT);_get(_getPrototypeOf(FreeTextEditor.prototype),"enableEditMode",this).call(this);this.overlayDiv.classList.remove("enabled");this.editorDiv.contentEditable=!0;this._isDraggable=!1;this.div.removeAttribute("aria-activedescendant");this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(this,v));this.editorDiv.addEventListener("focus",_classPrivateFieldGet(this,d));this.editorDiv.addEventListener("blur",_classPrivateFieldGet(this,h));this.editorDiv.addEventListener("input",_classPrivateFieldGet(this,p))}}},{key:"disableEditMode",value:function disableEditMode(){if(this.isInEditMode()){this.parent.setEditingState(!0);_get(_getPrototypeOf(FreeTextEditor.prototype),"disableEditMode",this).call(this);this.overlayDiv.classList.add("enabled");this.editorDiv.contentEditable=!1;this.div.setAttribute("aria-activedescendant",_classPrivateFieldGet(this,m));this._isDraggable=!0;this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(this,v));this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(this,d));this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(this,h));this.editorDiv.removeEventListener("input",_classPrivateFieldGet(this,p));this.div.focus({preventScroll:!0});this.isEditing=!1;this.parent.div.classList.add("freetextEditing")}}},{key:"focusin",value:function focusin(t){if(this._focusEventsAllowed){_get(_getPrototypeOf(FreeTextEditor.prototype),"focusin",this).call(this,t);t.target!==this.editorDiv&&this.editorDiv.focus()}}},{key:"onceAdded",value:function onceAdded(){var t;if(this.width)_classPrivateMethodGet(this,k,_cheatInitialRect2).call(this);else{this.enableEditMode();this.editorDiv.focus();null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered&&this.center();this._initialOptions=null}}},{key:"isEmpty",value:function isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}},{key:"remove",value:function remove(){this.isEditing=!1;if(this.parent){this.parent.setEditingState(!0);this.parent.div.classList.add("freetextEditing")}_get(_getPrototypeOf(FreeTextEditor.prototype),"remove",this).call(this)}},{key:"commit",value:function commit(){var t=this;if(this.isInEditMode()){_get(_getPrototypeOf(FreeTextEditor.prototype),"commit",this).call(this);this.disableEditMode();var r=_classPrivateFieldGet(this,g),i=_classPrivateFieldSet(this,g,_classPrivateMethodGet(this,A,_extractText2).call(this).trimEnd());if(r!==i){var a=function setText(r){_classPrivateFieldSet(t,g,r);if(r){_classPrivateMethodGet(t,E,_setContent2).call(t);t._uiManager.rebuild(t);_classPrivateMethodGet(t,S,_setEditorDimensions2).call(t)}else t.remove()};this.addCommands({cmd:function cmd(){a(i)},undo:function undo(){a(r)},mustExec:!1});_classPrivateMethodGet(this,S,_setEditorDimensions2).call(this)}}}},{key:"shouldGetKeyboardEvents",value:function shouldGetKeyboardEvents(){return this.isInEditMode()}},{key:"enterInEditMode",value:function enterInEditMode(){this.enableEditMode();this.editorDiv.focus()}},{key:"dblclick",value:function dblclick(t){this.enterInEditMode()}},{key:"keydown",value:function keydown(t){if(t.target===this.div&&"Enter"===t.key){this.enterInEditMode();t.preventDefault()}}},{key:"editorDivKeydown",value:function editorDivKeydown(t){FreeTextEditor._keyboardManager.exec(this,t)}},{key:"editorDivFocus",value:function editorDivFocus(t){this.isEditing=!0}},{key:"editorDivBlur",value:function editorDivBlur(t){this.isEditing=!1}},{key:"editorDivInput",value:function editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}},{key:"disableEditing",value:function disableEditing(){this.editorDiv.setAttribute("role","comment");this.editorDiv.removeAttribute("aria-multiline")}},{key:"enableEditing",value:function enableEditing(){this.editorDiv.setAttribute("role","textbox");this.editorDiv.setAttribute("aria-multiline",!0)}},{key:"render",value:function render(){var t,r,i=this;if(this.div)return this.div;if(this.width){t=this.x;r=this.y}_get(_getPrototypeOf(FreeTextEditor.prototype),"render",this).call(this);this.editorDiv=document.createElement("div");this.editorDiv.className="internal";this.editorDiv.setAttribute("id",_classPrivateFieldGet(this,m));this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text");this.enableEditing();l.AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then((function(t){var r;return null===(r=i.editorDiv)||void 0===r?void 0:r.setAttribute("default-content",t)}));this.editorDiv.contentEditable=!0;var a=this.editorDiv.style;a.fontSize="calc(".concat(_classPrivateFieldGet(this,_),"px * var(--scale-factor))");a.color=_classPrivateFieldGet(this,y);this.div.append(this.editorDiv);this.overlayDiv=document.createElement("div");this.overlayDiv.classList.add("overlay","enabled");this.div.append(this.overlayDiv);(0,u.bindEvents)(this,this.div,["dblclick","keydown"]);if(this.width){var o=_slicedToArray(this.parentDimensions,2),c=o[0],h=o[1];if(this.annotationElementId){var d=_classPrivateFieldGet(this,b).position,p=_slicedToArray(this.getInitialTranslation(),2),v=p[0],g=p[1],w=_slicedToArray(this.pageTranslationToScreen(v,g),2);v=w[0];g=w[1];var P,A,S=_slicedToArray(this.pageDimensions,2),x=S[0],k=S[1],D=_slicedToArray(this.pageTranslation,2),C=D[0],T=D[1];switch(this.rotation){case 0:P=t+(d[0]-C)/x;A=r+this.height-(d[1]-T)/k;break;case 90:P=t+(d[0]-C)/x;A=r-(d[1]-T)/k;var I=[g,-v];v=I[0];g=I[1];break;case 180:P=t-this.width+(d[0]-C)/x;A=r-(d[1]-T)/k;var O=[-v,-g];v=O[0];g=O[1];break;case 270:P=t+(d[0]-C-this.height*k)/x;A=r+(d[1]-T-this.width*x)/k;var M=[-g,v];v=M[0];g=M[1]}this.setAt(P*c,A*h,v,g)}else this.setAt(t*c,r*h,this.width*c,this.height*h);_classPrivateMethodGet(this,E,_setContent2).call(this);this._isDraggable=!0;this.editorDiv.contentEditable=!1}else{this._isDraggable=!1;this.editorDiv.contentEditable=!0}return this.div}},{key:"contentDiv",get:function get(){return this.editorDiv}},{key:"serialize",value:function serialize(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};var r=FreeTextEditor._internalPadding*this.parentScale,i=this.getRect(r,r),a=l.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_classPrivateFieldGet(this,y)),u={annotationType:o.AnnotationEditorType.FREETEXT,color:a,fontSize:_classPrivateFieldGet(this,_),value:_classPrivateFieldGet(this,g),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};if(t)return u;if(this.annotationElementId&&!_classPrivateMethodGet(this,x,_hasElementChanged2).call(this,u))return null;u.id=this.annotationElementId;return u}}],[{key:"_keyboardManager",get:function get(){var t=FreeTextEditor.prototype,r=function arrowChecker(t){return t.isEmpty()},i=u.AnnotationEditorUIManager.TRANSLATE_SMALL,a=u.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new u.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:r}]]))}},{key:"initialize",value:function initialize(t){l.AnnotationEditor.initialize(t,{strings:["pdfjs-free-text-default-content"]});var r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}},{key:"updateDefaultParams",value:function updateDefaultParams(t,r){switch(t){case o.AnnotationEditorParamsType.FREETEXT_SIZE:FreeTextEditor._defaultFontSize=r;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:FreeTextEditor._defaultColor=r}}},{key:"defaultPropertiesToUpdate",get:function get(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,FreeTextEditor._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,FreeTextEditor._defaultColor||l.AnnotationEditor._defaultLineColor]]}},{key:"deserialize",value:function deserialize(t,r,i){var a=null;if(t instanceof c.FreeTextAnnotationElement){var l=t,u=l.data,h=u.defaultAppearanceData,d=h.fontSize,p=h.fontColor,v=u.rect,m=u.rotation,w=u.id,P=l.textContent,A=l.textPosition,S=l.parent.page.pageNumber;if(!P||0===P.length)return null;a=t={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(p),fontSize:d,value:P.join("\n"),position:A,pageIndex:S-1,rect:v,rotation:m,id:w,deleted:!1}}var E=_get(_getPrototypeOf(FreeTextEditor),"deserialize",this).call(this,t,r,i);_classPrivateFieldSet(E,_,t.fontSize);_classPrivateFieldSet(E,y,o.Util.makeHexColor.apply(o.Util,_toConsumableArray(t.color)));_classPrivateFieldSet(E,g,t.value);E.annotationElementId=t.id||null;_classPrivateFieldSet(E,b,a);return E}}]);return FreeTextEditor}(l.AnnotationEditor);a=D;function _updateFontSize2(t){var r=this,i=function setFontsize(t){r.editorDiv.style.fontSize="calc(".concat(t,"px * var(--scale-factor))");r.translate(0,-(t-_classPrivateFieldGet(r,_))*r.parentScale);_classPrivateFieldSet(r,_,t);_classPrivateMethodGet(r,S,_setEditorDimensions2).call(r)},a=_classPrivateFieldGet(this,_);this.addCommands({cmd:function cmd(){i(t)},undo:function undo(){i(a)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function _updateColor2(t){var r=this,i=_classPrivateFieldGet(this,y);this.addCommands({cmd:function cmd(){_classPrivateFieldSet(r,y,r.editorDiv.style.color=t)},undo:function undo(){_classPrivateFieldSet(r,y,r.editorDiv.style.color=i)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function _extractText2(){var t=this.editorDiv.getElementsByTagName("div");if(0===t.length)return this.editorDiv.innerText;var r,i=[],a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.push(o.innerText.replace(/\r\n?|\n/,""))}}catch(t){a.e(t)}finally{a.f()}return i.join("\n")}function _setEditorDimensions2(){var t,r=_slicedToArray(this.parentDimensions,2),i=r[0],a=r[1];if(this.isAttachedToDOM)t=this.div.getBoundingClientRect();else{var o=this.currentLayer,l=this.div,u=l.style.display;l.style.display="hidden";o.div.append(this.div);t=l.getBoundingClientRect();l.remove();l.style.display=u}if(this.rotation%180==this.parentRotation%180){this.width=t.width/i;this.height=t.height/a}else{this.width=t.height/i;this.height=t.width/a}this.fixAndSetPosition()}function _setContent2(){this.editorDiv.replaceChildren();if(_classPrivateFieldGet(this,g)){var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,g).split("\n"));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=document.createElement("div");a.append(i?document.createTextNode(i):document.createElement("br"));this.editorDiv.append(a)}}catch(t){r.e(t)}finally{r.f()}}}function _hasElementChanged2(t){var r=_classPrivateFieldGet(this,b),i=r.value,a=r.fontSize,o=r.color,l=r.rect,u=r.pageIndex;return t.value!==i||t.fontSize!==a||t.rect.some((function(t,r){return Math.abs(t-l[r])>=1}))||t.color.some((function(t,r){return t!==o[r]}))||t.pageIndex!==u}function _cheatInitialRect2(){var t=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.annotationElementId){_classPrivateMethodGet(this,S,_setEditorDimensions2).call(this);if(r||0!==this.width&&0!==this.height){var i=a._internalPadding*this.parentScale;_classPrivateFieldGet(this,b).rect=this.getRect(i,i)}else setTimeout((function(){return _classPrivateMethodGet(t,k,_cheatInitialRect2).call(t,!0)}),0)}}_defineProperty(D,"_freeTextDefaultContent","");_defineProperty(D,"_internalPadding",0);_defineProperty(D,"_defaultColor",null);_defineProperty(D,"_defaultFontSize",10);_defineProperty(D,"_type","freetext");_defineProperty(D,"_editorType",o.AnnotationEditorType.FREETEXT);i(7874),i(6820),i(10);var C,T=i(473);function ink_typeof(t){return ink_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ink_typeof(t)}function ink_createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=ink_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function ink_toConsumableArray(t){return function ink_arrayWithoutHoles(t){if(Array.isArray(t))return ink_arrayLikeToArray(t)}(t)||function ink_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ink_unsupportedIterableToArray(t)||function ink_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ink_slicedToArray(t,r){return function ink_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function ink_iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||ink_unsupportedIterableToArray(t,r)||function ink_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ink_unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return ink_arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ink_arrayLikeToArray(t,r):void 0}}function ink_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function ink_ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function ink_objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ink_ownKeys(Object(i),!0).forEach((function(r){ink_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ink_ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function ink_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,ink_toPropertyKey(a.key),a)}}function ink_get(){ink_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,r,i){var a=function ink_superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=ink_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?t:i):o.value}};return ink_get.apply(this,arguments)}function ink_setPrototypeOf(t,r){ink_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return ink_setPrototypeOf(t,r)}function ink_createSuper(t){var r=function ink_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=ink_getPrototypeOf(t);if(r){var o=ink_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function ink_possibleConstructorReturn(t,r){if(r&&("object"===ink_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ink_assertThisInitialized(t)}(this,i)}}function ink_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ink_getPrototypeOf(t){ink_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return ink_getPrototypeOf(t)}function ink_classPrivateMethodInitSpec(t,r){ink_checkPrivateRedeclaration(t,r);r.add(t)}function ink_defineProperty(t,r,i){(r=ink_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function ink_toPropertyKey(t){var r=function ink_toPrimitive(t,r){if("object"!==ink_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==ink_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===ink_typeof(r)?r:String(r)}function ink_classPrivateFieldInitSpec(t,r,i){ink_checkPrivateRedeclaration(t,r);r.set(t,i)}function ink_checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classStaticPrivateMethodGet(t,r,i){!function _classCheckPrivateStaticAccess(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}(t,r);return i}function ink_classPrivateFieldSet(t,r,i){!function ink_classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,ink_classExtractFieldDescriptor(t,r,"set"),i);return i}function ink_classPrivateFieldGet(t,r){return function ink_classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,ink_classExtractFieldDescriptor(t,r,"get"))}function ink_classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function ink_classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var I=new WeakMap,O=new WeakMap,M=new WeakMap,L=new WeakMap,G=new WeakMap,R=new WeakMap,j=new WeakMap,B=new WeakMap,N=new WeakMap,W=new WeakMap,V=new WeakMap,z=new WeakMap,H=new WeakMap,U=new WeakMap,q=new WeakMap,K=new WeakSet,Y=new WeakSet,X=new WeakSet,$=new WeakSet,Z=new WeakSet,Q=new WeakSet,J=new WeakSet,ee=new WeakSet,te=new WeakSet,re=new WeakSet,ne=new WeakSet,ie=new WeakSet,ae=new WeakSet,oe=new WeakSet,se=new WeakSet,le=new WeakSet,ue=new WeakSet,ce=new WeakSet,he=new WeakSet,de=new WeakSet,fe=new WeakSet,pe=new WeakSet,ve=new WeakSet,ye=function(t){!function ink_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&ink_setPrototypeOf(t,r)}(InkEditor,t);var r=ink_createSuper(InkEditor);function InkEditor(t){var i;!function ink_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,InkEditor);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i=r.call(this,ink_objectSpread(ink_objectSpread({},t),{},{name:"inkEditor"}))),ve);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),pe);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),fe);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),de);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),he);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),ce);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),ue);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),le);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),se);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),oe);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),ae);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),ie);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),ne);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),re);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),te);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),ee);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),J);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),Q);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),Z);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),$);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),X);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),Y);ink_classPrivateMethodInitSpec(ink_assertThisInitialized(i),K);ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),I,{writable:!0,value:0});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),O,{writable:!0,value:0});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),M,{writable:!0,value:i.canvasPointermove.bind(ink_assertThisInitialized(i))});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),L,{writable:!0,value:i.canvasPointerleave.bind(ink_assertThisInitialized(i))});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),G,{writable:!0,value:i.canvasPointerup.bind(ink_assertThisInitialized(i))});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),R,{writable:!0,value:i.canvasPointerdown.bind(ink_assertThisInitialized(i))});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),j,{writable:!0,value:null});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),B,{writable:!0,value:new Path2D});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),N,{writable:!0,value:!1});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),W,{writable:!0,value:!1});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),V,{writable:!0,value:!1});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),z,{writable:!0,value:null});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),H,{writable:!0,value:0});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),U,{writable:!0,value:0});ink_classPrivateFieldInitSpec(ink_assertThisInitialized(i),q,{writable:!0,value:null});i.color=t.color||null;i.thickness=t.thickness||null;i.opacity=t.opacity||null;i.paths=[];i.bezierPath2D=[];i.allRawPaths=[];i.currentPath=[];i.scaleFactor=1;i.translationX=i.translationY=0;i.x=0;i.y=0;i._willKeepAspectRatio=!0;return i}!function ink_createClass(t,r,i){r&&ink_defineProperties(t.prototype,r);i&&ink_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(InkEditor,[{key:"updateParams",value:function updateParams(t,r){switch(t){case o.AnnotationEditorParamsType.INK_THICKNESS:ink_classPrivateMethodGet(this,K,_updateThickness2).call(this,r);break;case o.AnnotationEditorParamsType.INK_COLOR:ink_classPrivateMethodGet(this,Y,ink_updateColor2).call(this,r);break;case o.AnnotationEditorParamsType.INK_OPACITY:ink_classPrivateMethodGet(this,X,_updateOpacity2).call(this,r)}}},{key:"propertiesToUpdate",get:function get(){var t;return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||InkEditor._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||InkEditor._defaultColor||l.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(t=this.opacity)&&void 0!==t?t:InkEditor._defaultOpacity))]]}},{key:"rebuild",value:function rebuild(){if(this.parent){ink_get(ink_getPrototypeOf(InkEditor.prototype),"rebuild",this).call(this);if(null!==this.div){if(!this.canvas){ink_classPrivateMethodGet(this,se,_createCanvas2).call(this);ink_classPrivateMethodGet(this,le,_createObserver2).call(this)}if(!this.isAttachedToDOM){this.parent.add(this);ink_classPrivateMethodGet(this,ue,_setCanvasDims2).call(this)}ink_classPrivateMethodGet(this,ve,_fitToContent2).call(this)}}}},{key:"remove",value:function remove(){if(null!==this.canvas){this.isEmpty()||this.commit();this.canvas.width=this.canvas.height=0;this.canvas.remove();this.canvas=null;if(ink_classPrivateFieldGet(this,j)){clearTimeout(ink_classPrivateFieldGet(this,j));ink_classPrivateFieldSet(this,j,null)}ink_classPrivateFieldGet(this,z).disconnect();ink_classPrivateFieldSet(this,z,null);ink_get(ink_getPrototypeOf(InkEditor.prototype),"remove",this).call(this)}}},{key:"setParent",value:function setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&null===t&&this._uiManager.addShouldRescale(this);ink_get(ink_getPrototypeOf(InkEditor.prototype),"setParent",this).call(this,t)}},{key:"onScaleChanging",value:function onScaleChanging(){var t=ink_slicedToArray(this.parentDimensions,2),r=t[0],i=t[1],a=this.width*r,o=this.height*i;this.setDimensions(a,o)}},{key:"enableEditMode",value:function enableEditMode(){if(!ink_classPrivateFieldGet(this,N)&&null!==this.canvas){ink_get(ink_getPrototypeOf(InkEditor.prototype),"enableEditMode",this).call(this);this._isDraggable=!1;this.canvas.addEventListener("pointerdown",ink_classPrivateFieldGet(this,R))}}},{key:"disableEditMode",value:function disableEditMode(){if(this.isInEditMode()&&null!==this.canvas){ink_get(ink_getPrototypeOf(InkEditor.prototype),"disableEditMode",this).call(this);this._isDraggable=!this.isEmpty();this.div.classList.remove("editing");this.canvas.removeEventListener("pointerdown",ink_classPrivateFieldGet(this,R))}}},{key:"onceAdded",value:function onceAdded(){this._isDraggable=!this.isEmpty()}},{key:"isEmpty",value:function isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}},{key:"commit",value:function commit(){if(!ink_classPrivateFieldGet(this,N)){ink_get(ink_getPrototypeOf(InkEditor.prototype),"commit",this).call(this);this.isEditing=!1;this.disableEditMode();this.setInForeground();ink_classPrivateFieldSet(this,N,!0);this.div.classList.add("disabled");ink_classPrivateMethodGet(this,ve,_fitToContent2).call(this,!0);this.select();this.parent.addInkEditorIfNeeded(!0);this.moveInDOM();this.div.focus({preventScroll:!0})}}},{key:"focusin",value:function focusin(t){if(this._focusEventsAllowed){ink_get(ink_getPrototypeOf(InkEditor.prototype),"focusin",this).call(this,t);this.enableEditMode()}}},{key:"canvasPointerdown",value:function canvasPointerdown(t){if(0===t.button&&this.isInEditMode()&&!ink_classPrivateFieldGet(this,N)){this.setInForeground();t.preventDefault();"mouse"===t.pointerType||this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0});ink_classPrivateMethodGet(this,Q,_startDrawing2).call(this,t.offsetX,t.offsetY)}}},{key:"canvasPointermove",value:function canvasPointermove(t){t.preventDefault();ink_classPrivateMethodGet(this,J,_draw2).call(this,t.offsetX,t.offsetY)}},{key:"canvasPointerup",value:function canvasPointerup(t){t.preventDefault();ink_classPrivateMethodGet(this,oe,_endDrawing2).call(this,t)}},{key:"canvasPointerleave",value:function canvasPointerleave(t){ink_classPrivateMethodGet(this,oe,_endDrawing2).call(this,t)}},{key:"isResizable",get:function get(){return!this.isEmpty()&&ink_classPrivateFieldGet(this,N)}},{key:"render",value:function render(){if(this.div)return this.div;var t,r;if(this.width){t=this.x;r=this.y}ink_get(ink_getPrototypeOf(InkEditor.prototype),"render",this).call(this);this.div.setAttribute("data-l10n-id","pdfjs-ink");var i=ink_slicedToArray(ink_classPrivateMethodGet(this,$,_getInitialBBox2).call(this),4),a=i[0],o=i[1],l=i[2],u=i[3];this.setAt(a,o,0,0);this.setDims(l,u);ink_classPrivateMethodGet(this,se,_createCanvas2).call(this);if(this.width){var c=ink_slicedToArray(this.parentDimensions,2),h=c[0],d=c[1];this.setAspectRatio(this.width*h,this.height*d);this.setAt(t*h,r*d,this.width*h,this.height*d);ink_classPrivateFieldSet(this,V,!0);ink_classPrivateMethodGet(this,ue,_setCanvasDims2).call(this);this.setDims(this.width*h,this.height*d);ink_classPrivateMethodGet(this,ae,_redraw2).call(this);this.div.classList.add("disabled")}else{this.div.classList.add("editing");this.enableEditMode()}ink_classPrivateMethodGet(this,le,_createObserver2).call(this);return this.div}},{key:"setDimensions",value:function setDimensions(t,r){var i=Math.round(t),a=Math.round(r);if(ink_classPrivateFieldGet(this,H)!==i||ink_classPrivateFieldGet(this,U)!==a){ink_classPrivateFieldSet(this,H,i);ink_classPrivateFieldSet(this,U,a);this.canvas.style.visibility="hidden";var o=ink_slicedToArray(this.parentDimensions,2),l=o[0],u=o[1];this.width=t/l;this.height=r/u;this.fixAndSetPosition();ink_classPrivateFieldGet(this,N)&&ink_classPrivateMethodGet(this,ce,_setScaleFactor2).call(this,t,r);ink_classPrivateMethodGet(this,ue,_setCanvasDims2).call(this);ink_classPrivateMethodGet(this,ae,_redraw2).call(this);this.canvas.style.visibility="visible";this.fixDims()}}},{key:"serialize",value:function serialize(){if(this.isEmpty())return null;var t=this.getRect(0,0),r=l.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:ink_classPrivateMethodGet(this,de,_serializePaths2).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}],[{key:"initialize",value:function initialize(t){l.AnnotationEditor.initialize(t)}},{key:"updateDefaultParams",value:function updateDefaultParams(t,r){switch(t){case o.AnnotationEditorParamsType.INK_THICKNESS:InkEditor._defaultThickness=r;break;case o.AnnotationEditorParamsType.INK_COLOR:InkEditor._defaultColor=r;break;case o.AnnotationEditorParamsType.INK_OPACITY:InkEditor._defaultOpacity=r/100}}},{key:"defaultPropertiesToUpdate",get:function get(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,InkEditor._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,InkEditor._defaultColor||l.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*InkEditor._defaultOpacity)]]}},{key:"deserialize",value:function deserialize(t,r,i){if(t instanceof c.InkAnnotationElement)return null;var a=ink_get(ink_getPrototypeOf(InkEditor),"deserialize",this).call(this,t,r,i);a.thickness=t.thickness;a.color=o.Util.makeHexColor.apply(o.Util,ink_toConsumableArray(t.color));a.opacity=t.opacity;var u=ink_slicedToArray(a.pageDimensions,2),h=u[0],d=u[1],p=a.width*h,v=a.height*d,y=a.parentScale,g=t.thickness/2;ink_classPrivateFieldSet(a,N,!0);ink_classPrivateFieldSet(a,H,Math.round(p));ink_classPrivateFieldSet(a,U,Math.round(v));var m,_=t.paths,b=t.rect,w=t.rotation,P=ink_createForOfIteratorHelper(_);try{for(P.s();!(m=P.n()).done;){var A=m.value.bezier;A=_classStaticPrivateMethodGet(InkEditor,InkEditor,_fromPDFCoordinates).call(InkEditor,A,b,w);var S=[];a.paths.push(S);for(var E=y*(A[0]-g),x=y*(A[1]-g),k=2,D=A.length;k<D;k+=6){var C=y*(A[k]-g),T=y*(A[k+1]-g),M=y*(A[k+2]-g),L=y*(A[k+3]-g),G=y*(A[k+4]-g),R=y*(A[k+5]-g);S.push([[E,x],[C,T],[M,L],[G,R]]);E=G;x=R}var j=_classStaticPrivateMethodGet(this,InkEditor,_buildPath2D).call(this,S);a.bezierPath2D.push(j)}}catch(t){P.e(t)}finally{P.f()}var B=ink_classPrivateMethodGet(a,fe,_getBbox2).call(a);ink_classPrivateFieldSet(a,O,Math.max(l.AnnotationEditor.MIN_SIZE,B[2]-B[0]));ink_classPrivateFieldSet(a,I,Math.max(l.AnnotationEditor.MIN_SIZE,B[3]-B[1]));ink_classPrivateMethodGet(a,ce,_setScaleFactor2).call(a,p,v);return a}}]);return InkEditor}(l.AnnotationEditor);C=ye;function _updateThickness2(t){var r=this,i=this.thickness;this.addCommands({cmd:function cmd(){r.thickness=t;ink_classPrivateMethodGet(r,ve,_fitToContent2).call(r)},undo:function undo(){r.thickness=i;ink_classPrivateMethodGet(r,ve,_fitToContent2).call(r)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function ink_updateColor2(t){var r=this,i=this.color;this.addCommands({cmd:function cmd(){r.color=t;ink_classPrivateMethodGet(r,ae,_redraw2).call(r)},undo:function undo(){r.color=i;ink_classPrivateMethodGet(r,ae,_redraw2).call(r)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function _updateOpacity2(t){var r=this;t/=100;var i=this.opacity;this.addCommands({cmd:function cmd(){r.opacity=t;ink_classPrivateMethodGet(r,ae,_redraw2).call(r)},undo:function undo(){r.opacity=i;ink_classPrivateMethodGet(r,ae,_redraw2).call(r)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function _getInitialBBox2(){var t=this.parentRotation,r=ink_slicedToArray(this.parentDimensions,2),i=r[0],a=r[1];switch(t){case 90:return[0,a,a,i];case 180:return[i,a,i,a];case 270:return[i,0,a,i];default:return[0,0,i,a]}}function _setStroke2(){var t=this.ctx,r=this.color,i=this.opacity,a=this.thickness,o=this.parentScale,l=this.scaleFactor;t.lineWidth=a*o/l;t.lineCap="round";t.lineJoin="round";t.miterLimit=10;t.strokeStyle="".concat(r).concat((0,u.opacityToHex)(i))}function _startDrawing2(t,r){var i=this;this.canvas.addEventListener("contextmenu",T.noContextMenu);this.canvas.addEventListener("pointerleave",ink_classPrivateFieldGet(this,L));this.canvas.addEventListener("pointermove",ink_classPrivateFieldGet(this,M));this.canvas.addEventListener("pointerup",ink_classPrivateFieldGet(this,G));this.canvas.removeEventListener("pointerdown",ink_classPrivateFieldGet(this,R));this.isEditing=!0;if(!ink_classPrivateFieldGet(this,V)){var a;ink_classPrivateFieldSet(this,V,!0);ink_classPrivateMethodGet(this,ue,_setCanvasDims2).call(this);this.thickness||(this.thickness=C._defaultThickness);this.color||(this.color=C._defaultColor||l.AnnotationEditor._defaultLineColor);null!==(a=this.opacity)&&void 0!==a||(this.opacity=C._defaultOpacity)}this.currentPath.push([t,r]);ink_classPrivateFieldSet(this,W,!1);ink_classPrivateMethodGet(this,Z,_setStroke2).call(this);ink_classPrivateFieldSet(this,q,(function(){ink_classPrivateMethodGet(i,re,_drawPoints2).call(i);ink_classPrivateFieldGet(i,q)&&window.requestAnimationFrame(ink_classPrivateFieldGet(i,q))}));window.requestAnimationFrame(ink_classPrivateFieldGet(this,q))}function _draw2(t,r){var i,a=ink_slicedToArray(this.currentPath.at(-1),2),o=a[0],l=a[1];if(!(this.currentPath.length>1&&t===o&&r===l)){var u=this.currentPath,c=ink_classPrivateFieldGet(this,B);u.push([t,r]);ink_classPrivateFieldSet(this,W,!0);if(u.length<=2){var h;(h=c).moveTo.apply(h,ink_toConsumableArray(u[0]));c.lineTo(t,r)}else{if(3===u.length){var d;ink_classPrivateFieldSet(this,B,c=new Path2D);(d=c).moveTo.apply(d,ink_toConsumableArray(u[0]))}(i=ink_classPrivateMethodGet(this,ne,_makeBezierCurve2)).call.apply(i,[this,c].concat(ink_toConsumableArray(u.at(-3)),ink_toConsumableArray(u.at(-2)),[t,r]))}}}function _endPath2(){var t;if(0!==this.currentPath.length){var r=this.currentPath.at(-1);(t=ink_classPrivateFieldGet(this,B)).lineTo.apply(t,ink_toConsumableArray(r))}}function _stopDrawing2(t,r){var i,a=this;ink_classPrivateFieldSet(this,q,null);t=Math.min(Math.max(t,0),this.canvas.width);r=Math.min(Math.max(r,0),this.canvas.height);ink_classPrivateMethodGet(this,J,_draw2).call(this,t,r);ink_classPrivateMethodGet(this,ee,_endPath2).call(this);if(1!==this.currentPath.length)i=ink_classPrivateMethodGet(this,ie,_generateBezierPoints2).call(this);else{var o=[t,r];i=[[o,o.slice(),o.slice(),o]]}var l=ink_classPrivateFieldGet(this,B),u=this.currentPath;this.currentPath=[];ink_classPrivateFieldSet(this,B,new Path2D);this.addCommands({cmd:function cmd(){a.allRawPaths.push(u);a.paths.push(i);a.bezierPath2D.push(l);a.rebuild()},undo:function undo(){a.allRawPaths.pop();a.paths.pop();a.bezierPath2D.pop();if(0===a.paths.length)a.remove();else{if(!a.canvas){ink_classPrivateMethodGet(a,se,_createCanvas2).call(a);ink_classPrivateMethodGet(a,le,_createObserver2).call(a)}ink_classPrivateMethodGet(a,ve,_fitToContent2).call(a)}},mustExec:!0})}function _drawPoints2(){if(ink_classPrivateFieldGet(this,W)){ink_classPrivateFieldSet(this,W,!1);var t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map((function(t){return t[0]})),a=r.map((function(t){return t[1]})),o=(Math.min.apply(Math,ink_toConsumableArray(i)),Math.max.apply(Math,ink_toConsumableArray(i)),Math.min.apply(Math,ink_toConsumableArray(a)),Math.max.apply(Math,ink_toConsumableArray(a)),this.ctx);o.save();o.clearRect(0,0,this.canvas.width,this.canvas.height);var l,u=ink_createForOfIteratorHelper(this.bezierPath2D);try{for(u.s();!(l=u.n()).done;){var c=l.value;o.stroke(c)}}catch(t){u.e(t)}finally{u.f()}o.stroke(ink_classPrivateFieldGet(this,B));o.restore()}}function _makeBezierCurve2(t,r,i,a,o,l,u){var c=(r+a)/2,h=(i+o)/2,d=(a+l)/2,p=(o+u)/2;t.bezierCurveTo(c+2*(a-c)/3,h+2*(o-h)/3,d+2*(a-d)/3,p+2*(o-p)/3,d,p)}function _generateBezierPoints2(){var t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];var r,i=[],a=ink_slicedToArray(t[0],2),o=a[0],l=a[1];for(r=1;r<t.length-2;r++){var u=ink_slicedToArray(t[r],2),c=u[0],h=u[1],d=ink_slicedToArray(t[r+1],2),p=(c+d[0])/2,v=(h+d[1])/2,y=[o+2*(c-o)/3,l+2*(h-l)/3],g=[p+2*(c-p)/3,v+2*(h-v)/3];i.push([[o,l],y,g,[p,v]]);o=p;l=v}var m=ink_slicedToArray(t[r],2),_=m[0],b=m[1],w=ink_slicedToArray(t[r+1],2),P=w[0],A=w[1],S=[o+2*(_-o)/3,l+2*(b-l)/3],E=[P+2*(_-P)/3,A+2*(b-A)/3];i.push([[o,l],S,E,[P,A]]);return i}function _redraw2(){if(this.isEmpty())ink_classPrivateMethodGet(this,he,_updateTransform2).call(this);else{ink_classPrivateMethodGet(this,Z,_setStroke2).call(this);var t=this.canvas,r=this.ctx;r.setTransform(1,0,0,1,0,0);r.clearRect(0,0,t.width,t.height);ink_classPrivateMethodGet(this,he,_updateTransform2).call(this);var i,a=ink_createForOfIteratorHelper(this.bezierPath2D);try{for(a.s();!(i=a.n()).done;){var o=i.value;r.stroke(o)}}catch(t){a.e(t)}finally{a.f()}}}function _endDrawing2(t){var r=this;this.canvas.removeEventListener("pointerleave",ink_classPrivateFieldGet(this,L));this.canvas.removeEventListener("pointermove",ink_classPrivateFieldGet(this,M));this.canvas.removeEventListener("pointerup",ink_classPrivateFieldGet(this,G));this.canvas.addEventListener("pointerdown",ink_classPrivateFieldGet(this,R));ink_classPrivateFieldGet(this,j)&&clearTimeout(ink_classPrivateFieldGet(this,j));ink_classPrivateFieldSet(this,j,setTimeout((function(){ink_classPrivateFieldSet(r,j,null);r.canvas.removeEventListener("contextmenu",T.noContextMenu)}),10));ink_classPrivateMethodGet(this,te,_stopDrawing2).call(this,t.offsetX,t.offsetY);this.addToAnnotationStorage();this.setInBackground()}function _createCanvas2(){this.canvas=document.createElement("canvas");this.canvas.width=this.canvas.height=0;this.canvas.className="inkEditorCanvas";this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas");this.div.append(this.canvas);var t=window.pdfDefaultOptions.activateWillReadFrequentlyFlag?{willReadFrequently:!0}:void 0;this.ctx=this.canvas.getContext("2d",t)}function _createObserver2(){var t=this;ink_classPrivateFieldSet(this,z,new ResizeObserver((function(r){var i=r[0].contentRect;i.width&&i.height&&t.setDimensions(i.width,i.height)})));ink_classPrivateFieldGet(this,z).observe(this.div)}function _setCanvasDims2(){if(ink_classPrivateFieldGet(this,V)){var t=ink_slicedToArray(this.parentDimensions,2),r=t[0],i=t[1];this.canvas.width=Math.ceil(this.width*r);this.canvas.height=Math.ceil(this.height*i);ink_classPrivateMethodGet(this,he,_updateTransform2).call(this)}}function _setScaleFactor2(t,r){var i=ink_classPrivateMethodGet(this,pe,_getPadding2).call(this),a=(t-i)/ink_classPrivateFieldGet(this,O),o=(r-i)/ink_classPrivateFieldGet(this,I);this.scaleFactor=Math.min(a,o)}function _updateTransform2(){var t=ink_classPrivateMethodGet(this,pe,_getPadding2).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}function _buildPath2D(t){for(var r=new Path2D,i=0,a=t.length;i<a;i++){var o=ink_slicedToArray(t[i],4),l=o[0],u=o[1],c=o[2],h=o[3];0===i&&r.moveTo.apply(r,ink_toConsumableArray(l));r.bezierCurveTo(u[0],u[1],c[0],c[1],h[0],h[1])}return r}function _toPDFCoordinates(t,r,i){var a=ink_slicedToArray(r,4),o=a[0],l=a[1],u=a[2],c=a[3];switch(i){case 0:for(var h=0,d=t.length;h<d;h+=2){t[h]+=o;t[h+1]=c-t[h+1]}break;case 90:for(var p=0,v=t.length;p<v;p+=2){var y=t[p];t[p]=t[p+1]+o;t[p+1]=y+l}break;case 180:for(var g=0,m=t.length;g<m;g+=2){t[g]=u-t[g];t[g+1]+=l}break;case 270:for(var _=0,b=t.length;_<b;_+=2){var w=t[_];t[_]=u-t[_+1];t[_+1]=c-w}break;default:throw new Error("Invalid rotation")}return t}function _fromPDFCoordinates(t,r,i){var a=ink_slicedToArray(r,4),o=a[0],l=a[1],u=a[2],c=a[3];switch(i){case 0:for(var h=0,d=t.length;h<d;h+=2){t[h]-=o;t[h+1]=c-t[h+1]}break;case 90:for(var p=0,v=t.length;p<v;p+=2){var y=t[p];t[p]=t[p+1]-l;t[p+1]=y-o}break;case 180:for(var g=0,m=t.length;g<m;g+=2){t[g]=u-t[g];t[g+1]-=l}break;case 270:for(var _=0,b=t.length;_<b;_+=2){var w=t[_];t[_]=c-t[_+1];t[_+1]=u-w}break;default:throw new Error("Invalid rotation")}return t}function _serializePaths2(t,r,i,a){var o,l=[],u=this.thickness/2,c=t*r+u,h=t*i+u,d=ink_createForOfIteratorHelper(this.paths);try{for(d.s();!(o=d.n()).done;){for(var p=o.value,v=[],y=[],g=0,m=p.length;g<m;g++){var _=ink_slicedToArray(p[g],4),b=_[0],w=_[1],P=_[2],A=_[3],S=t*b[0]+c,E=t*b[1]+h,x=t*w[0]+c,k=t*w[1]+h,D=t*P[0]+c,T=t*P[1]+h,I=t*A[0]+c,O=t*A[1]+h;if(0===g){v.push(S,E);y.push(S,E)}v.push(x,k,D,T,I,O);y.push(x,k);g===m-1&&y.push(I,O)}l.push({bezier:_classStaticPrivateMethodGet(C,C,_toPDFCoordinates).call(C,v,a,this.rotation),points:_classStaticPrivateMethodGet(C,C,_toPDFCoordinates).call(C,y,a,this.rotation)})}}catch(t){d.e(t)}finally{d.f()}return l}function _getBbox2(){var t,r=1/0,i=-1/0,a=1/0,l=-1/0,u=ink_createForOfIteratorHelper(this.paths);try{for(u.s();!(t=u.n()).done;){var c,h=ink_createForOfIteratorHelper(t.value);try{for(h.s();!(c=h.n()).done;){var d=ink_slicedToArray(c.value,4),p=d[0],v=d[1],y=d[2],g=d[3],m=o.Util.bezierBoundingBox.apply(o.Util,ink_toConsumableArray(p).concat(ink_toConsumableArray(v),ink_toConsumableArray(y),ink_toConsumableArray(g)));r=Math.min(r,m[0]);a=Math.min(a,m[1]);i=Math.max(i,m[2]);l=Math.max(l,m[3])}}catch(t){h.e(t)}finally{h.f()}}}catch(t){u.e(t)}finally{u.f()}return[r,a,i,l]}function _getPadding2(){return ink_classPrivateFieldGet(this,N)?Math.ceil(this.thickness*this.parentScale):0}function _fitToContent2(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isEmpty())if(ink_classPrivateFieldGet(this,N)){var r=ink_classPrivateMethodGet(this,fe,_getBbox2).call(this),i=ink_classPrivateMethodGet(this,pe,_getPadding2).call(this);ink_classPrivateFieldSet(this,O,Math.max(l.AnnotationEditor.MIN_SIZE,r[2]-r[0]));ink_classPrivateFieldSet(this,I,Math.max(l.AnnotationEditor.MIN_SIZE,r[3]-r[1]));var a=Math.ceil(i+ink_classPrivateFieldGet(this,O)*this.scaleFactor),o=Math.ceil(i+ink_classPrivateFieldGet(this,I)*this.scaleFactor),u=ink_slicedToArray(this.parentDimensions,2),c=u[0],h=u[1];this.width=a/c;this.height=o/h;this.setAspectRatio(a,o);var d=this.translationX,p=this.translationY;this.translationX=-r[0];this.translationY=-r[1];ink_classPrivateMethodGet(this,ue,_setCanvasDims2).call(this);ink_classPrivateMethodGet(this,ae,_redraw2).call(this);ink_classPrivateFieldSet(this,H,a);ink_classPrivateFieldSet(this,U,o);this.setDims(a,o);var v=t?i/this.scaleFactor/2:0;this.translate(d-this.translationX-v,p-this.translationY-v)}else ink_classPrivateMethodGet(this,ae,_redraw2).call(this)}ink_defineProperty(ye,"_defaultColor",null);ink_defineProperty(ye,"_defaultOpacity",1);ink_defineProperty(ye,"_defaultThickness",1);ink_defineProperty(ye,"_type","ink");ink_defineProperty(ye,"_editorType",o.AnnotationEditorType.INK);var ge;i(2796),i(2613),i(5666),i(4750),i(2822),i(9709),i(2642),i(1133),i(2173),i(2630),i(1024);function stamp_typeof(t){return stamp_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},stamp_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==stamp_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(stamp_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function stamp_slicedToArray(t,r){return function stamp_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function stamp_iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||function stamp_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return stamp_arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return stamp_arrayLikeToArray(t,r)}(t,r)||function stamp_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function stamp_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function stamp_ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function stamp_objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?stamp_ownKeys(Object(i),!0).forEach((function(r){stamp_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):stamp_ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function stamp_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,stamp_toPropertyKey(a.key),a)}}function stamp_get(){stamp_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,r,i){var a=function stamp_superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=stamp_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?t:i):o.value}};return stamp_get.apply(this,arguments)}function stamp_setPrototypeOf(t,r){stamp_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return stamp_setPrototypeOf(t,r)}function stamp_createSuper(t){var r=function stamp_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=stamp_getPrototypeOf(t);if(r){var o=stamp_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function stamp_possibleConstructorReturn(t,r){if(r&&("object"===stamp_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return stamp_assertThisInitialized(t)}(this,i)}}function stamp_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function stamp_getPrototypeOf(t){stamp_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return stamp_getPrototypeOf(t)}function stamp_classPrivateMethodInitSpec(t,r){stamp_checkPrivateRedeclaration(t,r);r.add(t)}function stamp_defineProperty(t,r,i){(r=stamp_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function stamp_toPropertyKey(t){var r=function stamp_toPrimitive(t,r){if("object"!==stamp_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==stamp_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===stamp_typeof(r)?r:String(r)}function stamp_classPrivateFieldInitSpec(t,r,i){stamp_checkPrivateRedeclaration(t,r);r.set(t,i)}function stamp_checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function stamp_classPrivateFieldGet(t,r){return function stamp_classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,stamp_classExtractFieldDescriptor(t,r,"get"))}function stamp_classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function stamp_classPrivateFieldSet(t,r,i){!function stamp_classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,stamp_classExtractFieldDescriptor(t,r,"set"),i);return i}function stamp_classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var me,_e=new WeakMap,be=new WeakMap,we=new WeakMap,Pe=new WeakMap,Ae=new WeakMap,Se=new WeakMap,Ee=new WeakMap,Fe=new WeakMap,xe=new WeakMap,ke=new WeakMap,De=new WeakMap,Ce=new WeakSet,Te=new WeakSet,Ie=new WeakSet,Oe=new WeakSet,Me=new WeakSet,Le=new WeakSet,Ge=new WeakSet,Re=new WeakSet,je=new WeakSet,Be=function(t){!function stamp_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&stamp_setPrototypeOf(t,r)}(StampEditor,t);var r=stamp_createSuper(StampEditor);function StampEditor(t){var i;!function stamp_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,StampEditor);stamp_classPrivateMethodInitSpec(stamp_assertThisInitialized(i=r.call(this,stamp_objectSpread(stamp_objectSpread({},t),{},{name:"stampEditor"}))),je);stamp_classPrivateMethodInitSpec(stamp_assertThisInitialized(i),Re);stamp_classPrivateMethodInitSpec(stamp_assertThisInitialized(i),Ge);stamp_classPrivateMethodInitSpec(stamp_assertThisInitialized(i),Le);stamp_classPrivateMethodInitSpec(stamp_assertThisInitialized(i),Me);stamp_classPrivateMethodInitSpec(stamp_assertThisInitialized(i),Oe);stamp_classPrivateMethodInitSpec(stamp_assertThisInitialized(i),Ie);stamp_classPrivateMethodInitSpec(stamp_assertThisInitialized(i),Te);stamp_classPrivateMethodInitSpec(stamp_assertThisInitialized(i),Ce);stamp_classPrivateFieldInitSpec(stamp_assertThisInitialized(i),_e,{writable:!0,value:null});stamp_classPrivateFieldInitSpec(stamp_assertThisInitialized(i),be,{writable:!0,value:null});stamp_classPrivateFieldInitSpec(stamp_assertThisInitialized(i),we,{writable:!0,value:null});stamp_classPrivateFieldInitSpec(stamp_assertThisInitialized(i),Pe,{writable:!0,value:null});stamp_classPrivateFieldInitSpec(stamp_assertThisInitialized(i),Ae,{writable:!0,value:null});stamp_classPrivateFieldInitSpec(stamp_assertThisInitialized(i),Se,{writable:!0,value:""});stamp_classPrivateFieldInitSpec(stamp_assertThisInitialized(i),Ee,{writable:!0,value:null});stamp_classPrivateFieldInitSpec(stamp_assertThisInitialized(i),Fe,{writable:!0,value:null});stamp_classPrivateFieldInitSpec(stamp_assertThisInitialized(i),xe,{writable:!0,value:null});stamp_classPrivateFieldInitSpec(stamp_assertThisInitialized(i),ke,{writable:!0,value:!1});stamp_classPrivateFieldInitSpec(stamp_assertThisInitialized(i),De,{writable:!0,value:!1});stamp_classPrivateFieldSet(stamp_assertThisInitialized(i),Pe,t.bitmapUrl);stamp_classPrivateFieldSet(stamp_assertThisInitialized(i),Ae,t.bitmapFile);return i}!function stamp_createClass(t,r,i){r&&stamp_defineProperties(t.prototype,r);i&&stamp_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(StampEditor,[{key:"remove",value:function remove(){if(stamp_classPrivateFieldGet(this,be)){var t,r;stamp_classPrivateFieldSet(this,_e,null);this._uiManager.imageManager.deleteId(stamp_classPrivateFieldGet(this,be));null===(t=stamp_classPrivateFieldGet(this,Ee))||void 0===t||t.remove();stamp_classPrivateFieldSet(this,Ee,null);null===(r=stamp_classPrivateFieldGet(this,Fe))||void 0===r||r.disconnect();stamp_classPrivateFieldSet(this,Fe,null);if(stamp_classPrivateFieldGet(this,xe)){clearTimeout(stamp_classPrivateFieldGet(this,xe));stamp_classPrivateFieldSet(this,xe,null)}}stamp_get(stamp_getPrototypeOf(StampEditor.prototype),"remove",this).call(this)}},{key:"rebuild",value:function rebuild(){if(this.parent){stamp_get(stamp_getPrototypeOf(StampEditor.prototype),"rebuild",this).call(this);if(null!==this.div){stamp_classPrivateFieldGet(this,be)&&stamp_classPrivateMethodGet(this,Ie,_getBitmap2).call(this);this.isAttachedToDOM||this.parent.add(this)}}else stamp_classPrivateFieldGet(this,be)&&stamp_classPrivateMethodGet(this,Ie,_getBitmap2).call(this)}},{key:"onceAdded",value:function onceAdded(){this._isDraggable=!0;this.div.focus()}},{key:"isEmpty",value:function isEmpty(){return!(stamp_classPrivateFieldGet(this,we)||stamp_classPrivateFieldGet(this,_e)||stamp_classPrivateFieldGet(this,Pe)||stamp_classPrivateFieldGet(this,Ae))}},{key:"isResizable",get:function get(){return!0}},{key:"render",value:function render(){if(this.div)return this.div;var t,r;if(this.width){t=this.x;r=this.y}stamp_get(stamp_getPrototypeOf(StampEditor.prototype),"render",this).call(this);this.div.hidden=!0;stamp_classPrivateFieldGet(this,_e)?stamp_classPrivateMethodGet(this,Oe,stamp_createCanvas2).call(this):stamp_classPrivateMethodGet(this,Ie,_getBitmap2).call(this);if(this.width){var i=stamp_slicedToArray(this.parentDimensions,2),a=i[0],o=i[1];this.setAt(t*a,r*o,this.width*a,this.height*o)}return this.div}},{key:"getImageForAltText",value:function getImageForAltText(){return stamp_classPrivateFieldGet(this,Ee)}},{key:"serialize",value:function serialize(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;var i={annotationType:o.AnnotationEditorType.STAMP,bitmapId:stamp_classPrivateFieldGet(this,be),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:stamp_classPrivateFieldGet(this,ke),structTreeParentId:this._structTreeParentId};if(t){i.bitmapUrl=stamp_classPrivateMethodGet(this,Re,_serializeBitmap2).call(this,!0);i.accessibilityData=this.altTextData;return i}var a=this.altTextData,l=a.decorative,u=a.altText;!l&&u&&(i.accessibilityData={type:"Figure",alt:u});if(null===r)return i;r.stamps||(r.stamps=new Map);var c=stamp_classPrivateFieldGet(this,ke)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(r.stamps.has(stamp_classPrivateFieldGet(this,be))){if(stamp_classPrivateFieldGet(this,ke)){var h=r.stamps.get(stamp_classPrivateFieldGet(this,be));if(c>h.area){h.area=c;h.serialized.bitmap.close();h.serialized.bitmap=stamp_classPrivateMethodGet(this,Re,_serializeBitmap2).call(this,!1)}}}else{r.stamps.set(stamp_classPrivateFieldGet(this,be),{area:c,serialized:i});i.bitmap=stamp_classPrivateMethodGet(this,Re,_serializeBitmap2).call(this,!1)}return i}}],[{key:"initialize",value:function initialize(t){l.AnnotationEditor.initialize(t)}},{key:"supportedTypes",get:function get(){return(0,o.shadow)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((function(t){return"image/".concat(t)})))}},{key:"supportedTypesStr",get:function get(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}},{key:"isHandlingMimeForPasting",value:function isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}},{key:"paste",value:function paste(t,r){r.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:t.getAsFile()})}},{key:"deserialize",value:function deserialize(t,r,i){if(t instanceof c.StampAnnotationElement)return null;var a=stamp_get(stamp_getPrototypeOf(StampEditor),"deserialize",this).call(this,t,r,i),o=t.rect,l=t.bitmapUrl,u=t.bitmapId,h=t.isSvg,d=t.accessibilityData;u&&i.imageManager.isValidId(u)?stamp_classPrivateFieldSet(a,be,u):stamp_classPrivateFieldSet(a,Pe,l);stamp_classPrivateFieldSet(a,ke,h);var p=stamp_slicedToArray(a.pageDimensions,2),v=p[0],y=p[1];a.width=(o[2]-o[0])/v;a.height=(o[3]-o[1])/y;d&&(a.altTextData=d);return a}}]);return StampEditor}(l.AnnotationEditor);ge=Be;function _getBitmapFetched2(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){stamp_classPrivateFieldSet(this,_e,t.bitmap);if(!r){stamp_classPrivateFieldSet(this,be,t.id);stamp_classPrivateFieldSet(this,ke,t.isSvg)}t.file&&stamp_classPrivateFieldSet(this,Se,t.file.name);stamp_classPrivateMethodGet(this,Oe,stamp_createCanvas2).call(this)}else this.remove()}function _getBitmapDone2(){stamp_classPrivateFieldSet(this,we,null);this._uiManager.enableWaiting(!1);stamp_classPrivateFieldGet(this,Ee)&&this.div.focus()}function _getBitmap2(){var t=this;if(stamp_classPrivateFieldGet(this,be)){this._uiManager.enableWaiting(!0);this._uiManager.imageManager.getFromId(stamp_classPrivateFieldGet(this,be)).then((function(r){return stamp_classPrivateMethodGet(t,Ce,_getBitmapFetched2).call(t,r,!0)})).finally((function(){return stamp_classPrivateMethodGet(t,Te,_getBitmapDone2).call(t)}))}else if(stamp_classPrivateFieldGet(this,Pe)){var r=stamp_classPrivateFieldGet(this,Pe);stamp_classPrivateFieldSet(this,Pe,null);this._uiManager.enableWaiting(!0);stamp_classPrivateFieldSet(this,we,this._uiManager.imageManager.getFromUrl(r).then((function(r){return stamp_classPrivateMethodGet(t,Ce,_getBitmapFetched2).call(t,r)})).finally((function(){return stamp_classPrivateMethodGet(t,Te,_getBitmapDone2).call(t)})))}else if(stamp_classPrivateFieldGet(this,Ae)){var i=stamp_classPrivateFieldGet(this,Ae);stamp_classPrivateFieldSet(this,Ae,null);this._uiManager.enableWaiting(!0);stamp_classPrivateFieldSet(this,we,this._uiManager.imageManager.getFromFile(i).then((function(r){return stamp_classPrivateMethodGet(t,Ce,_getBitmapFetched2).call(t,r)})).finally((function(){return stamp_classPrivateMethodGet(t,Te,_getBitmapDone2).call(t)})))}else{var a=document.createElement("input");a.type="file";a.accept=ge.supportedTypesStr;stamp_classPrivateFieldSet(this,we,new Promise((function(r){a.addEventListener("change",_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var i;return _regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:if(a.files&&0!==a.files.length){o.next=4;break}t.remove();o.next=9;break;case 4:t._uiManager.enableWaiting(!0);o.next=7;return t._uiManager.imageManager.getFromFile(a.files[0]);case 7:i=o.sent;stamp_classPrivateMethodGet(t,Ce,_getBitmapFetched2).call(t,i);case 9:r();case 10:case"end":return o.stop()}}),_callee)}))));a.addEventListener("cancel",(function(){t.remove();r()}))})).finally((function(){return stamp_classPrivateMethodGet(t,Te,_getBitmapDone2).call(t)})));a.click()}}function stamp_createCanvas2(){var t=this.div,r=stamp_classPrivateFieldGet(this,_e),i=r.width,a=r.height,o=stamp_slicedToArray(this.pageDimensions,2),l=o[0],u=o[1],c=.75;if(this.width){i=this.width*l;a=this.height*u}else if(i>c*l||a>c*u){var h=Math.min(c*l/i,c*u/a);i*=h;a*=h}var d=stamp_slicedToArray(this.parentDimensions,2),p=d[0],v=d[1];this.setDims(i*p/l,a*v/u);this._uiManager.enableWaiting(!1);var y=stamp_classPrivateFieldSet(this,Ee,document.createElement("canvas"));t.append(y);t.hidden=!1;stamp_classPrivateMethodGet(this,Ge,_drawBitmap2).call(this,i,a);stamp_classPrivateMethodGet(this,je,stamp_createObserver2).call(this);if(!stamp_classPrivateFieldGet(this,De)){this.parent.addUndoableEditor(this);stamp_classPrivateFieldSet(this,De,!0)}this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}});this.addAltTextButton();stamp_classPrivateFieldGet(this,Se)&&y.setAttribute("aria-label",stamp_classPrivateFieldGet(this,Se))}function _setDimensions2(t,r){var i,a=this,o=stamp_slicedToArray(this.parentDimensions,2),l=o[0],u=o[1];this.width=t/l;this.height=r/u;this.setDims(t,r);null!==(i=this._initialOptions)&&void 0!==i&&i.isCentered?this.center():this.fixAndSetPosition();this._initialOptions=null;null!==stamp_classPrivateFieldGet(this,xe)&&clearTimeout(stamp_classPrivateFieldGet(this,xe));stamp_classPrivateFieldSet(this,xe,setTimeout((function(){stamp_classPrivateFieldSet(a,xe,null);stamp_classPrivateMethodGet(a,Ge,_drawBitmap2).call(a,t,r)}),200))}function _scaleBitmap2(t,r){for(var i=stamp_classPrivateFieldGet(this,_e),a=i.width,o=i.height,l=stamp_classPrivateFieldGet(this,_e);a>2*t||o>2*r;){var u=a,c=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));var h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,c,0,0,a,o);l=h.transferToImageBitmap()}return l}function _drawBitmap2(t,r){t=Math.ceil(t);r=Math.ceil(r);var i=stamp_classPrivateFieldGet(this,Ee);if(i&&(i.width!==t||i.height!==r)){i.width=t;i.height=r;var a=stamp_classPrivateFieldGet(this,ke)?stamp_classPrivateFieldGet(this,_e):stamp_classPrivateMethodGet(this,Le,_scaleBitmap2).call(this,t,r),o=i.getContext("2d");o.filter=this._uiManager.hcmFilter;o.drawImage(a,0,0,a.width,a.height,0,0,t,r)}}function _serializeBitmap2(t){if(t){if(stamp_classPrivateFieldGet(this,ke)){var r=this._uiManager.imageManager.getSvgUrl(stamp_classPrivateFieldGet(this,be));if(r)return r}var i=document.createElement("canvas"),a=stamp_classPrivateFieldGet(this,_e);i.width=a.width;i.height=a.height;i.getContext("2d").drawImage(stamp_classPrivateFieldGet(this,_e),0,0);return i.toDataURL()}if(stamp_classPrivateFieldGet(this,ke)){var o=stamp_slicedToArray(this.pageDimensions,2),l=o[0],u=o[1],c=Math.round(this.width*l*T.PixelsPerInch.PDF_TO_CSS_UNITS),h=Math.round(this.height*u*T.PixelsPerInch.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(c,h);d.getContext("2d").drawImage(stamp_classPrivateFieldGet(this,_e),0,0,stamp_classPrivateFieldGet(this,_e).width,stamp_classPrivateFieldGet(this,_e).height,0,0,c,h);return d.transferToImageBitmap()}return structuredClone(stamp_classPrivateFieldGet(this,_e))}function stamp_createObserver2(){var t=this;stamp_classPrivateFieldSet(this,Fe,new ResizeObserver((function(r){var i=r[0].contentRect;i.width&&i.height&&stamp_classPrivateMethodGet(t,Me,_setDimensions2).call(t,i.width,i.height)})));stamp_classPrivateFieldGet(this,Fe).observe(this.div)}stamp_defineProperty(Be,"_type","stamp");stamp_defineProperty(Be,"_editorType",o.AnnotationEditorType.STAMP);function annotation_editor_layer_typeof(t){return annotation_editor_layer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},annotation_editor_layer_typeof(t)}function annotation_editor_layer_slicedToArray(t,r){return function annotation_editor_layer_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function annotation_editor_layer_iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||annotation_editor_layer_unsupportedIterableToArray(t,r)||function annotation_editor_layer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function annotation_editor_layer_ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function annotation_editor_layer_createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=annotation_editor_layer_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function annotation_editor_layer_toConsumableArray(t){return function annotation_editor_layer_arrayWithoutHoles(t){if(Array.isArray(t))return annotation_editor_layer_arrayLikeToArray(t)}(t)||function annotation_editor_layer_iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||annotation_editor_layer_unsupportedIterableToArray(t)||function annotation_editor_layer_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function annotation_editor_layer_unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return annotation_editor_layer_arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?annotation_editor_layer_arrayLikeToArray(t,r):void 0}}function annotation_editor_layer_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function annotation_editor_layer_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,annotation_editor_layer_toPropertyKey(a.key),a)}}function annotation_editor_layer_classPrivateMethodInitSpec(t,r){annotation_editor_layer_checkPrivateRedeclaration(t,r);r.add(t)}function annotation_editor_layer_defineProperty(t,r,i){(r=annotation_editor_layer_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function annotation_editor_layer_toPropertyKey(t){var r=function annotation_editor_layer_toPrimitive(t,r){if("object"!==annotation_editor_layer_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==annotation_editor_layer_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===annotation_editor_layer_typeof(r)?r:String(r)}function annotation_editor_layer_classPrivateFieldInitSpec(t,r,i){annotation_editor_layer_checkPrivateRedeclaration(t,r);r.set(t,i)}function annotation_editor_layer_checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function annotation_editor_layer_classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function annotation_editor_layer_classPrivateFieldGet(t,r){return annotation_editor_layer_classApplyDescriptorGet(t,annotation_editor_layer_classExtractFieldDescriptor(t,r,"get"))}function annotation_editor_layer_classPrivateFieldSet(t,r,i){!function annotation_editor_layer_classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,annotation_editor_layer_classExtractFieldDescriptor(t,r,"set"),i);return i}function annotation_editor_layer_classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classStaticPrivateFieldSpecGet(t,r,i){!function annotation_editor_layer_classCheckPrivateStaticAccess(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}(t,r);!function _classCheckPrivateStaticFieldDescriptor(t,r){if(void 0===t)throw new TypeError("attempted to "+r+" private static field before its declaration")}(i,"get");return annotation_editor_layer_classApplyDescriptorGet(t,i)}function annotation_editor_layer_classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}var Ne=new WeakMap,We=new WeakMap,Ve=new WeakMap,ze=new WeakMap,He=new WeakMap,Ue=new WeakMap,qe=new WeakMap,Ke=new WeakMap,Ye=new WeakMap,Xe=new WeakMap,$e=new WeakMap,Ze=new WeakSet,Qe=new WeakSet,Je=new WeakSet,et=new WeakSet,tt=function(){function AnnotationEditorLayer(t){var r=t.uiManager,i=t.pageIndex,a=t.div,o=t.accessibilityManager,l=t.annotationLayer,u=t.viewport,c=t.l10n;!function annotation_editor_layer_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,AnnotationEditorLayer);annotation_editor_layer_classPrivateMethodInitSpec(this,et);annotation_editor_layer_classPrivateMethodInitSpec(this,Je);annotation_editor_layer_classPrivateMethodInitSpec(this,Qe);annotation_editor_layer_classPrivateMethodInitSpec(this,Ze);annotation_editor_layer_classPrivateFieldInitSpec(this,Ne,{writable:!0,value:void 0});annotation_editor_layer_classPrivateFieldInitSpec(this,We,{writable:!0,value:!1});annotation_editor_layer_classPrivateFieldInitSpec(this,Ve,{writable:!0,value:null});annotation_editor_layer_classPrivateFieldInitSpec(this,ze,{writable:!0,value:this.pointerup.bind(this)});annotation_editor_layer_classPrivateFieldInitSpec(this,He,{writable:!0,value:this.pointerdown.bind(this)});annotation_editor_layer_classPrivateFieldInitSpec(this,Ue,{writable:!0,value:null});annotation_editor_layer_classPrivateFieldInitSpec(this,qe,{writable:!0,value:new Map});annotation_editor_layer_classPrivateFieldInitSpec(this,Ke,{writable:!0,value:!1});annotation_editor_layer_classPrivateFieldInitSpec(this,Ye,{writable:!0,value:!1});annotation_editor_layer_classPrivateFieldInitSpec(this,Xe,{writable:!0,value:!1});annotation_editor_layer_classPrivateFieldInitSpec(this,$e,{writable:!0,value:void 0});var h=annotation_editor_layer_toConsumableArray(_classStaticPrivateFieldSpecGet(AnnotationEditorLayer,AnnotationEditorLayer,rt).values());if(!AnnotationEditorLayer._initialized){AnnotationEditorLayer._initialized=!0;var d,p=annotation_editor_layer_createForOfIteratorHelper(h);try{for(p.s();!(d=p.n()).done;){d.value.initialize(c)}}catch(t){p.e(t)}finally{p.f()}}r.registerEditorTypes(h);annotation_editor_layer_classPrivateFieldSet(this,$e,r);this.pageIndex=i;this.div=a;annotation_editor_layer_classPrivateFieldSet(this,Ne,o);annotation_editor_layer_classPrivateFieldSet(this,Ve,l);this.viewport=u;annotation_editor_layer_classPrivateFieldGet(this,$e).addLayer(this)}!function annotation_editor_layer_createClass(t,r,i){r&&annotation_editor_layer_defineProperties(t.prototype,r);i&&annotation_editor_layer_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(AnnotationEditorLayer,[{key:"isEmpty",get:function get(){return 0===annotation_editor_layer_classPrivateFieldGet(this,qe).size}},{key:"updateToolbar",value:function updateToolbar(t){annotation_editor_layer_classPrivateFieldGet(this,$e).updateToolbar(t)}},{key:"updateMode",value:function updateMode(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:annotation_editor_layer_classPrivateFieldGet(this,$e).getMode();annotation_editor_layer_classPrivateMethodGet(this,et,_cleanup2).call(this);if(t===o.AnnotationEditorType.INK){this.addInkEditorIfNeeded(!1);this.disableClick()}else this.enableClick();if(t!==o.AnnotationEditorType.NONE){var r,i=this.div.classList,a=annotation_editor_layer_createForOfIteratorHelper(_classStaticPrivateFieldSpecGet(AnnotationEditorLayer,AnnotationEditorLayer,rt).values());try{for(a.s();!(r=a.n()).done;){var l=r.value;i.toggle("".concat(l._type,"Editing"),t===l._editorType)}}catch(t){a.e(t)}finally{a.f()}this.div.hidden=!1}}},{key:"addInkEditorIfNeeded",value:function addInkEditorIfNeeded(t){if(t||annotation_editor_layer_classPrivateFieldGet(this,$e).getMode()===o.AnnotationEditorType.INK){if(!t){var r,i=annotation_editor_layer_createForOfIteratorHelper(annotation_editor_layer_classPrivateFieldGet(this,qe).values());try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.isEmpty()){a.setInBackground();return}}}catch(t){i.e(t)}finally{i.f()}}annotation_editor_layer_classPrivateMethodGet(this,Qe,_createAndAddNewEditor2).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}}},{key:"setEditingState",value:function setEditingState(t){annotation_editor_layer_classPrivateFieldGet(this,$e).setEditingState(t)}},{key:"addCommands",value:function addCommands(t){annotation_editor_layer_classPrivateFieldGet(this,$e).addCommands(t)}},{key:"togglePointerEvents",value:function togglePointerEvents(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}},{key:"enable",value:function enable(){this.togglePointerEvents(!0);var t,r=new Set,i=annotation_editor_layer_createForOfIteratorHelper(annotation_editor_layer_classPrivateFieldGet(this,qe).values());try{for(i.s();!(t=i.n()).done;){var a=t.value;a.enableEditing();a.annotationElementId&&r.add(a.annotationElementId)}}catch(t){i.e(t)}finally{i.f()}if(annotation_editor_layer_classPrivateFieldGet(this,Ve)){var o,l=annotation_editor_layer_createForOfIteratorHelper(annotation_editor_layer_classPrivateFieldGet(this,Ve).getEditableAnnotations());try{for(l.s();!(o=l.n()).done;){var u=o.value;u.hide();if(!annotation_editor_layer_classPrivateFieldGet(this,$e).isDeletedAnnotationElement(u.data.id)&&!r.has(u.data.id)){var c=this.deserialize(u);if(c){this.addOrRebuild(c);c.enableEditing()}}}}catch(t){l.e(t)}finally{l.f()}}}},{key:"disable",value:function disable(){annotation_editor_layer_classPrivateFieldSet(this,Xe,!0);this.togglePointerEvents(!1);var t,r=new Set,i=annotation_editor_layer_createForOfIteratorHelper(annotation_editor_layer_classPrivateFieldGet(this,qe).values());try{for(i.s();!(t=i.n()).done;){var a,o=t.value;o.disableEditing();if(o.annotationElementId&&null===o.serialize()){null===(a=this.getEditableAnnotation(o.annotationElementId))||void 0===a||a.show();o.remove()}else r.add(o.annotationElementId)}}catch(t){i.e(t)}finally{i.f()}if(annotation_editor_layer_classPrivateFieldGet(this,Ve)){var l,u=annotation_editor_layer_createForOfIteratorHelper(annotation_editor_layer_classPrivateFieldGet(this,Ve).getEditableAnnotations());try{for(u.s();!(l=u.n()).done;){var c=l.value,h=c.data.id;r.has(h)||annotation_editor_layer_classPrivateFieldGet(this,$e).isDeletedAnnotationElement(h)||c.show()}}catch(t){u.e(t)}finally{u.f()}}annotation_editor_layer_classPrivateMethodGet(this,et,_cleanup2).call(this);this.isEmpty&&(this.div.hidden=!0);var d,p=this.div.classList,v=annotation_editor_layer_createForOfIteratorHelper(_classStaticPrivateFieldSpecGet(AnnotationEditorLayer,AnnotationEditorLayer,rt).values());try{for(v.s();!(d=v.n()).done;){var y=d.value;p.remove("".concat(y._type,"Editing"))}}catch(t){v.e(t)}finally{v.f()}annotation_editor_layer_classPrivateFieldSet(this,Xe,!1)}},{key:"getEditableAnnotation",value:function getEditableAnnotation(t){var r;return(null===(r=annotation_editor_layer_classPrivateFieldGet(this,Ve))||void 0===r?void 0:r.getEditableAnnotation(t))||null}},{key:"setActiveEditor",value:function setActiveEditor(t){annotation_editor_layer_classPrivateFieldGet(this,$e).getActive()!==t&&annotation_editor_layer_classPrivateFieldGet(this,$e).setActiveEditor(t)}},{key:"enableClick",value:function enableClick(){this.div.addEventListener("pointerdown",annotation_editor_layer_classPrivateFieldGet(this,He));this.div.addEventListener("pointerup",annotation_editor_layer_classPrivateFieldGet(this,ze))}},{key:"disableClick",value:function disableClick(){this.div.removeEventListener("pointerdown",annotation_editor_layer_classPrivateFieldGet(this,He));this.div.removeEventListener("pointerup",annotation_editor_layer_classPrivateFieldGet(this,ze))}},{key:"attach",value:function attach(t){annotation_editor_layer_classPrivateFieldGet(this,qe).set(t.id,t);var r=t.annotationElementId;r&&annotation_editor_layer_classPrivateFieldGet(this,$e).isDeletedAnnotationElement(r)&&annotation_editor_layer_classPrivateFieldGet(this,$e).removeDeletedAnnotationElement(t)}},{key:"detach",value:function detach(t){var r;annotation_editor_layer_classPrivateFieldGet(this,qe).delete(t.id);null===(r=annotation_editor_layer_classPrivateFieldGet(this,Ne))||void 0===r||r.removePointerInTextLayer(t.contentDiv);!annotation_editor_layer_classPrivateFieldGet(this,Xe)&&t.annotationElementId&&annotation_editor_layer_classPrivateFieldGet(this,$e).addDeletedAnnotationElement(t)}},{key:"remove",value:function remove(t){this.detach(t);annotation_editor_layer_classPrivateFieldGet(this,$e).removeEditor(t);t.div.remove();t.isAttachedToDOM=!1;annotation_editor_layer_classPrivateFieldGet(this,Ye)||this.addInkEditorIfNeeded(!1)}},{key:"changeParent",value:function changeParent(t){var r;if(t.parent!==this){if(t.annotationElementId){annotation_editor_layer_classPrivateFieldGet(this,$e).addDeletedAnnotationElement(t.annotationElementId);l.AnnotationEditor.deleteAnnotationElement(t);t.annotationElementId=null}this.attach(t);null===(r=t.parent)||void 0===r||r.detach(t);t.setParent(this);if(t.div&&t.isAttachedToDOM){t.div.remove();this.div.append(t.div)}}}},{key:"add",value:function add(t){this.changeParent(t);annotation_editor_layer_classPrivateFieldGet(this,$e).addEditor(t);this.attach(t);if(!t.isAttachedToDOM){var r=t.render();this.div.append(r);t.isAttachedToDOM=!0}t.fixAndSetPosition();t.onceAdded();annotation_editor_layer_classPrivateFieldGet(this,$e).addToAnnotationStorage(t)}},{key:"moveEditorInDOM",value:function moveEditorInDOM(t){var r,i=this;if(t.isAttachedToDOM){var a=document.activeElement;if(t.div.contains(a)&&!annotation_editor_layer_classPrivateFieldGet(this,Ue)){t._focusEventsAllowed=!1;annotation_editor_layer_classPrivateFieldSet(this,Ue,setTimeout((function(){annotation_editor_layer_classPrivateFieldSet(i,Ue,null);if(t.div.contains(document.activeElement))t._focusEventsAllowed=!0;else{t.div.addEventListener("focusin",(function(){t._focusEventsAllowed=!0}),{once:!0});a.focus()}}),0))}t._structTreeParentId=null===(r=annotation_editor_layer_classPrivateFieldGet(this,Ne))||void 0===r?void 0:r.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}}},{key:"addOrRebuild",value:function addOrRebuild(t){if(t.needsToBeRebuilt()){t.parent||(t.parent=this);t.rebuild()}else this.add(t)}},{key:"addUndoableEditor",value:function addUndoableEditor(t){this.addCommands({cmd:function cmd(){return t._uiManager.rebuild(t)},undo:function undo(){t.remove()},mustExec:!1})}},{key:"getNextId",value:function getNextId(){return annotation_editor_layer_classPrivateFieldGet(this,$e).getId()}},{key:"pasteEditor",value:function pasteEditor(t,r){annotation_editor_layer_classPrivateFieldGet(this,$e).updateToolbar(t);annotation_editor_layer_classPrivateFieldGet(this,$e).updateMode(t);var i=annotation_editor_layer_classPrivateMethodGet(this,Je,_getCenterPoint2).call(this),a=i.offsetX,o=i.offsetY,l=this.getNextId(),u=annotation_editor_layer_classPrivateMethodGet(this,Ze,_createNewEditor2).call(this,function annotation_editor_layer_objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?annotation_editor_layer_ownKeys(Object(i),!0).forEach((function(r){annotation_editor_layer_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):annotation_editor_layer_ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}({parent:this,id:l,x:a,y:o,uiManager:annotation_editor_layer_classPrivateFieldGet(this,$e),isCentered:!0},r));u&&this.add(u)}},{key:"deserialize",value:function deserialize(t){var r,i;return(null===(r=_classStaticPrivateFieldSpecGet(AnnotationEditorLayer,AnnotationEditorLayer,rt).get(null!==(i=t.annotationType)&&void 0!==i?i:t.annotationEditorType))||void 0===r?void 0:r.deserialize(t,this,annotation_editor_layer_classPrivateFieldGet(this,$e)))||null}},{key:"addNewEditor",value:function addNewEditor(){annotation_editor_layer_classPrivateMethodGet(this,Qe,_createAndAddNewEditor2).call(this,annotation_editor_layer_classPrivateMethodGet(this,Je,_getCenterPoint2).call(this),!0)}},{key:"setSelected",value:function setSelected(t){annotation_editor_layer_classPrivateFieldGet(this,$e).setSelected(t)}},{key:"toggleSelected",value:function toggleSelected(t){annotation_editor_layer_classPrivateFieldGet(this,$e).toggleSelected(t)}},{key:"isSelected",value:function isSelected(t){return annotation_editor_layer_classPrivateFieldGet(this,$e).isSelected(t)}},{key:"unselect",value:function unselect(t){annotation_editor_layer_classPrivateFieldGet(this,$e).unselect(t)}},{key:"pointerup",value:function pointerup(t){var r=o.FeatureTest.platform.isMac;if(!(0!==t.button||t.ctrlKey&&r)&&t.target===this.div&&annotation_editor_layer_classPrivateFieldGet(this,Ke)){annotation_editor_layer_classPrivateFieldSet(this,Ke,!1);annotation_editor_layer_classPrivateFieldGet(this,We)?annotation_editor_layer_classPrivateFieldGet(this,$e).getMode()!==o.AnnotationEditorType.STAMP?annotation_editor_layer_classPrivateMethodGet(this,Qe,_createAndAddNewEditor2).call(this,t,!1):annotation_editor_layer_classPrivateFieldGet(this,$e).unselectAll():annotation_editor_layer_classPrivateFieldSet(this,We,!0)}}},{key:"pointerdown",value:function pointerdown(t){if(annotation_editor_layer_classPrivateFieldGet(this,Ke))annotation_editor_layer_classPrivateFieldSet(this,Ke,!1);else{var r=o.FeatureTest.platform.isMac;if(!(0!==t.button||t.ctrlKey&&r)&&t.target===this.div){annotation_editor_layer_classPrivateFieldSet(this,Ke,!0);var i=annotation_editor_layer_classPrivateFieldGet(this,$e).getActive();annotation_editor_layer_classPrivateFieldSet(this,We,!i||i.isEmpty())}}}},{key:"findNewParent",value:function findNewParent(t,r,i){var a=annotation_editor_layer_classPrivateFieldGet(this,$e).findParent(r,i);if(null===a||a===this)return!1;a.changeParent(t);return!0}},{key:"destroy",value:function destroy(){var t;if((null===(t=annotation_editor_layer_classPrivateFieldGet(this,$e).getActive())||void 0===t?void 0:t.parent)===this){annotation_editor_layer_classPrivateFieldGet(this,$e).commitOrRemove();annotation_editor_layer_classPrivateFieldGet(this,$e).setActiveEditor(null)}if(annotation_editor_layer_classPrivateFieldGet(this,Ue)){clearTimeout(annotation_editor_layer_classPrivateFieldGet(this,Ue));annotation_editor_layer_classPrivateFieldSet(this,Ue,null)}var r,i=annotation_editor_layer_createForOfIteratorHelper(annotation_editor_layer_classPrivateFieldGet(this,qe).values());try{for(i.s();!(r=i.n()).done;){var a,o=r.value;null===(a=annotation_editor_layer_classPrivateFieldGet(this,Ne))||void 0===a||a.removePointerInTextLayer(o.contentDiv);o.setParent(null);o.isAttachedToDOM=!1;o.div.remove()}}catch(t){i.e(t)}finally{i.f()}this.div=null;annotation_editor_layer_classPrivateFieldGet(this,qe).clear();annotation_editor_layer_classPrivateFieldGet(this,$e).removeLayer(this)}},{key:"render",value:function render(t){var r=t.viewport;this.viewport=r;(0,T.setLayerDimensions)(this.div,r);var i,a=annotation_editor_layer_createForOfIteratorHelper(annotation_editor_layer_classPrivateFieldGet(this,$e).getEditors(this.pageIndex));try{for(a.s();!(i=a.n()).done;){var o=i.value;this.add(o)}}catch(t){a.e(t)}finally{a.f()}this.updateMode()}},{key:"update",value:function update(t){var r=t.viewport;annotation_editor_layer_classPrivateFieldGet(this,$e).commitOrRemove();this.viewport=r;(0,T.setLayerDimensions)(this.div,{rotation:r.rotation});this.updateMode()}},{key:"pageDimensions",get:function get(){var t=this.viewport.rawDims;return[t.pageWidth,t.pageHeight]}},{key:"setCleaningUp",value:function setCleaningUp(t){annotation_editor_layer_classPrivateFieldSet(this,Ye,t)}}]);return AnnotationEditorLayer}();me=tt;function _createNewEditor2(t){var r=_classStaticPrivateFieldSpecGet(me,me,rt).get(annotation_editor_layer_classPrivateFieldGet(this,$e).getMode());return r?new r.prototype.constructor(t):null}function _createAndAddNewEditor2(t,r){var i=this.getNextId(),a=annotation_editor_layer_classPrivateMethodGet(this,Ze,_createNewEditor2).call(this,{parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:annotation_editor_layer_classPrivateFieldGet(this,$e),isCentered:r});a&&this.add(a);return a}function _getCenterPoint2(){var t=this.div.getBoundingClientRect(),r=t.x,i=t.y,a=t.width,o=t.height,l=Math.max(0,r),u=Math.max(0,i),c=(l+Math.min(window.innerWidth,r+a))/2-r,h=(u+Math.min(window.innerHeight,i+o))/2-i,d=annotation_editor_layer_slicedToArray(this.viewport.rotation%180==0?[c,h]:[h,c],2);return{offsetX:d[0],offsetY:d[1]}}function _cleanup2(){annotation_editor_layer_classPrivateFieldSet(this,Ye,!0);var t,r=annotation_editor_layer_createForOfIteratorHelper(annotation_editor_layer_classPrivateFieldGet(this,qe).values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isEmpty()&&i.remove()}}catch(t){r.e(t)}finally{r.f()}annotation_editor_layer_classPrivateFieldSet(this,Ye,!1)}annotation_editor_layer_defineProperty(tt,"_initialized",!1);var rt={writable:!0,value:new Map([D,ye,Be].map((function(t){return[t._editorType,t]})))}},5796:(t,r,i)=>{i.d(r,{AnnotationEditor:()=>re});i(13),i(6133),i(3352),i(9593),i(1747),i(6180),i(5548),i(895),i(2374),i(5136),i(7942),i(4711),i(7600),i(7484),i(394),i(3821),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926),i(4226),i(171),i(924),i(5776),i(5666),i(1133),i(2173),i(2630),i(1024),i(7121),i(6770),i(1378),i(9175),i(6128);var a=i(4812),o=i(3266),l=i(473);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classStaticPrivateMethodGet(t,r,i){!function _classCheckPrivateStaticAccess(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}(t,r);return i}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var u,c=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakSet,v=new WeakSet,y=new WeakSet,g=new WeakSet,m=function(){function EditorToolbar(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,EditorToolbar);_classPrivateMethodInitSpec(this,g);_classPrivateMethodInitSpec(this,y);_classPrivateMethodInitSpec(this,v);_classPrivateMethodInitSpec(this,p);_classPrivateFieldInitSpec(this,c,{writable:!0,value:null});_classPrivateFieldInitSpec(this,h,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,d,{writable:!0,value:null});_classPrivateFieldSet(this,h,t)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(EditorToolbar,[{key:"render",value:function render(){var t=_classPrivateFieldSet(this,c,document.createElement("div"));t.className="editToolbar";t.addEventListener("contextmenu",l.noContextMenu);t.addEventListener("pointerdown",_classStaticPrivateMethodGet(EditorToolbar,EditorToolbar,_pointerDown));var r=_classPrivateFieldSet(this,d,document.createElement("div"));r.className="buttons";t.append(r);_classPrivateMethodGet(this,g,_addDeleteButton2).call(this);return t}},{key:"hide",value:function hide(){_classPrivateFieldGet(this,c).classList.add("hidden")}},{key:"show",value:function show(){_classPrivateFieldGet(this,c).classList.remove("hidden")}},{key:"remove",value:function remove(){_classPrivateFieldGet(this,c).remove()}}]);return EditorToolbar}();function _pointerDown(t){t.stopPropagation()}function _focusIn2(t){_classPrivateFieldGet(this,h)._focusEventsAllowed=!1;t.preventDefault();t.stopPropagation()}function _focusOut2(t){_classPrivateFieldGet(this,h)._focusEventsAllowed=!0;t.preventDefault();t.stopPropagation()}function _addListenersToElement2(t){t.addEventListener("focusin",_classPrivateMethodGet(this,p,_focusIn2).bind(this),{capture:!0});t.addEventListener("focusout",_classPrivateMethodGet(this,v,_focusOut2).bind(this),{capture:!0});t.addEventListener("contextmenu",l.noContextMenu)}function _addDeleteButton2(){var t=this,r=document.createElement("button");r.className="delete";r.tabIndex=0;r.setAttribute("data-l10n-id","pdfjs-editor-remove-button");_classPrivateMethodGet(this,y,_addListenersToElement2).call(this,r);r.addEventListener("click",(function(r){_classPrivateFieldGet(t,h)._uiManager.delete()}));_classPrivateFieldGet(this,d).append(r)}function editor_typeof(t){return editor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},editor_typeof(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===editor_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==editor_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(editor_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function editor_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function editor_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,editor_toPropertyKey(a.key),a)}}function editor_createClass(t,r,i){r&&editor_defineProperties(t.prototype,r);i&&editor_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function editor_classPrivateMethodInitSpec(t,r){editor_checkPrivateRedeclaration(t,r);r.add(t)}function _defineProperty(t,r,i){(r=editor_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function editor_toPropertyKey(t){var r=function editor_toPrimitive(t,r){if("object"!==editor_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==editor_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===editor_typeof(r)?r:String(r)}function editor_classPrivateFieldInitSpec(t,r,i){editor_checkPrivateRedeclaration(t,r);r.set(t,i)}function editor_checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function editor_classStaticPrivateMethodGet(t,r,i){!function editor_classCheckPrivateStaticAccess(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}(t,r);return i}function editor_classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function editor_classPrivateFieldSet(t,r,i){!function editor_classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,editor_classExtractFieldDescriptor(t,r,"set"),i);return i}function editor_classPrivateFieldGet(t,r){return function editor_classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,editor_classExtractFieldDescriptor(t,r,"get"))}function editor_classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var _=new WeakMap,b=new WeakMap,w=new WeakMap,P=new WeakMap,A=new WeakMap,S=new WeakMap,E=new WeakMap,x=new WeakMap,k=new WeakMap,D=new WeakMap,C=new WeakMap,T=new WeakMap,I=new WeakMap,O=new WeakMap,M=new WeakMap,L=new WeakMap,G=new WeakMap,R=new WeakMap,j=new WeakMap,B=new WeakMap,N=new WeakMap,W=new WeakSet,V=new WeakSet,z=new WeakSet,H=new WeakSet,U=new WeakSet,q=new WeakSet,K=new WeakSet,Y=new WeakSet,X=new WeakSet,$=new WeakSet,Z=new WeakSet,Q=new WeakSet,J=new WeakSet,ee=new WeakSet,te=new WeakSet,re=function(){function AnnotationEditor(t){editor_classCallCheck(this,AnnotationEditor);editor_classPrivateMethodInitSpec(this,te);editor_classPrivateMethodInitSpec(this,ee);editor_classPrivateMethodInitSpec(this,J);editor_classPrivateMethodInitSpec(this,Q);editor_classPrivateMethodInitSpec(this,Z);editor_classPrivateMethodInitSpec(this,$);editor_classPrivateMethodInitSpec(this,X);editor_classPrivateMethodInitSpec(this,Y);editor_classPrivateMethodInitSpec(this,K);editor_classPrivateMethodInitSpec(this,q);editor_classPrivateMethodInitSpec(this,U);editor_classPrivateMethodInitSpec(this,H);editor_classPrivateMethodInitSpec(this,z);editor_classPrivateMethodInitSpec(this,V);editor_classPrivateMethodInitSpec(this,W);editor_classPrivateFieldInitSpec(this,_,{writable:!0,value:null});editor_classPrivateFieldInitSpec(this,b,{writable:!0,value:""});editor_classPrivateFieldInitSpec(this,w,{writable:!0,value:!1});editor_classPrivateFieldInitSpec(this,P,{writable:!0,value:null});editor_classPrivateFieldInitSpec(this,A,{writable:!0,value:null});editor_classPrivateFieldInitSpec(this,S,{writable:!0,value:null});editor_classPrivateFieldInitSpec(this,E,{writable:!0,value:!1});editor_classPrivateFieldInitSpec(this,x,{writable:!0,value:!1});editor_classPrivateFieldInitSpec(this,k,{writable:!0,value:null});editor_classPrivateFieldInitSpec(this,D,{writable:!0,value:null});editor_classPrivateFieldInitSpec(this,C,{writable:!0,value:this.focusin.bind(this)});editor_classPrivateFieldInitSpec(this,T,{writable:!0,value:this.focusout.bind(this)});editor_classPrivateFieldInitSpec(this,I,{writable:!0,value:null});editor_classPrivateFieldInitSpec(this,O,{writable:!0,value:""});editor_classPrivateFieldInitSpec(this,M,{writable:!0,value:!1});editor_classPrivateFieldInitSpec(this,L,{writable:!0,value:!1});editor_classPrivateFieldInitSpec(this,G,{writable:!0,value:!1});editor_classPrivateFieldInitSpec(this,R,{writable:!0,value:!1});editor_classPrivateFieldInitSpec(this,j,{writable:!0,value:null});_defineProperty(this,"_initialOptions",Object.create(null));_defineProperty(this,"_uiManager",null);_defineProperty(this,"_focusEventsAllowed",!0);_defineProperty(this,"_l10nPromise",null);editor_classPrivateFieldInitSpec(this,B,{writable:!0,value:!1});editor_classPrivateFieldInitSpec(this,N,{writable:!0,value:AnnotationEditor._zIndex++});_defineProperty(this,"doNotMove",!1);this.constructor===AnnotationEditor&&(0,o.unreachable)("Cannot initialize AnnotationEditor.");this.parent=t.parent;this.id=t.id;this.width=this.height=null;this.pageIndex=t.parent.pageIndex;this.name=t.name;this.div=null;this._uiManager=t.uiManager;this.annotationElementId=null;this._willKeepAspectRatio=!1;this._initialOptions.isCentered=t.isCentered;this._structTreeParentId=null;var r=this.parent.viewport,i=r.rotation,a=r.rawDims,l=a.pageWidth,u=a.pageHeight,c=a.pageX,h=a.pageY;this.rotation=i;this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360;this.pageDimensions=[l,u];this.pageTranslation=[c,h];var d=_slicedToArray(this.parentDimensions,2),p=d[0],v=d[1];this.x=t.x/p;this.y=t.y/v;this.isAttachedToDOM=!1;this.deleted=!1}editor_createClass(AnnotationEditor,[{key:"editorType",get:function get(){return Object.getPrototypeOf(this).constructor._type}},{key:"propertiesToUpdate",get:function get(){return[]}},{key:"_isDraggable",get:function get(){return editor_classPrivateFieldGet(this,B)},set:function set(t){var r;editor_classPrivateFieldSet(this,B,t);null===(r=this.div)||void 0===r||r.classList.toggle("draggable",t)}},{key:"isEnterHandled",get:function get(){return!0}},{key:"center",value:function center(){var t=_slicedToArray(this.pageDimensions,2),r=t[0],i=t[1];switch(this.parentRotation){case 90:this.x-=this.height*i/(2*r);this.y+=this.width*r/(2*i);break;case 180:this.x+=this.width/2;this.y+=this.height/2;break;case 270:this.x+=this.height*i/(2*r);this.y-=this.width*r/(2*i);break;default:this.x-=this.width/2;this.y-=this.height/2}this.fixAndSetPosition()}},{key:"addCommands",value:function addCommands(t){this._uiManager.addCommands(t)}},{key:"currentLayer",get:function get(){return this._uiManager.currentLayer}},{key:"setInBackground",value:function setInBackground(){this.div.style.zIndex=0}},{key:"setInForeground",value:function setInForeground(){this.div.style.zIndex=editor_classPrivateFieldGet(this,N)}},{key:"setParent",value:function setParent(t){if(null!==t){this.pageIndex=t.pageIndex;this.pageDimensions=t.pageDimensions}else editor_classPrivateMethodGet(this,te,_stopResizing2).call(this);this.parent=t}},{key:"focusin",value:function focusin(t){this._focusEventsAllowed&&(editor_classPrivateFieldGet(this,M)?editor_classPrivateFieldSet(this,M,!1):this.parent.setSelected(this))}},{key:"focusout",value:function focusout(t){var r;if(this._focusEventsAllowed&&this.isAttachedToDOM){var i=t.relatedTarget;if(null==i||!i.closest("#".concat(this.id))){t.preventDefault();null!==(r=this.parent)&&void 0!==r&&r.isMultipleSelection||this.commitOrRemove()}}}},{key:"commitOrRemove",value:function commitOrRemove(){this.isEmpty()?this.remove():this.commit()}},{key:"commit",value:function commit(){this.addToAnnotationStorage()}},{key:"addToAnnotationStorage",value:function addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}},{key:"setAt",value:function setAt(t,r,i,a){var o=_slicedToArray(this.parentDimensions,2),l=o[0],u=o[1],c=_slicedToArray(this.screenToPageTranslation(i,a),2);i=c[0];a=c[1];if(this.doNotMove){i=0;a=0}this.x=(t+i)/l;this.y=(r+a)/u;this.fixAndSetPosition()}},{key:"translate",value:function translate(t,r){editor_classPrivateMethodGet(this,W,_translate2).call(this,this.parentDimensions,t,r)}},{key:"translateInPage",value:function translateInPage(t,r){editor_classPrivateMethodGet(this,W,_translate2).call(this,this.pageDimensions,t,r);this.div.scrollIntoView({block:"nearest"})}},{key:"drag",value:function drag(t,r){var i=_slicedToArray(this.parentDimensions,2),a=i[0],o=i[1];this.x+=t/a;this.y+=r/o;if(this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){var l=this.div.getBoundingClientRect(),u=l.x,c=l.y;if(this.parent.findNewParent(this,u,c)){this.x-=Math.floor(this.x);this.y-=Math.floor(this.y)}}var h=this.x,d=this.y,p=_slicedToArray(editor_classPrivateMethodGet(this,V,_getBaseTranslation2).call(this),2);h+=p[0];d+=p[1];this.div.style.left="".concat((100*h).toFixed(2),"%");this.div.style.top="".concat((100*d).toFixed(2),"%");this.div.scrollIntoView({block:"nearest"})}},{key:"fixAndSetPosition",value:function fixAndSetPosition(){var t=_slicedToArray(this.pageDimensions,2),r=t[0],i=t[1],a=this.x,o=this.y,l=this.width,u=this.height;l*=r;u*=i;a*=r;o*=i;switch(this.rotation){case 0:a=Math.max(0,Math.min(r-l,a));o=Math.max(0,Math.min(i-u,o));break;case 90:a=Math.max(0,Math.min(r-u,a));o=Math.min(i,Math.max(l,o));break;case 180:a=Math.min(r,Math.max(l,a));o=Math.min(i,Math.max(u,o));break;case 270:a=Math.min(r,Math.max(u,a));o=Math.max(0,Math.min(i-l,o))}this.x=a/=r;this.y=o/=i;var c=_slicedToArray(editor_classPrivateMethodGet(this,V,_getBaseTranslation2).call(this),2);a+=c[0];o+=c[1];var h=this.div.style;h.left="".concat((100*a).toFixed(2),"%");h.top="".concat((100*o).toFixed(2),"%");this.moveInDOM()}},{key:"screenToPageTranslation",value:function screenToPageTranslation(t,r){return editor_classStaticPrivateMethodGet(AnnotationEditor,AnnotationEditor,_rotatePoint).call(AnnotationEditor,t,r,this.parentRotation)}},{key:"pageTranslationToScreen",value:function pageTranslationToScreen(t,r){return editor_classStaticPrivateMethodGet(AnnotationEditor,AnnotationEditor,_rotatePoint).call(AnnotationEditor,t,r,360-this.parentRotation)}},{key:"parentScale",get:function get(){return this._uiManager.viewParameters.realScale}},{key:"parentRotation",get:function get(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}},{key:"parentDimensions",get:function get(){var t=this.parentScale,r=_slicedToArray(this.pageDimensions,2),i=r[0]*t,a=r[1]*t;return o.FeatureTest.isCSSRoundSupported?[Math.round(i),Math.round(a)]:[i,a]}},{key:"setDims",value:function setDims(t,r){var i,a=_slicedToArray(this.parentDimensions,2),o=a[0],l=a[1];this.div.style.width="".concat((100*t/o).toFixed(2),"%");editor_classPrivateFieldGet(this,x)||(this.div.style.height="".concat((100*r/l).toFixed(2),"%"));null===(i=editor_classPrivateFieldGet(this,P))||void 0===i||i.classList.toggle("small",t<AnnotationEditor.SMALL_EDITOR_SIZE||r<AnnotationEditor.SMALL_EDITOR_SIZE)}},{key:"fixDims",value:function fixDims(){var t=this.div.style,r=t.height,i=t.width,a=i.endsWith("%"),o=!editor_classPrivateFieldGet(this,x)&&r.endsWith("%");if(!a||!o){var l=_slicedToArray(this.parentDimensions,2),u=l[0],c=l[1];a||(t.width="".concat((100*parseFloat(i)/u).toFixed(2),"%"));editor_classPrivateFieldGet(this,x)||o||(t.height="".concat((100*parseFloat(r)/c).toFixed(2),"%"))}}},{key:"getInitialTranslation",value:function getInitialTranslation(){return[0,0]}},{key:"addAltTextButton",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t,r,i,a=this;return _regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:if(!editor_classPrivateFieldGet(this,P)){o.next=2;break}return o.abrupt("return");case 2:(t=editor_classPrivateFieldSet(this,P,document.createElement("button"))).className="altText";o.next=6;return AnnotationEditor._l10nPromise.get("pdfjs-editor-alt-text-button-label");case 6:r=o.sent;t.textContent=r;t.setAttribute("aria-label",r);t.tabIndex="0";t.addEventListener("contextmenu",l.noContextMenu);t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}));i=function onClick(t){editor_classPrivateFieldGet(a,P).hidden=!0;t.preventDefault();a._uiManager.editAltText(a)};t.addEventListener("click",i,{capture:!0});t.addEventListener("keydown",(function(r){if(r.target===t&&"Enter"===r.key){editor_classPrivateFieldSet(a,E,!0);i(r)}}));editor_classPrivateMethodGet(this,Y,_setAltTextButtonState2).call(this);this.div.append(t);AnnotationEditor.SMALL_EDITOR_SIZE||(AnnotationEditor.SMALL_EDITOR_SIZE=Math.min(128,Math.round(1.4*t.getBoundingClientRect().width)));case 18:case"end":return o.stop()}}),_callee,this)}))),function addAltTextButton(){return t.apply(this,arguments)})},{key:"altTextFinish",value:function altTextFinish(){if(editor_classPrivateFieldGet(this,P)){editor_classPrivateFieldGet(this,P).hidden=!1;editor_classPrivateFieldGet(this,P).focus({focusVisible:editor_classPrivateFieldGet(this,E)});editor_classPrivateFieldSet(this,E,!1)}}},{key:"addEditToolbar",value:function addEditToolbar(){if(!editor_classPrivateFieldGet(this,I)&&!editor_classPrivateFieldGet(this,G)){editor_classPrivateFieldSet(this,I,new m(this));this.div.append(editor_classPrivateFieldGet(this,I).render())}}},{key:"removeEditToolbar",value:function removeEditToolbar(){if(editor_classPrivateFieldGet(this,I)){editor_classPrivateFieldGet(this,I).remove();editor_classPrivateFieldSet(this,I,null)}}},{key:"getClientDimensions",value:function getClientDimensions(){return this.div.getBoundingClientRect()}},{key:"altTextData",get:function get(){return{altText:editor_classPrivateFieldGet(this,b),decorative:editor_classPrivateFieldGet(this,w)}},set:function set(t){var r=t.altText,i=t.decorative;if(editor_classPrivateFieldGet(this,b)!==r||editor_classPrivateFieldGet(this,w)!==i){editor_classPrivateFieldSet(this,b,r);editor_classPrivateFieldSet(this,w,i);editor_classPrivateMethodGet(this,Y,_setAltTextButtonState2).call(this)}}},{key:"render",value:function render(){this.div=document.createElement("div");this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360);this.div.className=this.name;this.div.setAttribute("id",this.id);this.div.setAttribute("tabIndex",0);this.setInForeground();this.div.addEventListener("focusin",editor_classPrivateFieldGet(this,C));this.div.addEventListener("focusout",editor_classPrivateFieldGet(this,T));var t=_slicedToArray(this.parentDimensions,2),r=t[0],i=t[1];if(this.parentRotation%180!=0){this.div.style.maxWidth="".concat((100*i/r).toFixed(2),"%");this.div.style.maxHeight="".concat((100*r/i).toFixed(2),"%")}var o=_slicedToArray(this.getInitialTranslation(),2),l=o[0],u=o[1];this.translate(l,u);(0,a.bindEvents)(this,this.div,["pointerdown"]);return this.div}},{key:"pointerdown",value:function pointerdown(t){var r=o.FeatureTest.platform.isMac;if(0!==t.button||t.ctrlKey&&r)t.preventDefault();else{editor_classPrivateFieldSet(this,M,!0);editor_classPrivateMethodGet(this,$,_setUpDragSession2).call(this,t)}}},{key:"moveInDOM",value:function moveInDOM(){var t=this;editor_classPrivateFieldGet(this,j)&&clearTimeout(editor_classPrivateFieldGet(this,j));editor_classPrivateFieldSet(this,j,setTimeout((function(){var r;editor_classPrivateFieldSet(t,j,null);null===(r=t.parent)||void 0===r||r.moveEditorInDOM(t)}),0))}},{key:"_setParentAndPosition",value:function _setParentAndPosition(t,r,i){t.changeParent(this);this.x=r;this.y=i;this.fixAndSetPosition()}},{key:"getRect",value:function getRect(t,r){var i=this.parentScale,a=_slicedToArray(this.pageDimensions,2),o=a[0],l=a[1],u=_slicedToArray(this.pageTranslation,2),c=u[0],h=u[1],d=t/i,p=r/i,v=this.x*o,y=this.y*l,g=this.width*o,m=this.height*l;switch(this.rotation){case 0:return[v+d+c,l-y-p-m+h,v+d+g+c,l-y-p+h];case 90:return[v+p+c,l-y+d+h,v+p+m+c,l-y+d+g+h];case 180:return[v-d-g+c,l-y+p+h,v-d+c,l-y+p+m+h];case 270:return[v-p-m+c,l-y-d-g+h,v-p+c,l-y-d+h];default:throw new Error("Invalid rotation")}}},{key:"getRectInCurrentCoords",value:function getRectInCurrentCoords(t,r){var i=_slicedToArray(t,4),a=i[0],o=i[1],l=i[2],u=i[3],c=l-a,h=u-o;switch(this.rotation){case 0:return[a,r-u,c,h];case 90:return[a,r-o,h,c];case 180:return[l,r-o,c,h];case 270:return[l,r-u,h,c];default:throw new Error("Invalid rotation")}}},{key:"onceAdded",value:function onceAdded(){}},{key:"isEmpty",value:function isEmpty(){return!1}},{key:"enableEditMode",value:function enableEditMode(){editor_classPrivateFieldSet(this,G,!0)}},{key:"disableEditMode",value:function disableEditMode(){editor_classPrivateFieldSet(this,G,!1)}},{key:"isInEditMode",value:function isInEditMode(){return editor_classPrivateFieldGet(this,G)}},{key:"shouldGetKeyboardEvents",value:function shouldGetKeyboardEvents(){return editor_classPrivateFieldGet(this,R)}},{key:"needsToBeRebuilt",value:function needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}},{key:"rebuild",value:function rebuild(){var t,r;null===(t=this.div)||void 0===t||t.addEventListener("focusin",editor_classPrivateFieldGet(this,C));null===(r=this.div)||void 0===r||r.addEventListener("focusout",editor_classPrivateFieldGet(this,T))}},{key:"serialize",value:function serialize(){(0,o.unreachable)("An editor must be serializable")}},{key:"remove",value:function remove(){var t;this.div.removeEventListener("focusin",editor_classPrivateFieldGet(this,C));this.div.removeEventListener("focusout",editor_classPrivateFieldGet(this,T));this.isEmpty()||this.commit();this.parent?this.parent.remove(this):this._uiManager.removeEditor(this);null===(t=editor_classPrivateFieldGet(this,P))||void 0===t||t.remove();editor_classPrivateFieldSet(this,P,null);editor_classPrivateFieldSet(this,A,null);if(editor_classPrivateFieldGet(this,j)){clearTimeout(editor_classPrivateFieldGet(this,j));editor_classPrivateFieldSet(this,j,null)}editor_classPrivateMethodGet(this,te,_stopResizing2).call(this);this.removeEditToolbar()}},{key:"isResizable",get:function get(){return!1}},{key:"makeResizable",value:function makeResizable(){if(this.isResizable){editor_classPrivateMethodGet(this,H,_createResizers2).call(this);editor_classPrivateFieldGet(this,k).classList.remove("hidden");(0,a.bindEvents)(this,this.div,["keydown"])}}},{key:"keydown",value:function keydown(t){var r=this;if(this.isResizable&&t.target===this.div&&"Enter"===t.key){this._uiManager.setSelected(this);editor_classPrivateFieldSet(this,D,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});var i=editor_classPrivateFieldGet(this,k).children;if(!editor_classPrivateFieldGet(this,_)){editor_classPrivateFieldSet(this,_,Array.from(i));var a,o=editor_classPrivateMethodGet(this,Z,_resizerKeydown2).bind(this),l=editor_classPrivateMethodGet(this,Q,_resizerBlur2).bind(this),u=_createForOfIteratorHelper(editor_classPrivateFieldGet(this,_));try{var c=function _loop(){var t=a.value,i=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton");t.addEventListener("keydown",o);t.addEventListener("blur",l);t.addEventListener("focus",editor_classPrivateMethodGet(r,J,_resizerFocus2).bind(r,i));AnnotationEditor._l10nPromise.get("pdfjs-editor-resizer-label-".concat(i)).then((function(r){return t.setAttribute("aria-label",r)}))};for(u.s();!(a=u.n()).done;)c()}catch(t){u.e(t)}finally{u.f()}}var h,d=editor_classPrivateFieldGet(this,_)[0],p=0,v=_createForOfIteratorHelper(i);try{for(v.s();!(h=v.n()).done;){if(h.value===d)break;p++}}catch(t){v.e(t)}finally{v.f()}var y=(360-this.rotation+this.parentRotation)%360/90*(editor_classPrivateFieldGet(this,_).length/4);if(y!==p){if(y<p)for(var g=0;g<p-y;g++)editor_classPrivateFieldGet(this,k).append(editor_classPrivateFieldGet(this,k).firstChild);else if(y>p)for(var m=0;m<y-p;m++)editor_classPrivateFieldGet(this,k).firstChild.before(editor_classPrivateFieldGet(this,k).lastChild);var b,w=0,P=_createForOfIteratorHelper(i);try{var A=function _loop2(){var t=b.value,i=editor_classPrivateFieldGet(r,_)[w++].getAttribute("data-resizer-name");AnnotationEditor._l10nPromise.get("pdfjs-editor-resizer-label-".concat(i)).then((function(r){return t.setAttribute("aria-label",r)}))};for(P.s();!(b=P.n()).done;)A()}catch(t){P.e(t)}finally{P.f()}}editor_classPrivateMethodGet(this,ee,_setResizerTabIndex2).call(this,0);editor_classPrivateFieldSet(this,R,!0);editor_classPrivateFieldGet(this,k).firstChild.focus({focusVisible:!0});t.preventDefault();t.stopImmediatePropagation()}}},{key:"_resizeWithKeyboard",value:function _resizeWithKeyboard(t,r){editor_classPrivateFieldGet(this,R)&&editor_classPrivateMethodGet(this,K,_resizerPointermove2).call(this,editor_classPrivateFieldGet(this,O),{movementX:t,movementY:r})}},{key:"_stopResizingWithKeyboard",value:function _stopResizingWithKeyboard(){editor_classPrivateMethodGet(this,te,_stopResizing2).call(this);this.div.focus()}},{key:"select",value:function select(){var t,r;this.makeResizable();null===(t=this.div)||void 0===t||t.classList.add("selectedEditor");this.addEditToolbar();null===(r=editor_classPrivateFieldGet(this,I))||void 0===r||r.show()}},{key:"unselect",value:function unselect(){var t,r,i,a;null===(t=editor_classPrivateFieldGet(this,k))||void 0===t||t.classList.add("hidden");null===(r=this.div)||void 0===r||r.classList.remove("selectedEditor");null!==(i=this.div)&&void 0!==i&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus();null===(a=editor_classPrivateFieldGet(this,I))||void 0===a||a.hide()}},{key:"updateParams",value:function updateParams(t,r){}},{key:"disableEditing",value:function disableEditing(){editor_classPrivateFieldGet(this,P)&&(editor_classPrivateFieldGet(this,P).hidden=!0)}},{key:"enableEditing",value:function enableEditing(){editor_classPrivateFieldGet(this,P)&&(editor_classPrivateFieldGet(this,P).hidden=!1)}},{key:"enterInEditMode",value:function enterInEditMode(){}},{key:"getImageForAltText",value:function getImageForAltText(){return null}},{key:"contentDiv",get:function get(){return this.div}},{key:"isEditing",get:function get(){return editor_classPrivateFieldGet(this,L)},set:function set(t){editor_classPrivateFieldSet(this,L,t);if(this.parent)if(t){this.parent.setSelected(this);this.parent.setActiveEditor(this)}else this.parent.setActiveEditor(null)}},{key:"setAspectRatio",value:function setAspectRatio(t,r){editor_classPrivateFieldSet(this,x,!0);var i=t/r,a=this.div.style;a.aspectRatio=i;a.height="auto"}}],[{key:"_resizerKeyboardManager",get:function get(){var t=AnnotationEditor.prototype._resizeWithKeyboard,r=a.AnnotationEditorUIManager.TRANSLATE_SMALL,i=a.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_resizerKeyboardManager",new a.KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],AnnotationEditor.prototype._stopResizingWithKeyboard]]))}},{key:"_defaultLineColor",get:function get(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}},{key:"deleteAnnotationElement",value:function deleteAnnotationElement(t){var r=new ne({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});r.annotationElementId=t.annotationElementId;r.deleted=!0;r._uiManager.addToAnnotationStorage(r)}},{key:"initialize",value:function initialize(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;AnnotationEditor._l10nPromise||(AnnotationEditor._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map((function(r){return[r,t.get(r.replaceAll(/([A-Z])/g,(function(t){return"-".concat(t.toLowerCase())})))]}))));if(null!=r&&r.strings){var i,a=_createForOfIteratorHelper(r.strings);try{for(a.s();!(i=a.n()).done;){var o=i.value;AnnotationEditor._l10nPromise.set(o,t.get(o))}}catch(t){a.e(t)}finally{a.f()}}if(-1===AnnotationEditor._borderLineWidth){var l=getComputedStyle(document.documentElement);AnnotationEditor._borderLineWidth=parseFloat(l.getPropertyValue("--outline-width"))||0}}},{key:"updateDefaultParams",value:function updateDefaultParams(t,r){}},{key:"defaultPropertiesToUpdate",get:function get(){return[]}},{key:"isHandlingMimeForPasting",value:function isHandlingMimeForPasting(t){return!1}},{key:"paste",value:function paste(t,r){(0,o.unreachable)("Not implemented")}},{key:"deserialize",value:function deserialize(t,r,i){var a=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:i});a.rotation=t.rotation;var o=_slicedToArray(a.pageDimensions,2),l=o[0],u=o[1],c=_slicedToArray(a.getRectInCurrentCoords(t.rect,u),4),h=c[0],d=c[1],p=c[2],v=c[3];a.x=h/l;a.y=d/u;a.width=p/l;a.height=v/u;return a}},{key:"MIN_SIZE",get:function get(){return 16}}]);var t;return AnnotationEditor}();u=re;function _translate2(t,r,i){var a=_slicedToArray(t,2),o=a[0],l=a[1],u=_slicedToArray(this.screenToPageTranslation(r,i),2);r=u[0];i=u[1];this.x+=r/o;this.y+=i/l;this.fixAndSetPosition()}function _getBaseTranslation2(){var t=_slicedToArray(this.parentDimensions,2),r=t[0],i=t[1],a=u._borderLineWidth,o=a/r,l=a/i;switch(this.rotation){case 90:return[-o,l];case 180:return[o,l];case 270:return[o,-l];default:return[-o,-l]}}function _rotatePoint(t,r,i){switch(i){case 90:return[r,-t];case 180:return[-t,-r];case 270:return[-r,t];default:return[t,r]}}function _getRotationMatrix2(t){switch(t){case 90:var r=_slicedToArray(this.pageDimensions,2),i=r[0],a=r[1];return[0,-i/a,a/i,0];case 180:return[-1,0,0,-1];case 270:var o=_slicedToArray(this.pageDimensions,2),l=o[0],u=o[1];return[0,l/u,-u/l,0];default:return[1,0,0,1]}}function _createResizers2(){if(!editor_classPrivateFieldGet(this,k)){editor_classPrivateFieldSet(this,k,document.createElement("div"));editor_classPrivateFieldGet(this,k).classList.add("resizers");for(var t=0,r=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];t<r.length;t++){var i=r[t],a=document.createElement("div");editor_classPrivateFieldGet(this,k).append(a);a.classList.add("resizer",i);a.setAttribute("data-resizer-name",i);a.addEventListener("pointerdown",editor_classPrivateMethodGet(this,U,_resizerPointerdown2).bind(this,i));a.addEventListener("contextmenu",l.noContextMenu);a.tabIndex=-1}this.div.prepend(editor_classPrivateFieldGet(this,k))}}function _resizerPointerdown2(t,r){var i=this;r.preventDefault();var a=o.FeatureTest.platform.isMac;if(!(0!==r.button||r.ctrlKey&&a)){editor_classPrivateMethodGet(this,X,_toggleAltTextButton2).call(this,!1);var l=editor_classPrivateMethodGet(this,K,_resizerPointermove2).bind(this,t),u=this._isDraggable;this._isDraggable=!1;var c={passive:!0,capture:!0};this.parent.togglePointerEvents(!1);window.addEventListener("pointermove",l,c);var h=this.x,d=this.y,p=this.width,v=this.height,y=this.parent.div.style.cursor,g=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(r.target).cursor;var m=function pointerUpCallback(){i.parent.togglePointerEvents(!0);editor_classPrivateMethodGet(i,X,_toggleAltTextButton2).call(i,!0);i._isDraggable=u;window.removeEventListener("pointerup",pointerUpCallback);window.removeEventListener("blur",pointerUpCallback);window.removeEventListener("pointermove",l,c);i.parent.div.style.cursor=y;i.div.style.cursor=g;editor_classPrivateMethodGet(i,q,_addResizeToUndoStack2).call(i,h,d,p,v)};window.addEventListener("pointerup",m);window.addEventListener("blur",m)}}function _addResizeToUndoStack2(t,r,i,a){var o=this,l=this.x,u=this.y,c=this.width,h=this.height;l===t&&u===r&&c===i&&h===a||this.addCommands({cmd:function cmd(){o.width=c;o.height=h;o.x=l;o.y=u;var t=_slicedToArray(o.parentDimensions,2),r=t[0],i=t[1];o.setDims(r*c,i*h);o.fixAndSetPosition()},undo:function undo(){o.width=i;o.height=a;o.x=t;o.y=r;var l=_slicedToArray(o.parentDimensions,2),u=l[0],c=l[1];o.setDims(u*i,c*a);o.fixAndSetPosition()},mustExec:!0})}function _resizerPointermove2(t,r){var i,a,o=_slicedToArray(this.parentDimensions,2),l=o[0],c=o[1],h=this.x,d=this.y,p=this.width,v=this.height,y=u.MIN_SIZE/l,g=u.MIN_SIZE/c,m=function round(t){return Math.round(1e4*t)/1e4},_=editor_classPrivateMethodGet(this,z,_getRotationMatrix2).call(this,this.rotation),b=function transf(t,r){return[_[0]*t+_[2]*r,_[1]*t+_[3]*r]},w=editor_classPrivateMethodGet(this,z,_getRotationMatrix2).call(this,360-this.rotation),P=!1,A=!1;switch(t){case"topLeft":P=!0;i=function getPoint(t,r){return[0,0]};a=function getOpposite(t,r){return[t,r]};break;case"topMiddle":i=function getPoint(t,r){return[t/2,0]};a=function getOpposite(t,r){return[t/2,r]};break;case"topRight":P=!0;i=function getPoint(t,r){return[t,0]};a=function getOpposite(t,r){return[0,r]};break;case"middleRight":A=!0;i=function getPoint(t,r){return[t,r/2]};a=function getOpposite(t,r){return[0,r/2]};break;case"bottomRight":P=!0;i=function getPoint(t,r){return[t,r]};a=function getOpposite(t,r){return[0,0]};break;case"bottomMiddle":i=function getPoint(t,r){return[t/2,r]};a=function getOpposite(t,r){return[t/2,0]};break;case"bottomLeft":P=!0;i=function getPoint(t,r){return[0,r]};a=function getOpposite(t,r){return[t,0]};break;case"middleLeft":A=!0;i=function getPoint(t,r){return[0,r/2]};a=function getOpposite(t,r){return[t,r/2]}}var S=i(p,v),E=a(p,v),x=b.apply(void 0,_toConsumableArray(E)),k=m(h+x[0]),D=m(d+x[1]),C=1,T=1,I=_slicedToArray(this.screenToPageTranslation(r.movementX,r.movementY),2),O=I[0],M=I[1],L=_slicedToArray(function invTransf(t,r){return[w[0]*t+w[2]*r,w[1]*t+w[3]*r]}(O/l,M/c),2);O=L[0];M=L[1];if(P){var G=Math.hypot(p,v);C=T=Math.max(Math.min(Math.hypot(E[0]-S[0]-O,E[1]-S[1]-M)/G,1/p,1/v),y/p,g/v)}else A?C=Math.max(y,Math.min(1,Math.abs(E[0]-S[0]-O)))/p:T=Math.max(g,Math.min(1,Math.abs(E[1]-S[1]-M)))/v;var R=m(p*C),j=m(v*T),B=k-(x=b.apply(void 0,_toConsumableArray(a(R,j))))[0],N=D-x[1];this.width=R;this.height=j;this.x=B;this.y=N;this.setDims(l*R,c*j);this.fixAndSetPosition()}function _setAltTextButtonState2(){return _setAltTextButtonState3.apply(this,arguments)}function _setAltTextButtonState3(){return(_setAltTextButtonState3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var t,r,i,a,o,l=this;return _regeneratorRuntime().wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:if(t=editor_classPrivateFieldGet(this,P)){c.next=3;break}return c.abrupt("return");case 3:if(editor_classPrivateFieldGet(this,b)||editor_classPrivateFieldGet(this,w)){c.next=7;break}t.classList.remove("done");null===(r=editor_classPrivateFieldGet(this,A))||void 0===r||r.remove();return c.abrupt("return");case 7:t.classList.add("done");u._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((function(r){t.setAttribute("aria-label",r)}));if(!(i=editor_classPrivateFieldGet(this,A))){editor_classPrivateFieldSet(this,A,i=document.createElement("span"));i.className="tooltip";i.setAttribute("role","tooltip");a=i.id="alt-text-tooltip-".concat(this.id);t.setAttribute("aria-describedby",a);100;t.addEventListener("mouseenter",(function(){editor_classPrivateFieldSet(l,S,setTimeout((function(){editor_classPrivateFieldSet(l,S,null);editor_classPrivateFieldGet(l,A).classList.add("show");l._uiManager._eventBus.dispatch("reporttelemetry",{source:l,details:{type:"editing",subtype:l.editorType,data:{action:"alt_text_tooltip"}}})}),100))}));t.addEventListener("mouseleave",(function(){var t;if(editor_classPrivateFieldGet(l,S)){clearTimeout(editor_classPrivateFieldGet(l,S));editor_classPrivateFieldSet(l,S,null)}null===(t=editor_classPrivateFieldGet(l,A))||void 0===t||t.classList.remove("show")}))}if(!editor_classPrivateFieldGet(this,w)){c.next=17;break}c.next=14;return u._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip");case 14:c.t0=c.sent;c.next=18;break;case 17:c.t0=editor_classPrivateFieldGet(this,b);case 18:i.innerText=c.t0;i.parentNode||t.append(i);null==(o=this.getImageForAltText())||o.setAttribute("aria-describedby",i.id);case 22:case"end":return c.stop()}}),_callee2,this)})))).apply(this,arguments)}function _toggleAltTextButton2(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(editor_classPrivateFieldGet(this,P)){if(!t&&editor_classPrivateFieldGet(this,S)){clearTimeout(editor_classPrivateFieldGet(this,S));editor_classPrivateFieldSet(this,S,null)}editor_classPrivateFieldGet(this,P).disabled=!t}}function _setUpDragSession2(t){var r=this;if(this._isDraggable){var i,a,l=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();if(l){i={passive:!0,capture:!0};a=function pointerMoveCallback(t){var i=_slicedToArray(r.screenToPageTranslation(t.movementX,t.movementY),2),a=i[0],o=i[1];r._uiManager.dragSelectedEditors(a,o)};window.addEventListener("pointermove",a,i)}var u=function pointerUpCallback(){window.removeEventListener("pointerup",pointerUpCallback);window.removeEventListener("blur",pointerUpCallback);l&&window.removeEventListener("pointermove",a,i);editor_classPrivateFieldSet(r,M,!1);if(!r._uiManager.endDragSession()){var u=o.FeatureTest.platform.isMac;t.ctrlKey&&!u||t.shiftKey||t.metaKey&&u?r.parent.toggleSelected(r):r.parent.setSelected(r)}};window.addEventListener("pointerup",u);window.addEventListener("blur",u)}}function _resizerKeydown2(t){u._resizerKeyboardManager.exec(this,t)}function _resizerBlur2(t){var r;editor_classPrivateFieldGet(this,R)&&(null===(r=t.relatedTarget)||void 0===r?void 0:r.parentNode)!==editor_classPrivateFieldGet(this,k)&&editor_classPrivateMethodGet(this,te,_stopResizing2).call(this)}function _resizerFocus2(t){editor_classPrivateFieldSet(this,O,editor_classPrivateFieldGet(this,R)?t:"")}function _setResizerTabIndex2(t){if(editor_classPrivateFieldGet(this,_)){var r,i=_createForOfIteratorHelper(editor_classPrivateFieldGet(this,_));try{for(i.s();!(r=i.n()).done;){r.value.tabIndex=t}}catch(t){i.e(t)}finally{i.f()}}}function _stopResizing2(){editor_classPrivateFieldSet(this,R,!1);editor_classPrivateMethodGet(this,ee,_setResizerTabIndex2).call(this,-1);if(editor_classPrivateFieldGet(this,D)){var t=editor_classPrivateFieldGet(this,D),r=t.savedX,i=t.savedY,a=t.savedWidth,o=t.savedHeight;editor_classPrivateMethodGet(this,q,_addResizeToUndoStack2).call(this,r,i,a,o);editor_classPrivateFieldSet(this,D,null)}}_defineProperty(re,"_borderLineWidth",-1);_defineProperty(re,"_colorManager",new a.ColorManager);_defineProperty(re,"_zIndex",1);_defineProperty(re,"SMALL_EDITOR_SIZE",0);var ne=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}(FakeEditor,t);var r=_createSuper(FakeEditor);function FakeEditor(t){var i;editor_classCallCheck(this,FakeEditor);(i=r.call(this,t)).annotationElementId=t.annotationElementId;i.deleted=!0;return i}editor_createClass(FakeEditor,[{key:"serialize",value:function serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}]);return FakeEditor}(re)},7405:(t,r,i)=>{i.d(r,{Outliner:()=>v});i(6820),i(10),i(4226),i(8301),i(6180),i(895),i(1747),i(7484),i(2374),i(394),i(2048),i(5561),i(8587),i(3247),i(3302),i(9490),i(5438),i(7914),i(6302),i(3352),i(5598),i(8806),i(9366),i(6678),i(5897),i(171),i(924),i(9593),i(7942),i(5776),i(2926);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var a=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakSet,c=new WeakSet,h=new WeakSet,d=new WeakSet,p=new WeakSet,v=function(){function Outliner(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,v=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Outliner);_classPrivateMethodInitSpec(this,p);_classPrivateMethodInitSpec(this,d);_classPrivateMethodInitSpec(this,h);_classPrivateMethodInitSpec(this,c);_classPrivateMethodInitSpec(this,u);_classPrivateFieldInitSpec(this,a,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,o,{writable:!0,value:[]});_classPrivateFieldInitSpec(this,l,{writable:!0,value:[]});var y,g=1/0,m=-1/0,_=1/0,b=-1/0,w=Math.pow(10,-4),P=_createForOfIteratorHelper(t);try{for(P.s();!(y=P.n()).done;){var A=y.value,S=A.x,E=A.y,x=A.width,k=A.height,D=Math.floor((S-r)/w)*w,C=Math.ceil((S+x+r)/w)*w,T=Math.floor((E-r)/w)*w,I=Math.ceil((E+k+r)/w)*w,O=[D,T,I,!0],M=[C,T,I,!1];_classPrivateFieldGet(this,o).push(O,M);g=Math.min(g,D);m=Math.max(m,C);_=Math.min(_,T);b=Math.max(b,I)}}catch(t){P.e(t)}finally{P.f()}var L,G=m-g+2*i,R=b-_+2*i,j=g-i,B=_-i,N=_classPrivateFieldGet(this,o).at(v?-1:-2),W=[N[0],N[2]],V=_createForOfIteratorHelper(_classPrivateFieldGet(this,o));try{for(V.s();!(L=V.n()).done;){var z=L.value,H=_slicedToArray(z,3),U=H[0],q=H[1],K=H[2];z[0]=(U-j)/G;z[1]=(q-B)/R;z[2]=(K-B)/R}}catch(t){V.e(t)}finally{V.f()}_classPrivateFieldSet(this,a,{x:j,y:B,width:G,height:R,lastPoint:W})}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(Outliner,[{key:"getOutlines",value:function getOutlines(){_classPrivateFieldGet(this,o).sort((function(t,r){return t[0]-r[0]||t[1]-r[1]||t[2]-r[2]}));var t,r=[],i=_createForOfIteratorHelper(_classPrivateFieldGet(this,o));try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a[3]){r.push.apply(r,_toConsumableArray(_classPrivateMethodGet(this,p,_breakEdge2).call(this,a)));_classPrivateMethodGet(this,h,_insert2).call(this,a)}else{_classPrivateMethodGet(this,d,_remove2).call(this,a);r.push.apply(r,_toConsumableArray(_classPrivateMethodGet(this,p,_breakEdge2).call(this,a)))}}}catch(t){i.e(t)}finally{i.f()}return _classPrivateMethodGet(this,u,_getOutlines2).call(this,r)}}]);return Outliner}();function _getOutlines2(t){var r,i=[],o=new Set,l=_createForOfIteratorHelper(t);try{for(l.s();!(r=l.n()).done;){var u=r.value,c=_slicedToArray(u,3),h=c[0],d=c[1],p=c[2];i.push([h,d,u],[h,p,u])}}catch(t){l.e(t)}finally{l.f()}i.sort((function(t,r){return t[1]-r[1]||t[0]-r[0]}));for(var v=0,y=i.length;v<y;v+=2){var g=i[v][2],m=i[v+1][2];g.push(m);m.push(g);o.add(g);o.add(m)}for(var _,b=[];o.size>0;){var w=o.values().next().value,P=_slicedToArray(w,5),A=P[0],S=P[1],E=P[2],x=P[3],k=P[4];o.delete(w);var D=A,C=S;_=[A,E];b.push(_);for(;;){var T=void 0;if(o.has(x))T=x;else{if(!o.has(k))break;T=k}o.delete(T);var I=_slicedToArray(T,5);A=I[0];S=I[1];E=I[2];x=I[3];k=I[4];if(D!==A){_.push(D,C,A,C===S?S:E);D=A}C=C===S?E:S}_.push(D,C)}return{outlines:b,box:_classPrivateFieldGet(this,a)}}function _binarySearch2(t){for(var r=_classPrivateFieldGet(this,l),i=0,a=r.length-1;i<=a;){var o=i+a>>1,u=r[o][0];if(u===t)return o;u<t?i=o+1:a=o-1}return a+1}function _insert2(t){var r=_slicedToArray(t,3),i=r[1],a=r[2],o=_classPrivateMethodGet(this,c,_binarySearch2).call(this,i);_classPrivateFieldGet(this,l).splice(o,0,[i,a])}function _remove2(t){for(var r=_slicedToArray(t,3),i=r[1],a=r[2],o=_classPrivateMethodGet(this,c,_binarySearch2).call(this,i),u=o;u<_classPrivateFieldGet(this,l).length;u++){var h=_slicedToArray(_classPrivateFieldGet(this,l)[u],2),d=h[0],p=h[1];if(d!==i)break;if(d===i&&p===a){_classPrivateFieldGet(this,l).splice(u,1);return}}for(var v=o-1;v>=0;v--){var y=_slicedToArray(_classPrivateFieldGet(this,l)[v],2),g=y[0],m=y[1];if(g!==i)break;if(g===i&&m===a){_classPrivateFieldGet(this,l).splice(v,1);return}}}function _breakEdge2(t){for(var r=_slicedToArray(t,3),i=r[0],a=r[1],o=r[2],u=[[i,a,o]],h=_classPrivateMethodGet(this,c,_binarySearch2).call(this,o),d=0;d<h;d++)for(var p=_slicedToArray(_classPrivateFieldGet(this,l)[d],2),v=p[0],y=p[1],g=0,m=u.length;g<m;g++){var _=_slicedToArray(u[g],3),b=_[1],w=_[2];if(!(y<=b||w<=v))if(b>=v)if(w>y)u[g][1]=y;else{if(1===m)return[];u.splice(g,1);g--;m--}else{u[g][2]=v;w>y&&u.push([i,y,w])}}return u}},4812:(t,r,i)=>{i.d(r,{AnnotationEditorUIManager:()=>be,ColorManager:()=>S,KeyboardManager:()=>A,bindEvents:()=>bindEvents,opacityToHex:()=>opacityToHex});i(9593),i(5776),i(9366),i(6678),i(2926),i(3352),i(5598),i(8806),i(5897),i(1133),i(2173),i(2630),i(1024),i(13),i(7230),i(895),i(924),i(7874),i(6180),i(5548),i(1747),i(2374),i(6421),i(4624),i(739),i(4816),i(6923),i(6775),i(6474),i(6450),i(1665),i(8837),i(9803),i(1293),i(1051),i(8260),i(5746),i(202),i(2138),i(368),i(9782),i(917),i(3650),i(8347),i(7192),i(354),i(9080),i(7238),i(7995),i(62),i(6635),i(4602),i(344),i(4305),i(7583),i(4226),i(6302),i(2048),i(5561),i(8587),i(3247),i(3302),i(9490),i(5438),i(7914),i(171),i(6820),i(10),i(7121),i(385),i(7254),i(4668),i(2808),i(7942),i(2796),i(6770),i(1378),i(7484),i(394),i(8518),i(2586),i(9142),i(5666);var a,o=i(3266),l=i(473);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperty(t,r,i){(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function bindEvents(t,r,i){var a,o=_createForOfIteratorHelper(i);try{for(o.s();!(a=o.n()).done;){var l=a.value;r.addEventListener(l,t[l].bind(t))}}catch(t){o.e(t)}finally{o.f()}}function opacityToHex(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var u=new WeakMap,c=function(){function IdManager(){_classCallCheck(this,IdManager);_classPrivateFieldInitSpec(this,u,{writable:!0,value:0})}_createClass(IdManager,[{key:"getId",value:function getId(){var t,r;return"".concat(o.AnnotationEditorPrefix).concat((_classPrivateFieldSet(this,u,(t=_classPrivateFieldGet(this,u),r=t++,t)),r))}}]);return IdManager}(),h=new WeakMap,d=new WeakMap,p=new WeakMap,v=new WeakSet,y=function(){function ImageManager(){_classCallCheck(this,ImageManager);_classPrivateMethodInitSpec(this,v);_classPrivateFieldInitSpec(this,h,{writable:!0,value:(0,o.getUuid)()});_classPrivateFieldInitSpec(this,d,{writable:!0,value:0});_classPrivateFieldInitSpec(this,p,{writable:!0,value:null})}_createClass(ImageManager,[{key:"getFromFile",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(t){var r,i,a,o;return _regeneratorRuntime().wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:r=t.lastModified,i=t.name,a=t.size,o=t.type;return l.abrupt("return",_classPrivateMethodGet(this,v,_get2).call(this,"".concat(r,"_").concat(i,"_").concat(a,"_").concat(o),t));case 2:case"end":return l.stop()}}),_callee,this)}))),function getFromFile(t){return i.apply(this,arguments)})},{key:"getFromUrl",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t){return _regeneratorRuntime().wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",_classPrivateMethodGet(this,v,_get2).call(this,t,t));case 1:case"end":return r.stop()}}),_callee2,this)}))),function getFromUrl(t){return r.apply(this,arguments)})},{key:"getFromId",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(t){var r;return _regeneratorRuntime().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:_classPrivateFieldGet(this,p)||_classPrivateFieldSet(this,p,new Map);if(r=_classPrivateFieldGet(this,p).get(t)){i.next=4;break}return i.abrupt("return",null);case 4:if(!r.bitmap){i.next=7;break}r.refCounter+=1;return i.abrupt("return",r);case 7:if(!r.file){i.next=9;break}return i.abrupt("return",this.getFromFile(r.file));case 9:return i.abrupt("return",this.getFromUrl(r.url));case 10:case"end":return i.stop()}}),_callee3,this)}))),function getFromId(r){return t.apply(this,arguments)})},{key:"getSvgUrl",value:function getSvgUrl(t){var r=_classPrivateFieldGet(this,p).get(t);return null!=r&&r.isSvg?r.svgUrl:null}},{key:"deleteId",value:function deleteId(t){_classPrivateFieldGet(this,p)||_classPrivateFieldSet(this,p,new Map);var r=_classPrivateFieldGet(this,p).get(t);if(r){r.refCounter-=1;0===r.refCounter&&(r.bitmap=null)}}},{key:"isValidId",value:function isValidId(t){return t.startsWith("image_".concat(_classPrivateFieldGet(this,h),"_"))}}],[{key:"_isSVGFittingCanvas",get:function get(){var t=new OffscreenCanvas(1,3).getContext("2d"),r=new Image;r.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';var i=r.decode().then((function(){t.drawImage(r,0,0,1,1,0,0,1,3);return 0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0]}));return(0,o.shadow)(this,"_isSVGFittingCanvas",i)}}]);var t,r,i;return ImageManager}();a=y;function _get2(t,r){return _get3.apply(this,arguments)}function _get3(){return(_get3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(t,r){var i,o,u,c,v,y,g,m,_;return _regeneratorRuntime().wrap((function _callee5$(b){for(;;)switch(b.prev=b.next){case 0:_classPrivateFieldGet(this,p)||_classPrivateFieldSet(this,p,new Map);if(null!==(o=_classPrivateFieldGet(this,p).get(t))){b.next=4;break}return b.abrupt("return",null);case 4:if(null===(i=o)||void 0===i||!i.bitmap){b.next=7;break}o.refCounter+=1;return b.abrupt("return",o);case 7:b.prev=7;o||(o={bitmap:null,id:"image_".concat(_classPrivateFieldGet(this,h),"_").concat((_classPrivateFieldSet(this,d,(u=_classPrivateFieldGet(this,d),c=u++,u)),c)),refCounter:0,isSvg:!1});if("string"!=typeof r){b.next=16;break}o.url=r;b.next=13;return(0,l.fetchData)(r,"blob");case 13:v=b.sent;b.next=17;break;case 16:v=o.file=r;case 17:if("image/svg+xml"!==v.type){b.next=27;break}y=a._isSVGFittingCanvas;g=new FileReader;m=new Image;_=new Promise((function(t,r){m.onload=function(){o.bitmap=m;o.isSvg=!0;t()};g.onload=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){var t;return _regeneratorRuntime().wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:t=o.svgUrl=g.result;r.next=3;return y;case 3:if(!r.sent){r.next=7;break}r.t0="".concat(t,"#svgView(preserveAspectRatio(none))");r.next=8;break;case 7:r.t0=t;case 8:m.src=r.t0;case 9:case"end":return r.stop()}}),_callee4)})));m.onerror=g.onerror=r}));g.readAsDataURL(v);b.next=25;return _;case 25:b.next=30;break;case 27:b.next=29;return createImageBitmap(v);case 29:o.bitmap=b.sent;case 30:o.refCounter=1;b.next=37;break;case 33:b.prev=33;b.t0=b.catch(7);console.error(b.t0);o=null;case 37:_classPrivateFieldGet(this,p).set(t,o);o&&_classPrivateFieldGet(this,p).set(o.id,o);return b.abrupt("return",o);case 40:case"end":return b.stop()}}),_callee5,this,[[7,33]])})))).apply(this,arguments)}var g=new WeakMap,m=new WeakMap,_=new WeakMap,b=new WeakMap,w=function(){function CommandManager(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;_classCallCheck(this,CommandManager);_classPrivateFieldInitSpec(this,g,{writable:!0,value:[]});_classPrivateFieldInitSpec(this,m,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,_,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,b,{writable:!0,value:-1});_classPrivateFieldSet(this,_,t)}_createClass(CommandManager,[{key:"add",value:function add(t){var r=t.cmd,i=t.undo,a=t.mustExec,o=t.type,l=void 0===o?NaN:o,u=t.overwriteIfSameType,c=void 0!==u&&u,h=t.keepUndo,d=void 0!==h&&h;a&&r();if(!_classPrivateFieldGet(this,m)){var p={cmd:r,undo:i,type:l};if(-1!==_classPrivateFieldGet(this,b))if(c&&_classPrivateFieldGet(this,g)[_classPrivateFieldGet(this,b)].type===l){d&&(p.undo=_classPrivateFieldGet(this,g)[_classPrivateFieldGet(this,b)].undo);_classPrivateFieldGet(this,g)[_classPrivateFieldGet(this,b)]=p}else{var v=_classPrivateFieldGet(this,b)+1;if(v===_classPrivateFieldGet(this,_))_classPrivateFieldGet(this,g).splice(0,1);else{_classPrivateFieldSet(this,b,v);v<_classPrivateFieldGet(this,g).length&&_classPrivateFieldGet(this,g).splice(v)}_classPrivateFieldGet(this,g).push(p)}else{_classPrivateFieldGet(this,g).length>0&&(_classPrivateFieldGet(this,g).length=0);_classPrivateFieldSet(this,b,0);_classPrivateFieldGet(this,g).push(p)}}}},{key:"undo",value:function undo(){if(-1!==_classPrivateFieldGet(this,b)){_classPrivateFieldSet(this,m,!0);_classPrivateFieldGet(this,g)[_classPrivateFieldGet(this,b)].undo();_classPrivateFieldSet(this,m,!1);_classPrivateFieldSet(this,b,_classPrivateFieldGet(this,b)-1)}}},{key:"redo",value:function redo(){if(_classPrivateFieldGet(this,b)<_classPrivateFieldGet(this,g).length-1){_classPrivateFieldSet(this,b,_classPrivateFieldGet(this,b)+1);_classPrivateFieldSet(this,m,!0);_classPrivateFieldGet(this,g)[_classPrivateFieldGet(this,b)].cmd();_classPrivateFieldSet(this,m,!1)}}},{key:"hasSomethingToUndo",value:function hasSomethingToUndo(){return-1!==_classPrivateFieldGet(this,b)}},{key:"hasSomethingToRedo",value:function hasSomethingToRedo(){return _classPrivateFieldGet(this,b)<_classPrivateFieldGet(this,g).length-1}},{key:"destroy",value:function destroy(){_classPrivateFieldSet(this,g,null)}},{key:"reset",value:function reset(){_classPrivateFieldSet(this,g,[]);_classPrivateFieldSet(this,b,-1);_classPrivateFieldSet(this,m,!1)}}]);return CommandManager}(),P=new WeakSet,A=function(){function KeyboardManager(t){_classCallCheck(this,KeyboardManager);_classPrivateMethodInitSpec(this,P);this.buffer=[];this.callbacks=new Map;this.allKeys=new Set;var r,i=o.FeatureTest.platform.isMac,a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var l,u=_slicedToArray(r.value,3),c=u[0],h=u[1],d=u[2],p=void 0===d?{}:d,v=_createForOfIteratorHelper(c);try{for(v.s();!(l=v.n()).done;){var y=l.value,g=y.startsWith("mac+");if(i&&g){this.callbacks.set(y.slice(4),{callback:h,options:p});this.allKeys.add(y.split("+").at(-1))}else if(!i&&!g){this.callbacks.set(y,{callback:h,options:p});this.allKeys.add(y.split("+").at(-1))}}}catch(t){v.e(t)}finally{v.f()}}}catch(t){a.e(t)}finally{a.f()}}_createClass(KeyboardManager,[{key:"exec",value:function exec(t,r){if(this.allKeys.has(r.key)){var i=this.callbacks.get(_classPrivateMethodGet(this,P,_serialize2).call(this,r));if(i){var a=i.callback,o=i.options,l=o.bubbles,u=void 0!==l&&l,c=o.args,h=void 0===c?[]:c,d=o.checker,p=void 0===d?null:d;if(!p||p(t,r)){a.bind.apply(a,[t].concat(_toConsumableArray(h)))();if(!u){r.stopPropagation();r.preventDefault()}}}}}}]);return KeyboardManager}();function _serialize2(t){t.altKey&&this.buffer.push("alt");t.ctrlKey&&this.buffer.push("ctrl");t.metaKey&&this.buffer.push("meta");t.shiftKey&&this.buffer.push("shift");this.buffer.push(t.key);var r=this.buffer.join("+");this.buffer.length=0;return r}var S=function(){function ColorManager(){_classCallCheck(this,ColorManager)}_createClass(ColorManager,[{key:"_colors",get:function get(){var t=new Map([["CanvasText",null],["Canvas",null]]);(0,l.getColorValues)(t);return(0,o.shadow)(this,"_colors",t)}},{key:"convert",value:function convert(t){var r=(0,l.getRGB)(t);if(!window.matchMedia("(forced-colors: active)").matches)return r;var i,a=_createForOfIteratorHelper(this._colors);try{for(a.s();!(i=a.n()).done;){var o=_slicedToArray(i.value,2),u=o[0];if(o[1].every((function(t,i){return t===r[i]})))return ColorManager._colorsMapping.get(u)}}catch(t){a.e(t)}finally{a.f()}return r}},{key:"getHexCode",value:function getHexCode(t){var r=this._colors.get(t);return r?o.Util.makeHexColor.apply(o.Util,_toConsumableArray(r)):t}}]);return ColorManager}();_defineProperty(S,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var E=new WeakMap,x=new WeakMap,k=new WeakMap,D=new WeakMap,C=new WeakMap,T=new WeakMap,I=new WeakMap,O=new WeakMap,M=new WeakMap,L=new WeakMap,G=new WeakMap,R=new WeakMap,j=new WeakMap,B=new WeakMap,N=new WeakMap,W=new WeakMap,V=new WeakMap,z=new WeakMap,H=new WeakMap,U=new WeakMap,q=new WeakMap,K=new WeakMap,Y=new WeakMap,X=new WeakMap,$=new WeakMap,Z=new WeakMap,Q=new WeakMap,J=new WeakMap,ee=new WeakMap,te=new WeakMap,re=new WeakMap,ne=new WeakMap,ie=new WeakMap,ae=new WeakMap,oe=new WeakMap,se=new WeakSet,le=new WeakSet,ue=new WeakSet,ce=new WeakSet,he=new WeakSet,de=new WeakSet,fe=new WeakSet,pe=new WeakSet,ve=new WeakSet,ye=new WeakSet,ge=new WeakSet,me=new WeakSet,_e=new WeakSet,be=function(){function AnnotationEditorUIManager(t,r,i,a,u,h){_classCallCheck(this,AnnotationEditorUIManager);_classPrivateMethodInitSpec(this,_e);_classPrivateMethodInitSpec(this,me);_classPrivateMethodInitSpec(this,ge);_classPrivateMethodInitSpec(this,ye);_classPrivateMethodInitSpec(this,ve);_classPrivateMethodInitSpec(this,pe);_classPrivateMethodInitSpec(this,fe);_classPrivateMethodInitSpec(this,de);_classPrivateMethodInitSpec(this,he);_classPrivateMethodInitSpec(this,ce);_classPrivateMethodInitSpec(this,ue);_classPrivateMethodInitSpec(this,le);_classPrivateMethodInitSpec(this,se);_classPrivateFieldInitSpec(this,E,{writable:!0,value:null});_classPrivateFieldInitSpec(this,x,{writable:!0,value:new Map});_classPrivateFieldInitSpec(this,k,{writable:!0,value:new Map});_classPrivateFieldInitSpec(this,D,{writable:!0,value:null});_classPrivateFieldInitSpec(this,C,{writable:!0,value:null});_classPrivateFieldInitSpec(this,T,{writable:!0,value:new w});_classPrivateFieldInitSpec(this,I,{writable:!0,value:0});_classPrivateFieldInitSpec(this,O,{writable:!0,value:new Set});_classPrivateFieldInitSpec(this,M,{writable:!0,value:null});_classPrivateFieldInitSpec(this,L,{writable:!0,value:null});_classPrivateFieldInitSpec(this,G,{writable:!0,value:new Set});_classPrivateFieldInitSpec(this,R,{writable:!0,value:null});_classPrivateFieldInitSpec(this,j,{writable:!0,value:null});_classPrivateFieldInitSpec(this,B,{writable:!0,value:new c});_classPrivateFieldInitSpec(this,N,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,W,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,V,{writable:!0,value:null});_classPrivateFieldInitSpec(this,z,{writable:!0,value:o.AnnotationEditorType.NONE});_classPrivateFieldInitSpec(this,H,{writable:!0,value:new Set});_classPrivateFieldInitSpec(this,U,{writable:!0,value:null});_classPrivateFieldInitSpec(this,q,{writable:!0,value:this.blur.bind(this)});_classPrivateFieldInitSpec(this,K,{writable:!0,value:this.focus.bind(this)});_classPrivateFieldInitSpec(this,Y,{writable:!0,value:this.copy.bind(this)});_classPrivateFieldInitSpec(this,X,{writable:!0,value:this.cut.bind(this)});_classPrivateFieldInitSpec(this,$,{writable:!0,value:this.paste.bind(this)});_classPrivateFieldInitSpec(this,Z,{writable:!0,value:this.keydown.bind(this)});_classPrivateFieldInitSpec(this,Q,{writable:!0,value:this.onEditingAction.bind(this)});_classPrivateFieldInitSpec(this,J,{writable:!0,value:this.onPageChanging.bind(this)});_classPrivateFieldInitSpec(this,ee,{writable:!0,value:this.onScaleChanging.bind(this)});_classPrivateFieldInitSpec(this,te,{writable:!0,value:this.onRotationChanging.bind(this)});_classPrivateFieldInitSpec(this,re,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}});_classPrivateFieldInitSpec(this,ne,{writable:!0,value:[0,0]});_classPrivateFieldInitSpec(this,ie,{writable:!0,value:null});_classPrivateFieldInitSpec(this,ae,{writable:!0,value:null});_classPrivateFieldInitSpec(this,oe,{writable:!0,value:null});_classPrivateFieldSet(this,ae,t);_classPrivateFieldSet(this,oe,r);_classPrivateFieldSet(this,D,i);this._eventBus=a;this._eventBus._on("editingaction",_classPrivateFieldGet(this,Q));this._eventBus._on("pagechanging",_classPrivateFieldGet(this,J));this._eventBus._on("scalechanging",_classPrivateFieldGet(this,ee));this._eventBus._on("rotationchanging",_classPrivateFieldGet(this,te));_classPrivateFieldSet(this,C,u.annotationStorage);_classPrivateFieldSet(this,R,u.filterFactory);_classPrivateFieldSet(this,U,h);this.viewParameters={realScale:l.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}_createClass(AnnotationEditorUIManager,[{key:"destroy",value:function destroy(){_classPrivateMethodGet(this,ce,_removeKeyboardManager2).call(this);_classPrivateMethodGet(this,le,_removeFocusManager2).call(this);this._eventBus._off("editingaction",_classPrivateFieldGet(this,Q));this._eventBus._off("pagechanging",_classPrivateFieldGet(this,J));this._eventBus._off("scalechanging",_classPrivateFieldGet(this,ee));this._eventBus._off("rotationchanging",_classPrivateFieldGet(this,te));var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,k).values());try{for(r.s();!(t=r.n()).done;){t.value.destroy()}}catch(t){r.e(t)}finally{r.f()}_classPrivateFieldGet(this,k).clear();_classPrivateFieldGet(this,x).clear();_classPrivateFieldGet(this,G).clear();_classPrivateFieldSet(this,E,null);_classPrivateFieldGet(this,H).clear();_classPrivateFieldGet(this,T).destroy();_classPrivateFieldGet(this,D).destroy();if(_classPrivateFieldGet(this,j)){clearTimeout(_classPrivateFieldGet(this,j));_classPrivateFieldSet(this,j,null)}if(_classPrivateFieldGet(this,ie)){clearTimeout(_classPrivateFieldGet(this,ie));_classPrivateFieldSet(this,ie,null)}}},{key:"hcmFilter",get:function get(){return(0,o.shadow)(this,"hcmFilter",_classPrivateFieldGet(this,U)?_classPrivateFieldGet(this,R).addHCMFilter(_classPrivateFieldGet(this,U).foreground,_classPrivateFieldGet(this,U).background):"none")}},{key:"direction",get:function get(){return(0,o.shadow)(this,"direction",getComputedStyle(_classPrivateFieldGet(this,ae)).direction)}},{key:"editAltText",value:function editAltText(t){var r;null===(r=_classPrivateFieldGet(this,D))||void 0===r||r.editAltText(this,t)}},{key:"onPageChanging",value:function onPageChanging(t){var r=t.pageNumber;_classPrivateFieldSet(this,I,r-1)}},{key:"focusMainContainer",value:function focusMainContainer(){_classPrivateFieldGet(this,ae).focus()}},{key:"findParent",value:function findParent(t,r){var i,a=_createForOfIteratorHelper(_classPrivateFieldGet(this,k).values());try{for(a.s();!(i=a.n()).done;){var o=i.value,l=o.div.getBoundingClientRect(),u=l.x,c=l.y,h=l.width,d=l.height;if(t>=u&&t<=u+h&&r>=c&&r<=c+d)return o}}catch(t){a.e(t)}finally{a.f()}return null}},{key:"disableUserSelect",value:function disableUserSelect(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classPrivateFieldGet(this,oe).classList.toggle("noUserSelect",t)}},{key:"addShouldRescale",value:function addShouldRescale(t){_classPrivateFieldGet(this,G).add(t)}},{key:"removeShouldRescale",value:function removeShouldRescale(t){_classPrivateFieldGet(this,G).delete(t)}},{key:"onScaleChanging",value:function onScaleChanging(t){var r=t.scale;this.commitOrRemove();this.viewParameters.realScale=r*l.PixelsPerInch.PDF_TO_CSS_UNITS;var i,a=_createForOfIteratorHelper(_classPrivateFieldGet(this,G));try{for(a.s();!(i=a.n()).done;){i.value.onScaleChanging()}}catch(t){a.e(t)}finally{a.f()}}},{key:"onRotationChanging",value:function onRotationChanging(t){var r=t.pagesRotation;this.commitOrRemove();this.viewParameters.rotation=r}},{key:"addToAnnotationStorage",value:function addToAnnotationStorage(t){t.isEmpty()||!_classPrivateFieldGet(this,C)||_classPrivateFieldGet(this,C).has(t.id)||_classPrivateFieldGet(this,C).setValue(t.id,t)}},{key:"blur",value:function blur(){if(this.hasSelection){var t,r=document.activeElement,i=_createForOfIteratorHelper(_classPrivateFieldGet(this,H));try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.div.contains(r)){_classPrivateFieldSet(this,V,[a,r]);a._focusEventsAllowed=!1;break}}}catch(t){i.e(t)}finally{i.f()}}}},{key:"focus",value:function focus(){if(_classPrivateFieldGet(this,V)){var t=_slicedToArray(_classPrivateFieldGet(this,V),2),r=t[0],i=t[1];_classPrivateFieldSet(this,V,null);i.addEventListener("focusin",(function(){r._focusEventsAllowed=!0}),{once:!0});i.focus()}}},{key:"addEditListeners",value:function addEditListeners(){_classPrivateMethodGet(this,ue,_addKeyboardManager2).call(this);_classPrivateMethodGet(this,he,_addCopyPasteListeners2).call(this)}},{key:"removeEditListeners",value:function removeEditListeners(){_classPrivateMethodGet(this,ce,_removeKeyboardManager2).call(this);_classPrivateMethodGet(this,de,_removeCopyPasteListeners2).call(this)}},{key:"copy",value:function copy(t){var r;t.preventDefault();null===(r=_classPrivateFieldGet(this,E))||void 0===r||r.commitOrRemove();if(this.hasSelection){var i,a=[],o=_createForOfIteratorHelper(_classPrivateFieldGet(this,H));try{for(o.s();!(i=o.n()).done;){var l=i.value.serialize(!0);l&&a.push(l)}}catch(t){o.e(t)}finally{o.f()}0!==a.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(a))}}},{key:"cut",value:function cut(t){this.copy(t);this.delete()}},{key:"paste",value:function paste(t){t.preventDefault();var r,i=t.clipboardData,a=_createForOfIteratorHelper(i.items);try{for(a.s();!(r=a.n()).done;){var o,l=r.value,u=_createForOfIteratorHelper(_classPrivateFieldGet(this,L));try{for(u.s();!(o=u.n()).done;){var c=o.value;if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}}}catch(t){u.e(t)}finally{u.f()}}}catch(t){a.e(t)}finally{a.f()}var h=i.getData("application/pdfjs");this.addSerializedEditor(h)}},{key:"addSerializedEditor",value:function addSerializedEditor(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t){try{"string"==typeof t&&(t=JSON.parse(t))}catch(t){(0,o.warn)('paste: "'.concat(t.message,'".'));return}if(Array.isArray(t)){var u=_classPrivateFieldGet(this,z);i&&u===o.AnnotationEditorType.NONE&&this.updateMode(o.AnnotationEditorType.FREETEXT);this.unselectAll();try{var c,h=[],d=_createForOfIteratorHelper(t);try{for(d.s();!(c=d.n()).done;){var p=c.value,v=void 0===p.pageIndex,y=(l||v?this.currentLayer:this.getLayer(p.pageIndex)).deserialize(p);if(!y)return;y.doNotMove=a;h.push(y)}}catch(t){d.e(t)}finally{d.f()}this.addCommands({cmd:function cmd(){for(var t=0,i=h;t<i.length;t++){var a=i[t];_classPrivateMethodGet(r,ge,_addEditorToLayer2).call(r,a)}_classPrivateMethodGet(r,_e,_selectEditors2).call(r,h)},undo:function undo(){for(var t=0,r=h;t<r.length;t++){r[t].remove()}},mustExec:!0})}catch(t){(0,o.warn)('paste: "'.concat(t.message,'".'))}i&&u!==_classPrivateFieldGet(this,z)&&this.updateMode(u)}}}},{key:"keydown",value:function keydown(t){this.isEditorHandlingKeyboard||AnnotationEditorUIManager._keyboardManager.exec(this,t)}},{key:"onEditingAction",value:function onEditingAction(t){["undo","redo","delete","selectAll"].includes(t.name)&&this[t.name]()}},{key:"setEditingState",value:function setEditingState(t){if(t){_classPrivateMethodGet(this,se,_addFocusManager2).call(this);_classPrivateMethodGet(this,ue,_addKeyboardManager2).call(this);_classPrivateMethodGet(this,he,_addCopyPasteListeners2).call(this);_classPrivateMethodGet(this,fe,_dispatchUpdateStates2).call(this,{isEditing:_classPrivateFieldGet(this,z)!==o.AnnotationEditorType.NONE,isEmpty:_classPrivateMethodGet(this,me,_isEmpty2).call(this),hasSomethingToUndo:_classPrivateFieldGet(this,T).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(this,T).hasSomethingToRedo(),hasSelectedEditor:!1})}else{_classPrivateMethodGet(this,le,_removeFocusManager2).call(this);_classPrivateMethodGet(this,ce,_removeKeyboardManager2).call(this);_classPrivateMethodGet(this,de,_removeCopyPasteListeners2).call(this);_classPrivateMethodGet(this,fe,_dispatchUpdateStates2).call(this,{isEditing:!1});this.disableUserSelect(!1)}}},{key:"registerEditorTypes",value:function registerEditorTypes(t){if(!_classPrivateFieldGet(this,L)){_classPrivateFieldSet(this,L,t);var r,i=_createForOfIteratorHelper(_classPrivateFieldGet(this,L));try{for(i.s();!(r=i.n()).done;){var a=r.value;_classPrivateMethodGet(this,pe,_dispatchUpdateUI2).call(this,a.defaultPropertiesToUpdate)}}catch(t){i.e(t)}finally{i.f()}}}},{key:"getId",value:function getId(){return _classPrivateFieldGet(this,B).getId()}},{key:"currentLayer",get:function get(){return _classPrivateFieldGet(this,k).get(_classPrivateFieldGet(this,I))}},{key:"getLayer",value:function getLayer(t){return _classPrivateFieldGet(this,k).get(t)}},{key:"currentPageIndex",get:function get(){return _classPrivateFieldGet(this,I)}},{key:"addLayer",value:function addLayer(t){_classPrivateFieldGet(this,k).set(t.pageIndex,t);_classPrivateFieldGet(this,N)?t.enable():t.disable()}},{key:"removeLayer",value:function removeLayer(t){_classPrivateFieldGet(this,k).delete(t.pageIndex)}},{key:"updateMode",value:function updateMode(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_classPrivateFieldGet(this,z)!==t){_classPrivateFieldSet(this,z,t);if(t!==o.AnnotationEditorType.NONE){this.setEditingState(!0);_classPrivateMethodGet(this,ve,_enableAll2).call(this);this.unselectAll();var a,l=_createForOfIteratorHelper(_classPrivateFieldGet(this,k).values());try{for(l.s();!(a=l.n()).done;){a.value.updateMode(t)}}catch(t){l.e(t)}finally{l.f()}if(r||!i){if(r){var u,c=_createForOfIteratorHelper(_classPrivateFieldGet(this,x).values());try{for(c.s();!(u=c.n()).done;){var h=u.value;if(h.annotationElementId===r){this.setSelected(h);h.enterInEditMode();break}}}catch(t){c.e(t)}finally{c.f()}}}else this.addNewEditorFromKeyboard()}else{this.setEditingState(!1);_classPrivateMethodGet(this,ye,_disableAll2).call(this)}}}},{key:"addNewEditorFromKeyboard",value:function addNewEditorFromKeyboard(){this.currentLayer.addNewEditor()}},{key:"updateToolbar",value:function updateToolbar(t){t!==_classPrivateFieldGet(this,z)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}},{key:"updateParams",value:function updateParams(t,r){if(_classPrivateFieldGet(this,L))if(t!==o.AnnotationEditorParamsType.CREATE){var i,a=_createForOfIteratorHelper(_classPrivateFieldGet(this,H));try{for(a.s();!(i=a.n()).done;){i.value.updateParams(t,r)}}catch(t){a.e(t)}finally{a.f()}var l,u=_createForOfIteratorHelper(_classPrivateFieldGet(this,L));try{for(u.s();!(l=u.n()).done;){l.value.updateDefaultParams(t,r)}}catch(t){u.e(t)}finally{u.f()}}else this.currentLayer.addNewEditor()}},{key:"enableWaiting",value:function enableWaiting(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(_classPrivateFieldGet(this,W)!==t){_classPrivateFieldSet(this,W,t);var r,i=_createForOfIteratorHelper(_classPrivateFieldGet(this,k).values());try{for(i.s();!(r=i.n()).done;){var a=r.value;t?a.disableClick():a.enableClick();a.div.classList.toggle("waiting",t)}}catch(t){i.e(t)}finally{i.f()}}}},{key:"getEditors",value:function getEditors(t){var r,i=[],a=_createForOfIteratorHelper(_classPrivateFieldGet(this,x).values());try{for(a.s();!(r=a.n()).done;){var o=r.value;o.pageIndex===t&&i.push(o)}}catch(t){a.e(t)}finally{a.f()}return i}},{key:"getEditor",value:function getEditor(t){return _classPrivateFieldGet(this,x).get(t)}},{key:"addEditor",value:function addEditor(t){_classPrivateFieldGet(this,x).set(t.id,t)}},{key:"removeEditor",value:function removeEditor(t){var r=this;if(t.div.contains(document.activeElement)){_classPrivateFieldGet(this,j)&&clearTimeout(_classPrivateFieldGet(this,j));_classPrivateFieldSet(this,j,setTimeout((function(){r.focusMainContainer();_classPrivateFieldSet(r,j,null)}),0))}_classPrivateFieldGet(this,x).delete(t.id);this.unselect(t);if(!t.annotationElementId||!_classPrivateFieldGet(this,O).has(t.annotationElementId)){var i;null===(i=_classPrivateFieldGet(this,C))||void 0===i||i.remove(t.id)}}},{key:"addDeletedAnnotationElement",value:function addDeletedAnnotationElement(t){_classPrivateFieldGet(this,O).add(t.annotationElementId);t.deleted=!0}},{key:"isDeletedAnnotationElement",value:function isDeletedAnnotationElement(t){return _classPrivateFieldGet(this,O).has(t)}},{key:"removeDeletedAnnotationElement",value:function removeDeletedAnnotationElement(t){_classPrivateFieldGet(this,O).delete(t.annotationElementId);t.deleted=!1}},{key:"setActiveEditor",value:function setActiveEditor(t){if(_classPrivateFieldGet(this,E)!==t){_classPrivateFieldSet(this,E,t);t&&_classPrivateMethodGet(this,pe,_dispatchUpdateUI2).call(this,t.propertiesToUpdate)}}},{key:"toggleSelected",value:function toggleSelected(t){if(_classPrivateFieldGet(this,H).has(t)){_classPrivateFieldGet(this,H).delete(t);t.unselect();_classPrivateMethodGet(this,fe,_dispatchUpdateStates2).call(this,{hasSelectedEditor:this.hasSelection})}else{_classPrivateFieldGet(this,H).add(t);t.select();_classPrivateMethodGet(this,pe,_dispatchUpdateUI2).call(this,t.propertiesToUpdate);_classPrivateMethodGet(this,fe,_dispatchUpdateStates2).call(this,{hasSelectedEditor:!0})}}},{key:"setSelected",value:function setSelected(t){var r,i=_createForOfIteratorHelper(_classPrivateFieldGet(this,H));try{for(i.s();!(r=i.n()).done;){var a=r.value;a!==t&&a.unselect()}}catch(t){i.e(t)}finally{i.f()}_classPrivateFieldGet(this,H).clear();_classPrivateFieldGet(this,H).add(t);t.select();_classPrivateMethodGet(this,pe,_dispatchUpdateUI2).call(this,t.propertiesToUpdate);_classPrivateMethodGet(this,fe,_dispatchUpdateStates2).call(this,{hasSelectedEditor:!0})}},{key:"isSelected",value:function isSelected(t){return _classPrivateFieldGet(this,H).has(t)}},{key:"firstSelectedEditor",get:function get(){return _classPrivateFieldGet(this,H).values().next().value}},{key:"unselect",value:function unselect(t){t.unselect();_classPrivateFieldGet(this,H).delete(t);_classPrivateMethodGet(this,fe,_dispatchUpdateStates2).call(this,{hasSelectedEditor:this.hasSelection})}},{key:"hasSelection",get:function get(){return 0!==_classPrivateFieldGet(this,H).size}},{key:"isEnterHandled",get:function get(){return 1===_classPrivateFieldGet(this,H).size&&this.firstSelectedEditor.isEnterHandled}},{key:"undo",value:function undo(){_classPrivateFieldGet(this,T).undo();_classPrivateMethodGet(this,fe,_dispatchUpdateStates2).call(this,{hasSomethingToUndo:_classPrivateFieldGet(this,T).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_classPrivateMethodGet(this,me,_isEmpty2).call(this)})}},{key:"redo",value:function redo(){_classPrivateFieldGet(this,T).redo();_classPrivateMethodGet(this,fe,_dispatchUpdateStates2).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(this,T).hasSomethingToRedo(),isEmpty:_classPrivateMethodGet(this,me,_isEmpty2).call(this)})}},{key:"addCommands",value:function addCommands(t){_classPrivateFieldGet(this,T).add(t);_classPrivateMethodGet(this,fe,_dispatchUpdateStates2).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_classPrivateMethodGet(this,me,_isEmpty2).call(this)})}},{key:"delete",value:function _delete(){var t=this;this.commitOrRemove();if(this.hasSelection){var r=_toConsumableArray(_classPrivateFieldGet(this,H));this.addCommands({cmd:function cmd(){var t,i=_createForOfIteratorHelper(r);try{for(i.s();!(t=i.n()).done;){t.value.remove()}}catch(t){i.e(t)}finally{i.f()}},undo:function undo(){var i,a=_createForOfIteratorHelper(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;_classPrivateMethodGet(t,ge,_addEditorToLayer2).call(t,o)}}catch(t){a.e(t)}finally{a.f()}},mustExec:!0})}}},{key:"commitOrRemove",value:function commitOrRemove(){var t;null===(t=_classPrivateFieldGet(this,E))||void 0===t||t.commitOrRemove()}},{key:"hasSomethingToControl",value:function hasSomethingToControl(){return _classPrivateFieldGet(this,E)||this.hasSelection}},{key:"selectAll",value:function selectAll(){var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,H));try{for(r.s();!(t=r.n()).done;){t.value.commit()}}catch(t){r.e(t)}finally{r.f()}_classPrivateMethodGet(this,_e,_selectEditors2).call(this,_classPrivateFieldGet(this,x).values())}},{key:"unselectAll",value:function unselectAll(){if(_classPrivateFieldGet(this,E))_classPrivateFieldGet(this,E).commitOrRemove();else if(this.hasSelection){var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,H));try{for(r.s();!(t=r.n()).done;){t.value.unselect()}}catch(t){r.e(t)}finally{r.f()}_classPrivateFieldGet(this,H).clear();_classPrivateMethodGet(this,fe,_dispatchUpdateStates2).call(this,{hasSelectedEditor:!1})}}},{key:"translateSelectedEditors",value:function translateSelectedEditors(t,r){var i=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove();if(this.hasSelection){_classPrivateFieldGet(this,ne)[0]+=t;_classPrivateFieldGet(this,ne)[1]+=r;var a=_slicedToArray(_classPrivateFieldGet(this,ne),2),o=a[0],l=a[1],u=_toConsumableArray(_classPrivateFieldGet(this,H));_classPrivateFieldGet(this,ie)&&clearTimeout(_classPrivateFieldGet(this,ie));_classPrivateFieldSet(this,ie,setTimeout((function(){_classPrivateFieldSet(i,ie,null);_classPrivateFieldGet(i,ne)[0]=_classPrivateFieldGet(i,ne)[1]=0;i.addCommands({cmd:function cmd(){var t,r=_createForOfIteratorHelper(u);try{for(r.s();!(t=r.n()).done;){var a=t.value;_classPrivateFieldGet(i,x).has(a.id)&&a.translateInPage(o,l)}}catch(t){r.e(t)}finally{r.f()}},undo:function undo(){var t,r=_createForOfIteratorHelper(u);try{for(r.s();!(t=r.n()).done;){var a=t.value;_classPrivateFieldGet(i,x).has(a.id)&&a.translateInPage(-o,-l)}}catch(t){r.e(t)}finally{r.f()}},mustExec:!1})}),1e3));var c,h=_createForOfIteratorHelper(u);try{for(h.s();!(c=h.n()).done;){c.value.translateInPage(t,r)}}catch(t){h.e(t)}finally{h.f()}}}},{key:"setUpDragSession",value:function setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0);_classPrivateFieldSet(this,M,new Map);var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,H));try{for(r.s();!(t=r.n()).done;){var i=t.value;_classPrivateFieldGet(this,M).set(i,{savedX:i.x,savedY:i.y,savedPageIndex:i.pageIndex,newX:0,newY:0,newPageIndex:-1})}}catch(t){r.e(t)}finally{r.f()}}}},{key:"endDragSession",value:function endDragSession(){var t=this;if(!_classPrivateFieldGet(this,M))return!1;this.disableUserSelect(!1);var r=_classPrivateFieldGet(this,M);_classPrivateFieldSet(this,M,null);var i,a=!1,o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){var l=_slicedToArray(i.value,2),u=l[0],c=u.x,h=u.y,d=u.pageIndex,p=l[1];p.newX=c;p.newY=h;p.newPageIndex=d;a||(a=c!==p.savedX||h!==p.savedY||d!==p.savedPageIndex)}}catch(t){o.e(t)}finally{o.f()}if(!a)return!1;var v=function move(r,i,a,o){if(_classPrivateFieldGet(t,x).has(r.id)){var l=_classPrivateFieldGet(t,k).get(o);if(l)r._setParentAndPosition(l,i,a);else{r.pageIndex=o;r.x=i;r.y=a}}};this.addCommands({cmd:function cmd(){var t,i=_createForOfIteratorHelper(r);try{for(i.s();!(t=i.n()).done;){var a=_slicedToArray(t.value,2),o=a[0],l=a[1],u=l.newX,c=l.newY,h=l.newPageIndex;v(o,u,c,h)}}catch(t){i.e(t)}finally{i.f()}},undo:function undo(){var t,i=_createForOfIteratorHelper(r);try{for(i.s();!(t=i.n()).done;){var a=_slicedToArray(t.value,2),o=a[0],l=a[1],u=l.savedX,c=l.savedY,h=l.savedPageIndex;v(o,u,c,h)}}catch(t){i.e(t)}finally{i.f()}},mustExec:!0});return!0}},{key:"dragSelectedEditors",value:function dragSelectedEditors(t,r){if(_classPrivateFieldGet(this,M)){var i,a=_createForOfIteratorHelper(_classPrivateFieldGet(this,M).keys());try{for(a.s();!(i=a.n()).done;){i.value.drag(t,r)}}catch(t){a.e(t)}finally{a.f()}}}},{key:"rebuild",value:function rebuild(t){if(null===t.parent){var r=this.getLayer(t.pageIndex);if(r){r.changeParent(t);r.addOrRebuild(t)}else{this.addEditor(t);this.addToAnnotationStorage(t);t.rebuild()}}else t.parent.addOrRebuild(t)}},{key:"isEditorHandlingKeyboard",get:function get(){var t;return(null===(t=this.getActive())||void 0===t?void 0:t.shouldGetKeyboardEvents())||1===_classPrivateFieldGet(this,H).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}},{key:"isActive",value:function isActive(t){return _classPrivateFieldGet(this,E)===t}},{key:"getActive",value:function getActive(){return _classPrivateFieldGet(this,E)}},{key:"getMode",value:function getMode(){return _classPrivateFieldGet(this,z)}},{key:"imageManager",get:function get(){return(0,o.shadow)(this,"imageManager",new y)}},{key:"removeEditors",value:function removeEditors(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},r=!1;_classPrivateFieldGet(this,k).forEach((function(t){return t.setCleaningUp(!0)}));_classPrivateFieldGet(this,x).forEach((function(i){if(t(i.serialize())){i.remove();r=!0}}));_classPrivateFieldGet(this,k).forEach((function(t){return t.setCleaningUp(!1)}));if(r){_classPrivateMethodGet(this,fe,_dispatchUpdateStates2).call(this,{hasSomethingToUndo:!1,hasSomethingToRedo:!1,isEmpty:_classPrivateMethodGet(this,me,_isEmpty2).call(this)});_classPrivateFieldGet(this,T).reset()}}}],[{key:"_keyboardManager",get:function get(){var t=AnnotationEditorUIManager.prototype,r=function arrowChecker(t){return _classPrivateFieldGet(t,ae).contains(document.activeElement)&&t.hasSomethingToControl()},i=function textInputChecker(t,r){var i=r.target;if(i instanceof HTMLInputElement){var a=i.type;return"text"!==a&&"number"!==a}return!0},a=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new A([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:function checker(t,r){var i=r.target;return!(i instanceof HTMLButtonElement)&&_classPrivateFieldGet(t,ae).contains(i)&&!t.isEnterHandled}}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:function checker(t){return _classPrivateFieldGet(t,ae).contains(document.activeElement)}}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:r}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:r}]]))}}]);return AnnotationEditorUIManager}();function _addFocusManager2(){window.addEventListener("focus",_classPrivateFieldGet(this,K));window.addEventListener("blur",_classPrivateFieldGet(this,q))}function _removeFocusManager2(){window.removeEventListener("focus",_classPrivateFieldGet(this,K));window.removeEventListener("blur",_classPrivateFieldGet(this,q))}function _addKeyboardManager2(){window.addEventListener("keydown",_classPrivateFieldGet(this,Z))}function _removeKeyboardManager2(){window.removeEventListener("keydown",_classPrivateFieldGet(this,Z))}function _addCopyPasteListeners2(){document.addEventListener("copy",_classPrivateFieldGet(this,Y));document.addEventListener("cut",_classPrivateFieldGet(this,X));document.addEventListener("paste",_classPrivateFieldGet(this,$))}function _removeCopyPasteListeners2(){document.removeEventListener("copy",_classPrivateFieldGet(this,Y));document.removeEventListener("cut",_classPrivateFieldGet(this,X));document.removeEventListener("paste",_classPrivateFieldGet(this,$))}function _dispatchUpdateStates2(t){var r=this;Object.entries(t).some((function(t){var i=_slicedToArray(t,2),a=i[0],o=i[1];return _classPrivateFieldGet(r,re)[a]!==o}))&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(this,re),t)})}function _dispatchUpdateUI2(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}function _enableAll2(){if(!_classPrivateFieldGet(this,N)){_classPrivateFieldSet(this,N,!0);var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,k).values());try{for(r.s();!(t=r.n()).done;){t.value.enable()}}catch(t){r.e(t)}finally{r.f()}}}function _disableAll2(){this.unselectAll();if(_classPrivateFieldGet(this,N)){_classPrivateFieldSet(this,N,!1);var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,k).values());try{for(r.s();!(t=r.n()).done;){t.value.disable()}}catch(t){r.e(t)}finally{r.f()}}}function _addEditorToLayer2(t){var r=_classPrivateFieldGet(this,k).get(t.pageIndex);r?r.addOrRebuild(t):this.addEditor(t)}function _isEmpty2(){if(0===_classPrivateFieldGet(this,x).size)return!0;if(1===_classPrivateFieldGet(this,x).size){var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,x).values());try{for(r.s();!(t=r.n()).done;){return t.value.isEmpty()}}catch(t){r.e(t)}finally{r.f()}}return!1}function _selectEditors2(t){_classPrivateFieldGet(this,H).clear();var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(!a.isEmpty()){_classPrivateFieldGet(this,H).add(a);a.select()}}}catch(t){i.e(t)}finally{i.f()}_classPrivateMethodGet(this,fe,_dispatchUpdateStates2).call(this,{hasSelectedEditor:!0})}_defineProperty(be,"TRANSLATE_SMALL",1);_defineProperty(be,"TRANSLATE_BIG",10)},5171:(t,r,i)=>{i.d(r,{PDFFetchStream:()=>l});i(6180),i(895),i(4699),i(739),i(4816),i(6923),i(6775),i(6474),i(6450),i(1665),i(8837),i(9803),i(1293),i(1051),i(8260),i(5746),i(202),i(2138),i(368),i(9782),i(917),i(3650),i(8347),i(7192),i(354),i(9080),i(7238),i(7995),i(62),i(6635),i(4602),i(344),i(4305),i(7583),i(7942),i(5776),i(4226),i(171),i(5666),i(7874),i(5598),i(8806),i(9366),i(6678),i(3352),i(5897),i(924),i(9593),i(1747),i(2926),i(2374),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378);var a=i(3266),o=i(8253);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function createFetchOptions(t,r,i){return{method:"GET",headers:t,signal:i.signal,mode:"cors",credentials:r?"include":"same-origin",redirect:"follow"}}function createHeaders(t){var r=new Headers;for(var i in t){var a=t[i];void 0!==a&&r.append(i,a)}return r}function getArrayBuffer(t){if(t instanceof Uint8Array)return t.buffer;if(t instanceof ArrayBuffer)return t;(0,a.warn)("getArrayBuffer - unexpected data format: ".concat(t));return new Uint8Array(t).buffer}var l=function(){function PDFFetchStream(t){_classCallCheck(this,PDFFetchStream);this.source=t;this.isHttp=/^https?:/i.test(t.url);this.httpHeaders=this.isHttp&&t.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}_createClass(PDFFetchStream,[{key:"_progressiveDataLength",get:function get(){var t,r;return null!==(t=null===(r=this._fullRequestReader)||void 0===r?void 0:r._loaded)&&void 0!==t?t:0}},{key:"getFullReader",value:function getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once.");this._fullRequestReader=new u(this);return this._fullRequestReader}},{key:"getRangeReader",value:function getRangeReader(t,r){if(r<=this._progressiveDataLength)return null;var i=new c(this,t,r);this._rangeRequestReaders.push(i);return i}},{key:"cancelAllRequests",value:function cancelAllRequests(t){var r;null===(r=this._fullRequestReader)||void 0===r||r.cancel(t);var i,a=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0));try{for(a.s();!(i=a.n()).done;){i.value.cancel(t)}}catch(t){a.e(t)}finally{a.f()}}}]);return PDFFetchStream}(),u=function(){function PDFFetchStreamReader(t){var r=this;_classCallCheck(this,PDFFetchStreamReader);this._stream=t;this._reader=null;this._loaded=0;this._filename=null;var i=t.source;this._withCredentials=i.withCredentials||!1;this._contentLength=i.length;this._headersCapability=new a.PromiseCapability;this._disableRange=i.disableRange||!1;this._rangeChunkSize=i.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);this._abortController=new AbortController;this._isStreamingSupported=!i.disableStream;this._isRangeSupported=!i.disableRange;this._headers=createHeaders(this._stream.httpHeaders);var l=i.url;fetch(l,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,o.validateResponseStatus)(t.status))throw(0,o.createResponseStatusError)(t.status,l);r._reader=t.body.getReader();r._headersCapability.resolve();var i=function getResponseHeader(r){return t.headers.get(r)},u=(0,o.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:r._stream.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),c=u.allowRangeRequests,h=u.suggestedLength;r._isRangeSupported=c;r._contentLength=h||r._contentLength;r._filename=(0,o.extractFilenameFromHeader)(i);!r._isStreamingSupported&&r._isRangeSupported&&r.cancel(new a.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject);this.onProgress=null}_createClass(PDFFetchStreamReader,[{key:"headersReady",get:function get(){return this._headersCapability.promise}},{key:"filename",get:function get(){return this._filename}},{key:"contentLength",get:function get(){return this._contentLength}},{key:"isRangeSupported",get:function get(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t,r,i,a;return _regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:o.next=2;return this._headersCapability.promise;case 2:o.next=4;return this._reader.read();case 4:r=o.sent;i=r.value;if(!(a=r.done)){o.next=9;break}return o.abrupt("return",{value:i,done:a});case 9:this._loaded+=i.byteLength;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength});return o.abrupt("return",{value:getArrayBuffer(i),done:!1});case 12:case"end":return o.stop()}}),_callee,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){var r;null===(r=this._reader)||void 0===r||r.cancel(t);this._abortController.abort()}}]);var t;return PDFFetchStreamReader}(),c=function(){function PDFFetchStreamRangeReader(t,r,i){var l=this;_classCallCheck(this,PDFFetchStreamRangeReader);this._stream=t;this._reader=null;this._loaded=0;var u=t.source;this._withCredentials=u.withCredentials||!1;this._readCapability=new a.PromiseCapability;this._isStreamingSupported=!u.disableStream;this._abortController=new AbortController;this._headers=createHeaders(this._stream.httpHeaders);this._headers.append("Range","bytes=".concat(r,"-").concat(i-1));var c=u.url;fetch(c,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,o.validateResponseStatus)(t.status))throw(0,o.createResponseStatusError)(t.status,c);l._readCapability.resolve();l._reader=t.body.getReader()})).catch(this._readCapability.reject);this.onProgress=null}_createClass(PDFFetchStreamRangeReader,[{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var t,r,i,a;return _regeneratorRuntime().wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:o.next=2;return this._readCapability.promise;case 2:o.next=4;return this._reader.read();case 4:r=o.sent;i=r.value;if(!(a=r.done)){o.next=9;break}return o.abrupt("return",{value:i,done:a});case 9:this._loaded+=i.byteLength;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded});return o.abrupt("return",{value:getArrayBuffer(i),done:!1});case 12:case"end":return o.stop()}}),_callee2,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){var r;null===(r=this._reader)||void 0===r||r.cancel(t);this._abortController.abort()}}]);var t;return PDFFetchStreamRangeReader}()},3742:(t,r,i)=>{i.d(r,{FontFaceObject:()=>u,FontLoader:()=>l});i(1210),i(6180),i(895),i(2048),i(1747),i(5561),i(8587),i(3247),i(3302),i(9490),i(5438),i(7914),i(2374),i(7874),i(5666),i(7942),i(5776),i(4226),i(2822),i(9709),i(2642),i(7484),i(3352),i(5598),i(8806),i(9366),i(6678),i(5897),i(171),i(924),i(9593),i(2926),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378);var a=i(3266);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _classPrivateFieldInitSpec(t,r,i){!function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r);r.set(t,i)}function _classPrivateFieldGet(t,r){var i=function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}(t,r,"get");return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,i)}var o=new WeakMap,l=function(){function FontLoader(t){var r=t.ownerDocument,i=void 0===r?globalThis.document:r;t.styleElement;_classCallCheck(this,FontLoader);_classPrivateFieldInitSpec(this,o,{writable:!0,value:new Set});this._document=i;this.nativeFontFaces=new Set;this.styleElement=null;this.loadingRequests=[];this.loadTestFontId=0}_createClass(FontLoader,[{key:"addNativeFontFace",value:function addNativeFontFace(t){this.nativeFontFaces.add(t);this._document.fonts.add(t)}},{key:"removeNativeFontFace",value:function removeNativeFontFace(t){this.nativeFontFaces.delete(t);this._document.fonts.delete(t)}},{key:"insertRule",value:function insertRule(t){if(!this.styleElement){this.styleElement=this._document.createElement("style");this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement)}var r=this.styleElement.sheet;r.insertRule(t,r.cssRules.length)}},{key:"clear",value:function clear(){var t,r=_createForOfIteratorHelper(this.nativeFontFaces);try{for(r.s();!(t=r.n()).done;){var i=t.value;this._document.fonts.delete(i)}}catch(t){r.e(t)}finally{r.f()}this.nativeFontFaces.clear();_classPrivateFieldGet(this,o).clear();if(this.styleElement){this.styleElement.remove();this.styleElement=null}}},{key:"loadSystemFont",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(t){var r,i,l,u,c,h;return _regeneratorRuntime().wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:r=t.systemFontInfo,i=t._inspectFont;if(r&&!_classPrivateFieldGet(this,o).has(r.loadedName)){d.next=3;break}return d.abrupt("return");case 3:(0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set.");if(!this.isFontLoadingAPISupported){d.next=20;break}l=r.loadedName,u=r.src,c=r.style;h=new FontFace(l,u,c);this.addNativeFontFace(h);d.prev=8;d.next=11;return h.load();case 11:_classPrivateFieldGet(this,o).add(l);null==i||i(r);d.next=19;break;case 15:d.prev=15;d.t0=d.catch(8);(0,a.warn)("Cannot load system font: ".concat(r.baseFontName,", installing it could help to improve PDF rendering."));this.removeNativeFontFace(h);case 19:return d.abrupt("return");case 20:(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.");case 21:case"end":return d.stop()}}),_callee,this,[[8,15]])}))),function loadSystemFont(t){return r.apply(this,arguments)})},{key:"bind",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t){var r,i,o=this;return _regeneratorRuntime().wrap((function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:if(!(t.attached||t.missingFile&&!t.systemFontInfo)){l.next=2;break}return l.abrupt("return");case 2:t.attached=!0;if(!t.systemFontInfo){l.next=7;break}l.next=6;return this.loadSystemFont(t);case 6:case 21:return l.abrupt("return");case 7:if(!this.isFontLoadingAPISupported){l.next=22;break}if(!(r=t.createNativeFontFace())){l.next=21;break}this.addNativeFontFace(r);l.prev=11;l.next=14;return r.loaded;case 14:l.next=21;break;case 16:l.prev=16;l.t0=l.catch(11);(0,a.warn)("Failed to load font '".concat(r.family,"': '").concat(l.t0,"'."));t.disableFontFace=!0;throw l.t0;case 22:if(!(i=t.createFontFaceRule())){l.next=29;break}this.insertRule(i);if(!this.isSyncFontLoadingSupported){l.next=27;break}return l.abrupt("return");case 27:l.next=29;return new Promise((function(r){var i=o._queueLoadingCallback(r);o._prepareFontLoadEvent(t,i)}));case 29:case"end":return l.stop()}}),_callee2,this,[[11,16]])}))),function bind(r){return t.apply(this,arguments)})},{key:"isFontLoadingAPISupported",get:function get(){var t,r=!(null===(t=this._document)||void 0===t||!t.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",r)}},{key:"isSyncFontLoadingSupported",get:function get(){var t,r=!1;(a.isNodeJS||"undefined"!=typeof navigator&&"string"==typeof(null===(t=navigator)||void 0===t?void 0:t.userAgent)&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(r=!0);return(0,a.shadow)(this,"isSyncFontLoadingSupported",r)}},{key:"_queueLoadingCallback",value:function _queueLoadingCallback(t){var r=this.loadingRequests,i={done:!1,complete:function completeRequest(){(0,a.assert)(!i.done,"completeRequest() cannot be called twice.");i.done=!0;for(;r.length>0&&r[0].done;){var t=r.shift();setTimeout(t.callback,0)}},callback:t};r.push(i);return i}},{key:"_loadTestFont",get:function get(){var t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",t)}},{key:"_prepareFontLoadEvent",value:function _prepareFontLoadEvent(t,r){function int32(t,r){return t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|255&t.charCodeAt(r+3)}function spliceString(t,r,i,a){return t.substring(0,r)+a+t.substring(r+i)}var i,o,l=this._document.createElement("canvas");l.width=1;l.height=1;var u=window.pdfDefaultOptions.activateWillReadFrequentlyFlag?{willReadFrequently:!0}:void 0,c=l.getContext("2d",u),h=0;var d="lt".concat(Date.now()).concat(this.loadTestFontId++),p=this._loadTestFont,v=1482184792,y=int32(p=spliceString(p,976,d.length,d),16);for(i=0,o=d.length-3;i<o;i+=4)y=y-v+int32(d,i)|0;i<d.length&&(y=y-v+int32(d+"XXX",i)|0);p=spliceString(p,16,4,(0,a.string32)(y));var g="url(data:font/opentype;base64,".concat(btoa(p),");"),m='@font-face {font-family:"'.concat(d,'";src:').concat(g,"}");this.insertRule(m);var _=this._document.createElement("div");_.style.visibility="hidden";_.style.width=_.style.height="10px";_.style.position="absolute";_.style.top=_.style.left="0px";for(var b=0,w=[t.loadedName,d];b<w.length;b++){var P=w[b],A=this._document.createElement("span");A.textContent="Hi";A.style.fontFamily=P;_.append(A)}this._document.body.append(_);!function isFontReady(t,r){if(++h>30){(0,a.warn)("Load test font never loaded.");r()}else{c.font="30px "+t;c.fillText(".",0,20);c.getImageData(0,0,1,1).data[3]>0?r():setTimeout(isFontReady.bind(null,t,r))}}(d,(function(){_.remove();r.complete()}))}}]);var t,r;return FontLoader}(),u=function(){function FontFaceObject(t,r){var i=r.isEvalSupported,a=void 0===i||i,o=r.disableFontFace,l=void 0!==o&&o,u=r.ignoreErrors,c=void 0!==u&&u,h=r.inspectFont,d=void 0===h?null:h;_classCallCheck(this,FontFaceObject);this.compiledGlyphs=Object.create(null);for(var p in t)this[p]=t[p];this.isEvalSupported=!1!==a;this.disableFontFace=!0===l;this.ignoreErrors=!0===c;this._inspectFont=d}_createClass(FontFaceObject,[{key:"createNativeFontFace",value:function createNativeFontFace(){var t,r;if(!this.data||this.disableFontFace)return null;if(this.cssFontInfo){var i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg"));r=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}else r=new FontFace(this.loadedName,this.data,{});null===(t=this._inspectFont)||void 0===t||t.call(this,this);return r}},{key:"createFontFaceRule",value:function createFontFaceRule(){var t;if(!this.data||this.disableFontFace)return null;var r,i=(0,a.bytesToString)(this.data),o="url(data:".concat(this.mimetype,";base64,").concat(btoa(i),");");if(this.cssFontInfo){var l="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(l+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;"));r='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(l,"src:").concat(o,"}")}else r='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(o,"}");null===(t=this._inspectFont)||void 0===t||t.call(this,this,o);return r}},{key:"getPathGenerator",value:function getPathGenerator(t,r){if(void 0!==this.compiledGlyphs[r])return this.compiledGlyphs[r];var i;try{i=t.get(this.loadedName+"_path_"+r)}catch(t){if(!this.ignoreErrors)throw t;(0,a.warn)('getPathGenerator - ignoring character: "'.concat(t,'".'));return this.compiledGlyphs[r]=function(t,r){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){var o,l=[],u=_createForOfIteratorHelper(i);try{for(u.s();!(o=u.n()).done;){var c=o.value,h=void 0!==c.args?c.args.join(","):"";l.push("c.",c.cmd,"(",h,");\n")}}catch(t){u.e(t)}finally{u.f()}return this.compiledGlyphs[r]=new Function("c","size",l.join(""))}return this.compiledGlyphs[r]=function(t,r){var a,o=_createForOfIteratorHelper(i);try{for(o.s();!(a=o.n()).done;){var l=a.value;"scale"===l.cmd&&(l.args=[r,-r]);t[l.cmd].apply(t,l.args)}}catch(t){o.e(t)}finally{o.f()}}}}]);return FontFaceObject}()},3472:(t,r,i)=>{i.d(r,{Metadata:()=>u});i(3352),i(6180),i(895),i(1747),i(7484),i(2374),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926);var a=i(3266);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _classPrivateFieldInitSpec(t,r,i){!function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r);r.set(t,i)}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var o=new WeakMap,l=new WeakMap,u=function(){function Metadata(t){var r=t.parsedData,i=t.rawData;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Metadata);_classPrivateFieldInitSpec(this,o,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,l,{writable:!0,value:void 0});_classPrivateFieldSet(this,o,r);_classPrivateFieldSet(this,l,i)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(Metadata,[{key:"getRaw",value:function getRaw(){return _classPrivateFieldGet(this,l)}},{key:"get",value:function get(t){var r;return null!==(r=_classPrivateFieldGet(this,o).get(t))&&void 0!==r?r:null}},{key:"getAll",value:function getAll(){return(0,a.objectFromMap)(_classPrivateFieldGet(this,o))}},{key:"has",value:function has(t){return _classPrivateFieldGet(this,o).has(t)}}]);return Metadata}()},3474:(t,r,i)=>{i.d(r,{PDFNetworkStream:()=>u});i(7942),i(5776),i(7874),i(5598),i(8806),i(9366),i(6678),i(895),i(3352),i(5897),i(8649),i(6302),i(4226),i(171),i(2926),i(6180),i(1747),i(2374),i(924),i(9593),i(5666),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378);var a=i(3266),o=i(8253);function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}var l=function(){function NetworkManager(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,NetworkManager);this.url=t;this.isHttp=/^https?:/i.test(t);this.httpHeaders=this.isHttp&&r.httpHeaders||Object.create(null);this.withCredentials=r.withCredentials||!1;this.currXhrId=0;this.pendingRequests=Object.create(null)}_createClass(NetworkManager,[{key:"requestRange",value:function requestRange(t,r,i){var a={begin:t,end:r};for(var o in i)a[o]=i[o];return this.request(a)}},{key:"requestFull",value:function requestFull(t){return this.request(t)}},{key:"request",value:function request(t){var r=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:r};r.open("GET",this.url);r.withCredentials=this.withCredentials;for(var o in this.httpHeaders){var l=this.httpHeaders[o];void 0!==l&&r.setRequestHeader(o,l)}if(this.isHttp&&"begin"in t&&"end"in t){r.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1));a.expectedStatus=206}else a.expectedStatus=200;r.responseType="arraybuffer";t.onError&&(r.onerror=function(i){t.onError(r.status)});r.onreadystatechange=this.onStateChange.bind(this,i);r.onprogress=this.onProgress.bind(this,i);a.onHeadersReceived=t.onHeadersReceived;a.onDone=t.onDone;a.onError=t.onError;a.onProgress=t.onProgress;r.send(null);return i}},{key:"onProgress",value:function onProgress(t,r){var i,a=this.pendingRequests[t];a&&(null===(i=a.onProgress)||void 0===i||i.call(a,r))}},{key:"onStateChange",value:function onStateChange(t,r){var i=this.pendingRequests[t];if(i){var o=i.xhr;if(o.readyState>=2&&i.onHeadersReceived){i.onHeadersReceived();delete i.onHeadersReceived}if(4===o.readyState&&t in this.pendingRequests){delete this.pendingRequests[t];if(0===o.status&&this.isHttp){var l;null===(l=i.onError)||void 0===l||l.call(i,o.status)}else{var u=o.status||200;if(200===u&&206===i.expectedStatus||u===i.expectedStatus){var c=function getArrayBuffer(t){var r=t.response;return"string"!=typeof r?r:(0,a.stringToBytes)(r).buffer}(o);if(206===u){var h=o.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);i.onDone({begin:parseInt(d[1],10),chunk:c})}else if(c)i.onDone({begin:0,chunk:c});else{var p;null===(p=i.onError)||void 0===p||p.call(i,o.status)}}else{var v;null===(v=i.onError)||void 0===v||v.call(i,o.status)}}}}}},{key:"getRequestXhr",value:function getRequestXhr(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function isPendingRequest(t){return t in this.pendingRequests}},{key:"abortRequest",value:function abortRequest(t){var r=this.pendingRequests[t].xhr;delete this.pendingRequests[t];r.abort()}}]);return NetworkManager}(),u=function(){function PDFNetworkStream(t){_classCallCheck(this,PDFNetworkStream);this._source=t;this._manager=new l(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials});this._rangeChunkSize=t.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}_createClass(PDFNetworkStream,[{key:"_onRangeRequestReaderClosed",value:function _onRangeRequestReaderClosed(t){var r=this._rangeRequestReaders.indexOf(t);r>=0&&this._rangeRequestReaders.splice(r,1)}},{key:"getFullReader",value:function getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once.");this._fullRequestReader=new c(this._manager,this._source);return this._fullRequestReader}},{key:"getRangeReader",value:function getRangeReader(t,r){var i=new h(this._manager,t,r);i.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(i);return i}},{key:"cancelAllRequests",value:function cancelAllRequests(t){var r;null===(r=this._fullRequestReader)||void 0===r||r.cancel(t);var i,a=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0));try{for(a.s();!(i=a.n()).done;){i.value.cancel(t)}}catch(t){a.e(t)}finally{a.f()}}}]);return PDFNetworkStream}(),c=function(){function PDFNetworkStreamFullRequestReader(t,r){_classCallCheck(this,PDFNetworkStreamFullRequestReader);this._manager=t;var i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url;this._fullRequestId=t.requestFull(i);this._headersReceivedCapability=new a.PromiseCapability;this._disableRange=r.disableRange||!1;this._contentLength=r.length;this._rangeChunkSize=r.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);this._isStreamingSupported=!1;this._isRangeSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this._filename=null;this.onProgress=null}_createClass(PDFNetworkStreamFullRequestReader,[{key:"_onHeadersReceived",value:function _onHeadersReceived(){var t=this._fullRequestId,r=this._manager.getRequestXhr(t),i=function getResponseHeader(t){return r.getResponseHeader(t)},a=(0,o.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),l=a.allowRangeRequests,u=a.suggestedLength;l&&(this._isRangeSupported=!0);this._contentLength=u||this._contentLength;this._filename=(0,o.extractFilenameFromHeader)(i);this._isRangeSupported&&this._manager.abortRequest(t);this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function _onDone(t){if(t)if(this._requests.length>0){this._requests.shift().resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);this._done=!0;if(!(this._cachedChunks.length>0)){var r,i=_createForOfIteratorHelper(this._requests);try{for(i.s();!(r=i.n()).done;){r.value.resolve({value:void 0,done:!0})}}catch(t){i.e(t)}finally{i.f()}this._requests.length=0}}},{key:"_onError",value:function _onError(t){this._storedError=(0,o.createResponseStatusError)(t,this._url);this._headersReceivedCapability.reject(this._storedError);var r,i=_createForOfIteratorHelper(this._requests);try{for(i.s();!(r=i.n()).done;){r.value.reject(this._storedError)}}catch(t){i.e(t)}finally{i.f()}this._requests.length=0;this._cachedChunks.length=0}},{key:"_onProgress",value:function _onProgress(t){var r;null===(r=this.onProgress)||void 0===r||r.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},{key:"filename",get:function get(){return this._filename}},{key:"isRangeSupported",get:function get(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}},{key:"contentLength",get:function get(){return this._contentLength}},{key:"headersReady",get:function get(){return this._headersReceivedCapability.promise}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t,r;return _regeneratorRuntime().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!this._storedError){i.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){i.next=5;break}t=this._cachedChunks.shift();return i.abrupt("return",{value:t,done:!1});case 5:if(!this._done){i.next=7;break}return i.abrupt("return",{value:void 0,done:!0});case 7:r=new a.PromiseCapability;this._requests.push(r);return i.abrupt("return",r.promise);case 10:case"end":return i.stop()}}),_callee,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._done=!0;this._headersReceivedCapability.reject(t);var r,i=_createForOfIteratorHelper(this._requests);try{for(i.s();!(r=i.n()).done;){r.value.resolve({value:void 0,done:!0})}}catch(t){i.e(t)}finally{i.f()}this._requests.length=0;this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId);this._fullRequestReader=null}}]);var t;return PDFNetworkStreamFullRequestReader}(),h=function(){function PDFNetworkStreamRangeRequestReader(t,r,i){_classCallCheck(this,PDFNetworkStreamRangeRequestReader);this._manager=t;var a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url;this._requestId=t.requestRange(r,i,a);this._requests=[];this._queuedChunk=null;this._done=!1;this._storedError=void 0;this.onProgress=null;this.onClosed=null}_createClass(PDFNetworkStreamRangeRequestReader,[{key:"_close",value:function _close(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}},{key:"_onDone",value:function _onDone(t){var r=t.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:r,done:!1})}else this._queuedChunk=r;this._done=!0;var i,a=_createForOfIteratorHelper(this._requests);try{for(a.s();!(i=a.n()).done;){i.value.resolve({value:void 0,done:!0})}}catch(t){a.e(t)}finally{a.f()}this._requests.length=0;this._close()}},{key:"_onError",value:function _onError(t){this._storedError=(0,o.createResponseStatusError)(t,this._url);var r,i=_createForOfIteratorHelper(this._requests);try{for(i.s();!(r=i.n()).done;){r.value.reject(this._storedError)}}catch(t){i.e(t)}finally{i.f()}this._requests.length=0;this._queuedChunk=null}},{key:"_onProgress",value:function _onProgress(t){if(!this.isStreamingSupported){var r;null===(r=this.onProgress)||void 0===r||r.call(this,{loaded:t.loaded})}}},{key:"isStreamingSupported",get:function get(){return!1}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var t,r;return _regeneratorRuntime().wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(!this._storedError){i.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){i.next=6;break}t=this._queuedChunk;this._queuedChunk=null;return i.abrupt("return",{value:t,done:!1});case 6:if(!this._done){i.next=8;break}return i.abrupt("return",{value:void 0,done:!0});case 8:r=new a.PromiseCapability;this._requests.push(r);return i.abrupt("return",r.promise);case 11:case"end":return i.stop()}}),_callee2,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._done=!0;var r,i=_createForOfIteratorHelper(this._requests);try{for(i.s();!(r=i.n()).done;){r.value.resolve({value:void 0,done:!0})}}catch(t){i.e(t)}finally{i.f()}this._requests.length=0;this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}}]);var t;return PDFNetworkStreamRangeRequestReader}()},8253:(t,r,i)=>{i.d(r,{createResponseStatusError:()=>createResponseStatusError,extractFilenameFromHeader:()=>extractFilenameFromHeader,validateRangeRequestCapabilities:()=>validateRangeRequestCapabilities,validateResponseStatus:()=>validateResponseStatus});i(5897),i(2796),i(2613),i(6421),i(7874);var a=i(3266);i(7942),i(3032),i(5619),i(9786),i(924),i(5776),i(4226),i(171),i(8649),i(4711),i(7600),i(2822),i(9709),i(2642),i(9366),i(6678),i(895),i(2926),i(6180),i(1747),i(2374),i(9593),i(3352);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}var o=i(473);function validateRangeRequestCapabilities(t){var r=t.getResponseHeader,i=t.isHttp,a=t.rangeChunkSize,o=t.disableRange,l={allowRangeRequests:!1,suggestedLength:void 0},u=parseInt(r("Content-Length"),10);if(!Number.isInteger(u))return l;l.suggestedLength=u;if(u<=2*a)return l;if(o||!i)return l;if("bytes"!==r("Accept-Ranges"))return l;if("identity"!==(r("Content-Encoding")||"identity"))return l;l.allowRangeRequests=!0;return l}function extractFilenameFromHeader(t){var r=t("Content-Disposition");if(r){var i=function getFilenameFromContentDispositionHeader(t){var r=!0,i=toParamRegExp("filename\\*","i").exec(t);if(i){var o=rfc2616unquote(i=i[1]);return fixupEncoding(o=rfc2047decode(o=rfc5987decode(o=unescape(o))))}if(i=function rfc2231getparam(t){for(var r,i=[],a=toParamRegExp("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(r=a.exec(t));){var o=_slicedToArray(r,4),l=o[1],u=o[2],c=o[3];if((l=parseInt(l,10))in i){if(0===l)break}else i[l]=[u,c]}for(var h=[],d=0;d<i.length&&d in i;++d){var p=_slicedToArray(i[d],2),v=p[0],y=p[1];y=rfc2616unquote(y);if(v){y=unescape(y);0===d&&(y=rfc5987decode(y))}h.push(y)}return h.join("")}(t))return fixupEncoding(rfc2047decode(i));if(i=toParamRegExp("filename","i").exec(t)){var l=rfc2616unquote(i=i[1]);return fixupEncoding(l=rfc2047decode(l))}function toParamRegExp(t,r){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',r)}function textdecode(t,i){if(t){if(!/^[\x00-\xFF]+$/.test(i))return i;try{var o=new TextDecoder(t,{fatal:!0}),l=(0,a.stringToBytes)(i);i=o.decode(l);r=!1}catch(t){}}return i}function fixupEncoding(t){if(r&&/[\x80-\xff]/.test(t)){t=textdecode("utf-8",t);r&&(t=textdecode("iso-8859-1",t))}return t}function rfc2616unquote(t){if(t.startsWith('"')){for(var r=t.slice(1).split('\\"'),i=0;i<r.length;++i){var a=r[i].indexOf('"');if(-1!==a){r[i]=r[i].slice(0,a);r.length=i+1}r[i]=r[i].replaceAll(/\\(.)/g,"$1")}t=r.join('"')}return t}function rfc5987decode(t){var r=t.indexOf("'");return-1===r?t:textdecode(t.slice(0,r),t.slice(r+1).replace(/^[^']*'/,""))}function rfc2047decode(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,r,i,a){if("q"===i||"Q"===i)return textdecode(r,a=(a=a.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(t,r){return String.fromCharCode(parseInt(r,16))})));try{a=atob(a)}catch(t){}return textdecode(r,a)}))}return""}(r);if(i.includes("%"))try{i=decodeURIComponent(i)}catch(t){}if((0,o.isPdfFile)(i))return i}return null}function createResponseStatusError(t,r){return 404===t||0===t&&r.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+r+'".'):new a.UnexpectedResponseException("Unexpected server response (".concat(t,') while retrieving PDF "').concat(r,'".'),t)}function validateResponseStatus(t){return 200===t||206===t}},3498:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFNodeStream:()=>v});i(7942),i(5776),i(4226),i(171),i(6180),i(895),i(4699),i(739),i(4816),i(6923),i(6775),i(6474),i(6450),i(1665),i(8837),i(9803),i(1293),i(1051),i(8260),i(5746),i(202),i(2138),i(368),i(9782),i(917),i(3650),i(8347),i(7192),i(354),i(9080),i(7238),i(7995),i(62),i(6635),i(4602),i(344),i(4305),i(7583),i(7874),i(4711),i(5598),i(8806),i(9366),i(6678),i(3352),i(5897),i(924),i(9593),i(1747),i(2926),i(2374),i(5666),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378),i(9175),i(6128);var o,l,u,c,h=i(3266),d=i(8253);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}if(h.isNodeJS){o=await import("fs");l=await import("http");u=await import("https");c=await import("url")}var p=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(t){var r=c.parse(t);if("file:"===r.protocol||r.host)return r;if(/^[a-z]:[/\\]/i.test(t))return c.parse("file:///".concat(t));r.host||(r.protocol="file:");return r}var v=function(){function PDFNodeStream(t){_classCallCheck(this,PDFNodeStream);this.source=t;this.url=parseUrl(t.url);this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol||"capacitor:"===this.url.protocol;this.isFsUrl="file:"===this.url.protocol;this.httpHeaders=this.isHttp&&t.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}_createClass(PDFNodeStream,[{key:"_progressiveDataLength",get:function get(){var t,r;return null!==(t=null===(r=this._fullRequestReader)||void 0===r?void 0:r._loaded)&&void 0!==t?t:0}},{key:"getFullReader",value:function getFullReader(){(0,h.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once.");this._fullRequestReader=this.isFsUrl?new b(this):new m(this);return this._fullRequestReader}},{key:"getRangeReader",value:function getRangeReader(t,r){if(r<=this._progressiveDataLength)return null;var i=this.isFsUrl?new w(this,t,r):new _(this,t,r);this._rangeRequestReaders.push(i);return i}},{key:"cancelAllRequests",value:function cancelAllRequests(t){var r;null===(r=this._fullRequestReader)||void 0===r||r.cancel(t);var i,a=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0));try{for(a.s();!(i=a.n()).done;){i.value.cancel(t)}}catch(t){a.e(t)}finally{a.f()}}}]);return PDFNodeStream}(),y=function(){function BaseFullReader(t){_classCallCheck(this,BaseFullReader);this._url=t.url;this._done=!1;this._storedError=null;this.onProgress=null;var r=t.source;this._contentLength=r.length;this._loaded=0;this._filename=null;this._disableRange=r.disableRange||!1;this._rangeChunkSize=r.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);this._isStreamingSupported=!r.disableStream;this._isRangeSupported=!r.disableRange;this._readableStream=null;this._readCapability=new h.PromiseCapability;this._headersCapability=new h.PromiseCapability}_createClass(BaseFullReader,[{key:"headersReady",get:function get(){return this._headersCapability.promise}},{key:"filename",get:function get(){return this._filename}},{key:"contentLength",get:function get(){return this._contentLength}},{key:"isRangeSupported",get:function get(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t,r,i;return _regeneratorRuntime().wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._readCapability.promise;case 2:if(!this._done){a.next=4;break}return a.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){a.next=6;break}throw this._storedError;case 6:if(null!==(r=this._readableStream.read())){a.next=10;break}this._readCapability=new h.PromiseCapability;return a.abrupt("return",this.read());case 10:this._loaded+=r.length;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength});i=new Uint8Array(r).buffer;return a.abrupt("return",{value:i,done:!1});case 14:case"end":return a.stop()}}),_callee,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function _error(t){this._storedError=t;this._readCapability.resolve()}},{key:"_setReadableStream",value:function _setReadableStream(t){var r=this;this._readableStream=t;t.on("readable",(function(){r._readCapability.resolve()}));t.on("end",(function(){t.destroy();r._done=!0;r._readCapability.resolve()}));t.on("error",(function(t){r._error(t)}));!this._isStreamingSupported&&this._isRangeSupported&&this._error(new h.AbortException("streaming is disabled"));this._storedError&&this._readableStream.destroy(this._storedError)}}]);var t;return BaseFullReader}(),g=function(){function BaseRangeReader(t){_classCallCheck(this,BaseRangeReader);this._url=t.url;this._done=!1;this._storedError=null;this.onProgress=null;this._loaded=0;this._readableStream=null;this._readCapability=new h.PromiseCapability;var r=t.source;this._isStreamingSupported=!r.disableStream}_createClass(BaseRangeReader,[{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var t,r,i;return _regeneratorRuntime().wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._readCapability.promise;case 2:if(!this._done){a.next=4;break}return a.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){a.next=6;break}throw this._storedError;case 6:if(null!==(r=this._readableStream.read())){a.next=10;break}this._readCapability=new h.PromiseCapability;return a.abrupt("return",this.read());case 10:this._loaded+=r.length;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded});i=new Uint8Array(r).buffer;return a.abrupt("return",{value:i,done:!1});case 14:case"end":return a.stop()}}),_callee2,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function _error(t){this._storedError=t;this._readCapability.resolve()}},{key:"_setReadableStream",value:function _setReadableStream(t){var r=this;this._readableStream=t;t.on("readable",(function(){r._readCapability.resolve()}));t.on("end",(function(){t.destroy();r._done=!0;r._readCapability.resolve()}));t.on("error",(function(t){r._error(t)}));this._storedError&&this._readableStream.destroy(this._storedError)}}]);var t;return BaseRangeReader}();function createRequestOptions(t,r){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:r}}var m=function(t){_inherits(PDFNodeStreamFullReader,t);var r=_createSuper(PDFNodeStreamFullReader);function PDFNodeStreamFullReader(t){var i;_classCallCheck(this,PDFNodeStreamFullReader);var a=function handleResponse(r){if(404!==r.statusCode){i._headersCapability.resolve();i._setReadableStream(r);var a=function getResponseHeader(t){return i._readableStream.headers[t.toLowerCase()]},o=(0,d.validateRangeRequestCapabilities)({getResponseHeader:a,isHttp:t.isHttp,rangeChunkSize:i._rangeChunkSize,disableRange:i._disableRange}),l=o.allowRangeRequests,u=o.suggestedLength;i._isRangeSupported=l;i._contentLength=u||i._contentLength;i._filename=(0,d.extractFilenameFromHeader)(a)}else{var c=new h.MissingPDFException('Missing PDF "'.concat(i._url,'".'));i._storedError=c;i._headersCapability.reject(c)}};(i=r.call(this,t))._request=null;"http:"===i._url.protocol?i._request=l.request(createRequestOptions(i._url,t.httpHeaders),a):i._request=u.request(createRequestOptions(i._url,t.httpHeaders),a);i._request.on("error",(function(t){i._storedError=t;i._headersCapability.reject(t)}));i._request.end();return i}return _createClass(PDFNodeStreamFullReader)}(y),_=function(t){_inherits(PDFNodeStreamRangeReader,t);var r=_createSuper(PDFNodeStreamRangeReader);function PDFNodeStreamRangeReader(t,i,a){var o;_classCallCheck(this,PDFNodeStreamRangeReader);(o=r.call(this,t))._httpHeaders={};for(var c in t.httpHeaders){var d=t.httpHeaders[c];void 0!==d&&(o._httpHeaders[c]=d)}o._httpHeaders.Range="bytes=".concat(i,"-").concat(a-1);var p=function handleResponse(t){if(404!==t.statusCode)o._setReadableStream(t);else{var r=new h.MissingPDFException('Missing PDF "'.concat(o._url,'".'));o._storedError=r}};o._request=null;"http:"===o._url.protocol?o._request=l.request(createRequestOptions(o._url,o._httpHeaders),p):o._request=u.request(createRequestOptions(o._url,o._httpHeaders),p);o._request.on("error",(function(t){o._storedError=t}));o._request.end();return o}return _createClass(PDFNodeStreamRangeReader)}(g),b=function(t){_inherits(PDFNodeStreamFsFullReader,t);var r=_createSuper(PDFNodeStreamFsFullReader);function PDFNodeStreamFsFullReader(t){var i;_classCallCheck(this,PDFNodeStreamFsFullReader);i=r.call(this,t);var a=decodeURIComponent(i._url.path);p.test(i._url.href)&&(a=a.replace(/^\//,""));o.lstat(a,(function(t,r){if(t){"ENOENT"===t.code&&(t=new h.MissingPDFException('Missing PDF "'.concat(a,'".')));i._storedError=t;i._headersCapability.reject(t)}else{i._contentLength=r.size;i._setReadableStream(o.createReadStream(a));i._headersCapability.resolve()}}));return i}return _createClass(PDFNodeStreamFsFullReader)}(y),w=function(t){_inherits(PDFNodeStreamFsRangeReader,t);var r=_createSuper(PDFNodeStreamFsRangeReader);function PDFNodeStreamFsRangeReader(t,i,a){var l;_classCallCheck(this,PDFNodeStreamFsRangeReader);l=r.call(this,t);var u=decodeURIComponent(l._url.path);p.test(l._url.href)&&(u=u.replace(/^\//,""));l._setReadableStream(o.createReadStream(u,{start:i,end:a-1}));return l}return _createClass(PDFNodeStreamFsRangeReader)}(g);a()}catch(P){a(P)}}),1)},7738:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{NodeCMapReaderFactory:()=>y,NodeCanvasFactory:()=>v,NodeFilterFactory:()=>p,NodeStandardFontDataFactory:()=>g});i(1210),i(895),i(5666),i(3352),i(6180),i(4699),i(739),i(4816),i(6923),i(6775),i(6474),i(6450),i(1665),i(8837),i(9803),i(1293),i(1051),i(8260),i(5746),i(202),i(2138),i(368),i(9782),i(917),i(3650),i(8347),i(7192),i(354),i(9080),i(7238),i(7995),i(62),i(6635),i(4602),i(344),i(4305),i(7583),i(13),i(9175),i(6128),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926),i(1747),i(2374);var o,l,u,c=i(6822),h=i(3266);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}if(h.isNodeJS){o=await import("fs");try{l=await import("canvas")}catch(m){}try{u=await import("path2d-polyfill")}catch(_){}}!function checkDOMMatrix(t){if(!globalThis.DOMMatrix&&h.isNodeJS){var r=null===(t=l)||void 0===t?void 0:t.DOMMatrix;r?globalThis.DOMMatrix=r:(0,h.warn)("Cannot polyfill `DOMMatrix`, rendering may be broken.")}}();!function checkPath2D(t,r){if(!globalThis.Path2D&&h.isNodeJS){var i=null===(t=l)||void 0===t?void 0:t.CanvasRenderingContext2D,a=null===(r=u)||void 0===r?void 0:r.polyfillPath2D;if(i&&a){globalThis.CanvasRenderingContext2D=i;a(globalThis)}else(0,h.warn)("Cannot polyfill `Path2D`, rendering may be broken.")}}();var d=function fetchData(t){return new Promise((function(r,i){o.readFile(t,(function(t,a){!t&&a?r(new Uint8Array(a)):i(new Error(t))}))}))},p=function(t){_inherits(NodeFilterFactory,t);var r=_createSuper(NodeFilterFactory);function NodeFilterFactory(){_classCallCheck(this,NodeFilterFactory);return r.apply(this,arguments)}return _createClass(NodeFilterFactory)}(c.BaseFilterFactory),v=function(t){_inherits(NodeCanvasFactory,t);var r=_createSuper(NodeCanvasFactory);function NodeCanvasFactory(){_classCallCheck(this,NodeCanvasFactory);return r.apply(this,arguments)}_createClass(NodeCanvasFactory,[{key:"_createCanvas",value:function _createCanvas(t,r){return l.createCanvas(t,r)}}]);return NodeCanvasFactory}(c.BaseCanvasFactory),y=function(t){_inherits(NodeCMapReaderFactory,t);var r=_createSuper(NodeCMapReaderFactory);function NodeCMapReaderFactory(){_classCallCheck(this,NodeCMapReaderFactory);return r.apply(this,arguments)}_createClass(NodeCMapReaderFactory,[{key:"_fetchData",value:function _fetchData(t,r){return d(t).then((function(t){return{cMapData:t,compressionType:r}}))}}]);return NodeCMapReaderFactory}(c.BaseCMapReaderFactory),g=function(t){_inherits(NodeStandardFontDataFactory,t);var r=_createSuper(NodeStandardFontDataFactory);function NodeStandardFontDataFactory(){_classCallCheck(this,NodeStandardFontDataFactory);return r.apply(this,arguments)}_createClass(NodeStandardFontDataFactory,[{key:"_fetchData",value:function _fetchData(t){return d(t)}}]);return NodeStandardFontDataFactory}(c.BaseStandardFontDataFactory);a()}catch(b){a(b)}}),1)},3890:(t,r,i)=>{i.d(r,{OptionalContentConfig:()=>g});i(9366),i(6678),i(895),i(6180),i(5548),i(1747),i(2374),i(171),i(7874),i(7484),i(394),i(3352),i(5598),i(8806),i(5897),i(924),i(9593),i(7942),i(5776),i(2926),i(4226);var a=i(3266),o=i(2825);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var l=Symbol("INTERNAL"),u=new WeakMap,c=function(){function OptionalContentGroup(t,r){_classCallCheck(this,OptionalContentGroup);_classPrivateFieldInitSpec(this,u,{writable:!0,value:!0});this.name=t;this.intent=r}_createClass(OptionalContentGroup,[{key:"visible",get:function get(){return _classPrivateFieldGet(this,u)}},{key:"_setVisible",value:function _setVisible(t,r){t!==l&&(0,a.unreachable)("Internal method `_setVisible` called.");_classPrivateFieldSet(this,u,r)}}]);return OptionalContentGroup}(),h=new WeakMap,d=new WeakMap,p=new WeakMap,v=new WeakMap,y=new WeakSet,g=function(){function OptionalContentConfig(t){_classCallCheck(this,OptionalContentConfig);!function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}(this,y);_classPrivateFieldInitSpec(this,h,{writable:!0,value:null});_classPrivateFieldInitSpec(this,d,{writable:!0,value:new Map});_classPrivateFieldInitSpec(this,p,{writable:!0,value:null});_classPrivateFieldInitSpec(this,v,{writable:!0,value:null});this.name=null;this.creator=null;if(null!==t){this.name=t.name;this.creator=t.creator;_classPrivateFieldSet(this,v,t.order);var r,i=_createForOfIteratorHelper(t.groups);try{for(i.s();!(r=i.n()).done;){var a=r.value;_classPrivateFieldGet(this,d).set(a.id,new c(a.name,a.intent))}}catch(t){i.e(t)}finally{i.f()}if("OFF"===t.baseState){var o,u=_createForOfIteratorHelper(_classPrivateFieldGet(this,d).values());try{for(u.s();!(o=u.n()).done;){o.value._setVisible(l,!1)}}catch(t){u.e(t)}finally{u.f()}}var g,m=_createForOfIteratorHelper(t.on);try{for(m.s();!(g=m.n()).done;){var _=g.value;_classPrivateFieldGet(this,d).get(_)._setVisible(l,!0)}}catch(t){m.e(t)}finally{m.f()}var b,w=_createForOfIteratorHelper(t.off);try{for(w.s();!(b=w.n()).done;){var P=b.value;_classPrivateFieldGet(this,d).get(P)._setVisible(l,!1)}}catch(t){w.e(t)}finally{w.f()}_classPrivateFieldSet(this,p,this.getHash())}}_createClass(OptionalContentConfig,[{key:"isVisible",value:function isVisible(t){if(0===_classPrivateFieldGet(this,d).size)return!0;if(!t){(0,a.warn)("Optional content group not defined.");return!0}if("OCG"===t.type){if(!_classPrivateFieldGet(this,d).has(t.id)){(0,a.warn)("Optional content group not found: ".concat(t.id));return!0}return _classPrivateFieldGet(this,d).get(t.id).visible}if("OCMD"===t.type){if(t.expression)return _classPrivateMethodGet(this,y,_evaluateVisibilityExpression2).call(this,t.expression);if(!t.policy||"AnyOn"===t.policy){var r,i=_createForOfIteratorHelper(t.ids);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(!_classPrivateFieldGet(this,d).has(o)){(0,a.warn)("Optional content group not found: ".concat(o));return!0}if(_classPrivateFieldGet(this,d).get(o).visible)return!0}}catch(t){i.e(t)}finally{i.f()}return!1}if("AllOn"===t.policy){var l,u=_createForOfIteratorHelper(t.ids);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(!_classPrivateFieldGet(this,d).has(c)){(0,a.warn)("Optional content group not found: ".concat(c));return!0}if(!_classPrivateFieldGet(this,d).get(c).visible)return!1}}catch(t){u.e(t)}finally{u.f()}return!0}if("AnyOff"===t.policy){var h,p=_createForOfIteratorHelper(t.ids);try{for(p.s();!(h=p.n()).done;){var v=h.value;if(!_classPrivateFieldGet(this,d).has(v)){(0,a.warn)("Optional content group not found: ".concat(v));return!0}if(!_classPrivateFieldGet(this,d).get(v).visible)return!0}}catch(t){p.e(t)}finally{p.f()}return!1}if("AllOff"===t.policy){var g,m=_createForOfIteratorHelper(t.ids);try{for(m.s();!(g=m.n()).done;){var _=g.value;if(!_classPrivateFieldGet(this,d).has(_)){(0,a.warn)("Optional content group not found: ".concat(_));return!0}if(_classPrivateFieldGet(this,d).get(_).visible)return!1}}catch(t){m.e(t)}finally{m.f()}return!0}(0,a.warn)("Unknown optional content policy ".concat(t.policy,"."));return!0}(0,a.warn)("Unknown group type ".concat(t.type,"."));return!0}},{key:"setVisibility",value:function setVisibility(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(_classPrivateFieldGet(this,d).has(t)){_classPrivateFieldGet(this,d).get(t)._setVisible(l,!!r);_classPrivateFieldSet(this,h,null)}else(0,a.warn)("Optional content group not found: ".concat(t))}},{key:"hasInitialVisibility",get:function get(){return null===_classPrivateFieldGet(this,p)||this.getHash()===_classPrivateFieldGet(this,p)}},{key:"getOrder",value:function getOrder(){return _classPrivateFieldGet(this,d).size?_classPrivateFieldGet(this,v)?_classPrivateFieldGet(this,v).slice():_toConsumableArray(_classPrivateFieldGet(this,d).keys()):null}},{key:"getGroups",value:function getGroups(){return _classPrivateFieldGet(this,d).size>0?(0,a.objectFromMap)(_classPrivateFieldGet(this,d)):null}},{key:"getGroup",value:function getGroup(t){return _classPrivateFieldGet(this,d).get(t)||null}},{key:"getHash",value:function getHash(){if(null!==_classPrivateFieldGet(this,h))return _classPrivateFieldGet(this,h);var t,r=new o.MurmurHash3_64,i=_createForOfIteratorHelper(_classPrivateFieldGet(this,d));try{for(i.s();!(t=i.n()).done;){var a=_slicedToArray(t.value,2),l=a[0],u=a[1];r.update("".concat(l,":").concat(u.visible))}}catch(t){i.e(t)}finally{i.f()}return _classPrivateFieldSet(this,h,r.hexdigest())}}]);return OptionalContentConfig}();function _evaluateVisibilityExpression2(t){var r=t.length;if(r<2)return!0;for(var i=t[0],o=1;o<r;o++){var l=t[o],u=void 0;if(Array.isArray(l))u=_classPrivateMethodGet(this,y,_evaluateVisibilityExpression2).call(this,l);else{if(!_classPrivateFieldGet(this,d).has(l)){(0,a.warn)("Optional content group not found: ".concat(l));return!0}u=_classPrivateFieldGet(this,d).get(l).visible}switch(i){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return"And"===i}},5739:(t,r,i)=>{i.d(r,{renderTextLayer:()=>renderTextLayer,updateTextLayer:()=>updateTextLayer});i(6180),i(5548),i(895),i(1747),i(2374),i(7874),i(4226),i(3821),i(1210),i(7484),i(5666),i(4750),i(9142),i(3352),i(171),i(924),i(9593),i(7942),i(5776),i(9366),i(6678),i(2926),i(5598),i(8806),i(5897);var a=i(3266),o=i(473);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}var l=30,u=.8,c=new Map;function getCtx(t,r){var i,o=window.pdfDefaultOptions.activateWillReadFrequentlyFlag?{willReadFrequently:!0,alpha:!1}:{alpha:!1};if(r&&a.FeatureTest.isOffscreenCanvasSupported)i=new OffscreenCanvas(t,t).getContext("2d",o);else{var l=document.createElement("canvas");l.width=l.height=t;i=l.getContext("2d",o)}return i}function appendText(t,r,i){var o=document.createElement("span"),h={angle:0,canvasWidth:0,hasText:""!==r.str,hasEOL:r.hasEOL,fontSize:0};t._textDivs.push(o);var d=a.Util.transform(t._transform,r.transform),p=Math.atan2(d[1],d[0]),v=i[r.fontName];v.vertical&&(p+=Math.PI/2);var y,g,m=t._fontInspectorEnabled&&v.fontSubstitution||v.fontFamily,_=Math.hypot(d[2],d[3]),b=_*function getAscent(t,r){var i=c.get(t);if(i)return i;var a=getCtx(l,r);a.font="".concat(l,"px ").concat(t);var o=a.measureText(""),h=null==o?void 0:o.fontBoundingBoxAscent,d=Math.abs(null==o?void 0:o.fontBoundingBoxDescent);if(h){var p=h/(h+d);c.set(t,p);a.canvas.width=a.canvas.height=0;return p}a.strokeStyle="red";a.clearRect(0,0,l,l);a.strokeText("g",0,0);var v=a.getImageData(0,0,l,l).data;d=0;for(var y=v.length-1-3;y>=0;y-=4)if(v[y]>0){d=Math.ceil(y/4/l);break}a.clearRect(0,0,l,l);a.strokeText("A",0,l);h=0;for(var g=0,m=(v=a.getImageData(0,0,l,l).data).length;g<m;g+=4)if(v[g]>0){h=l-Math.floor(g/4/l);break}a.canvas.width=a.canvas.height=0;if(h){var _=h/(h+d);c.set(t,_);return _}c.set(t,u);return u}(m,t._isOffscreenCanvasSupported);if(0===p){y=d[4];g=d[5]-b}else{y=d[4]+b*Math.sin(p);g=d[5]-b*Math.cos(p)}var w="calc(var(--scale-factor)*",P=o.style;if(t._container===t._rootContainer){P.left="".concat((100*y/t._pageWidth).toFixed(2),"%");P.top="".concat((100*g/t._pageHeight).toFixed(2),"%")}else{P.left="".concat(w).concat(y.toFixed(2),"px)");P.top="".concat(w).concat(g.toFixed(2),"px)")}P.fontSize="".concat(w).concat(_.toFixed(2),"px)");P.fontFamily=m;h.fontSize=_;o.setAttribute("role","presentation");o.textContent=r.str;o.dir=r.dir;t._fontInspectorEnabled&&(o.dataset.fontName=v.fontSubstitutionLoadedName||r.fontName);0!==p&&(h.angle=p*(180/Math.PI));var A=!1;if(r.str.length>1)A=!0;else if(" "!==r.str&&r.transform[0]!==r.transform[3]){var S=Math.abs(r.transform[0]),E=Math.abs(r.transform[3]);S!==E&&Math.max(S,E)/Math.min(S,E)>1.5&&(A=!0)}A&&(h.canvasWidth=v.vertical?r.height:r.width);t._textDivProperties.set(o,h);t._isReadableStream&&t._layoutText(o)}function layout(t){var r=t.div,i=t.scale,a=t.properties,o=t.ctx,l=t.prevFontSize,u=t.prevFontFamily,c=r.style,h="";if(0!==a.canvasWidth&&a.hasText){var d=c.fontFamily,p=a.canvasWidth,v=a.fontSize;if(l!==v||u!==d){o.font="".concat(v*i,"px ").concat(d);t.prevFontSize=v;t.prevFontFamily=d}try{var y=o.measureText(r.textContent).width;y>0&&(h="scaleX(".concat(p*i/y,")"))}catch(t){}}0!==a.angle&&(h="rotate(".concat(a.angle,"deg) ").concat(h));h.length>0&&(c.transform=h)}var h=function(){function TextLayerRenderTask(t){var r,i=this,l=t.textContentSource,u=t.container,c=t.viewport,h=t.textDivs,d=t.textDivProperties,p=t.textContentItemsStr,v=t.isOffscreenCanvasSupported;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,TextLayerRenderTask);this._textContentSource=l;this._isReadableStream=l instanceof ReadableStream;this._container=this._rootContainer=u;this._textDivs=h||[];this._textContentItemsStr=p||[];this._isOffscreenCanvasSupported=v;this._fontInspectorEnabled=!(null===(r=globalThis.FontInspector)||void 0===r||!r.enabled);this._reader=null;this._textDivProperties=d||new WeakMap;this._canceled=!1;this._capability=new a.PromiseCapability;this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:c.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:getCtx(0,v)};var y=c.rawDims,g=y.pageWidth,m=y.pageHeight,_=y.pageX,b=y.pageY;this._transform=[1,0,0,-1,-_,b+m];this._pageWidth=g;this._pageHeight=m;(0,o.setLayerDimensions)(u,c);this._capability.promise.finally((function(){i._layoutTextParams=null})).catch((function(){}))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(TextLayerRenderTask,[{key:"promise",get:function get(){return this._capability.promise}},{key:"cancel",value:function cancel(){this._canceled=!0;if(this._reader){this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch((function(){}));this._reader=null}this._capability.reject(new a.AbortException("TextLayer task cancelled."))}},{key:"_processItems",value:function _processItems(t,r){var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(void 0!==o.str){this._textContentItemsStr.push(o.str);appendText(this,o,r)}else if("beginMarkedContentProps"===o.type||"beginMarkedContent"===o.type){var l=this._container;this._container=document.createElement("span");this._container.classList.add("markedContent");null!==o.id&&this._container.setAttribute("id","".concat(o.id));l.append(this._container)}else"endMarkedContent"===o.type&&(this._container=this._container.parentNode)}}catch(t){a.e(t)}finally{a.f()}}},{key:"_layoutText",value:function _layoutText(t){var r=this._layoutTextParams.properties=this._textDivProperties.get(t);this._layoutTextParams.div=t;layout(this._layoutTextParams);r.hasText&&this._container.append(t);if(r.hasEOL){var i=document.createElement("br");i.setAttribute("role","presentation");this._container.append(i)}}},{key:"_render",value:function _render(){var t=this,r=new a.PromiseCapability,i=Object.create(null);if(this._isReadableStream){this._reader=this._textContentSource.getReader();!function pump(){t._reader.read().then((function(a){var o=a.value;if(a.done)r.resolve();else{Object.assign(i,o.styles);t._processItems(o.items,i);pump()}}),r.reject)}()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');var o=this._textContentSource,l=o.items,u=o.styles;this._processItems(l,u);r.resolve()}r.promise.then((function(){i=null;!function render(t){if(!t._canceled){var r=t._textDivs,i=t._capability;if(r.length>1e5)i.resolve();else{if(!t._isReadableStream){var a,o=_createForOfIteratorHelper(r);try{for(o.s();!(a=o.n()).done;){var l=a.value;t._layoutText(l)}}catch(t){o.e(t)}finally{o.f()}}i.resolve()}}}(t)}),this._capability.reject)}}]);return TextLayerRenderTask}();function renderTextLayer(t){var r=new h(t);r._render();return r}function updateTextLayer(t){var r=t.container,i=t.viewport,a=t.textDivs,l=t.textDivProperties,u=t.isOffscreenCanvasSupported,c=t.mustRotate,h=void 0===c||c,d=t.mustRescale,p=void 0===d||d;h&&(0,o.setLayerDimensions)(r,{rotation:i.rotation});if(p){var v,y=getCtx(0,u),g={prevFontSize:null,prevFontFamily:null,div:null,scale:i.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:y},m=_createForOfIteratorHelper(a);try{for(m.s();!(v=m.n()).done;){var _=v.value;g.properties=l.get(_);g.div=_;layout(g)}}catch(t){m.e(t)}finally{m.f()}}}},4092:(t,r,i)=>{i.d(r,{PDFDataTransportStream:()=>l});i(6180),i(895),i(4699),i(739),i(4816),i(6923),i(6775),i(6474),i(6450),i(1665),i(8837),i(9803),i(1293),i(1051),i(8260),i(5746),i(202),i(2138),i(368),i(9782),i(917),i(3650),i(8347),i(7192),i(354),i(9080),i(7238),i(7995),i(62),i(6635),i(4602),i(344),i(4305),i(7583),i(4226),i(7121),i(8518),i(8649),i(6302),i(171),i(5598),i(8806),i(9366),i(6678),i(3352),i(5897),i(5666),i(924),i(9593),i(1747),i(7942),i(5776),i(2926),i(2374),i(1133),i(2173),i(2630),i(1024),i(13),i(6770),i(1378);var a=i(3266),o=i(473);function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}var l=function(){function PDFDataTransportStream(t,r){var i=this,o=t.length,l=t.initialData,u=t.progressiveDone,c=void 0!==u&&u,h=t.contentDispositionFilename,d=void 0===h?null:h,p=t.disableRange,v=void 0!==p&&p,y=t.disableStream,g=void 0!==y&&y;_classCallCheck(this,PDFDataTransportStream);(0,a.assert)(r,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');this._queuedChunks=[];this._progressiveDone=c;this._contentDispositionFilename=d;if((null==l?void 0:l.length)>0){var m=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(m)}this._pdfDataRangeTransport=r;this._isStreamingSupported=!g;this._isRangeSupported=!v;this._contentLength=o;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener((function(t,r){i._onReceiveData({begin:t,chunk:r})}));this._pdfDataRangeTransport.addProgressListener((function(t,r){i._onProgress({loaded:t,total:r})}));this._pdfDataRangeTransport.addProgressiveReadListener((function(t){i._onReceiveData({chunk:t})}));this._pdfDataRangeTransport.addProgressiveDoneListener((function(){i._onProgressiveDone()}));this._pdfDataRangeTransport.transportReady()}_createClass(PDFDataTransportStream,[{key:"_onReceiveData",value:function _onReceiveData(t){var r=t.begin,i=t.chunk,o=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(void 0===r)this._fullRequestReader?this._fullRequestReader._enqueue(o):this._queuedChunks.push(o);else{var l=this._rangeReaders.some((function(t){if(t._begin!==r)return!1;t._enqueue(o);return!0}));(0,a.assert)(l,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function get(){var t,r;return null!==(t=null===(r=this._fullRequestReader)||void 0===r?void 0:r._loaded)&&void 0!==t?t:0}},{key:"_onProgress",value:function _onProgress(t){if(void 0===t.total){var r,i;null===(r=this._rangeReaders[0])||void 0===r||null===(i=r.onProgress)||void 0===i||i.call(r,{loaded:t.loaded})}else{var a,o;null===(a=this._fullRequestReader)||void 0===a||null===(o=a.onProgress)||void 0===o||o.call(a,{loaded:t.loaded,total:t.total})}}},{key:"_onProgressiveDone",value:function _onProgressiveDone(){var t;null===(t=this._fullRequestReader)||void 0===t||t.progressiveDone();this._progressiveDone=!0}},{key:"_removeRangeReader",value:function _removeRangeReader(t){var r=this._rangeReaders.indexOf(t);r>=0&&this._rangeReaders.splice(r,1)}},{key:"getFullReader",value:function getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var t=this._queuedChunks;this._queuedChunks=null;return new u(this,t,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function getRangeReader(t,r){if(r<=this._progressiveDataLength)return null;var i=new c(this,t,r);this._pdfDataRangeTransport.requestDataRange(t,r);this._rangeReaders.push(i);return i}},{key:"cancelAllRequests",value:function cancelAllRequests(t){var r;null===(r=this._fullRequestReader)||void 0===r||r.cancel(t);var i,a=_createForOfIteratorHelper(this._rangeReaders.slice(0));try{for(a.s();!(i=a.n()).done;){i.value.cancel(t)}}catch(t){a.e(t)}finally{a.f()}this._pdfDataRangeTransport.abort()}}]);return PDFDataTransportStream}(),u=function(){function PDFDataTransportStreamReader(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,PDFDataTransportStreamReader);this._stream=t;this._done=i||!1;this._filename=(0,o.isPdfFile)(a)?a:null;this._queuedChunks=r||[];this._loaded=0;var l,u=_createForOfIteratorHelper(this._queuedChunks);try{for(u.s();!(l=u.n()).done;){var c=l.value;this._loaded+=c.byteLength}}catch(t){u.e(t)}finally{u.f()}this._requests=[];this._headersReady=Promise.resolve();t._fullRequestReader=this;this.onProgress=null}_createClass(PDFDataTransportStreamReader,[{key:"_enqueue",value:function _enqueue(t){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}},{key:"headersReady",get:function get(){return this._headersReady}},{key:"filename",get:function get(){return this._filename}},{key:"isRangeSupported",get:function get(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function get(){return this._stream._contentLength}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t,r;return _regeneratorRuntime().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!(this._queuedChunks.length>0)){i.next=3;break}t=this._queuedChunks.shift();return i.abrupt("return",{value:t,done:!1});case 3:if(!this._done){i.next=5;break}return i.abrupt("return",{value:void 0,done:!0});case 5:r=new a.PromiseCapability;this._requests.push(r);return i.abrupt("return",r.promise);case 8:case"end":return i.stop()}}),_callee,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._done=!0;var r,i=_createForOfIteratorHelper(this._requests);try{for(i.s();!(r=i.n()).done;){r.value.resolve({value:void 0,done:!0})}}catch(t){i.e(t)}finally{i.f()}this._requests.length=0}},{key:"progressiveDone",value:function progressiveDone(){this._done||(this._done=!0)}}]);var t;return PDFDataTransportStreamReader}(),c=function(){function PDFDataTransportStreamRangeReader(t,r,i){_classCallCheck(this,PDFDataTransportStreamRangeReader);this._stream=t;this._begin=r;this._end=i;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}_createClass(PDFDataTransportStreamRangeReader,[{key:"_enqueue",value:function _enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});var r,i=_createForOfIteratorHelper(this._requests);try{for(i.s();!(r=i.n()).done;){r.value.resolve({value:void 0,done:!0})}}catch(t){i.e(t)}finally{i.f()}this._requests.length=0}this._done=!0;this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function get(){return!1}},{key:"read",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var t,r;return _regeneratorRuntime().wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(!this._queuedChunk){i.next=4;break}t=this._queuedChunk;this._queuedChunk=null;return i.abrupt("return",{value:t,done:!1});case 4:if(!this._done){i.next=6;break}return i.abrupt("return",{value:void 0,done:!0});case 6:r=new a.PromiseCapability;this._requests.push(r);return i.abrupt("return",r.promise);case 9:case"end":return i.stop()}}),_callee2,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._done=!0;var r,i=_createForOfIteratorHelper(this._requests);try{for(i.s();!(r=i.n()).done;){r.value.resolve({value:void 0,done:!0})}}catch(t){i.e(t)}finally{i.f()}this._requests.length=0;this._stream._removeRangeReader(this)}}]);var t;return PDFDataTransportStreamRangeReader}()},1368:(t,r,i)=>{i.d(r,{GlobalWorkerOptions:()=>a});var a=Object.create(null);a.workerPort=null;a.workerSrc=""},8266:(t,r,i)=>{i.d(r,{XfaLayer:()=>o});i(7874),i(2586),i(9142),i(4226),i(6820),i(10),i(5598),i(8806),i(9366),i(6678),i(895),i(3352),i(5897),i(171),i(924),i(9593),i(1747),i(7942),i(5776),i(2926),i(6180),i(2374);var a=i(1521);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}var o=function(){function XfaLayer(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,XfaLayer)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(XfaLayer,null,[{key:"setupStorage",value:function setupStorage(t,r,i,a,o){var l=window.getFormValueFromAngular(t);l.value&&a.setValue(r,l);var u=l.value?l:a.getValue(r,{value:null});window.registerXFAField(t,u);t.addEventListener("updateFromAngular",(function(t){return a.setValue(r,{value:t.detail})}));switch(i.name){case"textarea":null!==u.value&&(t.textContent=u.value);if("print"===o)break;t.addEventListener("input",(function(i){window.updateAngularFormValue(t,{value:i.target.value});a.setValue(r,{value:i.target.value})}));break;case"input":if("radio"===i.attributes.type||"checkbox"===i.attributes.type){u.value===i.attributes.xfaOn?t.setAttribute("checked",!0):t.removeAttribute("checked");if("print"===o)break;t.addEventListener("change",(function(i){window.updateAngularFormValue(t,{value:i.target.checked?i.target.getAttribute("xfaOn"):i.target.getAttribute("xfaOff")});a.setValue(r,{value:i.target.checked?i.target.getAttribute("xfaOn"):i.target.getAttribute("xfaOff")})}))}else{null!==u.value&&t.setAttribute("value",u.value);if("print"===o)break;t.addEventListener("input",(function(i){window.updateAngularFormValue(t,{value:i.target.value});a.setValue(r,{value:i.target.value})}))}break;case"select":if(null!==u.value){t.setAttribute("value",u.value);var c,h=_createForOfIteratorHelper(i.children);try{for(h.s();!(c=h.n()).done;){var d=c.value;d.attributes.value===u.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}}catch(t){h.e(t)}finally{h.f()}}t.addEventListener("input",(function(i){var o=i.target.options,l=-1===o.selectedIndex?"":o[o.selectedIndex].value;window.updateAngularFormValue(t,{value:l});a.setValue(r,{value:l})}))}}},{key:"setAttributes",value:function setAttributes(t){var r=t.html,i=t.element,a=t.storage,o=void 0===a?null:a,l=t.intent,u=t.linkService,c=i.attributes,h=r instanceof HTMLAnchorElement;"radio"===c.type&&(c.name="".concat(c.name,"-").concat(l));for(var d=0,p=Object.entries(c);d<p.length;d++){var v=_slicedToArray(p[d],2),y=v[0],g=v[1];if(null!=g)switch(y){case"class":g.length&&r.setAttribute(y,g.join(" "));break;case"dataId":break;case"id":r.setAttribute("data-element-id",g);break;case"style":Object.assign(r.style,g);break;case"textContent":r.textContent=g;break;default:(!h||"href"!==y&&"newWindow"!==y)&&r.setAttribute(y,g)}}h&&u.addLinkAttributes(r,c.href,c.newWindow);o&&c.dataId&&this.setupStorage(r,c.dataId,i,o)}},{key:"render",value:function render(t){var r=t.annotationStorage,i=t.linkService,o=t.xfaHtml,l=t.intent||"display",u=document.createElement(o.name);o.attributes&&this.setAttributes({html:u,element:o,intent:l,linkService:i});var c="richText"!==l,h=t.div;h.append(u);if(t.viewport){var d="matrix(".concat(t.viewport.transform.join(","),")");h.style.transform=d}c&&h.setAttribute("class","xfaLayer xfaFont");var p=[];if(0===o.children.length){if(o.value){var v=document.createTextNode(o.value);u.append(v);c&&a.XfaText.shouldBuildText(o.name)&&p.push(v)}return{textDivs:p}}for(var y=[[o,-1,u]];y.length>0;){var g,m,_=_slicedToArray(y.at(-1),3),b=_[0],w=_[1],P=_[2];if(w+1!==b.children.length){var A=b.children[++y.at(-1)[1]];if(null!==A){var S=A.name;if("#text"!==S){var E=null!=A&&null!==(g=A.attributes)&&void 0!==g&&g.xmlns?document.createElementNS(A.attributes.xmlns,S):document.createElement(S);P.append(E);A.attributes&&this.setAttributes({html:E,element:A,storage:r,intent:l,linkService:i});if((null===(m=A.children)||void 0===m?void 0:m.length)>0)y.push([A,-1,E]);else if(A.value){var x=document.createTextNode(A.value);c&&a.XfaText.shouldBuildText(S)&&p.push(x);E.append(x)}}else{var k=document.createTextNode(A.value);p.push(k);P.append(k)}}}else y.pop()}var D,C=_createForOfIteratorHelper(h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(C.s();!(D=C.n()).done;){D.value.setAttribute("readOnly",!0)}}catch(t){C.e(t)}finally{C.f()}return{textDivs:p}}},{key:"update",value:function update(t){var r="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=r;t.div.hidden=!1}}]);return XfaLayer}()},1521:(t,r,i)=>{i.d(r,{XfaText:()=>a});i(4226),i(5598),i(8806),i(9366),i(6678),i(895),i(3352),i(5897),i(171),i(924),i(9593),i(1747),i(7942),i(5776),i(2926),i(6180),i(2374);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}var a=function(){function XfaText(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,XfaText)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(XfaText,null,[{key:"textContent",value:function textContent(t){var r=[],i={items:r,styles:Object.create(null)};!function walk(t){var i;if(t){var a=null,o=t.name;if("#text"===o)a=t.value;else{if(!XfaText.shouldBuildText(o))return;null!=t&&null!==(i=t.attributes)&&void 0!==i&&i.textContent?a=t.attributes.textContent:t.value&&(a=t.value)}null!==a&&r.push({str:a});if(t.children){var l,u=_createForOfIteratorHelper(t.children);try{for(u.s();!(l=u.n()).done;){walk(l.value)}}catch(t){u.e(t)}finally{u.f()}}}}(t);return i}},{key:"shouldBuildText",value:function shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}]);return XfaText}()},9907:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{AbortException:()=>o.AbortException,AnnotationEditorLayer:()=>h.AnnotationEditorLayer,AnnotationEditorParamsType:()=>o.AnnotationEditorParamsType,AnnotationEditorType:()=>o.AnnotationEditorType,AnnotationEditorUIManager:()=>d.AnnotationEditorUIManager,AnnotationLayer:()=>p.AnnotationLayer,AnnotationMode:()=>o.AnnotationMode,CMapCompressionType:()=>o.CMapCompressionType,DOMSVGFactory:()=>u.DOMSVGFactory,DrawLayer:()=>v.DrawLayer,FeatureTest:()=>o.FeatureTest,GlobalWorkerOptions:()=>y.GlobalWorkerOptions,ImageKind:()=>o.ImageKind,InvalidPDFException:()=>o.InvalidPDFException,MissingPDFException:()=>o.MissingPDFException,OPS:()=>o.OPS,Outliner:()=>g.Outliner,PDFDataRangeTransport:()=>l.PDFDataRangeTransport,PDFDateString:()=>u.PDFDateString,PDFWorker:()=>l.PDFWorker,PasswordResponses:()=>o.PasswordResponses,PermissionFlag:()=>o.PermissionFlag,PixelsPerInch:()=>u.PixelsPerInch,PromiseCapability:()=>o.PromiseCapability,RenderingCancelledException:()=>u.RenderingCancelledException,UnexpectedResponseException:()=>o.UnexpectedResponseException,Util:()=>o.Util,VerbosityLevel:()=>o.VerbosityLevel,XfaLayer:()=>m.XfaLayer,build:()=>l.build,createValidAbsoluteUrl:()=>o.createValidAbsoluteUrl,fetchData:()=>u.fetchData,getDocument:()=>l.getDocument,getFilenameFromUrl:()=>u.getFilenameFromUrl,getPdfFilenameFromUrl:()=>u.getPdfFilenameFromUrl,getXfaPageViewport:()=>u.getXfaPageViewport,isDataScheme:()=>u.isDataScheme,isPdfFile:()=>u.isPdfFile,noContextMenu:()=>u.noContextMenu,normalizeUnicode:()=>o.normalizeUnicode,renderTextLayer:()=>c.renderTextLayer,setLayerDimensions:()=>u.setLayerDimensions,shadow:()=>o.shadow,updateTextLayer:()=>c.updateTextLayer,version:()=>l.version});var o=i(3266),l=i(9406),u=i(473),c=i(5739),h=i(331),d=i(4812),p=i(7640),v=i(9423),y=i(1368),g=i(7405),m=i(8266),_=t([l]);l=(_.then?(await _)():_)[0];a()}catch(t){a(t)}}))},6694:(t,r,i)=>{i.d(r,{MessageHandler:()=>w});i(3352),i(895),i(924),i(5666),i(6180),i(1747),i(394),i(2374),i(4060),i(9366),i(6678),i(2926),i(5598),i(8806),i(5897),i(1133),i(2173),i(2630),i(1024),i(13),i(4226),i(7121),i(6770),i(1378),i(171);var a=i(3266);function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _classPrivateMethodInitSpec(t,r){!function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r);r.add(t)}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var o=1,l=2,u=1,c=2,h=3,d=4,p=5,v=6,y=7,g=8;function wrapReason(t){t instanceof Error||"object"===_typeof(t)&&null!==t||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.');switch(t.name){case"AbortException":return new a.AbortException(t.message);case"MissingPDFException":return new a.MissingPDFException(t.message);case"PasswordException":return new a.PasswordException(t.message,t.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new a.UnknownErrorException(t.message,t.details);default:return new a.UnknownErrorException(t.message,t.toString())}}var m=new WeakSet,_=new WeakSet,b=new WeakSet,w=function(){function MessageHandler(t,r,i){var a=this;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,MessageHandler);_classPrivateMethodInitSpec(this,b);_classPrivateMethodInitSpec(this,_);_classPrivateMethodInitSpec(this,m);this.sourceName=t;this.targetName=r;this.comObj=i;this.callbackId=1;this.streamId=1;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);this.callbackCapabilities=Object.create(null);this.actionHandler=Object.create(null);this._onComObjOnMessage=function(t){var r=t.data;if(r.targetName===a.sourceName)if(r.stream)_classPrivateMethodGet(a,_,_processStreamMessage2).call(a,r);else if(r.callback){var u=r.callbackId,c=a.callbackCapabilities[u];if(!c)throw new Error("Cannot resolve callback ".concat(u));delete a.callbackCapabilities[u];if(r.callback===o)c.resolve(r.data);else{if(r.callback!==l)throw new Error("Unexpected callback case");c.reject(wrapReason(r.reason))}}else{var h=a.actionHandler[r.action];if(!h)throw new Error("Unknown action from worker: ".concat(r.action));if(r.callbackId){var d=a.sourceName,p=r.sourceName;new Promise((function(t){t(h(r.data))})).then((function(t){i.postMessage({sourceName:d,targetName:p,callback:o,callbackId:r.callbackId,data:t})}),(function(t){i.postMessage({sourceName:d,targetName:p,callback:l,callbackId:r.callbackId,reason:wrapReason(t)})}))}else r.streamId?_classPrivateMethodGet(a,m,_createStreamSink2).call(a,r):h(r.data)}};i.addEventListener("message",this._onComObjOnMessage)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(MessageHandler,[{key:"on",value:function on(t,r){var i=this.actionHandler;if(i[t])throw new Error('There is already an actionName called "'.concat(t,'"'));i[t]=r}},{key:"send",value:function send(t,r,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:r},i)}},{key:"sendWithPromise",value:function sendWithPromise(t,r,i){var o=this.callbackId++,l=new a.PromiseCapability;this.callbackCapabilities[o]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:o,data:r},i)}catch(t){l.reject(t)}return l.promise}},{key:"sendWithStream",value:function sendWithStream(t,r,i,o){var l=this,c=this.streamId++,h=this.sourceName,d=this.targetName,p=this.comObj;return new ReadableStream({start:function start(i){var u=new a.PromiseCapability;l.streamControllers[c]={controller:i,startCall:u,pullCall:null,cancelCall:null,isClosed:!1};p.postMessage({sourceName:h,targetName:d,action:t,streamId:c,data:r,desiredSize:i.desiredSize},o);return u.promise},pull:function pull(t){var r=new a.PromiseCapability;l.streamControllers[c].pullCall=r;p.postMessage({sourceName:h,targetName:d,stream:v,streamId:c,desiredSize:t.desiredSize});return r.promise},cancel:function cancel(t){(0,a.assert)(t instanceof Error,"cancel must have a valid reason");var r=new a.PromiseCapability;l.streamControllers[c].cancelCall=r;l.streamControllers[c].isClosed=!0;p.postMessage({sourceName:h,targetName:d,stream:u,streamId:c,reason:wrapReason(t)});return r.promise}},i)}},{key:"destroy",value:function destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]);return MessageHandler}();function _createStreamSink2(t){var r=t.streamId,i=this.sourceName,o=t.sourceName,l=this.comObj,u=this,c=this.actionHandler[t.action],v={enqueue:function enqueue(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var h=this.desiredSize;this.desiredSize-=u;if(h>0&&this.desiredSize<=0){this.sinkCapability=new a.PromiseCapability;this.ready=this.sinkCapability.promise}l.postMessage({sourceName:i,targetName:o,stream:d,streamId:r,chunk:t},c)}},close:function close(){if(!this.isCancelled){this.isCancelled=!0;l.postMessage({sourceName:i,targetName:o,stream:h,streamId:r});delete u.streamSinks[r]}},error:function error(t){(0,a.assert)(t instanceof Error,"error must have a valid reason");if(!this.isCancelled){this.isCancelled=!0;l.postMessage({sourceName:i,targetName:o,stream:p,streamId:r,reason:wrapReason(t)})}},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};v.sinkCapability.resolve();v.ready=v.sinkCapability.promise;this.streamSinks[r]=v;new Promise((function(r){r(c(t.data,v))})).then((function(){l.postMessage({sourceName:i,targetName:o,stream:g,streamId:r,success:!0})}),(function(t){l.postMessage({sourceName:i,targetName:o,stream:g,streamId:r,reason:wrapReason(t)})}))}function _processStreamMessage2(t){var r=t.streamId,i=this.sourceName,o=t.sourceName,l=this.comObj,m=this.streamControllers[r],_=this.streamSinks[r];switch(t.stream){case g:t.success?m.startCall.resolve():m.startCall.reject(wrapReason(t.reason));break;case y:t.success?m.pullCall.resolve():m.pullCall.reject(wrapReason(t.reason));break;case v:if(!_){l.postMessage({sourceName:i,targetName:o,stream:y,streamId:r,success:!0});break}_.desiredSize<=0&&t.desiredSize>0&&_.sinkCapability.resolve();_.desiredSize=t.desiredSize;new Promise((function(t){var r;t(null===(r=_.onPull)||void 0===r?void 0:r.call(_))})).then((function(){l.postMessage({sourceName:i,targetName:o,stream:y,streamId:r,success:!0})}),(function(t){l.postMessage({sourceName:i,targetName:o,stream:y,streamId:r,reason:wrapReason(t)})}));break;case d:(0,a.assert)(m,"enqueue should have stream controller");if(m.isClosed)break;m.controller.enqueue(t.chunk);break;case h:(0,a.assert)(m,"close should have stream controller");if(m.isClosed)break;m.isClosed=!0;m.controller.close();_classPrivateMethodGet(this,b,_deleteStreamController2).call(this,m,r);break;case p:(0,a.assert)(m,"error should have stream controller");m.controller.error(wrapReason(t.reason));_classPrivateMethodGet(this,b,_deleteStreamController2).call(this,m,r);break;case c:t.success?m.cancelCall.resolve():m.cancelCall.reject(wrapReason(t.reason));_classPrivateMethodGet(this,b,_deleteStreamController2).call(this,m,r);break;case u:if(!_)break;new Promise((function(r){var i;r(null===(i=_.onCancel)||void 0===i?void 0:i.call(_,wrapReason(t.reason)))})).then((function(){l.postMessage({sourceName:i,targetName:o,stream:c,streamId:r,success:!0})}),(function(t){l.postMessage({sourceName:i,targetName:o,stream:c,streamId:r,reason:wrapReason(t)})}));_.sinkCapability.reject(wrapReason(t.reason));_.isCancelled=!0;delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}}function _deleteStreamController2(t,r){return _deleteStreamController3.apply(this,arguments)}function _deleteStreamController3(){_deleteStreamController3=function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(t,r){var i,a,o;return _regeneratorRuntime().wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:l.next=2;return Promise.allSettled([null===(i=t.startCall)||void 0===i?void 0:i.promise,null===(a=t.pullCall)||void 0===a?void 0:a.promise,null===(o=t.cancelCall)||void 0===o?void 0:o.promise]);case 2:delete this.streamControllers[r];case 3:case"end":return l.stop()}}),_callee,this)})));return _deleteStreamController3.apply(this,arguments)}},2825:(t,r,i)=>{i.d(r,{MurmurHash3_64:()=>c});i(6180),i(895),i(4699),i(739),i(4816),i(6923),i(6775),i(6474),i(6450),i(1665),i(8837),i(9803),i(1293),i(1051),i(8260),i(5746),i(202),i(2138),i(368),i(9782),i(917),i(3650),i(8347),i(7192),i(354),i(9080),i(7238),i(7995),i(62),i(6635),i(4602),i(344),i(4305),i(7583),i(171),i(3352),i(4624),i(7230),i(924),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926),i(1747),i(2374);var a=i(3266);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}var o=3285377520,l=4294901760,u=65535,c=function(){function MurmurHash3_64(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,MurmurHash3_64);this.h1=t?4294967295&t:o;this.h2=t?4294967295&t:o}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(MurmurHash3_64,[{key:"update",value:function update(t){var r,i;if("string"==typeof t){r=new Uint8Array(2*t.length);i=0;for(var o=0,c=t.length;o<c;o++){var h=t.charCodeAt(o);if(h<=255)r[i++]=h;else{r[i++]=h>>>8;r[i++]=255&h}}}else{if(!(0,a.isArrayBuffer)(t))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");i=(r=t.slice()).byteLength}for(var d=i>>2,p=i-4*d,v=new Uint32Array(r.buffer,0,d),y=0,g=0,m=this.h1,_=this.h2,b=3432918353,w=461845907,P=11601,A=13715,S=0;S<d;S++)1&S?m=5*(m=(m^=y=(y=(y=(y=v[S])*b&l|y*P&u)<<15|y>>>17)*w&l|y*A&u)<<13|m>>>19)+3864292196:_=5*(_=(_^=g=(g=(g=(g=v[S])*b&l|g*P&u)<<15|g>>>17)*w&l|g*A&u)<<13|_>>>19)+3864292196;y=0;switch(p){case 3:y^=r[4*d+2]<<16;case 2:y^=r[4*d+1]<<8;case 1:y=(y=(y=(y^=r[4*d])*b&l|y*P&u)<<15|y>>>17)*w&l|y*A&u;1&d?m^=y:_^=y}this.h1=m;this.h2=_}},{key:"hexdigest",value:function hexdigest(){var t=this.h1,r=this.h2;t=3981806797*(t^=r>>>1)&l|36045*t&u;t=444984403*(t^=(r=4283543511*r&l|(2950163797*(r<<16|t>>>16)&l)>>>16)>>>1)&l|60499*t&u;return((t^=(r=3301882366*r&l|(3120437893*(r<<16|t>>>16)&l)>>>16)>>>1)>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}]);return MurmurHash3_64}()},3266:(t,r,i)=>{i.d(r,{AbortException:()=>L,AnnotationBorderStyleType:()=>w,AnnotationEditorParamsType:()=>y,AnnotationEditorPrefix:()=>p,AnnotationEditorType:()=>v,AnnotationMode:()=>d,AnnotationPrefix:()=>z,AnnotationType:()=>b,BaseException:()=>k,CMapCompressionType:()=>A,FONT_IDENTITY_MATRIX:()=>l,FeatureTest:()=>G,FormatError:()=>M,IDENTITY_MATRIX:()=>o,ImageKind:()=>_,InvalidPDFException:()=>T,LINE_FACTOR:()=>c,MAX_IMAGE_SIZE_TO_CACHE:()=>u,MissingPDFException:()=>I,OPS:()=>S,PasswordException:()=>D,PasswordResponses:()=>E,PermissionFlag:()=>g,PromiseCapability:()=>N,RenderingIntentFlag:()=>h,TextRenderingMode:()=>m,UnexpectedResponseException:()=>O,UnknownErrorException:()=>C,Util:()=>j,VerbosityLevel:()=>P,assert:()=>assert,bytesToString:()=>bytesToString,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,getUuid:()=>getUuid,getVerbosityLevel:()=>getVerbosityLevel,info:()=>info,isArrayBuffer:()=>isArrayBuffer,isNodeJS:()=>a,normalizeUnicode:()=>normalizeUnicode,objectFromMap:()=>objectFromMap,setVerbosityLevel:()=>setVerbosityLevel,shadow:()=>shadow,string32:()=>string32,stringToBytes:()=>stringToBytes,unreachable:()=>unreachable,warn:()=>warn});i(5897),i(5057),i(1210),i(3352),i(6421),i(7942),i(469),i(6180),i(895),i(1747),i(2374),i(7529),i(3757),i(3655),i(2555),i(2202),i(4226),i(4699),i(739),i(4816),i(6923),i(6775),i(6474),i(6450),i(1665),i(8837),i(9803),i(1293),i(1051),i(8260),i(5746),i(202),i(2138),i(368),i(9782),i(917),i(3650),i(8347),i(7192),i(354),i(9080),i(7238),i(7995),i(62),i(6635),i(4602),i(344),i(4305),i(7583),i(4668),i(4624),i(2796),i(2613),i(5136),i(7944),i(7230),i(924),i(7874),i(171),i(4711),i(7600),i(5666),i(5548),i(9366),i(6678),i(2926),i(7484),i(13),i(9175),i(6128),i(5598),i(8806),i(9593),i(5776);function _classPrivateFieldInitSpec(t,r,i){!function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r);r.set(t,i)}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var a=!("object"!==("undefined"==typeof process?"undefined":_typeof(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),o=[1,0,0,1,0,0],l=[.001,0,0,.001,0,0],u=1e7,c=1.35,h={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},d={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},p="pdfjs_internal_editor_",v={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},y={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},g={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},m={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},_={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},b={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},w={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},P={ERRORS:0,WARNINGS:1,INFOS:5},A={NONE:0,BINARY:1},S={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},E={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},x=P.WARNINGS;function setVerbosityLevel(t){Number.isInteger(t)&&(x=t)}function getVerbosityLevel(){return x}function info(t){x>=P.INFOS&&("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?console.log("Info: ".concat(t)):Window&&globalThis.ngxConsole?globalThis.ngxConsole.log("Info: ".concat(t)):console.log("Info: ".concat(t)))}function warn(t){x>=P.WARNINGS&&("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?console.log("Warning: ".concat(t)):Window&&globalThis.ngxConsole?globalThis.ngxConsole.log("Warning: ".concat(t)):console.log("Warning: ".concat(t)))}function unreachable(t){throw new Error(t)}function assert(t,r){t||unreachable(r)}function createValidAbsoluteUrl(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;try{if(i&&"string"==typeof t){if(i.addDefaultProtocol&&t.startsWith("www.")){var a=t.match(/\./g);(null==a?void 0:a.length)>=2&&(t="http://".concat(t))}if(i.tryConvertEncoding)try{t=function stringToUTF8String(t){return decodeURIComponent(escape(t))}(t)}catch(t){}}var o=r?new URL(t,r):new URL(t);if(function _isValidProtocol(t){switch(null==t?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":case"capacitor":return!0;default:return!1}}(o))return o}catch(t){}return null}function shadow(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object.defineProperty(t,r,{value:i,enumerable:!a,configurable:!0,writable:!1});return i}var k=function BaseExceptionClosure(){function BaseException(t,r){this.constructor===BaseException&&unreachable("Cannot initialize BaseException.");this.message=t;this.name=r}BaseException.prototype=new Error;BaseException.constructor=BaseException;return BaseException}(),D=function(t){_inherits(PasswordException,t);var r=_createSuper(PasswordException);function PasswordException(t,i){var a;_classCallCheck(this,PasswordException);(a=r.call(this,t,"PasswordException")).code=i;return a}return _createClass(PasswordException)}(k),C=function(t){_inherits(UnknownErrorException,t);var r=_createSuper(UnknownErrorException);function UnknownErrorException(t,i){var a;_classCallCheck(this,UnknownErrorException);(a=r.call(this,t,"UnknownErrorException")).details=i;return a}return _createClass(UnknownErrorException)}(k),T=function(t){_inherits(InvalidPDFException,t);var r=_createSuper(InvalidPDFException);function InvalidPDFException(t){_classCallCheck(this,InvalidPDFException);return r.call(this,t,"InvalidPDFException")}return _createClass(InvalidPDFException)}(k),I=function(t){_inherits(MissingPDFException,t);var r=_createSuper(MissingPDFException);function MissingPDFException(t){_classCallCheck(this,MissingPDFException);return r.call(this,t,"MissingPDFException")}return _createClass(MissingPDFException)}(k),O=function(t){_inherits(UnexpectedResponseException,t);var r=_createSuper(UnexpectedResponseException);function UnexpectedResponseException(t,i){var a;_classCallCheck(this,UnexpectedResponseException);(a=r.call(this,t,"UnexpectedResponseException")).status=i;return a}return _createClass(UnexpectedResponseException)}(k),M=function(t){_inherits(FormatError,t);var r=_createSuper(FormatError);function FormatError(t){_classCallCheck(this,FormatError);return r.call(this,t,"FormatError")}return _createClass(FormatError)}(k),L=function(t){_inherits(AbortException,t);var r=_createSuper(AbortException);function AbortException(t){_classCallCheck(this,AbortException);return r.call(this,t,"AbortException")}return _createClass(AbortException)}(k);function bytesToString(t){"object"===_typeof(t)&&void 0!==(null==t?void 0:t.length)||unreachable("Invalid argument for bytesToString");var r=t.length,i=8192;if(r<i)return String.fromCharCode.apply(null,t);for(var a=[],o=0;o<r;o+=i){var l=Math.min(o+i,r),u=t.subarray(o,l);a.push(String.fromCharCode.apply(null,u))}return a.join("")}function stringToBytes(t){"string"!=typeof t&&unreachable("Invalid argument for stringToBytes");for(var r=t.length,i=new Uint8Array(r),a=0;a<r;++a)i[a]=255&t.charCodeAt(a);return i}function string32(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function objectFromMap(t){var r,i=Object.create(null),a=function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}(t);try{for(a.s();!(r=a.n()).done;){var o=_slicedToArray(r.value,2),l=o[0],u=o[1];i[l]=u}}catch(t){a.e(t)}finally{a.f()}return i}var G=function(){function FeatureTest(){_classCallCheck(this,FeatureTest)}_createClass(FeatureTest,null,[{key:"isLittleEndian",get:function get(){return shadow(this,"isLittleEndian",function isLittleEndian(){var t=new Uint8Array(4);t[0]=1;return 1===new Uint32Array(t.buffer,0,1)[0]}())}},{key:"isEvalSupported",get:function get(){return shadow(this,"isEvalSupported",function isEvalSupported(){try{new Function("");return!0}catch(t){return!1}}())}},{key:"isOffscreenCanvasSupported",get:function get(){return shadow(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}},{key:"platform",get:function get(){var t;return"undefined"!=typeof navigator&&"string"==typeof(null===(t=navigator)||void 0===t?void 0:t.platform)?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}},{key:"isCSSRoundSupported",get:function get(){var t,r;return shadow(this,"isCSSRoundSupported",null===(t=globalThis.CSS)||void 0===t||null===(r=t.supports)||void 0===r?void 0:r.call(t,"width: round(1.5px, 1px)"))}}]);return FeatureTest}(),R=_toConsumableArray(Array(256).keys()).map((function(t){return t.toString(16).padStart(2,"0")})),j=function(){function Util(){_classCallCheck(this,Util)}_createClass(Util,null,[{key:"makeHexColor",value:function makeHexColor(t,r,i){return"#".concat(R[t]).concat(R[r]).concat(R[i])}},{key:"scaleMinMax",value:function scaleMinMax(t,r){var i;if(t[0]){if(t[0]<0){i=r[0];r[0]=r[1];r[1]=i}r[0]*=t[0];r[1]*=t[0];if(t[3]<0){i=r[2];r[2]=r[3];r[3]=i}r[2]*=t[3];r[3]*=t[3]}else{i=r[0];r[0]=r[2];r[2]=i;i=r[1];r[1]=r[3];r[3]=i;if(t[1]<0){i=r[2];r[2]=r[3];r[3]=i}r[2]*=t[1];r[3]*=t[1];if(t[2]<0){i=r[0];r[0]=r[1];r[1]=i}r[0]*=t[2];r[1]*=t[2]}r[0]+=t[4];r[1]+=t[4];r[2]+=t[5];r[3]+=t[5]}},{key:"transform",value:function transform(t,r){return[t[0]*r[0]+t[2]*r[1],t[1]*r[0]+t[3]*r[1],t[0]*r[2]+t[2]*r[3],t[1]*r[2]+t[3]*r[3],t[0]*r[4]+t[2]*r[5]+t[4],t[1]*r[4]+t[3]*r[5]+t[5]]}},{key:"applyTransform",value:function applyTransform(t,r){return[t[0]*r[0]+t[1]*r[2]+r[4],t[0]*r[1]+t[1]*r[3]+r[5]]}},{key:"applyInverseTransform",value:function applyInverseTransform(t,r){var i=r[0]*r[3]-r[1]*r[2];return[(t[0]*r[3]-t[1]*r[2]+r[2]*r[5]-r[4]*r[3])/i,(-t[0]*r[1]+t[1]*r[0]+r[4]*r[1]-r[5]*r[0])/i]}},{key:"getAxialAlignedBoundingBox",value:function getAxialAlignedBoundingBox(t,r){var i=this.applyTransform(t,r),a=this.applyTransform(t.slice(2,4),r),o=this.applyTransform([t[0],t[3]],r),l=this.applyTransform([t[2],t[1]],r);return[Math.min(i[0],a[0],o[0],l[0]),Math.min(i[1],a[1],o[1],l[1]),Math.max(i[0],a[0],o[0],l[0]),Math.max(i[1],a[1],o[1],l[1])]}},{key:"inverseTransform",value:function inverseTransform(t){var r=t[0]*t[3]-t[1]*t[2];return[t[3]/r,-t[1]/r,-t[2]/r,t[0]/r,(t[2]*t[5]-t[4]*t[3])/r,(t[4]*t[1]-t[5]*t[0])/r]}},{key:"singularValueDecompose2dScale",value:function singularValueDecompose2dScale(t){var r=[t[0],t[2],t[1],t[3]],i=t[0]*r[0]+t[1]*r[2],a=t[0]*r[1]+t[1]*r[3],o=t[2]*r[0]+t[3]*r[2],l=t[2]*r[1]+t[3]*r[3],u=(i+l)/2,c=Math.sqrt(Math.pow(i+l,2)-4*(i*l-o*a))/2,h=u+c||1,d=u-c||1;return[Math.sqrt(h),Math.sqrt(d)]}},{key:"normalizeRect",value:function normalizeRect(t){var r=t.slice(0);if(t[0]>t[2]){r[0]=t[2];r[2]=t[0]}if(t[1]>t[3]){r[1]=t[3];r[3]=t[1]}return r}},{key:"intersect",value:function intersect(t,r){var i=Math.max(Math.min(t[0],t[2]),Math.min(r[0],r[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(r[0],r[2]));if(i>a)return null;var o=Math.max(Math.min(t[1],t[3]),Math.min(r[1],r[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(r[1],r[3]));return o>l?null:[i,o,a,l]}},{key:"bezierBoundingBox",value:function bezierBoundingBox(t,r,i,a,o,l,u,c){for(var h,d,p,v,y,g,m,_,b=[],w=[[],[]],P=0;P<2;++P){if(0===P){d=6*t-12*i+6*o;h=-3*t+9*i-9*o+3*u;p=3*i-3*t}else{d=6*r-12*a+6*l;h=-3*r+9*a-9*l+3*c;p=3*a-3*r}if(Math.abs(h)<1e-12){if(Math.abs(d)<1e-12)continue;0<(v=-p/d)&&v<1&&b.push(v)}else{m=d*d-4*p*h;_=Math.sqrt(m);if(!(m<0)){0<(y=(-d+_)/(2*h))&&y<1&&b.push(y);0<(g=(-d-_)/(2*h))&&g<1&&b.push(g)}}}for(var A,S=b.length,E=S;S--;){A=1-(v=b[S]);w[0][S]=A*A*A*t+3*A*A*v*i+3*A*v*v*o+v*v*v*u;w[1][S]=A*A*A*r+3*A*A*v*a+3*A*v*v*l+v*v*v*c}w[0][E]=t;w[1][E]=r;w[0][E+1]=u;w[1][E+1]=c;w[0].length=w[1].length=E+2;return[Math.min.apply(Math,_toConsumableArray(w[0])),Math.min.apply(Math,_toConsumableArray(w[1])),Math.max.apply(Math,_toConsumableArray(w[0])),Math.max.apply(Math,_toConsumableArray(w[1]))]}}]);return Util}();function isArrayBuffer(t){return"object"===_typeof(t)&&void 0!==(null==t?void 0:t.byteLength)}var B=new WeakMap,N=function(){function PromiseCapability(){var t=this;_classCallCheck(this,PromiseCapability);_classPrivateFieldInitSpec(this,B,{writable:!0,value:!1});this.promise=new Promise((function(r,i){t.resolve=function(i){_classPrivateFieldSet(t,B,!0);r(i)};t.reject=function(r){_classPrivateFieldSet(t,B,!0);i(r)}}))}_createClass(PromiseCapability,[{key:"settled",get:function get(){return function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}(this,B)}}]);return PromiseCapability}(),W=null,V=null;function normalizeUnicode(t){if(!W){W=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g;V=new Map([["","t"]])}return t.replaceAll(W,(function(t,r,i){return r?r.normalize("NFKC"):V.get(i)}))}function getUuid(){var t,r;if("undefined"!=typeof crypto&&"function"==typeof(null===(t=crypto)||void 0===t?void 0:t.randomUUID))return crypto.randomUUID();var i=new Uint8Array(32);if("undefined"!=typeof crypto&&"function"==typeof(null===(r=crypto)||void 0===r?void 0:r.getRandomValues))crypto.getRandomValues(i);else for(var a=0;a<32;a++)i[a]=Math.floor(255*Math.random());return bytesToString(i)}var z="pdfjs_internal_id_"}},l={};function __webpack_require__(t){var r=l[t];if(void 0!==r)return r.exports;var i=l[t]={exports:{}};o[t].call(i.exports,i,i.exports,__webpack_require__);return i.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",r="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",i="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=t=>{if(t&&t.d<1){t.d=1;t.forEach((t=>t.r--));t.forEach((t=>t.r--?t.r++:t()))}},__webpack_require__.a=(o,l,u)=>{var c;u&&((c=[]).d=-1);var h,d,p,v=new Set,y=o.exports,g=new Promise(((t,r)=>{p=r;d=t}));g[r]=y;g[t]=t=>(c&&t(c),v.forEach(t),g.catch((t=>{})));o.exports=g;l((o=>{h=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var l=[];l.d=0;o.then((t=>{u[r]=t;a(l)}),(t=>{u[i]=t;a(l)}));var u={};u[t]=t=>t(l);return u}}var c={};c[t]=t=>{};c[r]=o;return c})))(o);var l,getResult=()=>h.map((t=>{if(t[i])throw t[i];return t[r]})),u=new Promise((r=>{(l=()=>r(getResult)).r=0;var fnQueue=t=>t!==c&&!v.has(t)&&(v.add(t),t&&!t.d&&(l.r++,t.push(l)));h.map((r=>r[t](fnQueue)))}));return l.r?u:getResult()}),(t=>(t?p(g[i]=t):d(y),a(c))));c&&c.d<0&&(c.d=0)};__webpack_require__.d=(t,r)=>{for(var i in r)__webpack_require__.o(r,i)&&!__webpack_require__.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})};__webpack_require__.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);var u=__webpack_require__(9907),c=(u=globalThis.pdfjsLib=await(globalThis.pdfjsLibPromise=u)).AbortException,h=u.AnnotationEditorLayer,d=u.AnnotationEditorParamsType,p=u.AnnotationEditorType,v=u.AnnotationEditorUIManager,y=u.AnnotationLayer,g=u.AnnotationMode,m=u.CMapCompressionType,_=u.DOMSVGFactory,b=u.DrawLayer,w=u.FeatureTest,P=u.GlobalWorkerOptions,A=u.ImageKind,S=u.InvalidPDFException,E=u.MissingPDFException,x=u.OPS,k=u.Outliner,D=u.PDFDataRangeTransport,C=u.PDFDateString,T=u.PDFWorker,I=u.PasswordResponses,O=u.PermissionFlag,M=u.PixelsPerInch,L=u.PromiseCapability,G=u.RenderingCancelledException,R=u.UnexpectedResponseException,j=u.Util,B=u.VerbosityLevel,N=u.XfaLayer,W=u.build,V=u.createValidAbsoluteUrl,z=u.fetchData,H=u.getDocument,U=u.getFilenameFromUrl,q=u.getPdfFilenameFromUrl,K=u.getXfaPageViewport,Y=u.isDataScheme,X=u.isPdfFile,$=u.noContextMenu,Z=u.normalizeUnicode,Q=u.renderTextLayer,J=u.setLayerDimensions,ee=u.shadow,te=u.updateTextLayer,re=u.version;export{c as AbortException,h as AnnotationEditorLayer,d as AnnotationEditorParamsType,p as AnnotationEditorType,v as AnnotationEditorUIManager,y as AnnotationLayer,g as AnnotationMode,m as CMapCompressionType,_ as DOMSVGFactory,b as DrawLayer,w as FeatureTest,P as GlobalWorkerOptions,A as ImageKind,S as InvalidPDFException,E as MissingPDFException,x as OPS,k as Outliner,D as PDFDataRangeTransport,C as PDFDateString,T as PDFWorker,I as PasswordResponses,O as PermissionFlag,M as PixelsPerInch,L as PromiseCapability,G as RenderingCancelledException,R as UnexpectedResponseException,j as Util,B as VerbosityLevel,N as XfaLayer,W as build,V as createValidAbsoluteUrl,z as fetchData,H as getDocument,U as getFilenameFromUrl,q as getPdfFilenameFromUrl,K as getXfaPageViewport,Y as isDataScheme,X as isPdfFile,$ as noContextMenu,Z as normalizeUnicode,Q as renderTextLayer,J as setLayerDimensions,ee as shadow,te as updateTextLayer,re as version};
/**
 * @licstart The following is the entire license notice for the
 * JavaScript code in this page
 *
 * Copyright 2023 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * JavaScript code in this page
 */o={1483:(t,r,i)=>{i.d(r,{default:()=>d});i(9366),i(6678),i(895),i(2926),i(6180),i(1747),i(2374),i(4226),i(4668),i(1585),i(7121),i(2993),i(7262),i(6770),i(1378),i(7335),i(8649),i(9593),i(171),i(924),i(7942),i(5776),i(3352),i(5598),i(8806),i(5897),i(5057),i(7529),i(3757),i(3655),i(2555),i(2202),i(5666);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function _objectSpread2(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach((function(r){_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function _defineProperty(t,r,i){(r=function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function _objectWithoutProperties(t,r){if(null==t)return{};var i,a,o=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var i,a,o={},l=Object.keys(t);for(a=0;a<l.length;a++){i=l[a];r.indexOf(i)>=0||(o[i]=t[i])}return o}(t,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++){i=l[a];r.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}}return o}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function canvasTest(t){var r,i,a=t.sizes.shift(),o=Math.max(Math.ceil(a[0]),1),l=Math.max(Math.ceil(a[1]),1),u=[o-1,l-1,1,1],c=Date.now(),h="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;if(h){r=new OffscreenCanvas(1,1);i=new OffscreenCanvas(o,l)}else{(r=document.createElement("canvas")).width=1;r.height=1;(i=document.createElement("canvas")).width=o;i.height=l}var d=r.getContext("2d"),p=i.getContext("2d");if(p){p.fillRect.apply(p,u);d.drawImage(i,o-1,l-1,1,1,0,0,1,1)}var v=d&&0!==d.getImageData(0,0,1,1).data[3],y=Date.now()-c;[r,i].forEach((function(t){t.height=0;t.width=0}));if(h){postMessage({width:o,height:l,benchmark:y,isTestPass:v});!v&&t.sizes.length&&canvasTest(t)}else if(v)t.onSuccess(o,l,y);else{t.onError(o,l,y);t.sizes.length&&canvasTest(t)}return v}var a=[16384,14188,11402,11180,10836,8192,4096,1],o=[8388607,65535,32767,16384,8192,4096,1],l=[4194303,65535,32767,16384,8192,4096,1],u=["onError","onSuccess"],c={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},h={};function createSizesArray(t){var r=t.width===t.height,i=1===t.height,a=1===t.width,o=[];if(t.width&&t.height)for(var l=t.min||c.min,u=t.step||c.step,h=Math.max(t.width,t.height);h>=l;){var d=r||i?h:1,p=r||a?h:1;o.push([d,p]);h-=u}else t.sizes.forEach((function(t){var l=r||i?t:1,u=r||a?t:1;o.push([l,u])}));return o}function handleMethod(t){var r=window&&"HTMLCanvasElement"in window,i=window&&"OffscreenCanvas"in window,a=Date.now(),o=t.onError,l=t.onSuccess,c=_objectWithoutProperties(t,u),d=null;if(!r)return!1;if(t.useWorker&&i){var p="\n            var canvasTest = ".concat(canvasTest.toString(),";\n            onmessage = function(e) {\n                canvasTest(e.data);\n            };\n        "),v=new Blob([p],{type:"application/javascript"}),y=URL.createObjectURL(v);d=new Worker(y);URL.revokeObjectURL(y);d.onmessage=function(t){var r=t.data,i=r.width,o=r.height,l=r.benchmark;if(r.isTestPass){h[a].onSuccess(i,o,l);delete h[a]}else h[a].onError(i,o,l)}}if(t.usePromise)return new Promise((function(r,i){var u=_objectSpread2(_objectSpread2({},t),{},{onError:function onError(r,a,l){var u;if(0===t.sizes.length)u=!0;else{var c=_slicedToArray(t.sizes.slice(-1),1),h=_slicedToArray(c[0],2),d=h[0],p=h[1];u=r===d&&a===p}o(r,a,l);u&&i({width:r,height:a,benchmark:l})},onSuccess:function onSuccess(t,i,a){l(t,i,a);r({width:t,height:i,benchmark:a})}});if(d){var p=u.onError,v=u.onSuccess;h[a]={onError:p,onSuccess:v};d.postMessage(c)}else canvasTest(u)}));if(!d)return canvasTest(t);h[a]={onError:o,onSuccess:l};d.postMessage(c)}var d={maxArea:function maxArea(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=createSizesArray({width:t.max,height:t.max,min:t.min,step:t.step,sizes:_toConsumableArray(a)});return handleMethod(_objectSpread2(_objectSpread2(_objectSpread2({},c),t),{},{sizes:r}))},maxHeight:function maxHeight(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=createSizesArray({width:1,height:t.max,min:t.min,step:t.step,sizes:_toConsumableArray(o)});return handleMethod(_objectSpread2(_objectSpread2(_objectSpread2({},c),t),{},{sizes:r}))},maxWidth:function maxWidth(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=createSizesArray({width:t.max,height:1,min:t.min,step:t.step,sizes:_toConsumableArray(l)});return handleMethod(_objectSpread2(_objectSpread2(_objectSpread2({},c),t),{},{sizes:r}))},test:function test(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=_objectSpread2(_objectSpread2({},c),t);r.sizes=_toConsumableArray(r.sizes);r.width&&r.height&&(r.sizes=[[r.width,r.height]]);return handleMethod(r)}}},1782:(t,r,i)=>{var a=i(7316),o=i(9762),l=TypeError;t.exports=function(t){if(a(t))return t;throw new l(o(t)+" is not a function")}},7073:(t,r,i)=>{var a=i(1694),o=i(9762),l=TypeError;t.exports=function(t){if(a(t))return t;throw new l(o(t)+" is not a constructor")}},4958:(t,r,i)=>{var a=i(7316),o=String,l=TypeError;t.exports=function(t){if("object"==typeof t||a(t))return t;throw new l("Can't set "+o(t)+" as a prototype")}},5690:(t,r,i)=>{var a=i(23).has;t.exports=function(t){a(t);return t}},5463:(t,r,i)=>{var a=i(2292),o=i(6941),l=i(7744).f,u=a("unscopables"),c=Array.prototype;void 0===c[u]&&l(c,u,{configurable:!0,value:o(null)});t.exports=function(t){c[u][t]=!0}},9047:(t,r,i)=>{var a=i(6819).charAt;t.exports=function(t,r,i){return r+(i?a(t,r).length:1)}},5834:(t,r,i)=>{var a=i(2658),o=TypeError;t.exports=function(t,r){if(a(r,t))return t;throw new o("Incorrect invocation")}},4719:(t,r,i)=>{var a=i(7633),o=String,l=TypeError;t.exports=function(t){if(a(t))return t;throw new l(o(t)+" is not an object")}},5115:t=>{t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7585:(t,r,i)=>{var a=i(1299),o=i(8374),l=TypeError;t.exports=a(ArrayBuffer.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==o(t))throw new l("ArrayBuffer expected");return t.byteLength}},582:(t,r,i)=>{var a=i(8403),o=i(7585),l=a(ArrayBuffer.prototype.slice);t.exports=function(t){if(0!==o(t))return!1;try{l(t,0,0);return!1}catch(t){return!0}}},6944:(t,r,i)=>{var a=i(8154);t.exports=a((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},4358:(t,r,i)=>{var a=i(9298),o=i(8403),l=i(1299),u=i(9548),c=i(582),h=i(7585),d=i(8126),p=i(4837),v=a.structuredClone,y=a.ArrayBuffer,g=a.DataView,m=a.TypeError,_=Math.min,b=y.prototype,w=g.prototype,P=o(b.slice),A=l(b,"resizable","get"),S=l(b,"maxByteLength","get"),E=o(w.getInt8),x=o(w.setInt8);t.exports=(p||d)&&function(t,r,i){var a,o=h(t),l=void 0===r?o:u(r),b=!A||!A(t);if(c(t))throw new m("ArrayBuffer is detached");if(p){t=v(t,{transfer:[t]});if(o===l&&(i||b))return t}if(o>=l&&(!i||b))a=P(t,0,l);else{var w=i&&!b&&S?{maxByteLength:S(t)}:void 0;a=new y(l,w);for(var k=new g(t),D=new g(a),C=_(l,o),T=0;T<C;T++)x(D,T,E(k,T))}p||d(t);return a}},5861:(t,r,i)=>{var a,o,l,u=i(5115),c=i(940),h=i(9298),d=i(7316),p=i(7633),v=i(936),y=i(8329),g=i(9762),m=i(9293),_=i(7041),b=i(9691),w=i(2658),P=i(2176),A=i(9763),S=i(2292),E=i(7561),x=i(1649),k=x.enforce,D=x.get,C=h.Int8Array,T=C&&C.prototype,I=h.Uint8ClampedArray,O=I&&I.prototype,M=C&&P(C),L=T&&P(T),G=Object.prototype,R=h.TypeError,j=S("toStringTag"),B=E("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",W=u&&!!A&&"Opera"!==y(h.opera),V=!1,z={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},H={BigInt64Array:8,BigUint64Array:8},getTypedArrayConstructor=function(t){var r=P(t);if(p(r)){var i=D(r);return i&&v(i,N)?i[N]:getTypedArrayConstructor(r)}},isTypedArray=function(t){if(!p(t))return!1;var r=y(t);return v(z,r)||v(H,r)};for(a in z)(l=(o=h[a])&&o.prototype)?k(l)[N]=o:W=!1;for(a in H)(l=(o=h[a])&&o.prototype)&&(k(l)[N]=o);if(!W||!d(M)||M===Function.prototype){M=function TypedArray(){throw new R("Incorrect invocation")};if(W)for(a in z)h[a]&&A(h[a],M)}if(!W||!L||L===G){L=M.prototype;if(W)for(a in z)h[a]&&A(h[a].prototype,L)}W&&P(O)!==L&&A(O,L);if(c&&!v(L,j)){V=!0;b(L,j,{configurable:!0,get:function(){return p(this)?this[B]:void 0}});for(a in z)h[a]&&m(h[a],B,a)}t.exports={NATIVE_ARRAY_BUFFER_VIEWS:W,TYPED_ARRAY_TAG:V&&B,aTypedArray:function(t){if(isTypedArray(t))return t;throw new R("Target is not a typed array")},aTypedArrayConstructor:function(t){if(d(t)&&(!A||w(M,t)))return t;throw new R(g(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,r,i,a){if(c){if(i)for(var o in z){var l=h[o];if(l&&v(l.prototype,t))try{delete l.prototype[t]}catch(i){try{l.prototype[t]=r}catch(t){}}}L[t]&&!i||_(L,t,i?r:W&&T[t]||r,a)}},exportTypedArrayStaticMethod:function(t,r,i){var a,o;if(c){if(A){if(i)for(a in z)if((o=h[a])&&v(o,t))try{delete o[t]}catch(t){}if(M[t]&&!i)return;try{return _(M,t,i?r:W&&M[t]||r)}catch(t){}}for(a in z)!(o=h[a])||o[t]&&!i||_(o,t,r)}},getTypedArrayConstructor:getTypedArrayConstructor,isView:function isView(t){if(!p(t))return!1;var r=y(t);return"DataView"===r||v(z,r)||v(H,r)},isTypedArray:isTypedArray,TypedArray:M,TypedArrayPrototype:L}},5050:(t,r,i)=>{var a=i(9298),o=i(8403),l=i(940),u=i(5115),c=i(5145),h=i(9293),d=i(9691),p=i(6880),v=i(8154),y=i(5834),g=i(1003),m=i(8293),_=i(9548),b=i(796),w=i(3106),P=i(2176),A=i(9763),S=i(5455).f,E=i(8041),x=i(6071),k=i(7536),D=i(1649),C=c.PROPER,T=c.CONFIGURABLE,I="ArrayBuffer",O="DataView",M="prototype",L="Wrong index",G=D.getterFor(I),R=D.getterFor(O),j=D.set,B=a[I],N=B,W=N&&N[M],V=a[O],z=V&&V[M],H=Object.prototype,U=a.Array,q=a.RangeError,K=o(E),Y=o([].reverse),X=w.pack,$=w.unpack,packInt8=function(t){return[255&t]},packInt16=function(t){return[255&t,t>>8&255]},packInt32=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},unpackInt32=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},packFloat32=function(t){return X(b(t),23,4)},packFloat64=function(t){return X(t,52,8)},addGetter=function(t,r,i){d(t[M],r,{configurable:!0,get:function(){return i(this)[r]}})},get=function(t,r,i,a){var o=R(t),l=_(i),u=!!a;if(l+r>o.byteLength)throw new q(L);var c=o.bytes,h=l+o.byteOffset,d=x(c,h,h+r);return u?d:Y(d)},set=function(t,r,i,a,o,l){var u=R(t),c=_(i),h=a(+o),d=!!l;if(c+r>u.byteLength)throw new q(L);for(var p=u.bytes,v=c+u.byteOffset,y=0;y<r;y++)p[v+y]=h[d?y:r-y-1]};if(u){var Z=C&&B.name!==I;if(v((function(){B(1)}))&&v((function(){new B(-1)}))&&!v((function(){new B;new B(1.5);new B(NaN);return 1!==B.length||Z&&!T})))Z&&T&&h(B,"name",I);else{(N=function ArrayBuffer(t){y(this,W);return new B(_(t))})[M]=W;for(var Q,J=S(B),ee=0;J.length>ee;)(Q=J[ee++])in N||h(N,Q,B[Q]);W.constructor=N}A&&P(z)!==H&&A(z,H);var te=new V(new N(2)),re=o(z.setInt8);te.setInt8(0,2147483648);te.setInt8(1,2147483649);!te.getInt8(0)&&te.getInt8(1)||p(z,{setInt8:function setInt8(t,r){re(this,t,r<<24>>24)},setUint8:function setUint8(t,r){re(this,t,r<<24>>24)}},{unsafe:!0})}else{W=(N=function ArrayBuffer(t){y(this,W);var r=_(t);j(this,{type:I,bytes:K(U(r),0),byteLength:r});if(!l){this.byteLength=r;this.detached=!1}})[M];z=(V=function DataView(t,r,i){y(this,z);y(t,W);var a=G(t),o=a.byteLength,u=g(r);if(u<0||u>o)throw new q("Wrong offset");if(u+(i=void 0===i?o-u:m(i))>o)throw new q("Wrong length");j(this,{type:O,buffer:t,byteLength:i,byteOffset:u,bytes:a.bytes});if(!l){this.buffer=t;this.byteLength=i;this.byteOffset=u}})[M];if(l){addGetter(N,"byteLength",G);addGetter(V,"buffer",R);addGetter(V,"byteLength",R);addGetter(V,"byteOffset",R)}p(z,{getInt8:function getInt8(t){return get(this,1,t)[0]<<24>>24},getUint8:function getUint8(t){return get(this,1,t)[0]},getInt16:function getInt16(t){var r=get(this,2,t,arguments.length>1&&arguments[1]);return(r[1]<<8|r[0])<<16>>16},getUint16:function getUint16(t){var r=get(this,2,t,arguments.length>1&&arguments[1]);return r[1]<<8|r[0]},getInt32:function getInt32(t){return unpackInt32(get(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function getUint32(t){return unpackInt32(get(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function getFloat32(t){return $(get(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function getFloat64(t){return $(get(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function setInt8(t,r){set(this,1,t,packInt8,r)},setUint8:function setUint8(t,r){set(this,1,t,packInt8,r)},setInt16:function setInt16(t,r){set(this,2,t,packInt16,r,arguments.length>2&&arguments[2])},setUint16:function setUint16(t,r){set(this,2,t,packInt16,r,arguments.length>2&&arguments[2])},setInt32:function setInt32(t,r){set(this,4,t,packInt32,r,arguments.length>2&&arguments[2])},setUint32:function setUint32(t,r){set(this,4,t,packInt32,r,arguments.length>2&&arguments[2])},setFloat32:function setFloat32(t,r){set(this,4,t,packFloat32,r,arguments.length>2&&arguments[2])},setFloat64:function setFloat64(t,r){set(this,8,t,packFloat64,r,arguments.length>2&&arguments[2])}})}k(N,I);k(V,O);t.exports={ArrayBuffer:N,DataView:V}},1474:(t,r,i)=>{var a=i(2007),o=i(6985),l=i(451),u=i(2322),c=Math.min;t.exports=[].copyWithin||function copyWithin(t,r){var i=a(this),h=l(i),d=o(t,h),p=o(r,h),v=arguments.length>2?arguments[2]:void 0,y=c((void 0===v?h:o(v,h))-p,h-d),g=1;if(p<d&&d<p+y){g=-1;p+=y-1;d+=y-1}for(;y-- >0;){p in i?i[d]=i[p]:u(i,d);d+=g;p+=g}return i}},8041:(t,r,i)=>{var a=i(2007),o=i(6985),l=i(451);t.exports=function fill(t){for(var r=a(this),i=l(r),u=arguments.length,c=o(u>1?arguments[1]:void 0,i),h=u>2?arguments[2]:void 0,d=void 0===h?i:o(h,i);d>c;)r[c++]=t;return r}},8208:(t,r,i)=>{var a=i(2423).forEach,o=i(8321)("forEach");t.exports=o?[].forEach:function forEach(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},7003:(t,r,i)=>{var a=i(451);t.exports=function(t,r){for(var i=0,o=a(r),l=new t(o);o>i;)l[i]=r[i++];return l}},7609:(t,r,i)=>{var a=i(7789),o=i(2026),l=i(2007),u=i(5723),c=i(5191),h=i(1694),d=i(451),p=i(8947),v=i(7612),y=i(273),g=Array;t.exports=function from(t){var r=l(t),i=h(this),m=arguments.length,_=m>1?arguments[1]:void 0,b=void 0!==_;b&&(_=a(_,m>2?arguments[2]:void 0));var w,P,A,S,E,x,k=y(r),D=0;if(!k||this===g&&c(k)){w=d(r);P=i?new this(w):g(w);for(;w>D;D++){x=b?_(r[D],D):r[D];p(P,D,x)}}else{E=(S=v(r,k)).next;P=i?new this:[];for(;!(A=o(E,S)).done;D++){x=b?u(S,_,[A.value,D],!0):A.value;p(P,D,x)}}P.length=D;return P}},9773:(t,r,i)=>{var a=i(4115),o=i(6985),l=i(451),createMethod=function(t){return function(r,i,u){var c,h=a(r),d=l(h),p=o(u,d);if(t&&i!=i){for(;d>p;)if((c=h[p++])!=c)return!0}else for(;d>p;p++)if((t||p in h)&&h[p]===i)return t||p||0;return!t&&-1}};t.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},4026:(t,r,i)=>{var a=i(7789),o=i(3622),l=i(2007),u=i(451),createMethod=function(t){var r=1===t;return function(i,c,h){for(var d,p=l(i),v=o(p),y=a(c,h),g=u(v);g-- >0;)if(y(d=v[g],g,p))switch(t){case 0:return d;case 1:return g}return r?-1:void 0}};t.exports={findLast:createMethod(0),findLastIndex:createMethod(1)}},2423:(t,r,i)=>{var a=i(7789),o=i(8403),l=i(3622),u=i(2007),c=i(451),h=i(8097),d=o([].push),createMethod=function(t){var r=1===t,i=2===t,o=3===t,p=4===t,v=6===t,y=7===t,g=5===t||v;return function(m,_,b,w){for(var P,A,S=u(m),E=l(S),x=a(_,b),k=c(E),D=0,C=w||h,T=r?C(m,k):i||y?C(m,0):void 0;k>D;D++)if(g||D in E){A=x(P=E[D],D,S);if(t)if(r)T[D]=A;else if(A)switch(t){case 3:return!0;case 5:return P;case 6:return D;case 2:d(T,P)}else switch(t){case 4:return!1;case 7:d(T,P)}}return v?-1:o||p?p:T}};t.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterReject:createMethod(7)}},8671:(t,r,i)=>{var a=i(7294),o=i(4115),l=i(1003),u=i(451),c=i(8321),h=Math.min,d=[].lastIndexOf,p=!!d&&1/[1].lastIndexOf(1,-0)<0,v=c("lastIndexOf"),y=p||!v;t.exports=y?function lastIndexOf(t){if(p)return a(d,this,arguments)||0;var r=o(this),i=u(r),c=i-1;arguments.length>1&&(c=h(c,l(arguments[1])));c<0&&(c=i+c);for(;c>=0;c--)if(c in r&&r[c]===t)return c||0;return-1}:d},3577:(t,r,i)=>{var a=i(8154),o=i(2292),l=i(2171),u=o("species");t.exports=function(t){return l>=51||!a((function(){var r=[];(r.constructor={})[u]=function(){return{foo:1}};return 1!==r[t](Boolean).foo}))}},8321:(t,r,i)=>{var a=i(8154);t.exports=function(t,r){var i=[][t];return!!i&&a((function(){i.call(null,r||function(){return 1},1)}))}},2741:(t,r,i)=>{var a=i(1782),o=i(2007),l=i(3622),u=i(451),c=TypeError,createMethod=function(t){return function(r,i,h,d){a(i);var p=o(r),v=l(p),y=u(p),g=t?y-1:0,m=t?-1:1;if(h<2)for(;;){if(g in v){d=v[g];g+=m;break}g+=m;if(t?g<0:y<=g)throw new c("Reduce of empty array with no initial value")}for(;t?g>=0:y>g;g+=m)g in v&&(d=i(d,v[g],g,p));return d}};t.exports={left:createMethod(!1),right:createMethod(!0)}},6661:(t,r,i)=>{var a=i(940),o=i(6998),l=TypeError,u=Object.getOwnPropertyDescriptor,c=a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=c?function(t,r){if(o(t)&&!u(t,"length").writable)throw new l("Cannot set read only .length");return t.length=r}:function(t,r){return t.length=r}},6071:(t,r,i)=>{var a=i(6985),o=i(451),l=i(8947),u=Array,c=Math.max;t.exports=function(t,r,i){for(var h=o(t),d=a(r,h),p=a(void 0===i?h:i,h),v=u(c(p-d,0)),y=0;d<p;d++,y++)l(v,y,t[d]);v.length=y;return v}},2251:(t,r,i)=>{var a=i(8403);t.exports=a([].slice)},4689:(t,r,i)=>{var a=i(6071),o=Math.floor,mergeSort=function(t,r){var i=t.length,l=o(i/2);return i<8?insertionSort(t,r):merge(t,mergeSort(a(t,0,l),r),mergeSort(a(t,l),r),r)},insertionSort=function(t,r){for(var i,a,o=t.length,l=1;l<o;){a=l;i=t[l];for(;a&&r(t[a-1],i)>0;)t[a]=t[--a];a!==l++&&(t[a]=i)}return t},merge=function(t,r,i,a){for(var o=r.length,l=i.length,u=0,c=0;u<o||c<l;)t[u+c]=u<o&&c<l?a(r[u],i[c])<=0?r[u++]:i[c++]:u<o?r[u++]:i[c++];return t};t.exports=mergeSort},751:(t,r,i)=>{var a=i(6998),o=i(1694),l=i(7633),u=i(2292)("species"),c=Array;t.exports=function(t){var r;if(a(t)){r=t.constructor;(o(r)&&(r===c||a(r.prototype))||l(r)&&null===(r=r[u]))&&(r=void 0)}return void 0===r?c:r}},8097:(t,r,i)=>{var a=i(751);t.exports=function(t,r){return new(a(t))(0===r?0:r)}},2304:(t,r,i)=>{var a=i(451);t.exports=function(t,r){for(var i=a(t),o=new r(i),l=0;l<i;l++)o[l]=t[i-l-1];return o}},5886:(t,r,i)=>{var a=i(451),o=i(1003),l=RangeError;t.exports=function(t,r,i,u){var c=a(t),h=o(i),d=h<0?c+h:h;if(d>=c||d<0)throw new l("Incorrect index");for(var p=new r(c),v=0;v<c;v++)p[v]=v===d?u:t[v];return p}},5723:(t,r,i)=>{var a=i(4719),o=i(3316);t.exports=function(t,r,i,l){try{return l?r(a(i)[0],i[1]):r(i)}catch(r){o(t,"throw",r)}}},1374:(t,r,i)=>{var a=i(2292)("iterator"),o=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){o=!0}};u[a]=function(){return this};Array.from(u,(function(){throw 2}))}catch(t){}t.exports=function(t,r){try{if(!r&&!o)return!1}catch(t){return!1}var i=!1;try{var l={};l[a]=function(){return{next:function(){return{done:i=!0}}}};t(l)}catch(t){}return i}},8374:(t,r,i)=>{var a=i(8403),o=a({}.toString),l=a("".slice);t.exports=function(t){return l(o(t),8,-1)}},8329:(t,r,i)=>{var a=i(3077),o=i(7316),l=i(8374),u=i(2292)("toStringTag"),c=Object,h="Arguments"===l(function(){return arguments}());t.exports=a?l:function(t){var r,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,r){try{return t[r]}catch(t){}}(r=c(t),u))?i:h?l(r):"Object"===(a=l(r))&&o(r.callee)?"Arguments":a}},6122:(t,r,i)=>{var a=i(6941),o=i(9691),l=i(6880),u=i(7789),c=i(5834),h=i(3734),d=i(6837),p=i(7301),v=i(1111),y=i(5963),g=i(940),m=i(4694).fastKey,_=i(1649),b=_.set,w=_.getterFor;t.exports={getConstructor:function(t,r,i,p){var v=t((function(t,o){c(t,y);b(t,{type:r,index:a(null),first:void 0,last:void 0,size:0});g||(t.size=0);h(o)||d(o,t[p],{that:t,AS_ENTRIES:i})})),y=v.prototype,_=w(r),define=function(t,r,i){var a,o,l=_(t),u=getEntry(t,r);if(u)u.value=i;else{l.last=u={index:o=m(r,!0),key:r,value:i,previous:a=l.last,next:void 0,removed:!1};l.first||(l.first=u);a&&(a.next=u);g?l.size++:t.size++;"F"!==o&&(l.index[o]=u)}return t},getEntry=function(t,r){var i,a=_(t),o=m(r);if("F"!==o)return a.index[o];for(i=a.first;i;i=i.next)if(i.key===r)return i};l(y,{clear:function clear(){for(var t=_(this),r=t.index,i=t.first;i;){i.removed=!0;i.previous&&(i.previous=i.previous.next=void 0);delete r[i.index];i=i.next}t.first=t.last=void 0;g?t.size=0:this.size=0},delete:function(t){var r=this,i=_(r),a=getEntry(r,t);if(a){var o=a.next,l=a.previous;delete i.index[a.index];a.removed=!0;l&&(l.next=o);o&&(o.previous=l);i.first===a&&(i.first=o);i.last===a&&(i.last=l);g?i.size--:r.size--}return!!a},forEach:function forEach(t){for(var r,i=_(this),a=u(t,arguments.length>1?arguments[1]:void 0);r=r?r.next:i.first;){a(r.value,r.key,this);for(;r&&r.removed;)r=r.previous}},has:function has(t){return!!getEntry(this,t)}});l(y,i?{get:function get(t){var r=getEntry(this,t);return r&&r.value},set:function set(t,r){return define(this,0===t?0:t,r)}}:{add:function add(t){return define(this,t=0===t?0:t,t)}});g&&o(y,"size",{configurable:!0,get:function(){return _(this).size}});return v},setStrong:function(t,r,i){var a=r+" Iterator",o=w(r),l=w(a);p(t,r,(function(t,r){b(this,{type:a,target:t,state:o(t),kind:r,last:void 0})}),(function(){for(var t=l(this),r=t.kind,i=t.last;i&&i.removed;)i=i.previous;if(!t.target||!(t.last=i=i?i.next:t.state.first)){t.target=void 0;return v(void 0,!0)}return v("keys"===r?i.key:"values"===r?i.value:[i.key,i.value],!1)}),i?"entries":"values",!i,!0);y(r)}}},9609:(t,r,i)=>{var a=i(8403),o=i(6880),l=i(4694).getWeakData,u=i(5834),c=i(4719),h=i(3734),d=i(7633),p=i(6837),v=i(2423),y=i(936),g=i(1649),m=g.set,_=g.getterFor,b=v.find,w=v.findIndex,P=a([].splice),A=0,uncaughtFrozenStore=function(t){return t.frozen||(t.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(t,r){return b(t.entries,(function(t){return t[0]===r}))};UncaughtFrozenStore.prototype={get:function(t){var r=findUncaughtFrozen(this,t);if(r)return r[1]},has:function(t){return!!findUncaughtFrozen(this,t)},set:function(t,r){var i=findUncaughtFrozen(this,t);i?i[1]=r:this.entries.push([t,r])},delete:function(t){var r=w(this.entries,(function(r){return r[0]===t}));~r&&P(this.entries,r,1);return!!~r}};t.exports={getConstructor:function(t,r,i,a){var v=t((function(t,o){u(t,g);m(t,{type:r,id:A++,frozen:void 0});h(o)||p(o,t[a],{that:t,AS_ENTRIES:i})})),g=v.prototype,b=_(r),define=function(t,r,i){var a=b(t),o=l(c(r),!0);!0===o?uncaughtFrozenStore(a).set(r,i):o[a.id]=i;return t};o(g,{delete:function(t){var r=b(this);if(!d(t))return!1;var i=l(t);return!0===i?uncaughtFrozenStore(r).delete(t):i&&y(i,r.id)&&delete i[r.id]},has:function has(t){var r=b(this);if(!d(t))return!1;var i=l(t);return!0===i?uncaughtFrozenStore(r).has(t):i&&y(i,r.id)}});o(g,i?{get:function get(t){var r=b(this);if(d(t)){var i=l(t);return!0===i?uncaughtFrozenStore(r).get(t):i?i[r.id]:void 0}},set:function set(t,r){return define(this,t,r)}}:{add:function add(t){return define(this,t,!0)}});return v}}},4981:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(8403),u=i(7007),c=i(7041),h=i(4694),d=i(6837),p=i(5834),v=i(7316),y=i(3734),g=i(7633),m=i(8154),_=i(1374),b=i(7536),w=i(7523);t.exports=function(t,r,i){var P=-1!==t.indexOf("Map"),A=-1!==t.indexOf("Weak"),S=P?"set":"add",E=o[t],x=E&&E.prototype,k=E,D={},fixMethod=function(t){var r=l(x[t]);c(x,t,"add"===t?function add(t){r(this,0===t?0:t);return this}:"delete"===t?function(t){return!(A&&!g(t))&&r(this,0===t?0:t)}:"get"===t?function get(t){return A&&!g(t)?void 0:r(this,0===t?0:t)}:"has"===t?function has(t){return!(A&&!g(t))&&r(this,0===t?0:t)}:function set(t,i){r(this,0===t?0:t,i);return this})};if(u(t,!v(E)||!(A||x.forEach&&!m((function(){(new E).entries().next()}))))){k=i.getConstructor(r,t,P,S);h.enable()}else if(u(t,!0)){var C=new k,T=C[S](A?{}:-0,1)!==C,I=m((function(){C.has(1)})),O=_((function(t){new E(t)})),M=!A&&m((function(){for(var t=new E,r=5;r--;)t[S](r,r);return!t.has(-0)}));if(!O){(k=r((function(t,r){p(t,x);var i=w(new E,t,k);y(r)||d(r,i[S],{that:i,AS_ENTRIES:P});return i}))).prototype=x;x.constructor=k}if(I||M){fixMethod("delete");fixMethod("has");P&&fixMethod("get")}(M||T)&&fixMethod(S);A&&x.clear&&delete x.clear}D[t]=k;a({global:!0,constructor:!0,forced:k!==E},D);b(k,t);A||i.setStrong(k,t,P);return k}},1425:(t,r,i)=>{var a=i(936),o=i(8953),l=i(5764),u=i(7744);t.exports=function(t,r,i){for(var c=o(r),h=u.f,d=l.f,p=0;p<c.length;p++){var v=c[p];a(t,v)||i&&a(i,v)||h(t,v,d(r,v))}}},2280:(t,r,i)=>{var a=i(2292)("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(i){try{r[a]=!1;return"/./"[t](r)}catch(t){}}return!1}},7888:(t,r,i)=>{var a=i(8154);t.exports=!a((function(){function F(){}F.prototype.constructor=null;return Object.getPrototypeOf(new F)!==F.prototype}))},1111:t=>{t.exports=function(t,r){return{value:t,done:r}}},9293:(t,r,i)=>{var a=i(940),o=i(7744),l=i(1198);t.exports=a?function(t,r,i){return o.f(t,r,l(1,i))}:function(t,r,i){t[r]=i;return t}},1198:t=>{t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},8947:(t,r,i)=>{var a=i(4871),o=i(7744),l=i(1198);t.exports=function(t,r,i){var u=a(r);u in t?o.f(t,u,l(0,i)):t[u]=i}},3612:(t,r,i)=>{var a=i(4719),o=i(2923),l=TypeError;t.exports=function(t){a(this);if("string"===t||"default"===t)t="string";else if("number"!==t)throw new l("Incorrect hint");return o(this,t)}},9691:(t,r,i)=>{var a=i(9687),o=i(7744);t.exports=function(t,r,i){i.get&&a(i.get,r,{getter:!0});i.set&&a(i.set,r,{setter:!0});return o.f(t,r,i)}},7041:(t,r,i)=>{var a=i(7316),o=i(7744),l=i(9687),u=i(6e3);t.exports=function(t,r,i,c){c||(c={});var h=c.enumerable,d=void 0!==c.name?c.name:r;a(i)&&l(i,d,c);if(c.global)h?t[r]=i:u(r,i);else{try{c.unsafe?t[r]&&(h=!0):delete t[r]}catch(t){}h?t[r]=i:o.f(t,r,{value:i,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return t}},6880:(t,r,i)=>{var a=i(7041);t.exports=function(t,r,i){for(var o in r)a(t,o,r[o],i);return t}},6e3:(t,r,i)=>{var a=i(9298),o=Object.defineProperty;t.exports=function(t,r){try{o(a,t,{value:r,configurable:!0,writable:!0})}catch(i){a[t]=r}return r}},2322:(t,r,i)=>{var a=i(9762),o=TypeError;t.exports=function(t,r){if(!delete t[r])throw new o("Cannot delete property "+a(r)+" of "+a(t))}},940:(t,r,i)=>{var a=i(8154);t.exports=!a((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8126:(t,r,i)=>{var a,o,l,u,c=i(9298),h=i(2276),d=i(4837),p=c.structuredClone,v=c.ArrayBuffer,y=c.MessageChannel,g=!1;if(d)g=function(t){p(t,{transfer:[t]})};else if(v)try{y||(a=h("worker_threads"))&&(y=a.MessageChannel);if(y){o=new y;l=new v(2);u=function(t){o.port1.postMessage(null,[t])};if(2===l.byteLength){u(l);0===l.byteLength&&(g=u)}}}catch(t){}t.exports=g},1558:t=>{var r="object"==typeof document&&document.all,i=void 0===r&&void 0!==r;t.exports={all:r,IS_HTMLDDA:i}},5584:(t,r,i)=>{var a=i(9298),o=i(7633),l=a.document,u=o(l)&&o(l.createElement);t.exports=function(t){return u?l.createElement(t):{}}},4287:t=>{var r=TypeError;t.exports=function(t){if(t>9007199254740991)throw r("Maximum allowed index exceeded");return t}},2411:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3942:(t,r,i)=>{var a=i(5584)("span").classList,o=a&&a.constructor&&a.constructor.prototype;t.exports=o===Object.prototype?void 0:o},7614:(t,r,i)=>{var a=i(234).match(/firefox\/(\d+)/i);t.exports=!!a&&+a[1]},3413:(t,r,i)=>{var a=i(8471),o=i(4864);t.exports=!a&&!o&&"object"==typeof window&&"object"==typeof document},8471:t=>{t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},7463:(t,r,i)=>{var a=i(234);t.exports=/MSIE|Trident/.test(a)},1458:(t,r,i)=>{var a=i(234);t.exports=/ipad|iphone|ipod/i.test(a)&&"undefined"!=typeof Pebble},2589:(t,r,i)=>{var a=i(234);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},4864:(t,r,i)=>{var a=i(9298),o=i(8374);t.exports="process"===o(a.process)},8173:(t,r,i)=>{var a=i(234);t.exports=/web0s(?!.*chrome)/i.test(a)},234:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},2171:(t,r,i)=>{var a,o,l=i(9298),u=i(234),c=l.process,h=l.Deno,d=c&&c.versions||h&&h.version,p=d&&d.v8;p&&(o=(a=p.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1]));!o&&u&&(!(a=u.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=u.match(/Chrome\/(\d+)/))&&(o=+a[1]);t.exports=o},7906:(t,r,i)=>{var a=i(234).match(/AppleWebKit\/(\d+)\./);t.exports=!!a&&+a[1]},298:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},34:(t,r,i)=>{var a=i(8403),o=Error,l=a("".replace),u=String(new o("zxcasd").stack),c=/\n\s*at [^:]*:[^\n]*/,h=c.test(u);t.exports=function(t,r){if(h&&"string"==typeof t&&!o.prepareStackTrace)for(;r--;)t=l(t,c,"");return t}},1931:(t,r,i)=>{var a=i(9293),o=i(34),l=i(3437),u=Error.captureStackTrace;t.exports=function(t,r,i,c){l&&(u?u(t,r):a(t,"stack",o(i,c)))}},3437:(t,r,i)=>{var a=i(8154),o=i(1198);t.exports=!a((function(){var t=new Error("a");if(!("stack"in t))return!0;Object.defineProperty(t,"stack",o(1,7));return 7!==t.stack}))},4978:(t,r,i)=>{var a=i(9298),o=i(5764).f,l=i(9293),u=i(7041),c=i(6e3),h=i(1425),d=i(7007);t.exports=function(t,r){var i,p,v,y,g,m=t.target,_=t.global,b=t.stat;if(i=_?a:b?a[m]||c(m,{}):(a[m]||{}).prototype)for(p in r){y=r[p];v=t.dontCallGetSet?(g=o(i,p))&&g.value:i[p];if(!d(_?p:m+(b?".":"#")+p,t.forced)&&void 0!==v){if(typeof y==typeof v)continue;h(y,v)}(t.sham||v&&v.sham)&&l(y,"sham",!0);u(i,p,y,t)}}},8154:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},4629:(t,r,i)=>{i(7942);var a=i(6218),o=i(7041),l=i(2178),u=i(8154),c=i(2292),h=i(9293),d=c("species"),p=RegExp.prototype;t.exports=function(t,r,i,v){var y=c(t),g=!u((function(){var r={};r[y]=function(){return 7};return 7!==""[t](r)})),m=g&&!u((function(){var r=!1,i=/a/;if("split"===t){(i={}).constructor={};i.constructor[d]=function(){return i};i.flags="";i[y]=/./[y]}i.exec=function(){r=!0;return null};i[y]("");return!r}));if(!g||!m||i){var _=a(/./[y]),b=r(y,""[t],(function(t,r,i,o,u){var c=a(t),h=r.exec;return h===l||h===p.exec?g&&!u?{done:!0,value:_(r,i,o)}:{done:!0,value:c(i,r,o)}:{done:!1}}));o(String.prototype,t,b[0]);o(p,y,b[1])}v&&h(p[y],"sham",!0)}},7010:(t,r,i)=>{var a=i(8154);t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},7294:(t,r,i)=>{var a=i(2486),o=Function.prototype,l=o.apply,u=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(a?u.bind(l):function(){return u.apply(l,arguments)})},7789:(t,r,i)=>{var a=i(6218),o=i(1782),l=i(2486),u=a(a.bind);t.exports=function(t,r){o(t);return void 0===r?t:l?u(t,r):function(){return t.apply(r,arguments)}}},2486:(t,r,i)=>{var a=i(8154);t.exports=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6520:(t,r,i)=>{var a=i(8403),o=i(1782),l=i(7633),u=i(936),c=i(2251),h=i(2486),d=Function,p=a([].concat),v=a([].join),y={};t.exports=h?d.bind:function bind(t){var r=o(this),i=r.prototype,a=c(arguments,1),h=function bound(){var i=p(a,c(arguments));return this instanceof h?function(t,r,i){if(!u(y,r)){for(var a=[],o=0;o<r;o++)a[o]="a["+o+"]";y[r]=d("C,a","return new C("+v(a,",")+")")}return y[r](t,i)}(r,i.length,i):r.apply(t,i)};l(i)&&(h.prototype=i);return h}},2026:(t,r,i)=>{var a=i(2486),o=Function.prototype.call;t.exports=a?o.bind(o):function(){return o.apply(o,arguments)}},5145:(t,r,i)=>{var a=i(940),o=i(936),l=Function.prototype,u=a&&Object.getOwnPropertyDescriptor,c=o(l,"name"),h=c&&"something"===function something(){}.name,d=c&&(!a||a&&u(l,"name").configurable);t.exports={EXISTS:c,PROPER:h,CONFIGURABLE:d}},1299:(t,r,i)=>{var a=i(8403),o=i(1782);t.exports=function(t,r,i){try{return a(o(Object.getOwnPropertyDescriptor(t,r)[i]))}catch(t){}}},6218:(t,r,i)=>{var a=i(8374),o=i(8403);t.exports=function(t){if("Function"===a(t))return o(t)}},8403:(t,r,i)=>{var a=i(2486),o=Function.prototype,l=o.call,u=a&&o.bind.bind(l,l);t.exports=a?u:function(t){return function(){return l.apply(t,arguments)}}},7187:(t,r,i)=>{var a=i(9298),o=i(7316);t.exports=function(t,r){return arguments.length<2?(i=a[t],o(i)?i:void 0):a[t]&&a[t][r];var i}},9235:t=>{t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},273:(t,r,i)=>{var a=i(8329),o=i(8486),l=i(3734),u=i(6596),c=i(2292)("iterator");t.exports=function(t){if(!l(t))return o(t,c)||o(t,"@@iterator")||u[a(t)]}},7612:(t,r,i)=>{var a=i(2026),o=i(1782),l=i(4719),u=i(9762),c=i(273),h=TypeError;t.exports=function(t,r){var i=arguments.length<2?c(t):r;if(o(i))return l(a(i,t));throw new h(u(t)+" is not iterable")}},1801:(t,r,i)=>{var a=i(8403),o=i(6998),l=i(7316),u=i(8374),c=i(5730),h=a([].push);t.exports=function(t){if(l(t))return t;if(o(t)){for(var r=t.length,i=[],a=0;a<r;a++){var d=t[a];"string"==typeof d?h(i,d):"number"!=typeof d&&"Number"!==u(d)&&"String"!==u(d)||h(i,c(d))}var p=i.length,v=!0;return function(t,r){if(v){v=!1;return r}if(o(this))return r;for(var a=0;a<p;a++)if(i[a]===t)return r}}}},8486:(t,r,i)=>{var a=i(1782),o=i(3734);t.exports=function(t,r){var i=t[r];return o(i)?void 0:a(i)}},1096:(t,r,i)=>{var a=i(1782),o=i(4719),l=i(2026),u=i(1003),c=i(9235),h="Invalid size",d=RangeError,p=TypeError,v=Math.max,SetRecord=function(t,r,i,a){this.set=t;this.size=r;this.has=i;this.keys=a};SetRecord.prototype={getIterator:function(){return c(o(l(this.keys,this.set)))},includes:function(t){return l(this.has,this.set,t)}};t.exports=function(t){o(t);var r=+t.size;if(r!=r)throw new p(h);var i=u(r);if(i<0)throw new d(h);return new SetRecord(t,v(i,0),a(t.has),a(t.keys))}},1634:(t,r,i)=>{var a=i(8403),o=i(2007),l=Math.floor,u=a("".charAt),c=a("".replace),h=a("".slice),d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,p=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,r,i,a,v,y){var g=i+t.length,m=a.length,_=p;if(void 0!==v){v=o(v);_=d}return c(y,_,(function(o,c){var d;switch(u(c,0)){case"$":return"$";case"&":return t;case"`":return h(r,0,i);case"'":return h(r,g);case"<":d=v[h(c,1,-1)];break;default:var p=+c;if(0===p)return o;if(p>m){var y=l(p/10);return 0===y?o:y<=m?void 0===a[y-1]?u(c,1):a[y-1]+u(c,1):o}d=a[p-1]}return void 0===d?"":d}))}},9298:function(t){var check=function(t){return t&&t.Math===Math&&t};t.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||check("object"==typeof this&&this)||function(){return this}()||Function("return this")()},936:(t,r,i)=>{var a=i(8403),o=i(2007),l=a({}.hasOwnProperty);t.exports=Object.hasOwn||function hasOwn(t,r){return l(o(t),r)}},6010:t=>{t.exports={}},5285:t=>{t.exports=function(t,r){try{1===arguments.length?console.error(t):console.error(t,r)}catch(t){}}},519:(t,r,i)=>{var a=i(7187);t.exports=a("document","documentElement")},9394:(t,r,i)=>{var a=i(940),o=i(8154),l=i(5584);t.exports=!a&&!o((function(){return 7!==Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}))},3106:t=>{var r=Array,i=Math.abs,a=Math.pow,o=Math.floor,l=Math.log,u=Math.LN2;t.exports={pack:function(t,c,h){var d,p,v,y=r(h),g=8*h-c-1,m=(1<<g)-1,_=m>>1,b=23===c?a(2,-24)-a(2,-77):0,w=t<0||0===t&&1/t<0?1:0,P=0;if((t=i(t))!=t||t===1/0){p=t!=t?1:0;d=m}else{d=o(l(t)/u);if(t*(v=a(2,-d))<1){d--;v*=2}if((t+=d+_>=1?b/v:b*a(2,1-_))*v>=2){d++;v/=2}if(d+_>=m){p=0;d=m}else if(d+_>=1){p=(t*v-1)*a(2,c);d+=_}else{p=t*a(2,_-1)*a(2,c);d=0}}for(;c>=8;){y[P++]=255&p;p/=256;c-=8}d=d<<c|p;g+=c;for(;g>0;){y[P++]=255&d;d/=256;g-=8}y[--P]|=128*w;return y},unpack:function(t,r){var i,o=t.length,l=8*o-r-1,u=(1<<l)-1,c=u>>1,h=l-7,d=o-1,p=t[d--],v=127&p;p>>=7;for(;h>0;){v=256*v+t[d--];h-=8}i=v&(1<<-h)-1;v>>=-h;h+=r;for(;h>0;){i=256*i+t[d--];h-=8}if(0===v)v=1-c;else{if(v===u)return i?NaN:p?-1/0:1/0;i+=a(2,r);v-=c}return(p?-1:1)*i*a(2,v-r)}}},3622:(t,r,i)=>{var a=i(8403),o=i(8154),l=i(8374),u=Object,c=a("".split);t.exports=o((function(){return!u("z").propertyIsEnumerable(0)}))?function(t){return"String"===l(t)?c(t,""):u(t)}:u},7523:(t,r,i)=>{var a=i(7316),o=i(7633),l=i(9763);t.exports=function(t,r,i){var u,c;l&&a(u=r.constructor)&&u!==i&&o(c=u.prototype)&&c!==i.prototype&&l(t,c);return t}},4993:(t,r,i)=>{var a=i(8403),o=i(7316),l=i(7542),u=a(Function.toString);o(l.inspectSource)||(l.inspectSource=function(t){return u(t)});t.exports=l.inspectSource},8422:(t,r,i)=>{var a=i(7633),o=i(9293);t.exports=function(t,r){a(r)&&"cause"in r&&o(t,"cause",r.cause)}},4694:(t,r,i)=>{var a=i(4978),o=i(8403),l=i(6010),u=i(7633),c=i(936),h=i(7744).f,d=i(5455),p=i(2329),v=i(2191),y=i(7561),g=i(7010),m=!1,_=y("meta"),b=0,setMetadata=function(t){h(t,_,{value:{objectID:"O"+b++,weakData:{}}})},w=t.exports={enable:function(){w.enable=function(){};m=!0;var t=d.f,r=o([].splice),i={};i[_]=1;if(t(i).length){d.f=function(i){for(var a=t(i),o=0,l=a.length;o<l;o++)if(a[o]===_){r(a,o,1);break}return a};a({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:p.f})}},fastKey:function(t,r){if(!u(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!c(t,_)){if(!v(t))return"F";if(!r)return"E";setMetadata(t)}return t[_].objectID},getWeakData:function(t,r){if(!c(t,_)){if(!v(t))return!0;if(!r)return!1;setMetadata(t)}return t[_].weakData},onFreeze:function(t){g&&m&&v(t)&&!c(t,_)&&setMetadata(t);return t}};l[_]=!0},1649:(t,r,i)=>{var a,o,l,u=i(8443),c=i(9298),h=i(7633),d=i(9293),p=i(936),v=i(7542),y=i(3727),g=i(6010),m="Object already initialized",_=c.TypeError,b=c.WeakMap;if(u||v.state){var w=v.state||(v.state=new b);w.get=w.get;w.has=w.has;w.set=w.set;a=function(t,r){if(w.has(t))throw new _(m);r.facade=t;w.set(t,r);return r};o=function(t){return w.get(t)||{}};l=function(t){return w.has(t)}}else{var P=y("state");g[P]=!0;a=function(t,r){if(p(t,P))throw new _(m);r.facade=t;d(t,P,r);return r};o=function(t){return p(t,P)?t[P]:{}};l=function(t){return p(t,P)}}t.exports={set:a,get:o,has:l,enforce:function(t){return l(t)?o(t):a(t,{})},getterFor:function(t){return function(r){var i;if(!h(r)||(i=o(r)).type!==t)throw new _("Incompatible receiver, "+t+" required");return i}}}},5191:(t,r,i)=>{var a=i(2292),o=i(6596),l=a("iterator"),u=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||u[l]===t)}},6998:(t,r,i)=>{var a=i(8374);t.exports=Array.isArray||function isArray(t){return"Array"===a(t)}},5986:(t,r,i)=>{var a=i(8329);t.exports=function(t){var r=a(t);return"BigInt64Array"===r||"BigUint64Array"===r}},7316:(t,r,i)=>{var a=i(1558),o=a.all;t.exports=a.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},1694:(t,r,i)=>{var a=i(8403),o=i(8154),l=i(7316),u=i(8329),c=i(7187),h=i(4993),noop=function(){},d=[],p=c("Reflect","construct"),v=/^\s*(?:class|function)\b/,y=a(v.exec),g=!v.test(noop),m=function isConstructor(t){if(!l(t))return!1;try{p(noop,d,t);return!0}catch(t){return!1}},_=function isConstructor(t){if(!l(t))return!1;switch(u(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!y(v,h(t))}catch(t){return!0}};_.sham=!0;t.exports=!p||o((function(){var t;return m(m.call)||!m(Object)||!m((function(){t=!0}))||t}))?_:m},3374:(t,r,i)=>{var a=i(936);t.exports=function(t){return void 0!==t&&(a(t,"value")||a(t,"writable"))}},7007:(t,r,i)=>{var a=i(8154),o=i(7316),l=/#|\.prototype\./,isForced=function(t,r){var i=c[u(t)];return i===d||i!==h&&(o(r)?a(r):!!r)},u=isForced.normalize=function(t){return String(t).replace(l,".").toLowerCase()},c=isForced.data={},h=isForced.NATIVE="N",d=isForced.POLYFILL="P";t.exports=isForced},987:(t,r,i)=>{var a=i(7633),o=Math.floor;t.exports=Number.isInteger||function isInteger(t){return!a(t)&&isFinite(t)&&o(t)===t}},3734:t=>{t.exports=function(t){return null==t}},7633:(t,r,i)=>{var a=i(7316),o=i(1558),l=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:a(t)||t===l}:function(t){return"object"==typeof t?null!==t:a(t)}},2554:t=>{t.exports=!1},6660:(t,r,i)=>{var a=i(7633),o=i(8374),l=i(2292)("match");t.exports=function(t){var r;return a(t)&&(void 0!==(r=t[l])?!!r:"RegExp"===o(t))}},7814:(t,r,i)=>{var a=i(7187),o=i(7316),l=i(2658),u=i(7960),c=Object;t.exports=u?function(t){return"symbol"==typeof t}:function(t){var r=a("Symbol");return o(r)&&l(r.prototype,c(t))}},5504:(t,r,i)=>{var a=i(2026);t.exports=function(t,r,i){for(var o,l,u=i?t:t.iterator,c=t.next;!(o=a(c,u)).done;)if(void 0!==(l=r(o.value)))return l}},6837:(t,r,i)=>{var a=i(7789),o=i(2026),l=i(4719),u=i(9762),c=i(5191),h=i(451),d=i(2658),p=i(7612),v=i(273),y=i(3316),g=TypeError,Result=function(t,r){this.stopped=t;this.result=r},m=Result.prototype;t.exports=function(t,r,i){var _,b,w,P,A,S,E,x=i&&i.that,k=!(!i||!i.AS_ENTRIES),D=!(!i||!i.IS_RECORD),C=!(!i||!i.IS_ITERATOR),T=!(!i||!i.INTERRUPTED),I=a(r,x),stop=function(t){_&&y(_,"normal",t);return new Result(!0,t)},callFn=function(t){if(k){l(t);return T?I(t[0],t[1],stop):I(t[0],t[1])}return T?I(t,stop):I(t)};if(D)_=t.iterator;else if(C)_=t;else{if(!(b=v(t)))throw new g(u(t)+" is not iterable");if(c(b)){for(w=0,P=h(t);P>w;w++)if((A=callFn(t[w]))&&d(m,A))return A;return new Result(!1)}_=p(t,b)}S=D?t.next:_.next;for(;!(E=o(S,_)).done;){try{A=callFn(E.value)}catch(t){y(_,"throw",t)}if("object"==typeof A&&A&&d(m,A))return A}return new Result(!1)}},3316:(t,r,i)=>{var a=i(2026),o=i(4719),l=i(8486);t.exports=function(t,r,i){var u,c;o(t);try{if(!(u=l(t,"return"))){if("throw"===r)throw i;return i}u=a(u,t)}catch(t){c=!0;u=t}if("throw"===r)throw i;if(c)throw u;o(u);return i}},552:(t,r,i)=>{var a=i(5238).IteratorPrototype,o=i(6941),l=i(1198),u=i(7536),c=i(6596),returnThis=function(){return this};t.exports=function(t,r,i,h){var d=r+" Iterator";t.prototype=o(a,{next:l(+!h,i)});u(t,d,!1,!0);c[d]=returnThis;return t}},375:(t,r,i)=>{var a=i(2026),o=i(6941),l=i(9293),u=i(6880),c=i(2292),h=i(1649),d=i(8486),p=i(5238).IteratorPrototype,v=i(1111),y=i(3316),g=c("toStringTag"),m="IteratorHelper",_="WrapForValidIterator",b=h.set,createIteratorProxyPrototype=function(t){var r=h.getterFor(t?_:m);return u(o(p),{next:function next(){var i=r(this);if(t)return i.nextHandler();try{var a=i.done?void 0:i.nextHandler();return v(a,i.done)}catch(t){i.done=!0;throw t}},return:function(){var i=r(this),o=i.iterator;i.done=!0;if(t){var l=d(o,"return");return l?a(l,o):v(void 0,!0)}if(i.inner)try{y(i.inner.iterator,"normal")}catch(t){return y(o,"throw",t)}y(o,"normal");return v(void 0,!0)}})},w=createIteratorProxyPrototype(!0),P=createIteratorProxyPrototype(!1);l(P,g,"Iterator Helper");t.exports=function(t,r){var i=function Iterator(i,a){if(a){a.iterator=i.iterator;a.next=i.next}else a=i;a.type=r?_:m;a.nextHandler=t;a.counter=0;a.done=!1;b(this,a)};i.prototype=r?w:P;return i}},7301:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(2554),u=i(5145),c=i(7316),h=i(552),d=i(2176),p=i(9763),v=i(7536),y=i(9293),g=i(7041),m=i(2292),_=i(6596),b=i(5238),w=u.PROPER,P=u.CONFIGURABLE,A=b.IteratorPrototype,S=b.BUGGY_SAFARI_ITERATORS,E=m("iterator"),x="keys",k="values",D="entries",returnThis=function(){return this};t.exports=function(t,r,i,u,m,b,C){h(i,r,u);var T,I,O,getIterationMethod=function(t){if(t===m&&j)return j;if(!S&&t&&t in G)return G[t];switch(t){case x:return function keys(){return new i(this,t)};case k:return function values(){return new i(this,t)};case D:return function entries(){return new i(this,t)}}return function(){return new i(this)}},M=r+" Iterator",L=!1,G=t.prototype,R=G[E]||G["@@iterator"]||m&&G[m],j=!S&&R||getIterationMethod(m),B="Array"===r&&G.entries||R;if(B&&(T=d(B.call(new t)))!==Object.prototype&&T.next){l||d(T)===A||(p?p(T,A):c(T[E])||g(T,E,returnThis));v(T,M,!0,!0);l&&(_[M]=returnThis)}if(w&&m===k&&R&&R.name!==k)if(!l&&P)y(G,"name",k);else{L=!0;j=function values(){return o(R,this)}}if(m){I={values:getIterationMethod(k),keys:b?j:getIterationMethod(x),entries:getIterationMethod(D)};if(C)for(O in I)(S||L||!(O in G))&&g(G,O,I[O]);else a({target:r,proto:!0,forced:S||L},I)}l&&!C||G[E]===j||g(G,E,j,{name:m});_[r]=j;return I}},8142:(t,r,i)=>{var a=i(2026),o=i(1782),l=i(4719),u=i(9235),c=i(375),h=i(5723),d=c((function(){var t=this.iterator,r=l(a(this.next,t));if(!(this.done=!!r.done))return h(t,this.mapper,[r.value,this.counter++],!0)}));t.exports=function map(t){l(this);o(t);return new d(u(this),{mapper:t})}},5238:(t,r,i)=>{var a,o,l,u=i(8154),c=i(7316),h=i(7633),d=i(6941),p=i(2176),v=i(7041),y=i(2292),g=i(2554),m=y("iterator"),_=!1;[].keys&&("next"in(l=[].keys())?(o=p(p(l)))!==Object.prototype&&(a=o):_=!0);!h(a)||u((function(){var t={};return a[m].call(t)!==t}))?a={}:g&&(a=d(a));c(a[m])||v(a,m,(function(){return this}));t.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:_}},6596:t=>{t.exports={}},451:(t,r,i)=>{var a=i(8293);t.exports=function(t){return a(t.length)}},9687:(t,r,i)=>{var a=i(8403),o=i(8154),l=i(7316),u=i(936),c=i(940),h=i(5145).CONFIGURABLE,d=i(4993),p=i(1649),v=p.enforce,y=p.get,g=String,m=Object.defineProperty,_=a("".slice),b=a("".replace),w=a([].join),P=c&&!o((function(){return 8!==m((function(){}),"length",{value:8}).length})),A=String(String).split("String"),S=t.exports=function(t,r,i){"Symbol("===_(g(r),0,7)&&(r="["+b(g(r),/^Symbol\(([^)]*)\)/,"$1")+"]");i&&i.getter&&(r="get "+r);i&&i.setter&&(r="set "+r);(!u(t,"name")||h&&t.name!==r)&&(c?m(t,"name",{value:r,configurable:!0}):t.name=r);P&&i&&u(i,"arity")&&t.length!==i.arity&&m(t,"length",{value:i.arity});try{i&&u(i,"constructor")&&i.constructor?c&&m(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var a=v(t);u(a,"source")||(a.source=w(A,"string"==typeof r?r:""));return t};Function.prototype.toString=S((function toString(){return l(this)&&y(this).source||d(this)}),"toString")},6336:(t,r,i)=>{var a=i(4875),o=Math.abs,l=2220446049250313e-31,u=1/l;t.exports=function(t,r,i,c){var h=+t,d=o(h),p=a(h);if(d<c)return p*function(t){return t+u-u}(d/c/r)*c*r;var v=(1+r/l)*d,y=v-(v-d);return y>i||y!=y?p*(1/0):p*y}},796:(t,r,i)=>{var a=i(6336);t.exports=Math.fround||function fround(t){return a(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},4875:t=>{t.exports=Math.sign||function sign(t){var r=+t;return 0===r||r!=r?r:r<0?-1:1}},8537:t=>{var r=Math.ceil,i=Math.floor;t.exports=Math.trunc||function trunc(t){var a=+t;return(a>0?i:r)(a)}},1627:(t,r,i)=>{var a,o,l,u,c,h=i(9298),d=i(7789),p=i(5764).f,v=i(4578).set,y=i(1397),g=i(2589),m=i(1458),_=i(8173),b=i(4864),w=h.MutationObserver||h.WebKitMutationObserver,P=h.document,A=h.process,S=h.Promise,E=p(h,"queueMicrotask"),x=E&&E.value;if(!x){var k=new y,flush=function(){var t,r;b&&(t=A.domain)&&t.exit();for(;r=k.get();)try{r()}catch(t){k.head&&a();throw t}t&&t.enter()};if(g||b||_||!w||!P)if(!m&&S&&S.resolve){(u=S.resolve(void 0)).constructor=S;c=d(u.then,u);a=function(){c(flush)}}else if(b)a=function(){A.nextTick(flush)};else{v=d(v,h);a=function(){v(flush)}}else{o=!0;l=P.createTextNode("");new w(flush).observe(l,{characterData:!0});a=function(){l.data=o=!o}}x=function(t){k.head||a();k.add(t)}}t.exports=x},1880:(t,r,i)=>{var a=i(1782),o=TypeError,PromiseCapability=function(t){var r,i;this.promise=new t((function(t,a){if(void 0!==r||void 0!==i)throw new o("Bad Promise constructor");r=t;i=a}));this.resolve=a(r);this.reject=a(i)};t.exports.f=function(t){return new PromiseCapability(t)}},1264:(t,r,i)=>{var a=i(5730);t.exports=function(t,r){return void 0===t?arguments.length<2?"":r:a(t)}},9578:(t,r,i)=>{var a=i(6660),o=TypeError;t.exports=function(t){if(a(t))throw new o("The method doesn't accept regular expressions");return t}},453:(t,r,i)=>{var a=i(940),o=i(8403),l=i(2026),u=i(8154),c=i(1706),h=i(1963),d=i(1879),p=i(2007),v=i(3622),y=Object.assign,g=Object.defineProperty,m=o([].concat);t.exports=!y||u((function(){if(a&&1!==y({b:1},y(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},r={},i=Symbol("assign detection"),o="abcdefghijklmnopqrst";t[i]=7;o.split("").forEach((function(t){r[t]=t}));return 7!==y({},t)[i]||c(y({},r)).join("")!==o}))?function assign(t,r){for(var i=p(t),o=arguments.length,u=1,y=h.f,g=d.f;o>u;)for(var _,b=v(arguments[u++]),w=y?m(c(b),y(b)):c(b),P=w.length,A=0;P>A;){_=w[A++];a&&!l(g,b,_)||(i[_]=b[_])}return i}:y},6941:(t,r,i)=>{var a,o=i(4719),l=i(6617),u=i(298),c=i(6010),h=i(519),d=i(5584),p=i(3727),v="prototype",y="script",g=p("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return"<"+y+">"+t+"</"+y+">"},NullProtoObjectViaActiveX=function(t){t.write(scriptTag(""));t.close();var r=t.parentWindow.Object;t=null;return r},NullProtoObject=function(){try{a=new ActiveXObject("htmlfile")}catch(t){}NullProtoObject="undefined"!=typeof document?document.domain&&a?NullProtoObjectViaActiveX(a):function(){var t,r=d("iframe"),i="java"+y+":";r.style.display="none";h.appendChild(r);r.src=String(i);(t=r.contentWindow.document).open();t.write(scriptTag("document.F=Object"));t.close();return t.F}():NullProtoObjectViaActiveX(a);for(var t=u.length;t--;)delete NullProtoObject[v][u[t]];return NullProtoObject()};c[g]=!0;t.exports=Object.create||function create(t,r){var i;if(null!==t){EmptyConstructor[v]=o(t);i=new EmptyConstructor;EmptyConstructor[v]=null;i[g]=t}else i=NullProtoObject();return void 0===r?i:l.f(i,r)}},6617:(t,r,i)=>{var a=i(940),o=i(9610),l=i(7744),u=i(4719),c=i(4115),h=i(1706);r.f=a&&!o?Object.defineProperties:function defineProperties(t,r){u(t);for(var i,a=c(r),o=h(r),d=o.length,p=0;d>p;)l.f(t,i=o[p++],a[i]);return t}},7744:(t,r,i)=>{var a=i(940),o=i(9394),l=i(9610),u=i(4719),c=i(4871),h=TypeError,d=Object.defineProperty,p=Object.getOwnPropertyDescriptor,v="enumerable",y="configurable",g="writable";r.f=a?l?function defineProperty(t,r,i){u(t);r=c(r);u(i);if("function"==typeof t&&"prototype"===r&&"value"in i&&g in i&&!i[g]){var a=p(t,r);if(a&&a[g]){t[r]=i.value;i={configurable:y in i?i[y]:a[y],enumerable:v in i?i[v]:a[v],writable:!1}}}return d(t,r,i)}:d:function defineProperty(t,r,i){u(t);r=c(r);u(i);if(o)try{return d(t,r,i)}catch(t){}if("get"in i||"set"in i)throw new h("Accessors not supported");"value"in i&&(t[r]=i.value);return t}},5764:(t,r,i)=>{var a=i(940),o=i(2026),l=i(1879),u=i(1198),c=i(4115),h=i(4871),d=i(936),p=i(9394),v=Object.getOwnPropertyDescriptor;r.f=a?v:function getOwnPropertyDescriptor(t,r){t=c(t);r=h(r);if(p)try{return v(t,r)}catch(t){}if(d(t,r))return u(!o(l.f,t,r),t[r])}},2329:(t,r,i)=>{var a=i(8374),o=i(4115),l=i(5455).f,u=i(6071),c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function getOwnPropertyNames(t){return c&&"Window"===a(t)?function(t){try{return l(t)}catch(t){return u(c)}}(t):l(o(t))}},5455:(t,r,i)=>{var a=i(9138),o=i(298).concat("length","prototype");r.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return a(t,o)}},1963:(t,r)=>{r.f=Object.getOwnPropertySymbols},2176:(t,r,i)=>{var a=i(936),o=i(7316),l=i(2007),u=i(3727),c=i(7888),h=u("IE_PROTO"),d=Object,p=d.prototype;t.exports=c?d.getPrototypeOf:function(t){var r=l(t);if(a(r,h))return r[h];var i=r.constructor;return o(i)&&r instanceof i?i.prototype:r instanceof d?p:null}},2191:(t,r,i)=>{var a=i(8154),o=i(7633),l=i(8374),u=i(6944),c=Object.isExtensible,h=a((function(){c(1)}));t.exports=h||u?function isExtensible(t){return!!o(t)&&((!u||"ArrayBuffer"!==l(t))&&(!c||c(t)))}:c},2658:(t,r,i)=>{var a=i(8403);t.exports=a({}.isPrototypeOf)},9138:(t,r,i)=>{var a=i(8403),o=i(936),l=i(4115),u=i(9773).indexOf,c=i(6010),h=a([].push);t.exports=function(t,r){var i,a=l(t),d=0,p=[];for(i in a)!o(c,i)&&o(a,i)&&h(p,i);for(;r.length>d;)o(a,i=r[d++])&&(~u(p,i)||h(p,i));return p}},1706:(t,r,i)=>{var a=i(9138),o=i(298);t.exports=Object.keys||function keys(t){return a(t,o)}},1879:(t,r)=>{var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,o=a&&!i.call({1:2},1);r.f=o?function propertyIsEnumerable(t){var r=a(this,t);return!!r&&r.enumerable}:i},9763:(t,r,i)=>{var a=i(1299),o=i(4719),l=i(4958);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,i={};try{(t=a(Object.prototype,"__proto__","set"))(i,[]);r=i instanceof Array}catch(t){}return function setPrototypeOf(i,a){o(i);l(a);r?t(i,a):i.__proto__=a;return i}}():void 0)},2492:(t,r,i)=>{var a=i(940),o=i(8154),l=i(8403),u=i(2176),c=i(1706),h=i(4115),d=l(i(1879).f),p=l([].push),v=a&&o((function(){var t=Object.create(null);t[2]=2;return!d(t,2)})),createMethod=function(t){return function(r){for(var i,o=h(r),l=c(o),y=v&&null===u(o),g=l.length,m=0,_=[];g>m;){i=l[m++];a&&!(y?i in o:d(o,i))||p(_,t?[i,o[i]]:o[i])}return _}};t.exports={entries:createMethod(!0),values:createMethod(!1)}},759:(t,r,i)=>{var a=i(3077),o=i(8329);t.exports=a?{}.toString:function toString(){return"[object "+o(this)+"]"}},2923:(t,r,i)=>{var a=i(2026),o=i(7316),l=i(7633),u=TypeError;t.exports=function(t,r){var i,c;if("string"===r&&o(i=t.toString)&&!l(c=a(i,t)))return c;if(o(i=t.valueOf)&&!l(c=a(i,t)))return c;if("string"!==r&&o(i=t.toString)&&!l(c=a(i,t)))return c;throw new u("Can't convert object to primitive value")}},8953:(t,r,i)=>{var a=i(7187),o=i(8403),l=i(5455),u=i(1963),c=i(4719),h=o([].concat);t.exports=a("Reflect","ownKeys")||function ownKeys(t){var r=l.f(c(t)),i=u.f;return i?h(r,i(t)):r}},3713:(t,r,i)=>{var a=i(8403),o=i(936),l=SyntaxError,u=parseInt,c=String.fromCharCode,h=a("".charAt),d=a("".slice),p=a(/./.exec),v={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},y=/^[\da-f]{4}$/i,g=/^[\u0000-\u001F]$/;t.exports=function(t,r){for(var i=!0,a="";r<t.length;){var m=h(t,r);if("\\"===m){var _=d(t,r,r+2);if(o(v,_)){a+=v[_];r+=2}else{if("\\u"!==_)throw new l('Unknown escape sequence: "'+_+'"');var b=d(t,r+=2,r+4);if(!p(y,b))throw new l("Bad Unicode escape at: "+r);a+=c(u(b,16));r+=4}}else{if('"'===m){i=!1;r++;break}if(p(g,m))throw new l("Bad control character in string literal at: "+r);a+=m;r++}}if(i)throw new l("Unterminated string at: "+r);return{value:a,end:r}}},1021:(t,r,i)=>{var a=i(9298);t.exports=a},1518:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},8308:(t,r,i)=>{var a=i(9298),o=i(6639),l=i(7316),u=i(7007),c=i(4993),h=i(2292),d=i(3413),p=i(8471),v=i(2554),y=i(2171),g=o&&o.prototype,m=h("species"),_=!1,b=l(a.PromiseRejectionEvent),w=u("Promise",(function(){var t=c(o),r=t!==String(o);if(!r&&66===y)return!0;if(v&&(!g.catch||!g.finally))return!0;if(!y||y<51||!/native code/.test(t)){var i=new o((function(t){t(1)})),FakePromise=function(t){t((function(){}),(function(){}))};(i.constructor={})[m]=FakePromise;if(!(_=i.then((function(){}))instanceof FakePromise))return!0}return!r&&(d||p)&&!b}));t.exports={CONSTRUCTOR:w,REJECTION_EVENT:b,SUBCLASSING:_}},6639:(t,r,i)=>{var a=i(9298);t.exports=a.Promise},2506:(t,r,i)=>{var a=i(4719),o=i(7633),l=i(1880);t.exports=function(t,r){a(t);if(o(r)&&r.constructor===t)return r;var i=l.f(t);(0,i.resolve)(r);return i.promise}},3779:(t,r,i)=>{var a=i(6639),o=i(1374),l=i(8308).CONSTRUCTOR;t.exports=l||!o((function(t){a.all(t).then(void 0,(function(){}))}))},6085:(t,r,i)=>{var a=i(7744).f;t.exports=function(t,r,i){i in t||a(t,i,{configurable:!0,get:function(){return r[i]},set:function(t){r[i]=t}})}},1397:t=>{var Queue=function(){this.head=null;this.tail=null};Queue.prototype={add:function(t){var r={item:t,next:null},i=this.tail;i?i.next=r:this.head=r;this.tail=r},get:function(){var t=this.head;if(t){null===(this.head=t.next)&&(this.tail=null);return t.item}}};t.exports=Queue},8986:(t,r,i)=>{var a=i(2026),o=i(4719),l=i(7316),u=i(8374),c=i(2178),h=TypeError;t.exports=function(t,r){var i=t.exec;if(l(i)){var d=a(i,t,r);null!==d&&o(d);return d}if("RegExp"===u(t))return a(c,t,r);throw new h("RegExp#exec called on incompatible receiver")}},2178:(t,r,i)=>{var a=i(2026),o=i(8403),l=i(5730),u=i(9272),c=i(3286),h=i(6807),d=i(6941),p=i(1649).get,v=i(1714),y=i(2513),g=h("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,_=m,b=o("".charAt),w=o("".indexOf),P=o("".replace),A=o("".slice),S=function(){var t=/a/,r=/b*/g;a(m,t,"a");a(m,r,"a");return 0!==t.lastIndex||0!==r.lastIndex}(),E=c.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(S||x||E||v||y)&&(_=function exec(t){var r,i,o,c,h,v,y,k=this,D=p(k),C=l(t),T=D.raw;if(T){T.lastIndex=k.lastIndex;r=a(_,T,C);k.lastIndex=T.lastIndex;return r}var I=D.groups,O=E&&k.sticky,M=a(u,k),L=k.source,G=0,R=C;if(O){M=P(M,"y","");-1===w(M,"g")&&(M+="g");R=A(C,k.lastIndex);if(k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==b(C,k.lastIndex-1))){L="(?: "+L+")";R=" "+R;G++}i=new RegExp("^(?:"+L+")",M)}x&&(i=new RegExp("^"+L+"$(?!\\s)",M));S&&(o=k.lastIndex);c=a(m,O?i:k,R);if(O)if(c){c.input=A(c.input,G);c[0]=A(c[0],G);c.index=k.lastIndex;k.lastIndex+=c[0].length}else k.lastIndex=0;else S&&c&&(k.lastIndex=k.global?c.index+c[0].length:o);x&&c&&c.length>1&&a(g,c[0],i,(function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(c[h]=void 0)}));if(c&&I){c.groups=v=d(null);for(h=0;h<I.length;h++)v[(y=I[h])[0]]=c[y[1]]}return c});t.exports=_},9272:(t,r,i)=>{var a=i(4719);t.exports=function(){var t=a(this),r="";t.hasIndices&&(r+="d");t.global&&(r+="g");t.ignoreCase&&(r+="i");t.multiline&&(r+="m");t.dotAll&&(r+="s");t.unicode&&(r+="u");t.unicodeSets&&(r+="v");t.sticky&&(r+="y");return r}},1043:(t,r,i)=>{var a=i(2026),o=i(936),l=i(2658),u=i(9272),c=RegExp.prototype;t.exports=function(t){var r=t.flags;return void 0!==r||"flags"in c||o(t,"flags")||!l(c,t)?r:a(u,t)}},3286:(t,r,i)=>{var a=i(8154),o=i(9298).RegExp,l=a((function(){var t=o("a","y");t.lastIndex=2;return null!==t.exec("abcd")})),u=l||a((function(){return!o("a","y").sticky})),c=l||a((function(){var t=o("^r","gy");t.lastIndex=2;return null!==t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:u,UNSUPPORTED_Y:l}},1714:(t,r,i)=>{var a=i(8154),o=i(9298).RegExp;t.exports=a((function(){var t=o(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},2513:(t,r,i)=>{var a=i(8154),o=i(9298).RegExp;t.exports=a((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},5645:(t,r,i)=>{var a=i(3734),o=TypeError;t.exports=function(t){if(a(t))throw new o("Can't call method on "+t);return t}},8976:t=>{t.exports=Object.is||function is(t,r){return t===r?0!==t||1/t==1/r:t!=t&&r!=r}},4057:(t,r,i)=>{var a=i(23),o=i(8848),l=a.Set,u=a.add;t.exports=function(t){var r=new l;o(t,(function(t){u(r,t)}));return r}},5656:(t,r,i)=>{var a=i(5690),o=i(23),l=i(4057),u=i(6098),c=i(1096),h=i(8848),d=i(5504),p=o.has,v=o.remove;t.exports=function difference(t){var r=a(this),i=c(t),o=l(r);u(r)<=i.size?h(r,(function(t){i.includes(t)&&v(o,t)})):d(i.getIterator(),(function(t){p(r,t)&&v(o,t)}));return o}},23:(t,r,i)=>{var a=i(8403),o=Set.prototype;t.exports={Set:Set,add:a(o.add),has:a(o.has),remove:a(o.delete),proto:o}},8461:(t,r,i)=>{var a=i(5690),o=i(23),l=i(6098),u=i(1096),c=i(8848),h=i(5504),d=o.Set,p=o.add,v=o.has;t.exports=function intersection(t){var r=a(this),i=u(t),o=new d;l(r)>i.size?h(i.getIterator(),(function(t){v(r,t)&&p(o,t)})):c(r,(function(t){i.includes(t)&&p(o,t)}));return o}},8550:(t,r,i)=>{var a=i(5690),o=i(23).has,l=i(6098),u=i(1096),c=i(8848),h=i(5504),d=i(3316);t.exports=function isDisjointFrom(t){var r=a(this),i=u(t);if(l(r)<=i.size)return!1!==c(r,(function(t){if(i.includes(t))return!1}),!0);var p=i.getIterator();return!1!==h(p,(function(t){if(o(r,t))return d(p,"normal",!1)}))}},990:(t,r,i)=>{var a=i(5690),o=i(6098),l=i(8848),u=i(1096);t.exports=function isSubsetOf(t){var r=a(this),i=u(t);return!(o(r)>i.size)&&!1!==l(r,(function(t){if(!i.includes(t))return!1}),!0)}},194:(t,r,i)=>{var a=i(5690),o=i(23).has,l=i(6098),u=i(1096),c=i(5504),h=i(3316);t.exports=function isSupersetOf(t){var r=a(this),i=u(t);if(l(r)<i.size)return!1;var d=i.getIterator();return!1!==c(d,(function(t){if(!o(r,t))return h(d,"normal",!1)}))}},8848:(t,r,i)=>{var a=i(8403),o=i(5504),l=i(23),u=l.Set,c=l.proto,h=a(c.forEach),d=a(c.keys),p=d(new u).next;t.exports=function(t,r,i){return i?o({iterator:d(t),next:p},r):h(t,r)}},507:(t,r,i)=>{var a=i(7187),createSetLike=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var r=a("Set");try{(new r)[t](createSetLike(0));try{(new r)[t](createSetLike(-1));return!1}catch(t){return!0}}catch(t){return!1}}},6098:(t,r,i)=>{var a=i(1299),o=i(23);t.exports=a(o.proto,"size","get")||function(t){return t.size}},5963:(t,r,i)=>{var a=i(7187),o=i(9691),l=i(2292),u=i(940),c=l("species");t.exports=function(t){var r=a(t);u&&r&&!r[c]&&o(r,c,{configurable:!0,get:function(){return this}})}},3194:(t,r,i)=>{var a=i(5690),o=i(23),l=i(4057),u=i(1096),c=i(5504),h=o.add,d=o.has,p=o.remove;t.exports=function symmetricDifference(t){var r=a(this),i=u(t).getIterator(),o=l(r);c(i,(function(t){d(r,t)?p(o,t):h(o,t)}));return o}},7536:(t,r,i)=>{var a=i(7744).f,o=i(936),l=i(2292)("toStringTag");t.exports=function(t,r,i){t&&!i&&(t=t.prototype);t&&!o(t,l)&&a(t,l,{configurable:!0,value:r})}},5703:(t,r,i)=>{var a=i(5690),o=i(23).add,l=i(4057),u=i(1096),c=i(5504);t.exports=function union(t){var r=a(this),i=u(t).getIterator(),h=l(r);c(i,(function(t){o(h,t)}));return h}},3727:(t,r,i)=>{var a=i(6807),o=i(7561),l=a("keys");t.exports=function(t){return l[t]||(l[t]=o(t))}},7542:(t,r,i)=>{var a=i(9298),o=i(6e3),l="__core-js_shared__",u=a[l]||o(l,{});t.exports=u},6807:(t,r,i)=>{var a=i(2554),o=i(7542);(t.exports=function(t,r){return o[t]||(o[t]=void 0!==r?r:{})})("versions",[]).push({version:"3.33.3",mode:a?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},8180:(t,r,i)=>{var a=i(4719),o=i(7073),l=i(3734),u=i(2292)("species");t.exports=function(t,r){var i,c=a(t).constructor;return void 0===c||l(i=a(c)[u])?r:o(i)}},6819:(t,r,i)=>{var a=i(8403),o=i(1003),l=i(5730),u=i(5645),c=a("".charAt),h=a("".charCodeAt),d=a("".slice),createMethod=function(t){return function(r,i){var a,p,v=l(u(r)),y=o(i),g=v.length;return y<0||y>=g?t?"":void 0:(a=h(v,y))<55296||a>56319||y+1===g||(p=h(v,y+1))<56320||p>57343?t?c(v,y):a:t?d(v,y,y+2):p-56320+(a-55296<<10)+65536}};t.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},4819:(t,r,i)=>{var a=i(234);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(a)},6460:(t,r,i)=>{var a=i(8403),o=i(8293),l=i(5730),u=i(947),c=i(5645),h=a(u),d=a("".slice),p=Math.ceil,createMethod=function(t){return function(r,i,a){var u,v,y=l(c(r)),g=o(i),m=y.length,_=void 0===a?" ":l(a);if(g<=m||""===_)return y;(v=h(_,p((u=g-m)/_.length))).length>u&&(v=d(v,0,u));return t?y+v:v+y}};t.exports={start:createMethod(!1),end:createMethod(!0)}},2897:(t,r,i)=>{var a=i(8403),o=2147483647,l=/[^\0-\u007E]/,u=/[.\u3002\uFF0E\uFF61]/g,c="Overflow: input needs wider integers to process",h=RangeError,d=a(u.exec),p=Math.floor,v=String.fromCharCode,y=a("".charCodeAt),g=a([].join),m=a([].push),_=a("".replace),b=a("".split),w=a("".toLowerCase),digitToBasic=function(t){return t+22+75*(t<26)},adapt=function(t,r,i){var a=0;t=i?p(t/700):t>>1;t+=p(t/r);for(;t>455;){t=p(t/35);a+=36}return p(a+36*t/(t+38))},encode=function(t){var r=[];t=function(t){for(var r=[],i=0,a=t.length;i<a;){var o=y(t,i++);if(o>=55296&&o<=56319&&i<a){var l=y(t,i++);if(56320==(64512&l))m(r,((1023&o)<<10)+(1023&l)+65536);else{m(r,o);i--}}else m(r,o)}return r}(t);var i,a,l=t.length,u=128,d=0,_=72;for(i=0;i<t.length;i++)(a=t[i])<128&&m(r,v(a));var b=r.length,w=b;b&&m(r,"-");for(;w<l;){var P=o;for(i=0;i<t.length;i++)(a=t[i])>=u&&a<P&&(P=a);var A=w+1;if(P-u>p((o-d)/A))throw new h(c);d+=(P-u)*A;u=P;for(i=0;i<t.length;i++){if((a=t[i])<u&&++d>o)throw new h(c);if(a===u){for(var S=d,E=36;;){var x=E<=_?1:E>=_+26?26:E-_;if(S<x)break;var k=S-x,D=36-x;m(r,v(digitToBasic(x+k%D)));S=p(k/D);E+=36}m(r,v(digitToBasic(S)));_=adapt(d,A,w===b);d=0;w++}}d++;u++}return g(r,"")};t.exports=function(t){var r,i,a=[],o=b(_(w(t),u,"."),".");for(r=0;r<o.length;r++){i=o[r];m(a,d(l,i)?"xn--"+encode(i):i)}return g(a,".")}},947:(t,r,i)=>{var a=i(1003),o=i(5730),l=i(5645),u=RangeError;t.exports=function repeat(t){var r=o(l(this)),i="",c=a(t);if(c<0||c===1/0)throw new u("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(r+=r))1&c&&(i+=r);return i}},8729:(t,r,i)=>{var a=i(5145).PROPER,o=i(8154),l=i(96);t.exports=function(t){return o((function(){return!!l[t]()||""!==""[t]()||a&&l[t].name!==t}))}},83:(t,r,i)=>{var a=i(8403),o=i(5645),l=i(5730),u=i(96),c=a("".replace),h=RegExp("^["+u+"]+"),d=RegExp("(^|[^"+u+"])["+u+"]+$"),createMethod=function(t){return function(r){var i=l(o(r));1&t&&(i=c(i,h,""));2&t&&(i=c(i,d,"$1"));return i}};t.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},4837:(t,r,i)=>{var a=i(9298),o=i(8154),l=i(2171),u=i(3413),c=i(8471),h=i(4864),d=a.structuredClone;t.exports=!!d&&!o((function(){if(c&&l>92||h&&l>94||u&&l>97)return!1;var t=new ArrayBuffer(8),r=d(t,{transfer:[t]});return 0!==t.byteLength||8!==r.byteLength}))},3663:(t,r,i)=>{var a=i(2171),o=i(8154),l=i(9298).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!l(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},5117:(t,r,i)=>{var a=i(2026),o=i(7187),l=i(2292),u=i(7041);t.exports=function(){var t=o("Symbol"),r=t&&t.prototype,i=r&&r.valueOf,c=l("toPrimitive");r&&!r[c]&&u(r,c,(function(t){return a(i,this)}),{arity:1})}},4186:(t,r,i)=>{var a=i(3663);t.exports=a&&!!Symbol.for&&!!Symbol.keyFor},4578:(t,r,i)=>{var a,o,l,u,c=i(9298),h=i(7294),d=i(7789),p=i(7316),v=i(936),y=i(8154),g=i(519),m=i(2251),_=i(5584),b=i(2743),w=i(2589),P=i(4864),A=c.setImmediate,S=c.clearImmediate,E=c.process,x=c.Dispatch,k=c.Function,D=c.MessageChannel,C=c.String,T=0,I={},O="onreadystatechange";y((function(){a=c.location}));var run=function(t){if(v(I,t)){var r=I[t];delete I[t];r()}},runner=function(t){return function(){run(t)}},eventListener=function(t){run(t.data)},globalPostMessageDefer=function(t){c.postMessage(C(t),a.protocol+"//"+a.host)};if(!A||!S){A=function setImmediate(t){b(arguments.length,1);var r=p(t)?t:k(t),i=m(arguments,1);I[++T]=function(){h(r,void 0,i)};o(T);return T};S=function clearImmediate(t){delete I[t]};if(P)o=function(t){E.nextTick(runner(t))};else if(x&&x.now)o=function(t){x.now(runner(t))};else if(D&&!w){u=(l=new D).port2;l.port1.onmessage=eventListener;o=d(u.postMessage,u)}else if(c.addEventListener&&p(c.postMessage)&&!c.importScripts&&a&&"file:"!==a.protocol&&!y(globalPostMessageDefer)){o=globalPostMessageDefer;c.addEventListener("message",eventListener,!1)}else o=O in _("script")?function(t){g.appendChild(_("script"))[O]=function(){g.removeChild(this);run(t)}}:function(t){setTimeout(runner(t),0)}}t.exports={set:A,clear:S}},3328:(t,r,i)=>{var a=i(8403);t.exports=a(1..valueOf)},6985:(t,r,i)=>{var a=i(1003),o=Math.max,l=Math.min;t.exports=function(t,r){var i=a(t);return i<0?o(i+r,0):l(i,r)}},212:(t,r,i)=>{var a=i(4151),o=TypeError;t.exports=function(t){var r=a(t,"number");if("number"==typeof r)throw new o("Can't convert number to bigint");return BigInt(r)}},9548:(t,r,i)=>{var a=i(1003),o=i(8293),l=RangeError;t.exports=function(t){if(void 0===t)return 0;var r=a(t),i=o(r);if(r!==i)throw new l("Wrong length or index");return i}},4115:(t,r,i)=>{var a=i(3622),o=i(5645);t.exports=function(t){return a(o(t))}},1003:(t,r,i)=>{var a=i(8537);t.exports=function(t){var r=+t;return r!=r||0===r?0:a(r)}},8293:(t,r,i)=>{var a=i(1003),o=Math.min;t.exports=function(t){return t>0?o(a(t),9007199254740991):0}},2007:(t,r,i)=>{var a=i(5645),o=Object;t.exports=function(t){return o(a(t))}},9892:(t,r,i)=>{var a=i(9817),o=RangeError;t.exports=function(t,r){var i=a(t);if(i%r)throw new o("Wrong offset");return i}},9817:(t,r,i)=>{var a=i(1003),o=RangeError;t.exports=function(t){var r=a(t);if(r<0)throw new o("The argument can't be less than 0");return r}},4151:(t,r,i)=>{var a=i(2026),o=i(7633),l=i(7814),u=i(8486),c=i(2923),h=i(2292),d=TypeError,p=h("toPrimitive");t.exports=function(t,r){if(!o(t)||l(t))return t;var i,h=u(t,p);if(h){void 0===r&&(r="default");i=a(h,t,r);if(!o(i)||l(i))return i;throw new d("Can't convert object to primitive value")}void 0===r&&(r="number");return c(t,r)}},4871:(t,r,i)=>{var a=i(4151),o=i(7814);t.exports=function(t){var r=a(t,"string");return o(r)?r:r+""}},3077:(t,r,i)=>{var a={};a[i(2292)("toStringTag")]="z";t.exports="[object z]"===String(a)},5730:(t,r,i)=>{var a=i(8329),o=String;t.exports=function(t){if("Symbol"===a(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},9671:t=>{var r=Math.round;t.exports=function(t){var i=r(t);return i<0?0:i>255?255:255&i}},2276:(t,r,i)=>{var a=i(4864);t.exports=function(t){try{if(a)return Function('return require("'+t+'")')()}catch(t){}}},9762:t=>{var r=String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},9173:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(2026),u=i(940),c=i(2127),h=i(5861),d=i(5050),p=i(5834),v=i(1198),y=i(9293),g=i(987),m=i(8293),_=i(9548),b=i(9892),w=i(9671),P=i(4871),A=i(936),S=i(8329),E=i(7633),x=i(7814),k=i(6941),D=i(2658),C=i(9763),T=i(5455).f,I=i(1675),O=i(2423).forEach,M=i(5963),L=i(9691),G=i(7744),R=i(5764),j=i(1649),B=i(7523),N=j.get,W=j.set,V=j.enforce,z=G.f,H=R.f,U=o.RangeError,q=d.ArrayBuffer,K=q.prototype,Y=d.DataView,X=h.NATIVE_ARRAY_BUFFER_VIEWS,$=h.TYPED_ARRAY_TAG,Z=h.TypedArray,Q=h.TypedArrayPrototype,J=h.aTypedArrayConstructor,ee=h.isTypedArray,te="BYTES_PER_ELEMENT",re="Wrong length",fromList=function(t,r){J(t);for(var i=0,a=r.length,o=new t(a);a>i;)o[i]=r[i++];return o},addGetter=function(t,r){L(t,r,{configurable:!0,get:function(){return N(this)[r]}})},isArrayBuffer=function(t){var r;return D(K,t)||"ArrayBuffer"===(r=S(t))||"SharedArrayBuffer"===r},isTypedArrayIndex=function(t,r){return ee(t)&&!x(r)&&r in t&&g(+r)&&r>=0},ne=function getOwnPropertyDescriptor(t,r){r=P(r);return isTypedArrayIndex(t,r)?v(2,t[r]):H(t,r)},ie=function defineProperty(t,r,i){r=P(r);if(isTypedArrayIndex(t,r)&&E(i)&&A(i,"value")&&!A(i,"get")&&!A(i,"set")&&!i.configurable&&(!A(i,"writable")||i.writable)&&(!A(i,"enumerable")||i.enumerable)){t[r]=i.value;return t}return z(t,r,i)};if(u){if(!X){R.f=ne;G.f=ie;addGetter(Q,"buffer");addGetter(Q,"byteOffset");addGetter(Q,"byteLength");addGetter(Q,"length")}a({target:"Object",stat:!0,forced:!X},{getOwnPropertyDescriptor:ne,defineProperty:ie});t.exports=function(t,r,i){var u=t.match(/\d+/)[0]/8,h=t+(i?"Clamped":"")+"Array",d="get"+t,v="set"+t,g=o[h],P=g,A=P&&P.prototype,S={},addElement=function(t,r){z(t,r,{get:function(){return function(t,r){var i=N(t);return i.view[d](r*u+i.byteOffset,!0)}(this,r)},set:function(t){return function(t,r,a){var o=N(t);o.view[v](r*u+o.byteOffset,i?w(a):a,!0)}(this,r,t)},enumerable:!0})};if(X){if(c){P=r((function(t,r,i,a){p(t,A);return B(E(r)?isArrayBuffer(r)?void 0!==a?new g(r,b(i,u),a):void 0!==i?new g(r,b(i,u)):new g(r):ee(r)?fromList(P,r):l(I,P,r):new g(_(r)),t,P)}));C&&C(P,Z);O(T(g),(function(t){t in P||y(P,t,g[t])}));P.prototype=A}}else{P=r((function(t,r,i,a){p(t,A);var o,c,h,d=0,v=0;if(E(r)){if(!isArrayBuffer(r))return ee(r)?fromList(P,r):l(I,P,r);o=r;v=b(i,u);var y=r.byteLength;if(void 0===a){if(y%u)throw new U(re);if((c=y-v)<0)throw new U(re)}else if((c=m(a)*u)+v>y)throw new U(re);h=c/u}else{h=_(r);o=new q(c=h*u)}W(t,{buffer:o,byteOffset:v,byteLength:c,length:h,view:new Y(o)});for(;d<h;)addElement(t,d++)}));C&&C(P,Z);A=P.prototype=k(Q)}A.constructor!==P&&y(A,"constructor",P);V(A).TypedArrayConstructor=P;$&&y(A,$,h);var x=P!==g;S[h]=P;a({global:!0,constructor:!0,forced:x,sham:!X},S);te in P||y(P,te,u);te in A||y(A,te,u);M(h)}}else t.exports=function(){}},2127:(t,r,i)=>{var a=i(9298),o=i(8154),l=i(1374),u=i(5861).NATIVE_ARRAY_BUFFER_VIEWS,c=a.ArrayBuffer,h=a.Int8Array;t.exports=!u||!o((function(){h(1)}))||!o((function(){new h(-1)}))||!l((function(t){new h;new h(null);new h(1.5);new h(t)}),!0)||o((function(){return 1!==new h(new c(2),1,void 0).length}))},5306:(t,r,i)=>{var a=i(7003),o=i(6239);t.exports=function(t,r){return a(o(t),r)}},1675:(t,r,i)=>{var a=i(7789),o=i(2026),l=i(7073),u=i(2007),c=i(451),h=i(7612),d=i(273),p=i(5191),v=i(5986),y=i(5861).aTypedArrayConstructor,g=i(212);t.exports=function from(t){var r,i,m,_,b,w,P,A,S=l(this),E=u(t),x=arguments.length,k=x>1?arguments[1]:void 0,D=void 0!==k,C=d(E);if(C&&!p(C)){A=(P=h(E,C)).next;E=[];for(;!(w=o(A,P)).done;)E.push(w.value)}D&&x>2&&(k=a(k,arguments[2]));i=c(E);m=new(y(S))(i);_=v(m);for(r=0;i>r;r++){b=D?k(E[r],r):E[r];m[r]=_?g(b):+b}return m}},6239:(t,r,i)=>{var a=i(5861),o=i(8180),l=a.aTypedArrayConstructor,u=a.getTypedArrayConstructor;t.exports=function(t){return l(o(t,u(t)))}},7561:(t,r,i)=>{var a=i(8403),o=0,l=Math.random(),u=a(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+u(++o+l,36)}},8815:(t,r,i)=>{var a=i(8154),o=i(2292),l=i(940),u=i(2554),c=o("iterator");t.exports=!a((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),r=t.searchParams,i=new URLSearchParams("a=1&a=2&b=3"),a="";t.pathname="c%20d";r.forEach((function(t,i){r.delete("b");a+=i+t}));i.delete("a",2);i.delete("b",void 0);return u&&(!t.toJSON||!i.has("a",1)||i.has("a",2)||!i.has("a",void 0)||i.has("b"))||!r.size&&(u||!l)||!r.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==r.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!r[c]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},7960:(t,r,i)=>{var a=i(3663);t.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9610:(t,r,i)=>{var a=i(940),o=i(8154);t.exports=a&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2743:t=>{var r=TypeError;t.exports=function(t,i){if(t<i)throw new r("Not enough arguments");return t}},8443:(t,r,i)=>{var a=i(9298),o=i(7316),l=a.WeakMap;t.exports=o(l)&&/native code/.test(String(l))},7120:(t,r,i)=>{var a=i(1021),o=i(936),l=i(8890),u=i(7744).f;t.exports=function(t){var r=a.Symbol||(a.Symbol={});o(r,t)||u(r,t,{value:l.f(t)})}},8890:(t,r,i)=>{var a=i(2292);r.f=a},2292:(t,r,i)=>{var a=i(9298),o=i(6807),l=i(936),u=i(7561),c=i(3663),h=i(7960),d=a.Symbol,p=o("wks"),v=h?d.for||d:d&&d.withoutSetter||u;t.exports=function(t){l(p,t)||(p[t]=c&&l(d,t)?d[t]:v("Symbol."+t));return p[t]}},96:t=>{t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},7342:(t,r,i)=>{var a=i(7187),o=i(936),l=i(9293),u=i(2658),c=i(9763),h=i(1425),d=i(6085),p=i(7523),v=i(1264),y=i(8422),g=i(1931),m=i(940),_=i(2554);t.exports=function(t,r,i,b){var w="stackTraceLimit",P=b?2:1,A=t.split("."),S=A[A.length-1],E=a.apply(null,A);if(E){var x=E.prototype;!_&&o(x,"cause")&&delete x.cause;if(!i)return E;var k=a("Error"),D=r((function(t,r){var i=v(b?r:t,void 0),a=b?new E(t):new E;void 0!==i&&l(a,"message",i);g(a,D,a.stack,2);this&&u(x,this)&&p(a,this,D);arguments.length>P&&y(a,arguments[P]);return a}));D.prototype=x;if("Error"!==S)c?c(D,k):h(D,k,{name:!0});else if(m&&w in E){d(D,E,w);d(D,E,"prepareStackTrace")}h(D,E);if(!_)try{x.name!==S&&l(x,"name",S);x.constructor=D}catch(t){}return D}}},6820:(t,r,i)=>{var a=i(4978),o=i(2007),l=i(451),u=i(1003),c=i(5463);a({target:"Array",proto:!0},{at:function at(t){var r=o(this),i=l(r),a=u(t),c=a>=0?a:i+a;return c<0||c>=i?void 0:r[c]}});c("at")},7874:(t,r,i)=>{var a=i(4978),o=i(8154),l=i(6998),u=i(7633),c=i(2007),h=i(451),d=i(4287),p=i(8947),v=i(8097),y=i(3577),g=i(2292),m=i(2171),_=g("isConcatSpreadable"),b=m>=51||!o((function(){var t=[];t[_]=!1;return t.concat()[0]!==t})),isConcatSpreadable=function(t){if(!u(t))return!1;var r=t[_];return void 0!==r?!!r:l(t)};a({target:"Array",proto:!0,arity:1,forced:!b||!y("concat")},{concat:function concat(t){var r,i,a,o,l,u=c(this),y=v(u,0),g=0;for(r=-1,a=arguments.length;r<a;r++)if(isConcatSpreadable(l=-1===r?u:arguments[r])){o=h(l);d(g+o);for(i=0;i<o;i++,g++)i in l&&p(y,g,l[i])}else{d(g+1);p(y,g++,l)}y.length=g;return y}})},6394:(t,r,i)=>{var a=i(4978),o=i(8041),l=i(5463);a({target:"Array",proto:!0},{fill:o});l("fill")},1585:(t,r,i)=>{var a=i(4978),o=i(2423).filter;a({target:"Array",proto:!0,forced:!i(3577)("filter")},{filter:function filter(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},275:(t,r,i)=>{var a=i(4978),o=i(2423).find,l=i(5463),u="find",c=!0;u in[]&&Array(1)[u]((function(){c=!1}));a({target:"Array",proto:!0,forced:c},{find:function find(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}});l(u)},9593:(t,r,i)=>{var a=i(4978),o=i(7609);a({target:"Array",stat:!0,forced:!i(1374)((function(t){Array.from(t)}))},{from:o})},2796:(t,r,i)=>{var a=i(4978),o=i(9773).includes,l=i(8154),u=i(5463);a({target:"Array",proto:!0,forced:l((function(){return!Array(1).includes()}))},{includes:function includes(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}});u("includes")},8649:(t,r,i)=>{var a=i(4978),o=i(6218),l=i(9773).indexOf,u=i(8321),c=o([].indexOf),h=!!c&&1/c([1],1,-0)<0;a({target:"Array",proto:!0,forced:h||!u("indexOf")},{indexOf:function indexOf(t){var r=arguments.length>1?arguments[1]:void 0;return h?c(this,t,r)||0:l(this,t,r)}})},6180:(t,r,i)=>{var a=i(4115),o=i(5463),l=i(6596),u=i(1649),c=i(7744).f,h=i(7301),d=i(1111),p=i(2554),v=i(940),y="Array Iterator",g=u.set,m=u.getterFor(y);t.exports=h(Array,"Array",(function(t,r){g(this,{type:y,target:a(t),index:0,kind:r})}),(function(){var t=m(this),r=t.target,i=t.index++;if(!r||i>=r.length){t.target=void 0;return d(void 0,!0)}switch(t.kind){case"keys":return d(i,!1);case"values":return d(r[i],!1)}return d([i,r[i]],!1)}),"values");var _=l.Arguments=l.Array;o("keys");o("values");o("entries");if(!p&&v&&"values"!==_.name)try{c(_,"name",{value:"values"})}catch(t){}},5136:(t,r,i)=>{var a=i(4978),o=i(2423).map;a({target:"Array",proto:!0,forced:!i(3577)("map")},{map:function map(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},4226:(t,r,i)=>{var a=i(4978),o=i(2007),l=i(451),u=i(6661),c=i(4287);a({target:"Array",proto:!0,arity:1,forced:i(8154)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function push(t){var r=o(this),i=l(r),a=arguments.length;c(i+a);for(var h=0;h<a;h++){r[i]=arguments[h];i++}u(r,i);return i}})},171:(t,r,i)=>{var a=i(4978),o=i(6998),l=i(1694),u=i(7633),c=i(6985),h=i(451),d=i(4115),p=i(8947),v=i(2292),y=i(3577),g=i(2251),m=y("slice"),_=v("species"),b=Array,w=Math.max;a({target:"Array",proto:!0,forced:!m},{slice:function slice(t,r){var i,a,v,y=d(this),m=h(y),P=c(t,m),A=c(void 0===r?m:r,m);if(o(y)){i=y.constructor;(l(i)&&(i===b||o(i.prototype))||u(i)&&null===(i=i[_]))&&(i=void 0);if(i===b||void 0===i)return g(y,P,A)}a=new(void 0===i?b:i)(w(A-P,0));for(v=0;P<A;P++,v++)P in y&&p(a,v,y[P]);a.length=v;return a}})},8301:(t,r,i)=>{var a=i(4978),o=i(8403),l=i(1782),u=i(2007),c=i(451),h=i(2322),d=i(5730),p=i(8154),v=i(4689),y=i(8321),g=i(7614),m=i(7463),_=i(2171),b=i(7906),w=[],P=o(w.sort),A=o(w.push),S=p((function(){w.sort(void 0)})),E=p((function(){w.sort(null)})),x=y("sort"),k=!p((function(){if(_)return _<70;if(!(g&&g>3)){if(m)return!0;if(b)return b<603;var t,r,i,a,o="";for(t=65;t<76;t++){r=String.fromCharCode(t);switch(t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(a=0;a<47;a++)w.push({k:r+a,v:i})}w.sort((function(t,r){return r.v-t.v}));for(a=0;a<w.length;a++){r=w[a].k.charAt(0);o.charAt(o.length-1)!==r&&(o+=r)}return"DGBEFHACIJK"!==o}}));a({target:"Array",proto:!0,forced:S||!E||!x||!k},{sort:function sort(t){void 0!==t&&l(t);var r=u(this);if(k)return void 0===t?P(r):P(r,t);var i,a,o=[],p=c(r);for(a=0;a<p;a++)a in r&&A(o,r[a]);v(o,function(t){return function(r,i){return void 0===i?-1:void 0===r?1:void 0!==t?+t(r,i)||0:d(r)>d(i)?1:-1}}(t));i=c(o);a=0;for(;a<i;)r[a]=o[a++];for(;a<p;)h(r,a++);return r}})},6302:(t,r,i)=>{var a=i(4978),o=i(2007),l=i(6985),u=i(1003),c=i(451),h=i(6661),d=i(4287),p=i(8097),v=i(8947),y=i(2322),g=i(3577)("splice"),m=Math.max,_=Math.min;a({target:"Array",proto:!0,forced:!g},{splice:function splice(t,r){var i,a,g,b,w,P,A=o(this),S=c(A),E=l(t,S),x=arguments.length;if(0===x)i=a=0;else if(1===x){i=0;a=S-E}else{i=x-2;a=_(m(u(r),0),S-E)}d(S+i-a);g=p(A,a);for(b=0;b<a;b++)(w=E+b)in A&&v(g,b,A[w]);g.length=a;if(i<a){for(b=E;b<S-a;b++){P=b+i;(w=b+a)in A?A[P]=A[w]:y(A,P)}for(b=S;b>S-a+i;b--)y(A,b-1)}else if(i>a)for(b=S-a;b>E;b--){P=b+i-1;(w=b+a-1)in A?A[P]=A[w]:y(A,P)}for(b=0;b<i;b++)A[b+E]=arguments[b+2];h(A,S-a+i);return g}})},8806:(t,r,i)=>{var a=i(936),o=i(7041),l=i(3612),u=i(2292)("toPrimitive"),c=Date.prototype;a(c,u)||o(c,u,l)},3352:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(7294),u=i(7342),c="WebAssembly",h=o[c],d=7!==new Error("e",{cause:7}).cause,exportGlobalErrorCauseWrapper=function(t,r){var i={};i[t]=u(t,r,d);a({global:!0,constructor:!0,arity:1,forced:d},i)},exportWebAssemblyErrorCauseWrapper=function(t,r){if(h&&h[t]){var i={};i[t]=u(c+"."+t,r,d);a({target:c,stat:!0,constructor:!0,arity:1,forced:d},i)}};exportGlobalErrorCauseWrapper("Error",(function(t){return function Error(r){return l(t,this,arguments)}}));exportGlobalErrorCauseWrapper("EvalError",(function(t){return function EvalError(r){return l(t,this,arguments)}}));exportGlobalErrorCauseWrapper("RangeError",(function(t){return function RangeError(r){return l(t,this,arguments)}}));exportGlobalErrorCauseWrapper("ReferenceError",(function(t){return function ReferenceError(r){return l(t,this,arguments)}}));exportGlobalErrorCauseWrapper("SyntaxError",(function(t){return function SyntaxError(r){return l(t,this,arguments)}}));exportGlobalErrorCauseWrapper("TypeError",(function(t){return function TypeError(r){return l(t,this,arguments)}}));exportGlobalErrorCauseWrapper("URIError",(function(t){return function URIError(r){return l(t,this,arguments)}}));exportWebAssemblyErrorCauseWrapper("CompileError",(function(t){return function CompileError(r){return l(t,this,arguments)}}));exportWebAssemblyErrorCauseWrapper("LinkError",(function(t){return function LinkError(r){return l(t,this,arguments)}}));exportWebAssemblyErrorCauseWrapper("RuntimeError",(function(t){return function RuntimeError(r){return l(t,this,arguments)}}))},1210:(t,r,i)=>{var a=i(4978),o=i(9298);a({global:!0,forced:o.globalThis!==o},{globalThis:o})},7254:(t,r,i)=>{var a=i(4978),o=i(7187),l=i(7294),u=i(2026),c=i(8403),h=i(8154),d=i(7316),p=i(7814),v=i(2251),y=i(1801),g=i(3663),m=String,_=o("JSON","stringify"),b=c(/./.exec),w=c("".charAt),P=c("".charCodeAt),A=c("".replace),S=c(1..toString),E=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,D=!g||h((function(){var t=o("Symbol")("stringify detection");return"[null]"!==_([t])||"{}"!==_({a:t})||"{}"!==_(Object(t))})),C=h((function(){return'"\\udf06\\ud834"'!==_("\udf06\ud834")||'"\\udead"'!==_("\udead")})),stringifyWithSymbolsFix=function(t,r){var i=v(arguments),a=y(r);if(d(a)||void 0!==t&&!p(t)){i[1]=function(t,r){d(a)&&(r=u(a,this,m(t),r));if(!p(r))return r};return l(_,null,i)}},fixIllFormed=function(t,r,i){var a=w(i,r-1),o=w(i,r+1);return b(x,t)&&!b(k,o)||b(k,t)&&!b(x,a)?"\\u"+S(P(t,0),16):t};_&&a({target:"JSON",stat:!0,arity:3,forced:D||C},{stringify:function stringify(t,r,i){var a=v(arguments),o=l(D?stringifyWithSymbolsFix:_,null,a);return C&&"string"==typeof o?A(o,E,fixIllFormed):o}})},2630:(t,r,i)=>{var a=i(9298);i(7536)(a.JSON,"JSON",!0)},4147:(t,r,i)=>{i(4981)("Map",(function(t){return function Map(){return t(this,arguments.length?arguments[0]:void 0)}}),i(6122))},5548:(t,r,i)=>{i(4147)},3821:(t,r,i)=>{var a=i(4978),o=Math.hypot,l=Math.abs,u=Math.sqrt;a({target:"Math",stat:!0,arity:2,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function hypot(t,r){for(var i,a,o=0,c=0,h=arguments.length,d=0;c<h;)if(d<(i=l(arguments[c++]))){o=o*(a=d/i)*a+1;d=i}else o+=i>0?(a=i/d)*a:i;return d===1/0?1/0:d*u(o)}})},4165:(t,r,i)=>{i(4978)({target:"Math",stat:!0},{sign:i(4875)})},1024:(t,r,i)=>{i(7536)(Math,"Math",!0)},3143:(t,r,i)=>{i(4978)({target:"Math",stat:!0},{trunc:i(8537)})},5897:(t,r,i)=>{var a=i(4978),o=i(2554),l=i(940),u=i(9298),c=i(1021),h=i(8403),d=i(7007),p=i(936),v=i(7523),y=i(2658),g=i(7814),m=i(4151),_=i(8154),b=i(5455).f,w=i(5764).f,P=i(7744).f,A=i(3328),S=i(83).trim,E="Number",x=u[E],k=c[E],D=x.prototype,C=u.TypeError,T=h("".slice),I=h("".charCodeAt),toNumber=function(t){var r,i,a,o,l,u,c,h,d=m(t,"number");if(g(d))throw new C("Cannot convert a Symbol value to a number");if("string"==typeof d&&d.length>2){d=S(d);if(43===(r=I(d,0))||45===r){if(88===(i=I(d,2))||120===i)return NaN}else if(48===r){switch(I(d,1)){case 66:case 98:a=2;o=49;break;case 79:case 111:a=8;o=55;break;default:return+d}u=(l=T(d,2)).length;for(c=0;c<u;c++)if((h=I(l,c))<48||h>o)return NaN;return parseInt(l,a)}}return+d},O=d(E,!x(" 0o1")||!x("0b1")||x("+0x1")),M=function Number(t){var r,i=arguments.length<1?0:x(function(t){var r=m(t,"number");return"bigint"==typeof r?r:toNumber(r)}(t));return y(D,r=this)&&_((function(){A(r)}))?v(Object(i),this,M):i};M.prototype=D;O&&!o&&(D.constructor=M);a({global:!0,constructor:!0,wrap:!0,forced:O},{Number:M});var copyConstructorProperties=function(t,r){for(var i,a=l?b(r):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;a.length>o;o++)p(r,i=a[o])&&!p(t,i)&&P(t,i,w(r,i))};o&&k&&copyConstructorProperties(c[E],k);(O||o)&&copyConstructorProperties(c[E],x)},9142:(t,r,i)=>{var a=i(4978),o=i(453);a({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},2586:(t,r,i)=>{var a=i(4978),o=i(2492).entries;a({target:"Object",stat:!0},{entries:function entries(t){return o(t)}})},4441:(t,r,i)=>{var a=i(4978),o=i(7010),l=i(8154),u=i(7633),c=i(4694).onFreeze,h=Object.freeze;a({target:"Object",stat:!0,forced:l((function(){h(1)})),sham:!o},{freeze:function freeze(t){return h&&u(t)?h(c(t)):t}})},7262:(t,r,i)=>{var a=i(4978),o=i(8154),l=i(4115),u=i(5764).f,c=i(940);a({target:"Object",stat:!0,forced:!c||o((function(){u(1)})),sham:!c},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(t,r){return u(l(t),r)}})},7335:(t,r,i)=>{var a=i(4978),o=i(940),l=i(8953),u=i(4115),c=i(5764),h=i(8947);a({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(t){for(var r,i,a=u(t),o=c.f,d=l(a),p={},v=0;d.length>v;)void 0!==(i=o(a,r=d[v++]))&&h(p,r,i);return p}})},8564:(t,r,i)=>{var a=i(4978),o=i(3663),l=i(8154),u=i(1963),c=i(2007);a({target:"Object",stat:!0,forced:!o||l((function(){u.f(1)}))},{getOwnPropertySymbols:function getOwnPropertySymbols(t){var r=u.f;return r?r(c(t)):[]}})},13:(t,r,i)=>{var a=i(4978),o=i(8154),l=i(2007),u=i(2176),c=i(7888);a({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!c},{getPrototypeOf:function getPrototypeOf(t){return u(l(t))}})},4668:(t,r,i)=>{var a=i(4978),o=i(2007),l=i(1706);a({target:"Object",stat:!0,forced:i(8154)((function(){l(1)}))},{keys:function keys(t){return l(o(t))}})},895:(t,r,i)=>{var a=i(3077),o=i(7041),l=i(759);a||o(Object.prototype,"toString",l,{unsafe:!0})},9099:(t,r,i)=>{var a=i(4978),o=i(2492).values;a({target:"Object",stat:!0},{values:function values(t){return o(t)}})},8392:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(1782),u=i(1880),c=i(1518),h=i(6837);a({target:"Promise",stat:!0,forced:i(3779)},{all:function all(t){var r=this,i=u.f(r),a=i.resolve,d=i.reject,p=c((function(){var i=l(r.resolve),u=[],c=0,p=1;h(t,(function(t){var l=c++,h=!1;p++;o(i,r,t).then((function(t){if(!h){h=!0;u[l]=t;--p||a(u)}}),d)}));--p||a(u)}));p.error&&d(p.value);return i.promise}})},3264:(t,r,i)=>{var a=i(4978),o=i(2554),l=i(8308).CONSTRUCTOR,u=i(6639),c=i(7187),h=i(7316),d=i(7041),p=u&&u.prototype;a({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(t){return this.then(void 0,t)}});if(!o&&h(u)){var v=c("Promise").prototype.catch;p.catch!==v&&d(p,"catch",v,{unsafe:!0})}},7930:(t,r,i)=>{var a,o,l,u=i(4978),c=i(2554),h=i(4864),d=i(9298),p=i(2026),v=i(7041),y=i(9763),g=i(7536),m=i(5963),_=i(1782),b=i(7316),w=i(7633),P=i(5834),A=i(8180),S=i(4578).set,E=i(1627),x=i(5285),k=i(1518),D=i(1397),C=i(1649),T=i(6639),I=i(8308),O=i(1880),M="Promise",L=I.CONSTRUCTOR,G=I.REJECTION_EVENT,R=I.SUBCLASSING,j=C.getterFor(M),B=C.set,N=T&&T.prototype,W=T,V=N,z=d.TypeError,H=d.document,U=d.process,q=O.f,K=q,Y=!!(H&&H.createEvent&&d.dispatchEvent),X="unhandledrejection",isThenable=function(t){var r;return!(!w(t)||!b(r=t.then))&&r},callReaction=function(t,r){var i,a,o,l=r.value,u=1===r.state,c=u?t.ok:t.fail,h=t.resolve,d=t.reject,v=t.domain;try{if(c){if(!u){2===r.rejection&&onHandleUnhandled(r);r.rejection=1}if(!0===c)i=l;else{v&&v.enter();i=c(l);if(v){v.exit();o=!0}}i===t.promise?d(new z("Promise-chain cycle")):(a=isThenable(i))?p(a,i,h,d):h(i)}else d(l)}catch(t){v&&!o&&v.exit();d(t)}},notify=function(t,r){if(!t.notified){t.notified=!0;E((function(){for(var i,a=t.reactions;i=a.get();)callReaction(i,t);t.notified=!1;r&&!t.rejection&&onUnhandled(t)}))}},dispatchEvent=function(t,r,i){var a,o;if(Y){(a=H.createEvent("Event")).promise=r;a.reason=i;a.initEvent(t,!1,!0);d.dispatchEvent(a)}else a={promise:r,reason:i};!G&&(o=d["on"+t])?o(a):t===X&&x("Unhandled promise rejection",i)},onUnhandled=function(t){p(S,d,(function(){var r,i=t.facade,a=t.value;if(isUnhandled(t)){r=k((function(){h?U.emit("unhandledRejection",a,i):dispatchEvent(X,i,a)}));t.rejection=h||isUnhandled(t)?2:1;if(r.error)throw r.value}}))},isUnhandled=function(t){return 1!==t.rejection&&!t.parent},onHandleUnhandled=function(t){p(S,d,(function(){var r=t.facade;h?U.emit("rejectionHandled",r):dispatchEvent("rejectionhandled",r,t.value)}))},bind=function(t,r,i){return function(a){t(r,a,i)}},internalReject=function(t,r,i){if(!t.done){t.done=!0;i&&(t=i);t.value=r;t.state=2;notify(t,!0)}},internalResolve=function(t,r,i){if(!t.done){t.done=!0;i&&(t=i);try{if(t.facade===r)throw new z("Promise can't be resolved itself");var a=isThenable(r);if(a)E((function(){var i={done:!1};try{p(a,r,bind(internalResolve,i,t),bind(internalReject,i,t))}catch(r){internalReject(i,r,t)}}));else{t.value=r;t.state=1;notify(t,!1)}}catch(r){internalReject({done:!1},r,t)}}};if(L){V=(W=function Promise(t){P(this,V);_(t);p(a,this);var r=j(this);try{t(bind(internalResolve,r),bind(internalReject,r))}catch(t){internalReject(r,t)}}).prototype;(a=function Promise(t){B(this,{type:M,done:!1,notified:!1,parent:!1,reactions:new D,rejection:!1,state:0,value:void 0})}).prototype=v(V,"then",(function then(t,r){var i=j(this),a=q(A(this,W));i.parent=!0;a.ok=!b(t)||t;a.fail=b(r)&&r;a.domain=h?U.domain:void 0;0===i.state?i.reactions.add(a):E((function(){callReaction(a,i)}));return a.promise}));o=function(){var t=new a,r=j(t);this.promise=t;this.resolve=bind(internalResolve,r);this.reject=bind(internalReject,r)};O.f=q=function(t){return t===W||undefined===t?new o(t):K(t)};if(!c&&b(T)&&N!==Object.prototype){l=N.then;R||v(N,"then",(function then(t,r){var i=this;return new W((function(t,r){p(l,i,t,r)})).then(t,r)}),{unsafe:!0});try{delete N.constructor}catch(t){}y&&y(N,V)}}u({global:!0,constructor:!0,wrap:!0,forced:L},{Promise:W});g(W,M,!1,!0);m(M)},4750:(t,r,i)=>{var a=i(4978),o=i(2554),l=i(6639),u=i(8154),c=i(7187),h=i(7316),d=i(8180),p=i(2506),v=i(7041),y=l&&l.prototype;a({target:"Promise",proto:!0,real:!0,forced:!!l&&u((function(){y.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var r=d(this,c("Promise")),i=h(t);return this.then(i?function(i){return p(r,t()).then((function(){return i}))}:t,i?function(i){return p(r,t()).then((function(){throw i}))}:t)}});if(!o&&h(l)){var g=c("Promise").prototype.finally;y.finally!==g&&v(y,"finally",g,{unsafe:!0})}},5666:(t,r,i)=>{i(7930);i(8392);i(3264);i(1078);i(4209);i(935)},1078:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(1782),u=i(1880),c=i(1518),h=i(6837);a({target:"Promise",stat:!0,forced:i(3779)},{race:function race(t){var r=this,i=u.f(r),a=i.reject,d=c((function(){var u=l(r.resolve);h(t,(function(t){o(u,r,t).then(i.resolve,a)}))}));d.error&&a(d.value);return i.promise}})},4209:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(1880);a({target:"Promise",stat:!0,forced:i(8308).CONSTRUCTOR},{reject:function reject(t){var r=l.f(this);o(r.reject,void 0,t);return r.promise}})},935:(t,r,i)=>{var a=i(4978),o=i(7187),l=i(2554),u=i(6639),c=i(8308).CONSTRUCTOR,h=i(2506),d=o("Promise"),p=l&&!c;a({target:"Promise",stat:!0,forced:l||c},{resolve:function resolve(t){return h(p&&this===d?u:this,t)}})},6128:(t,r,i)=>{var a=i(4978),o=i(7187),l=i(7294),u=i(6520),c=i(7073),h=i(4719),d=i(7633),p=i(6941),v=i(8154),y=o("Reflect","construct"),g=Object.prototype,m=[].push,_=v((function(){function F(){}return!(y((function(){}),[],F)instanceof F)})),b=!v((function(){y((function(){}))})),w=_||b;a({target:"Reflect",stat:!0,forced:w,sham:w},{construct:function construct(t,r){c(t);h(r);var i=arguments.length<3?t:c(arguments[2]);if(b&&!_)return y(t,r,i);if(t===i){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var a=[null];l(m,a,r);return new(l(u,t,a))}var o=i.prototype,v=p(d(o)?o:g),w=l(t,v,r);return d(w)?w:v}})},9718:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(7633),u=i(4719),c=i(3374),h=i(5764),d=i(2176);a({target:"Reflect",stat:!0},{get:function get(t,r){var i,a,p=arguments.length<3?t:arguments[2];return u(t)===p?t[r]:(i=h.f(t,r))?c(i)?i.value:void 0===i.get?void 0:o(i.get,p):l(a=d(t))?get(a,r,p):void 0}})},9175:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(7536);a({global:!0},{Reflect:{}});l(o.Reflect,"Reflect",!0)},3032:(t,r,i)=>{var a=i(940),o=i(9298),l=i(8403),u=i(7007),c=i(7523),h=i(9293),d=i(5455).f,p=i(2658),v=i(6660),y=i(5730),g=i(1043),m=i(3286),_=i(6085),b=i(7041),w=i(8154),P=i(936),A=i(1649).enforce,S=i(5963),E=i(2292),x=i(1714),k=i(2513),D=E("match"),C=o.RegExp,T=C.prototype,I=o.SyntaxError,O=l(T.exec),M=l("".charAt),L=l("".replace),G=l("".indexOf),R=l("".slice),j=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,B=/a/g,N=/a/g,W=new C(B)!==B,V=m.MISSED_STICKY,z=m.UNSUPPORTED_Y,H=a&&(!W||V||x||k||w((function(){N[D]=!1;return C(B)!==B||C(N)===N||"/a/i"!==String(C(B,"i"))})));if(u("RegExp",H)){for(var U=function RegExp(t,r){var i,a,o,l,u,d,m=p(T,this),_=v(t),b=void 0===r,w=[],S=t;if(!m&&_&&b&&t.constructor===U)return t;if(_||p(T,t)){t=t.source;b&&(r=g(S))}t=void 0===t?"":y(t);r=void 0===r?"":y(r);S=t;x&&"dotAll"in B&&(a=!!r&&G(r,"s")>-1)&&(r=L(r,/s/g,""));i=r;V&&"sticky"in B&&(o=!!r&&G(r,"y")>-1)&&z&&(r=L(r,/y/g,""));if(k){l=function(t){for(var r,i=t.length,a=0,o="",l=[],u={},c=!1,h=!1,d=0,p="";a<=i;a++){if("\\"===(r=M(t,a)))r+=M(t,++a);else if("]"===r)c=!1;else if(!c)switch(!0){case"["===r:c=!0;break;case"("===r:if(O(j,R(t,a+1))){a+=2;h=!0}o+=r;d++;continue;case">"===r&&h:if(""===p||P(u,p))throw new I("Invalid capture group name");u[p]=!0;l[l.length]=[p,d];h=!1;p="";continue}h?p+=r:o+=r}return[o,l]}(t);t=l[0];w=l[1]}u=c(C(t,r),m?this:T,U);if(a||o||w.length){d=A(u);if(a){d.dotAll=!0;d.raw=U(function(t){for(var r,i=t.length,a=0,o="",l=!1;a<=i;a++)if("\\"!==(r=M(t,a)))if(l||"."!==r){"["===r?l=!0:"]"===r&&(l=!1);o+=r}else o+="[\\s\\S]";else o+=r+M(t,++a);return o}(t),i)}o&&(d.sticky=!0);w.length&&(d.groups=w)}if(t!==S)try{h(u,"source",""===S?"(?:)":S)}catch(t){}return u},q=d(C),K=0;q.length>K;)_(U,C,q[K++]);T.constructor=U;U.prototype=T;b(o,"RegExp",U,{constructor:!0})}S("RegExp")},5619:(t,r,i)=>{var a=i(940),o=i(1714),l=i(8374),u=i(9691),c=i(1649).get,h=RegExp.prototype,d=TypeError;a&&o&&u(h,"dotAll",{configurable:!0,get:function dotAll(){if(this!==h){if("RegExp"===l(this))return!!c(this).dotAll;throw new d("Incompatible receiver, RegExp required")}}})},7942:(t,r,i)=>{var a=i(4978),o=i(2178);a({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},9786:(t,r,i)=>{var a=i(940),o=i(3286).MISSED_STICKY,l=i(8374),u=i(9691),c=i(1649).get,h=RegExp.prototype,d=TypeError;a&&o&&u(h,"sticky",{configurable:!0,get:function sticky(){if(this!==h){if("RegExp"===l(this))return!!c(this).sticky;throw new d("Incompatible receiver, RegExp required")}}})},5776:(t,r,i)=>{i(7942);var a=i(4978),o=i(2026),l=i(7316),u=i(4719),c=i(5730),h=function(){var t=!1,r=/[ac]/;r.exec=function(){t=!0;return/./.exec.apply(this,arguments)};return!0===r.test("abc")&&t}(),d=/./.test;a({target:"RegExp",proto:!0,forced:!h},{test:function(t){var r=u(this),i=c(t),a=r.exec;if(!l(a))return o(d,r,i);var h=o(a,r,i);if(null===h)return!1;u(h);return!0}})},924:(t,r,i)=>{var a=i(5145).PROPER,o=i(7041),l=i(4719),u=i(5730),c=i(8154),h=i(1043),d="toString",p=RegExp.prototype[d],v=c((function(){return"/a/b"!==p.call({source:"a",flags:"b"})})),y=a&&p.name!==d;(v||y)&&o(RegExp.prototype,d,(function toString(){var t=l(this);return"/"+u(t.source)+"/"+u(h(t))}),{unsafe:!0})},3810:(t,r,i)=>{i(4981)("Set",(function(t){return function Set(){return t(this,arguments.length?arguments[0]:void 0)}}),i(6122))},2048:(t,r,i)=>{i(3810)},6133:(t,r,i)=>{var a,o=i(4978),l=i(6218),u=i(5764).f,c=i(8293),h=i(5730),d=i(9578),p=i(5645),v=i(2280),y=i(2554),g=l("".endsWith),m=l("".slice),_=Math.min,b=v("endsWith");o({target:"String",proto:!0,forced:!(!y&&!b&&!!(a=u(String.prototype,"endsWith"),a&&!a.writable))&&!b},{endsWith:function endsWith(t){var r=h(p(this));d(t);var i=arguments.length>1?arguments[1]:void 0,a=r.length,o=void 0===i?a:_(c(i),a),l=h(t);return g?g(r,l,o):m(r,o-l.length,o)===l}})},2707:(t,r,i)=>{var a=i(4978),o=i(8403),l=i(6985),u=RangeError,c=String.fromCharCode,h=String.fromCodePoint,d=o([].join);a({target:"String",stat:!0,arity:1,forced:!!h&&1!==h.length},{fromCodePoint:function fromCodePoint(t){for(var r,i=[],a=arguments.length,o=0;a>o;){r=+arguments[o++];if(l(r,1114111)!==r)throw new u(r+" is not a valid code point");i[o]=r<65536?c(r):c(55296+((r-=65536)>>10),r%1024+56320)}return d(i,"")}})},2613:(t,r,i)=>{var a=i(4978),o=i(8403),l=i(9578),u=i(5645),c=i(5730),h=i(2280),d=o("".indexOf);a({target:"String",proto:!0,forced:!h("includes")},{includes:function includes(t){return!!~d(c(u(this)),c(l(t)),arguments.length>1?arguments[1]:void 0)}})},1747:(t,r,i)=>{var a=i(6819).charAt,o=i(5730),l=i(1649),u=i(7301),c=i(1111),h="String Iterator",d=l.set,p=l.getterFor(h);u(String,"String",(function(t){d(this,{type:h,string:o(t),index:0})}),(function next(){var t,r=p(this),i=r.string,o=r.index;if(o>=i.length)return c(void 0,!0);t=a(i,o);r.index+=t.length;return c(t,!1)}))},469:(t,r,i)=>{var a=i(2026),o=i(4629),l=i(4719),u=i(3734),c=i(8293),h=i(5730),d=i(5645),p=i(8486),v=i(9047),y=i(8986);o("match",(function(t,r,i){return[function match(r){var i=d(this),o=u(r)?void 0:p(r,t);return o?a(o,r,i):new RegExp(r)[t](h(i))},function(t){var a=l(this),o=h(t),u=i(r,a,o);if(u.done)return u.value;if(!a.global)return y(a,o);var d=a.unicode;a.lastIndex=0;for(var p,g=[],m=0;null!==(p=y(a,o));){var _=h(p[0]);g[m]=_;""===_&&(a.lastIndex=v(o,c(a.lastIndex),d));m++}return 0===m?null:g}]}))},7230:(t,r,i)=>{var a=i(4978),o=i(6460).start;a({target:"String",proto:!0,forced:i(4819)},{padStart:function padStart(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},7600:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(8403),u=i(5645),c=i(7316),h=i(3734),d=i(6660),p=i(5730),v=i(8486),y=i(1043),g=i(1634),m=i(2292),_=i(2554),b=m("replace"),w=TypeError,P=l("".indexOf),A=l("".replace),S=l("".slice),E=Math.max,stringIndexOf=function(t,r,i){return i>t.length?-1:""===r?i:P(t,r,i)};a({target:"String",proto:!0},{replaceAll:function replaceAll(t,r){var i,a,l,m,x,k,D,C,T,I=u(this),O=0,M=0,L="";if(!h(t)){if(i=d(t)){a=p(u(y(t)));if(!~P(a,"g"))throw new w("`.replaceAll` does not allow non-global regexes")}if(l=v(t,b))return o(l,t,I,r);if(_&&i)return A(p(I),t,r)}m=p(I);x=p(t);(k=c(r))||(r=p(r));D=x.length;C=E(1,D);O=stringIndexOf(m,x,0);for(;-1!==O;){T=k?p(r(x,O,m)):g(x,m,O,[],void 0,r);L+=S(m,M,O)+T;M=O+D;O=stringIndexOf(m,x,O+C)}M<m.length&&(L+=S(m,M));return L}})},4711:(t,r,i)=>{var a=i(7294),o=i(2026),l=i(8403),u=i(4629),c=i(8154),h=i(4719),d=i(7316),p=i(3734),v=i(1003),y=i(8293),g=i(5730),m=i(5645),_=i(9047),b=i(8486),w=i(1634),P=i(8986),A=i(2292)("replace"),S=Math.max,E=Math.min,x=l([].concat),k=l([].push),D=l("".indexOf),C=l("".slice),T="$0"==="a".replace(/./,"$0"),I=!!/./[A]&&""===/./[A]("a","$0");u("replace",(function(t,r,i){var l=I?"$":"$0";return[function replace(t,i){var a=m(this),l=p(t)?void 0:b(t,A);return l?o(l,t,a,i):o(r,g(a),t,i)},function(t,o){var u=h(this),c=g(t);if("string"==typeof o&&-1===D(o,l)&&-1===D(o,"$<")){var p=i(r,u,c,o);if(p.done)return p.value}var m=d(o);m||(o=g(o));var b,A=u.global;if(A){b=u.unicode;u.lastIndex=0}for(var T,I=[];null!==(T=P(u,c));){k(I,T);if(!A)break;""===g(T[0])&&(u.lastIndex=_(c,y(u.lastIndex),b))}for(var O,M="",L=0,G=0;G<I.length;G++){for(var R,j=g((T=I[G])[0]),B=S(E(v(T.index),c.length),0),N=[],W=1;W<T.length;W++)k(N,void 0===(O=T[W])?O:String(O));var V=T.groups;if(m){var z=x([j],N,B,c);void 0!==V&&k(z,V);R=g(a(o,void 0,z))}else R=w(j,c,B,N,V,o);if(B>=L){M+=C(c,L,B)+R;L=B+j.length}}return M+C(c,L)}]}),!!c((function(){var t=/./;t.exec=function(){var t=[];t.groups={a:"7"};return t};return"7"!=="".replace(t,"$<a>")}))||!T||I)},5459:(t,r,i)=>{var a=i(2026),o=i(4629),l=i(4719),u=i(3734),c=i(5645),h=i(8976),d=i(5730),p=i(8486),v=i(8986);o("search",(function(t,r,i){return[function search(r){var i=c(this),o=u(r)?void 0:p(r,t);return o?a(o,r,i):new RegExp(r)[t](d(i))},function(t){var a=l(this),o=d(t),u=i(r,a,o);if(u.done)return u.value;var c=a.lastIndex;h(c,0)||(a.lastIndex=0);var p=v(a,o);h(a.lastIndex,c)||(a.lastIndex=c);return null===p?-1:p.index}]}))},6421:(t,r,i)=>{var a,o=i(4978),l=i(6218),u=i(5764).f,c=i(8293),h=i(5730),d=i(9578),p=i(5645),v=i(2280),y=i(2554),g=l("".startsWith),m=l("".slice),_=Math.min,b=v("startsWith");o({target:"String",proto:!0,forced:!(!y&&!b&&!!(a=u(String.prototype,"startsWith"),a&&!a.writable))&&!b},{startsWith:function startsWith(t){var r=h(p(this));d(t);var i=c(_(arguments.length>1?arguments[1]:void 0,r.length)),a=h(t);return g?g(r,a,i):m(r,i,i+a.length)===a}})},8341:(t,r,i)=>{var a=i(4978),o=i(83).trim;a({target:"String",proto:!0,forced:i(8729)("trim")},{trim:function trim(){return o(this)}})},1133:(t,r,i)=>{i(7120)("asyncIterator")},1532:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(2026),u=i(8403),c=i(2554),h=i(940),d=i(3663),p=i(8154),v=i(936),y=i(2658),g=i(4719),m=i(4115),_=i(4871),b=i(5730),w=i(1198),P=i(6941),A=i(1706),S=i(5455),E=i(2329),x=i(1963),k=i(5764),D=i(7744),C=i(6617),T=i(1879),I=i(7041),O=i(9691),M=i(6807),L=i(3727),G=i(6010),R=i(7561),j=i(2292),B=i(8890),N=i(7120),W=i(5117),V=i(7536),z=i(1649),H=i(2423).forEach,U=L("hidden"),q="Symbol",K="prototype",Y=z.set,X=z.getterFor(q),$=Object[K],Z=o.Symbol,Q=Z&&Z[K],J=o.RangeError,ee=o.TypeError,te=o.QObject,re=k.f,ne=D.f,ie=E.f,ae=T.f,oe=u([].push),se=M("symbols"),le=M("op-symbols"),ue=M("wks"),ce=!te||!te[K]||!te[K].findChild,fallbackDefineProperty=function(t,r,i){var a=re($,r);a&&delete $[r];ne(t,r,i);a&&t!==$&&ne($,r,a)},he=h&&p((function(){return 7!==P(ne({},"a",{get:function(){return ne(this,"a",{value:7}).a}})).a}))?fallbackDefineProperty:ne,wrap=function(t,r){var i=se[t]=P(Q);Y(i,{type:q,tag:t,description:r});h||(i.description=r);return i},de=function defineProperty(t,r,i){t===$&&de(le,r,i);g(t);var a=_(r);g(i);if(v(se,a)){if(i.enumerable){v(t,U)&&t[U][a]&&(t[U][a]=!1);i=P(i,{enumerable:w(0,!1)})}else{v(t,U)||ne(t,U,w(1,{}));t[U][a]=!0}return he(t,a,i)}return ne(t,a,i)},fe=function defineProperties(t,r){g(t);var i=m(r),a=A(i).concat($getOwnPropertySymbols(i));H(a,(function(r){h&&!l(pe,i,r)||de(t,r,i[r])}));return t},pe=function propertyIsEnumerable(t){var r=_(t),i=l(ae,this,r);return!(this===$&&v(se,r)&&!v(le,r))&&(!(i||!v(this,r)||!v(se,r)||v(this,U)&&this[U][r])||i)},ve=function getOwnPropertyDescriptor(t,r){var i=m(t),a=_(r);if(i!==$||!v(se,a)||v(le,a)){var o=re(i,a);!o||!v(se,a)||v(i,U)&&i[U][a]||(o.enumerable=!0);return o}},ye=function getOwnPropertyNames(t){var r=ie(m(t)),i=[];H(r,(function(t){v(se,t)||v(G,t)||oe(i,t)}));return i},$getOwnPropertySymbols=function(t){var r=t===$,i=ie(r?le:m(t)),a=[];H(i,(function(t){!v(se,t)||r&&!v($,t)||oe(a,se[t])}));return a};if(!d){I(Q=(Z=function Symbol(){if(y(Q,this))throw new ee("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?b(arguments[0]):void 0,r=R(t),setter=function(t){var i=void 0===this?o:this;i===$&&l(setter,le,t);v(i,U)&&v(i[U],r)&&(i[U][r]=!1);var a=w(1,t);try{he(i,r,a)}catch(t){if(!(t instanceof J))throw t;fallbackDefineProperty(i,r,a)}};h&&ce&&he($,r,{configurable:!0,set:setter});return wrap(r,t)})[K],"toString",(function toString(){return X(this).tag}));I(Z,"withoutSetter",(function(t){return wrap(R(t),t)}));T.f=pe;D.f=de;C.f=fe;k.f=ve;S.f=E.f=ye;x.f=$getOwnPropertySymbols;B.f=function(t){return wrap(j(t),t)};if(h){O(Q,"description",{configurable:!0,get:function description(){return X(this).description}});c||I($,"propertyIsEnumerable",pe,{unsafe:!0})}}a({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Z});H(A(ue),(function(t){N(t)}));a({target:q,stat:!0,forced:!d},{useSetter:function(){ce=!0},useSimple:function(){ce=!1}});a({target:"Object",stat:!0,forced:!d,sham:!h},{create:function create(t,r){return void 0===r?P(t):fe(P(t),r)},defineProperty:de,defineProperties:fe,getOwnPropertyDescriptor:ve});a({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:ye});W();V(Z,q);G[U]=!0},6678:(t,r,i)=>{var a=i(4978),o=i(940),l=i(9298),u=i(8403),c=i(936),h=i(7316),d=i(2658),p=i(5730),v=i(9691),y=i(1425),g=l.Symbol,m=g&&g.prototype;if(o&&h(g)&&(!("description"in m)||void 0!==g().description)){var _={},b=function Symbol(){var t=arguments.length<1||void 0===arguments[0]?void 0:p(arguments[0]),r=d(m,this)?new g(t):void 0===t?g():g(t);""===t&&(_[r]=!0);return r};y(b,g);b.prototype=m;m.constructor=b;var w="Symbol(description detection)"===String(g("description detection")),P=u(m.valueOf),A=u(m.toString),S=/^Symbol\((.*)\)[^)]+$/,E=u("".replace),x=u("".slice);v(m,"description",{configurable:!0,get:function description(){var t=P(this);if(c(_,t))return"";var r=A(t),i=w?x(r,7,-1):E(r,S,"$1");return""===i?void 0:i}});a({global:!0,constructor:!0,forced:!0},{Symbol:b})}},2389:(t,r,i)=>{var a=i(4978),o=i(7187),l=i(936),u=i(5730),c=i(6807),h=i(4186),d=c("string-to-symbol-registry"),p=c("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!h},{for:function(t){var r=u(t);if(l(d,r))return d[r];var i=o("Symbol")(r);d[r]=i;p[i]=r;return i}})},2926:(t,r,i)=>{i(7120)("iterator")},9366:(t,r,i)=>{i(1532);i(2389);i(5876);i(7254);i(8564)},5876:(t,r,i)=>{var a=i(4978),o=i(936),l=i(7814),u=i(9762),c=i(6807),h=i(4186),d=c("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!h},{keyFor:function keyFor(t){if(!l(t))throw new TypeError(u(t)+" is not a symbol");if(o(d,t))return d[t]}})},5598:(t,r,i)=>{var a=i(7120),o=i(5117);a("toPrimitive");o()},2173:(t,r,i)=>{var a=i(7187),o=i(7120),l=i(7536);o("toStringTag");l(a("Symbol"),"Symbol")},739:(t,r,i)=>{var a=i(5861),o=i(451),l=i(1003),u=a.aTypedArray;(0,a.exportTypedArrayMethod)("at",(function at(t){var r=u(this),i=o(r),a=l(t),c=a>=0?a:i+a;return c<0||c>=i?void 0:r[c]}))},4816:(t,r,i)=>{var a=i(8403),o=i(5861),l=a(i(1474)),u=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",(function copyWithin(t,r){return l(u(this),t,r,arguments.length>2?arguments[2]:void 0)}))},6923:(t,r,i)=>{var a=i(5861),o=i(2423).every,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("every",(function every(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},6775:(t,r,i)=>{var a=i(5861),o=i(8041),l=i(212),u=i(8329),c=i(2026),h=i(8403),d=i(8154),p=a.aTypedArray,v=a.exportTypedArrayMethod,y=h("".slice);v("fill",(function fill(t){var r=arguments.length;p(this);var i="Big"===y(u(this),0,3)?l(t):+t;return c(o,this,i,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)}),d((function(){var t=0;new Int8Array(2).fill({valueOf:function(){return t++}});return 1!==t})))},6474:(t,r,i)=>{var a=i(5861),o=i(2423).filter,l=i(5306),u=a.aTypedArray;(0,a.exportTypedArrayMethod)("filter",(function filter(t){var r=o(u(this),t,arguments.length>1?arguments[1]:void 0);return l(this,r)}))},1665:(t,r,i)=>{var a=i(5861),o=i(2423).findIndex,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("findIndex",(function findIndex(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},9803:(t,r,i)=>{var a=i(5861),o=i(4026).findLastIndex,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("findLastIndex",(function findLastIndex(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},8837:(t,r,i)=>{var a=i(5861),o=i(4026).findLast,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("findLast",(function findLast(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},6450:(t,r,i)=>{var a=i(5861),o=i(2423).find,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("find",(function find(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},1293:(t,r,i)=>{var a=i(5861),o=i(2423).forEach,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("forEach",(function forEach(t){o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},1051:(t,r,i)=>{var a=i(5861),o=i(9773).includes,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("includes",(function includes(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},8260:(t,r,i)=>{var a=i(5861),o=i(9773).indexOf,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("indexOf",(function indexOf(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},5746:(t,r,i)=>{var a=i(9298),o=i(8154),l=i(8403),u=i(5861),c=i(6180),h=i(2292)("iterator"),d=a.Uint8Array,p=l(c.values),v=l(c.keys),y=l(c.entries),g=u.aTypedArray,m=u.exportTypedArrayMethod,_=d&&d.prototype,b=!o((function(){_[h].call([1])})),w=!!_&&_.values&&_[h]===_.values&&"values"===_.values.name,P=function values(){return p(g(this))};m("entries",(function entries(){return y(g(this))}),b);m("keys",(function keys(){return v(g(this))}),b);m("values",P,b||!w,{name:"values"});m(h,P,b||!w,{name:"values"})},202:(t,r,i)=>{var a=i(5861),o=i(8403),l=a.aTypedArray,u=a.exportTypedArrayMethod,c=o([].join);u("join",(function join(t){return c(l(this),t)}))},2138:(t,r,i)=>{var a=i(5861),o=i(7294),l=i(8671),u=a.aTypedArray;(0,a.exportTypedArrayMethod)("lastIndexOf",(function lastIndexOf(t){var r=arguments.length;return o(l,u(this),r>1?[t,arguments[1]]:[t])}))},368:(t,r,i)=>{var a=i(5861),o=i(2423).map,l=i(6239),u=a.aTypedArray;(0,a.exportTypedArrayMethod)("map",(function map(t){return o(u(this),t,arguments.length>1?arguments[1]:void 0,(function(t,r){return new(l(t))(r)}))}))},917:(t,r,i)=>{var a=i(5861),o=i(2741).right,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduceRight",(function reduceRight(t){var r=arguments.length;return o(l(this),t,r,r>1?arguments[1]:void 0)}))},9782:(t,r,i)=>{var a=i(5861),o=i(2741).left,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduce",(function reduce(t){var r=arguments.length;return o(l(this),t,r,r>1?arguments[1]:void 0)}))},3650:(t,r,i)=>{var a=i(5861),o=a.aTypedArray,l=a.exportTypedArrayMethod,u=Math.floor;l("reverse",(function reverse(){for(var t,r=this,i=o(r).length,a=u(i/2),l=0;l<a;){t=r[l];r[l++]=r[--i];r[i]=t}return r}))},8347:(t,r,i)=>{var a=i(9298),o=i(2026),l=i(5861),u=i(451),c=i(9892),h=i(2007),d=i(8154),p=a.RangeError,v=a.Int8Array,y=v&&v.prototype,g=y&&y.set,m=l.aTypedArray,_=l.exportTypedArrayMethod,b=!d((function(){var t=new Uint8ClampedArray(2);o(g,t,{length:1,0:3},1);return 3!==t[1]})),w=b&&l.NATIVE_ARRAY_BUFFER_VIEWS&&d((function(){var t=new v(2);t.set(1);t.set("2",1);return 0!==t[0]||2!==t[1]}));_("set",(function set(t){m(this);var r=c(arguments.length>1?arguments[1]:void 0,1),i=h(t);if(b)return o(g,this,i,r);var a=this.length,l=u(i),d=0;if(l+r>a)throw new p("Wrong length");for(;d<l;)this[r+d]=i[d++]}),!b||w)},7192:(t,r,i)=>{var a=i(5861),o=i(6239),l=i(8154),u=i(2251),c=a.aTypedArray;(0,a.exportTypedArrayMethod)("slice",(function slice(t,r){for(var i=u(c(this),t,r),a=o(this),l=0,h=i.length,d=new a(h);h>l;)d[l]=i[l++];return d}),l((function(){new Int8Array(1).slice()})))},354:(t,r,i)=>{var a=i(5861),o=i(2423).some,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("some",(function some(t){return o(l(this),t,arguments.length>1?arguments[1]:void 0)}))},9080:(t,r,i)=>{var a=i(9298),o=i(6218),l=i(8154),u=i(1782),c=i(4689),h=i(5861),d=i(7614),p=i(7463),v=i(2171),y=i(7906),g=h.aTypedArray,m=h.exportTypedArrayMethod,_=a.Uint16Array,b=_&&o(_.prototype.sort),w=!(!b||l((function(){b(new _(2),null)}))&&l((function(){b(new _(2),{})}))),P=!!b&&!l((function(){if(v)return v<74;if(d)return d<67;if(p)return!0;if(y)return y<602;var t,r,i=new _(516),a=Array(516);for(t=0;t<516;t++){r=t%4;i[t]=515-t;a[t]=t-2*r+3}b(i,(function(t,r){return(t/4|0)-(r/4|0)}));for(t=0;t<516;t++)if(i[t]!==a[t])return!0}));m("sort",(function sort(t){void 0!==t&&u(t);return P?b(this,t):c(g(this),function(t){return function(r,i){return void 0!==t?+t(r,i)||0:i!=i?-1:r!=r?1:0===r&&0===i?1/r>0&&1/i<0?1:-1:r>i}}(t))}),!P||w)},7238:(t,r,i)=>{var a=i(9298),o=i(7294),l=i(5861),u=i(8154),c=i(2251),h=a.Int8Array,d=l.aTypedArray,p=l.exportTypedArrayMethod,v=[].toLocaleString,y=!!h&&u((function(){v.call(new h(1))}));p("toLocaleString",(function toLocaleString(){return o(v,y?c(d(this)):d(this),c(arguments))}),u((function(){return[1,2].toLocaleString()!==new h([1,2]).toLocaleString()}))||!u((function(){h.prototype.toLocaleString.call([1,2])})))},7995:(t,r,i)=>{var a=i(2304),o=i(5861),l=o.aTypedArray,u=o.exportTypedArrayMethod,c=o.getTypedArrayConstructor;u("toReversed",(function toReversed(){return a(l(this),c(this))}))},62:(t,r,i)=>{var a=i(5861),o=i(8403),l=i(1782),u=i(7003),c=a.aTypedArray,h=a.getTypedArrayConstructor,d=a.exportTypedArrayMethod,p=o(a.TypedArrayPrototype.sort);d("toSorted",(function toSorted(t){void 0!==t&&l(t);var r=c(this),i=u(h(r),r);return p(i,t)}))},6635:(t,r,i)=>{var a=i(5861).exportTypedArrayMethod,o=i(8154),l=i(9298),u=i(8403),c=l.Uint8Array,h=c&&c.prototype||{},d=[].toString,p=u([].join);o((function(){d.call({})}))&&(d=function toString(){return p(this)});var v=h.toString!==d;a("toString",d,v)},4624:(t,r,i)=>{i(9173)("Uint32",(function(t){return function Uint32Array(r,i,a){return t(this,r,i,a)}}))},4699:(t,r,i)=>{i(9173)("Uint8",(function(t){return function Uint8Array(r,i,a){return t(this,r,i,a)}}))},4602:(t,r,i)=>{var a=i(5886),o=i(5861),l=i(5986),u=i(1003),c=i(212),h=o.aTypedArray,d=o.getTypedArrayConstructor,p=o.exportTypedArrayMethod,v=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();p("with",{with:function(t,r){var i=h(this),o=u(t),p=l(i)?c(r):+r;return a(i,d(i),o,p)}}.with,!v)},4507:(t,r,i)=>{var a,o=i(7010),l=i(9298),u=i(8403),c=i(6880),h=i(4694),d=i(4981),p=i(9609),v=i(7633),y=i(1649).enforce,g=i(8154),m=i(8443),_=Object,b=Array.isArray,w=_.isExtensible,P=_.isFrozen,A=_.isSealed,S=_.freeze,E=_.seal,x={},k={},D=!l.ActiveXObject&&"ActiveXObject"in l,wrapper=function(t){return function WeakMap(){return t(this,arguments.length?arguments[0]:void 0)}},C=d("WeakMap",wrapper,p),T=C.prototype,I=u(T.set);if(m)if(D){a=p.getConstructor(wrapper,"WeakMap",!0);h.enable();var O=u(T.delete),M=u(T.has),L=u(T.get);c(T,{delete:function(t){if(v(t)&&!w(t)){var r=y(this);r.frozen||(r.frozen=new a);return O(this,t)||r.frozen.delete(t)}return O(this,t)},has:function has(t){if(v(t)&&!w(t)){var r=y(this);r.frozen||(r.frozen=new a);return M(this,t)||r.frozen.has(t)}return M(this,t)},get:function get(t){if(v(t)&&!w(t)){var r=y(this);r.frozen||(r.frozen=new a);return M(this,t)?L(this,t):r.frozen.get(t)}return L(this,t)},set:function set(t,r){if(v(t)&&!w(t)){var i=y(this);i.frozen||(i.frozen=new a);M(this,t)?I(this,t,r):i.frozen.set(t,r)}else I(this,t,r);return this}})}else o&&g((function(){var t=S([]);I(new C,t,1);return!P(t)}))&&c(T,{set:function set(t,r){var i;b(t)&&(P(t)?i=x:A(t)&&(i=k));I(this,t,r);i===x&&S(t);i===k&&E(t);return this}})},7484:(t,r,i)=>{i(4507)},5804:(t,r,i)=>{i(4981)("WeakSet",(function(t){return function WeakSet(){return t(this,arguments.length?arguments[0]:void 0)}}),i(9609))},394:(t,r,i)=>{i(5804)},344:(t,r,i)=>{var a=i(940),o=i(9691),l=i(582),u=ArrayBuffer.prototype;a&&!("detached"in u)&&o(u,"detached",{configurable:!0,get:function detached(){return l(this)}})},7583:(t,r,i)=>{var a=i(4978),o=i(4358);o&&a({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function transferToFixedLength(){return o(this,arguments.length?arguments[0]:void 0,!1)}})},4305:(t,r,i)=>{var a=i(4978),o=i(4358);o&&a({target:"ArrayBuffer",proto:!0},{transfer:function transfer(){return o(this,arguments.length?arguments[0]:void 0,!0)}})},7121:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(5834),u=i(7316),c=i(2176),h=i(9293),d=i(8154),p=i(936),v=i(2292),y=i(5238).IteratorPrototype,g=i(2554),m=v("toStringTag"),_=TypeError,b=o.Iterator,w=g||!u(b)||b.prototype!==y||!d((function(){b({})})),P=function Iterator(){l(this,y);if(c(this)===y)throw new _("Abstract class Iterator not directly constructable")};p(y,m)||h(y,m,"Iterator");!w&&p(y,"constructor")&&y.constructor!==Object||h(y,"constructor",P);P.prototype=y;a({global:!0,constructor:!0,forced:w},{Iterator:P})},385:(t,r,i)=>{var a=i(4978),o=i(6837),l=i(1782),u=i(4719),c=i(9235);a({target:"Iterator",proto:!0,real:!0},{every:function every(t){u(this);l(t);var r=c(this),i=0;return!o(r,(function(r,a){if(!t(r,i++))return a()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2993:(t,r,i)=>{var a=i(4978),o=i(2026),l=i(1782),u=i(4719),c=i(9235),h=i(375),d=i(5723),p=i(2554),v=h((function(){for(var t,r,i=this.iterator,a=this.predicate,l=this.next;;){t=u(o(l,i));if(this.done=!!t.done)return;r=t.value;if(d(i,a,[r,this.counter++],!0))return r}}));a({target:"Iterator",proto:!0,real:!0,forced:p},{filter:function filter(t){u(this);l(t);return new v(c(this),{predicate:t})}})},5252:(t,r,i)=>{var a=i(4978),o=i(6837),l=i(1782),u=i(4719),c=i(9235);a({target:"Iterator",proto:!0,real:!0},{find:function find(t){u(this);l(t);var r=c(this),i=0;return o(r,(function(r,a){if(t(r,i++))return a(r)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},6770:(t,r,i)=>{var a=i(4978),o=i(6837),l=i(1782),u=i(4719),c=i(9235);a({target:"Iterator",proto:!0,real:!0},{forEach:function forEach(t){u(this);l(t);var r=c(this),i=0;o(r,(function(r){t(r,i++)}),{IS_RECORD:!0})}})},7944:(t,r,i)=>{var a=i(4978),o=i(8142);a({target:"Iterator",proto:!0,real:!0,forced:i(2554)},{map:o})},8518:(t,r,i)=>{var a=i(4978),o=i(6837),l=i(1782),u=i(4719),c=i(9235);a({target:"Iterator",proto:!0,real:!0},{some:function some(t){u(this);l(t);var r=c(this),i=0;return o(r,(function(r,a){if(t(r,i++))return a()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2808:(t,r,i)=>{var a=i(4978),o=i(940),l=i(9298),u=i(7187),c=i(8403),h=i(2026),d=i(7316),p=i(7633),v=i(6998),y=i(936),g=i(5730),m=i(451),_=i(8947),b=i(8154),w=i(3713),P=i(3663),A=l.JSON,S=l.Number,E=l.SyntaxError,x=A&&A.parse,k=u("Object","keys"),D=Object.getOwnPropertyDescriptor,C=c("".charAt),T=c("".slice),I=c(/./.exec),O=c([].push),M=/^\d$/,L=/^[1-9]$/,G=/^(?:-|\d)$/,R=/^[\t\n\r ]$/,internalize=function(t,r,i,a){var o,l,u,c,d,g=t[r],_=a&&g===a.value,b=_&&"string"==typeof a.source?{source:a.source}:{};if(p(g)){var w=v(g),P=_?a.nodes:w?[]:{};if(w){o=P.length;u=m(g);for(c=0;c<u;c++)internalizeProperty(g,c,internalize(g,""+c,i,c<o?P[c]:void 0))}else{l=k(g);u=m(l);for(c=0;c<u;c++){d=l[c];internalizeProperty(g,d,internalize(g,d,i,y(P,d)?P[d]:void 0))}}}return h(i,t,r,g,b)},internalizeProperty=function(t,r,i){if(o){var a=D(t,r);if(a&&!a.configurable)return}void 0===i?delete t[r]:_(t,r,i)},Node=function(t,r,i,a){this.value=t;this.end=r;this.source=i;this.nodes=a},Context=function(t,r){this.source=t;this.index=r};Context.prototype={fork:function(t){return new Context(this.source,t)},parse:function(){var t=this.source,r=this.skip(R,this.index),i=this.fork(r),a=C(t,r);if(I(G,a))return i.number();switch(a){case"{":return i.object();case"[":return i.array();case'"':return i.string();case"t":return i.keyword(!0);case"f":return i.keyword(!1);case"n":return i.keyword(null)}throw new E('Unexpected character: "'+a+'" at: '+r)},node:function(t,r,i,a,o){return new Node(r,a,t?null:T(this.source,i,a),o)},object:function(){for(var t=this.source,r=this.index+1,i=!1,a={},o={};r<t.length;){r=this.until(['"',"}"],r);if("}"===C(t,r)&&!i){r++;break}var l=this.fork(r).string(),u=l.value;r=l.end;r=this.until([":"],r)+1;r=this.skip(R,r);l=this.fork(r).parse();_(o,u,l);_(a,u,l.value);r=this.until([",","}"],l.end);var c=C(t,r);if(","===c){i=!0;r++}else if("}"===c){r++;break}}return this.node(1,a,this.index,r,o)},array:function(){for(var t=this.source,r=this.index+1,i=!1,a=[],o=[];r<t.length;){r=this.skip(R,r);if("]"===C(t,r)&&!i){r++;break}var l=this.fork(r).parse();O(o,l);O(a,l.value);r=this.until([",","]"],l.end);if(","===C(t,r)){i=!0;r++}else if("]"===C(t,r)){r++;break}}return this.node(1,a,this.index,r,o)},string:function(){var t=this.index,r=w(this.source,this.index+1);return this.node(0,r.value,t,r.end)},number:function(){var t=this.source,r=this.index,i=r;"-"===C(t,i)&&i++;if("0"===C(t,i))i++;else{if(!I(L,C(t,i)))throw new E("Failed to parse number at: "+i);i=this.skip(M,++i)}"."===C(t,i)&&(i=this.skip(M,++i));if("e"===C(t,i)||"E"===C(t,i)){i++;"+"!==C(t,i)&&"-"!==C(t,i)||i++;if(i===(i=this.skip(M,i)))throw new E("Failed to parse number's exponent value at: "+i)}return this.node(0,S(T(t,r,i)),r,i)},keyword:function(t){var r=""+t,i=this.index,a=i+r.length;if(T(this.source,i,a)!==r)throw new E("Failed to parse value at: "+i);return this.node(0,t,i,a)},skip:function(t,r){for(var i=this.source;r<i.length&&I(t,C(i,r));r++);return r},until:function(t,r){r=this.skip(R,r);for(var i=C(this.source,r),a=0;a<t.length;a++)if(t[a]===i)return r;throw new E('Unexpected character: "'+i+'" at: '+r)}};var j=b((function(){var t,r="9007199254740993";x(r,(function(r,i,a){t=a.source}));return t!==r})),B=P&&!b((function(){return 1/x("-0 \t")!=-1/0}));a({target:"JSON",stat:!0,forced:j},{parse:function parse(t,r){return B&&!d(r)?x(t):function(t,r){t=g(t);var i=new Context(t,0,""),a=i.parse(),o=a.value,l=i.skip(R,a.end);if(l<t.length)throw new E('Unexpected extra character: "'+C(t,l)+'" after the parsed data at: '+l);return d(r)?internalize({"":o},"",r,a):o}(t,r)}})},5561:(t,r,i)=>{var a=i(4978),o=i(5656);a({target:"Set",proto:!0,real:!0,forced:!i(507)("difference")},{difference:o})},8587:(t,r,i)=>{var a=i(4978),o=i(8154),l=i(8461);a({target:"Set",proto:!0,real:!0,forced:!i(507)("intersection")||o((function(){return"3,2"!==Array.from(new Set([1,2,3]).intersection(new Set([3,2])))}))},{intersection:l})},3247:(t,r,i)=>{var a=i(4978),o=i(8550);a({target:"Set",proto:!0,real:!0,forced:!i(507)("isDisjointFrom")},{isDisjointFrom:o})},3302:(t,r,i)=>{var a=i(4978),o=i(990);a({target:"Set",proto:!0,real:!0,forced:!i(507)("isSubsetOf")},{isSubsetOf:o})},9490:(t,r,i)=>{var a=i(4978),o=i(194);a({target:"Set",proto:!0,real:!0,forced:!i(507)("isSupersetOf")},{isSupersetOf:o})},5438:(t,r,i)=>{var a=i(4978),o=i(3194);a({target:"Set",proto:!0,real:!0,forced:!i(507)("symmetricDifference")},{symmetricDifference:o})},7914:(t,r,i)=>{var a=i(4978),o=i(5703);a({target:"Set",proto:!0,real:!0,forced:!i(507)("union")},{union:o})},1378:(t,r,i)=>{var a=i(9298),o=i(2411),l=i(3942),u=i(8208),c=i(9293),handlePrototype=function(t){if(t&&t.forEach!==u)try{c(t,"forEach",u)}catch(r){t.forEach=u}};for(var h in o)o[h]&&handlePrototype(a[h]&&a[h].prototype);handlePrototype(l)},2374:(t,r,i)=>{var a=i(9298),o=i(2411),l=i(3942),u=i(6180),c=i(9293),h=i(2292),d=h("iterator"),p=h("toStringTag"),v=u.values,handlePrototype=function(t,r){if(t){if(t[d]!==v)try{c(t,d,v)}catch(r){t[d]=v}t[p]||c(t,p,r);if(o[r])for(var i in u)if(t[i]!==u[i])try{c(t,i,u[i])}catch(r){t[i]=u[i]}}};for(var y in o)handlePrototype(a[y]&&a[y].prototype,y);handlePrototype(l,"DOMTokenList")},5057:(t,r,i)=>{var a=i(4978),o=i(9298),l=i(9691),u=i(940),c=TypeError,h=Object.defineProperty,d=o.self!==o;try{if(u){var p=Object.getOwnPropertyDescriptor(o,"self");!d&&p&&p.get&&p.enumerable||l(o,"self",{get:function self(){return o},set:function self(t){if(this!==o)throw new c("Illegal invocation");h(o,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else a({global:!0,simple:!0,forced:d},{self:o})}catch(t){}},1872:(t,r,i)=>{i(6180);var a=i(4978),o=i(9298),l=i(2026),u=i(8403),c=i(940),h=i(8815),d=i(7041),p=i(9691),v=i(6880),y=i(7536),g=i(552),m=i(1649),_=i(5834),b=i(7316),w=i(936),P=i(7789),A=i(8329),S=i(4719),E=i(7633),x=i(5730),k=i(6941),D=i(1198),C=i(7612),T=i(273),I=i(1111),O=i(2743),M=i(2292),L=i(4689),G=M("iterator"),R="URLSearchParams",j=R+"Iterator",B=m.set,N=m.getterFor(R),W=m.getterFor(j),V=Object.getOwnPropertyDescriptor,safeGetBuiltIn=function(t){if(!c)return o[t];var r=V(o,t);return r&&r.value},z=safeGetBuiltIn("fetch"),H=safeGetBuiltIn("Request"),U=safeGetBuiltIn("Headers"),q=H&&H.prototype,K=U&&U.prototype,Y=o.RegExp,X=o.TypeError,$=o.decodeURIComponent,Z=o.encodeURIComponent,Q=u("".charAt),J=u([].join),ee=u([].push),te=u("".replace),re=u([].shift),ne=u([].splice),ie=u("".split),ae=u("".slice),oe=/\+/g,se=Array(4),percentSequence=function(t){return se[t-1]||(se[t-1]=Y("((?:%[\\da-f]{2}){"+t+"})","gi"))},percentDecode=function(t){try{return $(t)}catch(r){return t}},deserialize=function(t){var r=te(t,oe," "),i=4;try{return $(r)}catch(t){for(;i;)r=te(r,percentSequence(i--),percentDecode);return r}},le=/[!'()~]|%20/g,ue={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(t){return ue[t]},serialize=function(t){return te(Z(t),le,replacer)},ce=g((function Iterator(t,r){B(this,{type:j,target:N(t).entries,index:0,kind:r})}),R,(function next(){var t=W(this),r=t.target,i=t.index++;if(!r||i>=r.length){t.target=void 0;return I(void 0,!0)}var a=r[i];switch(t.kind){case"keys":return I(a.key,!1);case"values":return I(a.value,!1)}return I([a.key,a.value],!1)}),!0),URLSearchParamsState=function(t){this.entries=[];this.url=null;void 0!==t&&(E(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===Q(t,0)?ae(t,1):t:x(t)))};URLSearchParamsState.prototype={type:R,bindURL:function(t){this.url=t;this.update()},parseObject:function(t){var r,i,a,o,u,c,h,d=this.entries,p=T(t);if(p){i=(r=C(t,p)).next;for(;!(a=l(i,r)).done;){u=(o=C(S(a.value))).next;if((c=l(u,o)).done||(h=l(u,o)).done||!l(u,o).done)throw new X("Expected sequence with length 2");ee(d,{key:x(c.value),value:x(h.value)})}}else for(var v in t)w(t,v)&&ee(d,{key:v,value:x(t[v])})},parseQuery:function(t){if(t)for(var r,i,a=this.entries,o=ie(t,"&"),l=0;l<o.length;)if((r=o[l++]).length){i=ie(r,"=");ee(a,{key:deserialize(re(i)),value:deserialize(J(i,"="))})}},serialize:function(){for(var t,r=this.entries,i=[],a=0;a<r.length;){t=r[a++];ee(i,serialize(t.key)+"="+serialize(t.value))}return J(i,"&")},update:function(){this.entries.length=0;this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function URLSearchParams(){_(this,de);var t=B(this,new URLSearchParamsState(arguments.length>0?arguments[0]:void 0));c||(this.size=t.entries.length)},de=he.prototype;v(de,{append:function append(t,r){var i=N(this);O(arguments.length,2);ee(i.entries,{key:x(t),value:x(r)});c||this.length++;i.updateURL()},delete:function(t){for(var r=N(this),i=O(arguments.length,1),a=r.entries,o=x(t),l=i<2?void 0:arguments[1],u=void 0===l?l:x(l),h=0;h<a.length;){var d=a[h];if(d.key!==o||void 0!==u&&d.value!==u)h++;else{ne(a,h,1);if(void 0!==u)break}}c||(this.size=a.length);r.updateURL()},get:function get(t){var r=N(this).entries;O(arguments.length,1);for(var i=x(t),a=0;a<r.length;a++)if(r[a].key===i)return r[a].value;return null},getAll:function getAll(t){var r=N(this).entries;O(arguments.length,1);for(var i=x(t),a=[],o=0;o<r.length;o++)r[o].key===i&&ee(a,r[o].value);return a},has:function has(t){for(var r=N(this).entries,i=O(arguments.length,1),a=x(t),o=i<2?void 0:arguments[1],l=void 0===o?o:x(o),u=0;u<r.length;){var c=r[u++];if(c.key===a&&(void 0===l||c.value===l))return!0}return!1},set:function set(t,r){var i=N(this);O(arguments.length,1);for(var a,o=i.entries,l=!1,u=x(t),h=x(r),d=0;d<o.length;d++)if((a=o[d]).key===u)if(l)ne(o,d--,1);else{l=!0;a.value=h}l||ee(o,{key:u,value:h});c||(this.size=o.length);i.updateURL()},sort:function sort(){var t=N(this);L(t.entries,(function(t,r){return t.key>r.key?1:-1}));t.updateURL()},forEach:function forEach(t){for(var r,i=N(this).entries,a=P(t,arguments.length>1?arguments[1]:void 0),o=0;o<i.length;)a((r=i[o++]).value,r.key,this)},keys:function keys(){return new ce(this,"keys")},values:function values(){return new ce(this,"values")},entries:function entries(){return new ce(this,"entries")}},{enumerable:!0});d(de,G,de.entries,{name:"entries"});d(de,"toString",(function toString(){return N(this).serialize()}),{enumerable:!0});c&&p(de,"size",{get:function size(){return N(this).entries.length},configurable:!0,enumerable:!0});y(he,R);a({global:!0,constructor:!0,forced:!h},{URLSearchParams:he});if(!h&&b(U)){var fe=u(K.has),pe=u(K.set),wrapRequestOptions=function(t){if(E(t)){var r,i=t.body;if(A(i)===R){r=t.headers?new U(t.headers):new U;fe(r,"content-type")||pe(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8");return k(t,{body:D(0,x(i)),headers:D(0,r)})}}return t};b(z)&&a({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function fetch(t){return z(t,arguments.length>1?wrapRequestOptions(arguments[1]):{})}});if(b(H)){var ve=function Request(t){_(this,q);return new H(t,arguments.length>1?wrapRequestOptions(arguments[1]):{})};q.constructor=ve;ve.prototype=q;a({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ve})}}t.exports={URLSearchParams:he,getState:N}},3655:(t,r,i)=>{var a=i(7041),o=i(8403),l=i(5730),u=i(2743),c=URLSearchParams,h=c.prototype,d=o(h.append),p=o(h.delete),v=o(h.forEach),y=o([].push),g=new c("a=1&a=2&b=3");g.delete("a",1);g.delete("b",void 0);g+""!="a=2"&&a(h,"delete",(function(t){var r=arguments.length,i=r<2?void 0:arguments[1];if(r&&void 0===i)return p(this,t);var a=[];v(this,(function(t,r){y(a,{key:r,value:t})}));u(r,1);for(var o,c=l(t),h=l(i),g=0,m=0,_=!1,b=a.length;g<b;){o=a[g++];if(_||o.key===c){_=!0;p(this,o.key)}else m++}for(;m<b;)(o=a[m++]).key===c&&o.value===h||d(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},2555:(t,r,i)=>{var a=i(7041),o=i(8403),l=i(5730),u=i(2743),c=URLSearchParams,h=c.prototype,d=o(h.getAll),p=o(h.has),v=new c("a=1");!v.has("a",2)&&v.has("a",void 0)||a(h,"has",(function has(t){var r=arguments.length,i=r<2?void 0:arguments[1];if(r&&void 0===i)return p(this,t);var a=d(this,t);u(r,1);for(var o=l(i),c=0;c<a.length;)if(a[c++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},3757:(t,r,i)=>{i(1872)},2202:(t,r,i)=>{var a=i(940),o=i(8403),l=i(9691),u=URLSearchParams.prototype,c=o(u.forEach);a&&!("size"in u)&&l(u,"size",{get:function size(){var t=0;c(this,(function(){t++}));return t},configurable:!0,enumerable:!0})},9258:(t,r,i)=>{i(1747);var a,o=i(4978),l=i(940),u=i(8815),c=i(9298),h=i(7789),d=i(8403),p=i(7041),v=i(9691),y=i(5834),g=i(936),m=i(453),_=i(7609),b=i(6071),w=i(6819).codeAt,P=i(2897),A=i(5730),S=i(7536),E=i(2743),x=i(1872),k=i(1649),D=k.set,C=k.getterFor("URL"),T=x.URLSearchParams,I=x.getState,O=c.URL,M=c.TypeError,L=c.parseInt,G=Math.floor,R=Math.pow,j=d("".charAt),B=d(/./.exec),N=d([].join),W=d(1..toString),V=d([].pop),z=d([].push),H=d("".replace),U=d([].shift),q=d("".split),K=d("".slice),Y=d("".toLowerCase),X=d([].unshift),$="Invalid scheme",Z="Invalid host",Q="Invalid port",J=/[a-z]/i,ee=/[\d+-.a-z]/i,te=/\d/,re=/^0x/i,ne=/^[0-7]+$/,ie=/^\d+$/,ae=/^[\da-f]+$/i,oe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,se=/[\0\t\n\r #/:<>?@[\\\]^|]/,le=/^[\u0000-\u0020]+/,ue=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ce=/[\t\n\r]/g,serializeHost=function(t){var r,i,a,o;if("number"==typeof t){r=[];for(i=0;i<4;i++){X(r,t%256);t=G(t/256)}return N(r,".")}if("object"==typeof t){r="";a=function(t){for(var r=null,i=1,a=null,o=0,l=0;l<8;l++)if(0!==t[l]){if(o>i){r=a;i=o}a=null;o=0}else{null===a&&(a=l);++o}if(o>i){r=a;i=o}return r}(t);for(i=0;i<8;i++)if(!o||0!==t[i]){o&&(o=!1);if(a===i){r+=i?":":"::";o=!0}else{r+=W(t[i],16);i<7&&(r+=":")}}return"["+r+"]"}return t},he={},de=m({},he,{" ":1,'"':1,"<":1,">":1,"`":1}),fe=m({},de,{"#":1,"?":1,"{":1,"}":1}),pe=m({},fe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(t,r){var i=w(t,0);return i>32&&i<127&&!g(r,t)?t:encodeURIComponent(t)},ve={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(t,r){var i;return 2===t.length&&B(J,j(t,0))&&(":"===(i=j(t,1))||!r&&"|"===i)},startsWithWindowsDriveLetter=function(t){var r;return t.length>1&&isWindowsDriveLetter(K(t,0,2))&&(2===t.length||"/"===(r=j(t,2))||"\\"===r||"?"===r||"#"===r)},isSingleDot=function(t){return"."===t||"%2e"===Y(t)},ye={},ge={},me={},_e={},be={},we={},Pe={},Ae={},Se={},Ee={},Fe={},xe={},ke={},De={},Ce={},Te={},Ie={},Oe={},Me={},Le={},Ge={},URLState=function(t,r,i){var a,o,l,u=A(t);if(r){if(o=this.parse(u))throw new M(o);this.searchParams=null}else{void 0!==i&&(a=new URLState(i,!0));if(o=this.parse(u,null,a))throw new M(o);(l=I(new T)).bindURL(this);this.searchParams=l}};URLState.prototype={type:"URL",parse:function(t,r,i){var o,l,u,c,h,d=this,p=r||ye,v=0,y="",m=!1,w=!1,P=!1;t=A(t);if(!r){d.scheme="";d.username="";d.password="";d.host=null;d.port=null;d.path=[];d.query=null;d.fragment=null;d.cannotBeABaseURL=!1;t=H(t,le,"");t=H(t,ue,"$1")}t=H(t,ce,"");o=_(t);for(;v<=o.length;){l=o[v];switch(p){case ye:if(!l||!B(J,l)){if(r)return $;p=me;continue}y+=Y(l);p=ge;break;case ge:if(l&&(B(ee,l)||"+"===l||"-"===l||"."===l))y+=Y(l);else{if(":"!==l){if(r)return $;y="";p=me;v=0;continue}if(r&&(d.isSpecial()!==g(ve,y)||"file"===y&&(d.includesCredentials()||null!==d.port)||"file"===d.scheme&&!d.host))return;d.scheme=y;if(r){d.isSpecial()&&ve[d.scheme]===d.port&&(d.port=null);return}y="";if("file"===d.scheme)p=De;else if(d.isSpecial()&&i&&i.scheme===d.scheme)p=_e;else if(d.isSpecial())p=Ae;else if("/"===o[v+1]){p=be;v++}else{d.cannotBeABaseURL=!0;z(d.path,"");p=Me}}break;case me:if(!i||i.cannotBeABaseURL&&"#"!==l)return $;if(i.cannotBeABaseURL&&"#"===l){d.scheme=i.scheme;d.path=b(i.path);d.query=i.query;d.fragment="";d.cannotBeABaseURL=!0;p=Ge;break}p="file"===i.scheme?De:we;continue;case _e:if("/"!==l||"/"!==o[v+1]){p=we;continue}p=Se;v++;break;case be:if("/"===l){p=Ee;break}p=Oe;continue;case we:d.scheme=i.scheme;if(l===a){d.username=i.username;d.password=i.password;d.host=i.host;d.port=i.port;d.path=b(i.path);d.query=i.query}else if("/"===l||"\\"===l&&d.isSpecial())p=Pe;else if("?"===l){d.username=i.username;d.password=i.password;d.host=i.host;d.port=i.port;d.path=b(i.path);d.query="";p=Le}else{if("#"!==l){d.username=i.username;d.password=i.password;d.host=i.host;d.port=i.port;d.path=b(i.path);d.path.length--;p=Oe;continue}d.username=i.username;d.password=i.password;d.host=i.host;d.port=i.port;d.path=b(i.path);d.query=i.query;d.fragment="";p=Ge}break;case Pe:if(!d.isSpecial()||"/"!==l&&"\\"!==l){if("/"!==l){d.username=i.username;d.password=i.password;d.host=i.host;d.port=i.port;p=Oe;continue}p=Ee}else p=Se;break;case Ae:p=Se;if("/"!==l||"/"!==j(y,v+1))continue;v++;break;case Se:if("/"!==l&&"\\"!==l){p=Ee;continue}break;case Ee:if("@"===l){m&&(y="%40"+y);m=!0;u=_(y);for(var S=0;S<u.length;S++){var E=u[S];if(":"!==E||P){var x=percentEncode(E,pe);P?d.password+=x:d.username+=x}else P=!0}y=""}else if(l===a||"/"===l||"?"===l||"#"===l||"\\"===l&&d.isSpecial()){if(m&&""===y)return"Invalid authority";v-=_(y).length+1;y="";p=Fe}else y+=l;break;case Fe:case xe:if(r&&"file"===d.scheme){p=Te;continue}if(":"!==l||w){if(l===a||"/"===l||"?"===l||"#"===l||"\\"===l&&d.isSpecial()){if(d.isSpecial()&&""===y)return Z;if(r&&""===y&&(d.includesCredentials()||null!==d.port))return;if(c=d.parseHost(y))return c;y="";p=Ie;if(r)return;continue}"["===l?w=!0:"]"===l&&(w=!1);y+=l}else{if(""===y)return Z;if(c=d.parseHost(y))return c;y="";p=ke;if(r===xe)return}break;case ke:if(!B(te,l)){if(l===a||"/"===l||"?"===l||"#"===l||"\\"===l&&d.isSpecial()||r){if(""!==y){var k=L(y,10);if(k>65535)return Q;d.port=d.isSpecial()&&k===ve[d.scheme]?null:k;y=""}if(r)return;p=Ie;continue}return Q}y+=l;break;case De:d.scheme="file";if("/"===l||"\\"===l)p=Ce;else{if(!i||"file"!==i.scheme){p=Oe;continue}switch(l){case a:d.host=i.host;d.path=b(i.path);d.query=i.query;break;case"?":d.host=i.host;d.path=b(i.path);d.query="";p=Le;break;case"#":d.host=i.host;d.path=b(i.path);d.query=i.query;d.fragment="";p=Ge;break;default:if(!startsWithWindowsDriveLetter(N(b(o,v),""))){d.host=i.host;d.path=b(i.path);d.shortenPath()}p=Oe;continue}}break;case Ce:if("/"===l||"\\"===l){p=Te;break}i&&"file"===i.scheme&&!startsWithWindowsDriveLetter(N(b(o,v),""))&&(isWindowsDriveLetter(i.path[0],!0)?z(d.path,i.path[0]):d.host=i.host);p=Oe;continue;case Te:if(l===a||"/"===l||"\\"===l||"?"===l||"#"===l){if(!r&&isWindowsDriveLetter(y))p=Oe;else if(""===y){d.host="";if(r)return;p=Ie}else{if(c=d.parseHost(y))return c;"localhost"===d.host&&(d.host="");if(r)return;y="";p=Ie}continue}y+=l;break;case Ie:if(d.isSpecial()){p=Oe;if("/"!==l&&"\\"!==l)continue}else if(r||"?"!==l)if(r||"#"!==l){if(l!==a){p=Oe;if("/"!==l)continue}}else{d.fragment="";p=Ge}else{d.query="";p=Le}break;case Oe:if(l===a||"/"===l||"\\"===l&&d.isSpecial()||!r&&("?"===l||"#"===l)){if(".."===(h=Y(h=y))||"%2e."===h||".%2e"===h||"%2e%2e"===h){d.shortenPath();"/"===l||"\\"===l&&d.isSpecial()||z(d.path,"")}else if(isSingleDot(y))"/"===l||"\\"===l&&d.isSpecial()||z(d.path,"");else{if("file"===d.scheme&&!d.path.length&&isWindowsDriveLetter(y)){d.host&&(d.host="");y=j(y,0)+":"}z(d.path,y)}y="";if("file"===d.scheme&&(l===a||"?"===l||"#"===l))for(;d.path.length>1&&""===d.path[0];)U(d.path);if("?"===l){d.query="";p=Le}else if("#"===l){d.fragment="";p=Ge}}else y+=percentEncode(l,fe);break;case Me:if("?"===l){d.query="";p=Le}else if("#"===l){d.fragment="";p=Ge}else l!==a&&(d.path[0]+=percentEncode(l,he));break;case Le:if(r||"#"!==l)l!==a&&("'"===l&&d.isSpecial()?d.query+="%27":d.query+="#"===l?"%23":percentEncode(l,he));else{d.fragment="";p=Ge}break;case Ge:l!==a&&(d.fragment+=percentEncode(l,de))}v++}},parseHost:function(t){var r,i,a;if("["===j(t,0)){if("]"!==j(t,t.length-1))return Z;r=function(t){var r,i,a,o,l,u,c,h=[0,0,0,0,0,0,0,0],d=0,p=null,v=0,chr=function(){return j(t,v)};if(":"===chr()){if(":"!==j(t,1))return;v+=2;p=++d}for(;chr();){if(8===d)return;if(":"!==chr()){r=i=0;for(;i<4&&B(ae,chr());){r=16*r+L(chr(),16);v++;i++}if("."===chr()){if(0===i)return;v-=i;if(d>6)return;a=0;for(;chr();){o=null;if(a>0){if(!("."===chr()&&a<4))return;v++}if(!B(te,chr()))return;for(;B(te,chr());){l=L(chr(),10);if(null===o)o=l;else{if(0===o)return;o=10*o+l}if(o>255)return;v++}h[d]=256*h[d]+o;2!=++a&&4!==a||d++}if(4!==a)return;break}if(":"===chr()){v++;if(!chr())return}else if(chr())return;h[d++]=r}else{if(null!==p)return;v++;p=++d}}if(null!==p){u=d-p;d=7;for(;0!==d&&u>0;){c=h[d];h[d--]=h[p+u-1];h[p+--u]=c}}else if(8!==d)return;return h}(K(t,1,-1));if(!r)return Z;this.host=r}else if(this.isSpecial()){t=P(t);if(B(oe,t))return Z;r=function(t){var r,i,a,o,l,u,c,h=q(t,".");h.length&&""===h[h.length-1]&&h.length--;if((r=h.length)>4)return t;i=[];for(a=0;a<r;a++){if(""===(o=h[a]))return t;l=10;if(o.length>1&&"0"===j(o,0)){l=B(re,o)?16:8;o=K(o,8===l?1:2)}if(""===o)u=0;else{if(!B(10===l?ie:8===l?ne:ae,o))return t;u=L(o,l)}z(i,u)}for(a=0;a<r;a++){u=i[a];if(a===r-1){if(u>=R(256,5-r))return null}else if(u>255)return null}c=V(i);for(a=0;a<i.length;a++)c+=i[a]*R(256,3-a);return c}(t);if(null===r)return Z;this.host=r}else{if(B(se,t))return Z;r="";i=_(t);for(a=0;a<i.length;a++)r+=percentEncode(i[a],he);this.host=r}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return g(ve,this.scheme)},shortenPath:function(){var t=this.path,r=t.length;!r||"file"===this.scheme&&1===r&&isWindowsDriveLetter(t[0],!0)||t.length--},serialize:function(){var t=this,r=t.scheme,i=t.username,a=t.password,o=t.host,l=t.port,u=t.path,c=t.query,h=t.fragment,d=r+":";if(null!==o){d+="//";t.includesCredentials()&&(d+=i+(a?":"+a:"")+"@");d+=serializeHost(o);null!==l&&(d+=":"+l)}else"file"===r&&(d+="//");d+=t.cannotBeABaseURL?u[0]:u.length?"/"+N(u,"/"):"";null!==c&&(d+="?"+c);null!==h&&(d+="#"+h);return d},setHref:function(t){var r=this.parse(t);if(r)throw new M(r);this.searchParams.update()},getOrigin:function(){var t=this.scheme,r=this.port;if("blob"===t)try{return new Re(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+serializeHost(this.host)+(null!==r?":"+r:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(A(t)+":",ye)},getUsername:function(){return this.username},setUsername:function(t){var r=_(A(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var i=0;i<r.length;i++)this.username+=percentEncode(r[i],pe)}},getPassword:function(){return this.password},setPassword:function(t){var r=_(A(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var i=0;i<r.length;i++)this.password+=percentEncode(r[i],pe)}},getHost:function(){var t=this.host,r=this.port;return null===t?"":null===r?serializeHost(t):serializeHost(t)+":"+r},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Fe)},getHostname:function(){var t=this.host;return null===t?"":serializeHost(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,xe)},getPort:function(){var t=this.port;return null===t?"":A(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=A(t))?this.port=null:this.parse(t,ke))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+N(t,"/"):""},setPathname:function(t){if(!this.cannotBeABaseURL){this.path=[];this.parse(t,Ie)}},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){if(""===(t=A(t)))this.query=null;else{"?"===j(t,0)&&(t=K(t,1));this.query="";this.parse(t,Le)}this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){if(""!==(t=A(t))){"#"===j(t,0)&&(t=K(t,1));this.fragment="";this.parse(t,Ge)}else this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Re=function URL(t){var r=y(this,je),i=E(arguments.length,1)>1?arguments[1]:void 0,a=D(r,new URLState(t,!1,i));if(!l){r.href=a.serialize();r.origin=a.getOrigin();r.protocol=a.getProtocol();r.username=a.getUsername();r.password=a.getPassword();r.host=a.getHost();r.hostname=a.getHostname();r.port=a.getPort();r.pathname=a.getPathname();r.search=a.getSearch();r.searchParams=a.getSearchParams();r.hash=a.getHash()}},je=Re.prototype,accessorDescriptor=function(t,r){return{get:function(){return C(this)[t]()},set:r&&function(t){return C(this)[r](t)},configurable:!0,enumerable:!0}};if(l){v(je,"href",accessorDescriptor("serialize","setHref"));v(je,"origin",accessorDescriptor("getOrigin"));v(je,"protocol",accessorDescriptor("getProtocol","setProtocol"));v(je,"username",accessorDescriptor("getUsername","setUsername"));v(je,"password",accessorDescriptor("getPassword","setPassword"));v(je,"host",accessorDescriptor("getHost","setHost"));v(je,"hostname",accessorDescriptor("getHostname","setHostname"));v(je,"port",accessorDescriptor("getPort","setPort"));v(je,"pathname",accessorDescriptor("getPathname","setPathname"));v(je,"search",accessorDescriptor("getSearch","setSearch"));v(je,"searchParams",accessorDescriptor("getSearchParams"));v(je,"hash",accessorDescriptor("getHash","setHash"))}p(je,"toJSON",(function toJSON(){return C(this).serialize()}),{enumerable:!0});p(je,"toString",(function toString(){return C(this).serialize()}),{enumerable:!0});if(O){var Be=O.createObjectURL,Ne=O.revokeObjectURL;Be&&p(Re,"createObjectURL",h(Be,O));Ne&&p(Re,"revokeObjectURL",h(Ne,O))}S(Re,"URL");o({global:!0,constructor:!0,forced:!u,sham:!l},{URL:Re})},7529:(t,r,i)=>{i(9258)},8759:(t,r,i)=>{i.d(r,{FluentBundle:()=>m,FluentResource:()=>H});i(6180),i(5548),i(895),i(1747),i(2374),i(6421),i(4226),i(3352),i(924),i(5598),i(8806),i(9366),i(6678),i(5897),i(4668),i(1585),i(7121),i(2993),i(7262),i(6770),i(1378),i(7335),i(2926),i(7874),i(171),i(9593),i(7942),i(5776),i(13),i(9175),i(6128);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}var a=function(){function FluentType(t){_classCallCheck(this,FluentType);this.value=t}_createClass(FluentType,[{key:"valueOf",value:function valueOf(){return this.value}}]);return FluentType}(),o=function(t){_inherits(FluentNone,t);var r=_createSuper(FluentNone);function FluentNone(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"???";_classCallCheck(this,FluentNone);return r.call(this,t)}_createClass(FluentNone,[{key:"toString",value:function toString(t){return"{".concat(this.value,"}")}}]);return FluentNone}(a),l=function(t){_inherits(FluentNumber,t);var r=_createSuper(FluentNumber);function FluentNumber(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,FluentNumber);(i=r.call(this,t)).opts=a;return i}_createClass(FluentNumber,[{key:"toString",value:function toString(t){try{return t.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(r){t.reportError(r);return this.value.toString(10)}}}]);return FluentNumber}(a),u=function(t){_inherits(FluentDateTime,t);var r=_createSuper(FluentDateTime);function FluentDateTime(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,FluentDateTime);(i=r.call(this,t)).opts=a;return i}_createClass(FluentDateTime,[{key:"toString",value:function toString(t){try{return t.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(r){t.reportError(r);return new Date(this.value).toISOString()}}}]);return FluentDateTime}(a);function resolver_typeof(t){return resolver_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},resolver_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}var c=100,h="",d="";function match(t,r,i){if(i===r)return!0;if(i instanceof l&&r instanceof l&&i.value===r.value)return!0;if(r instanceof l&&"string"==typeof i){if(i===t.memoizeIntlObject(Intl.PluralRules,r.opts).select(r.value))return!0}return!1}function getDefault(t,r,i){if(r[i])return resolvePattern(t,r[i].value);t.reportError(new RangeError("No default"));return new o}function getArguments(t,r){var i,a=[],o=Object.create(null),l=_createForOfIteratorHelper(r);try{for(l.s();!(i=l.n()).done;){var u=i.value;"narg"===u.type?o[u.name]=resolveExpression(t,u.value):a.push(resolveExpression(t,u))}}catch(t){l.e(t)}finally{l.f()}return{positional:a,named:o}}function resolveExpression(t,r){switch(r.type){case"str":return r.value;case"num":return new l(r.value,{minimumFractionDigits:r.precision});case"var":return function resolveVariableReference(t,r){var i,c=r.name;if(t.params){if(!Object.prototype.hasOwnProperty.call(t.params,c))return new o("$".concat(c));i=t.params[c]}else{if(!t.args||!Object.prototype.hasOwnProperty.call(t.args,c)){t.reportError(new ReferenceError("Unknown variable: $".concat(c)));return new o("$".concat(c))}i=t.args[c]}if(i instanceof a)return i;switch(resolver_typeof(i)){case"string":return i;case"number":return new l(i);case"object":if(i instanceof Date)return new u(i.getTime());default:t.reportError(new TypeError("Variable type not supported: $".concat(c,", ").concat(resolver_typeof(i))));return new o("$".concat(c))}}(t,r);case"mesg":return function resolveMessageReference(t,r){var i=r.name,a=r.attr,l=t.bundle._messages.get(i);if(!l){t.reportError(new ReferenceError("Unknown message: ".concat(i)));return new o(i)}if(a){var u=l.attributes[a];if(u)return resolvePattern(t,u);t.reportError(new ReferenceError("Unknown attribute: ".concat(a)));return new o("".concat(i,".").concat(a))}if(l.value)return resolvePattern(t,l.value);t.reportError(new ReferenceError("No value: ".concat(i)));return new o(i)}(t,r);case"term":return function resolveTermReference(t,r){var i=r.name,a=r.attr,l=r.args,u="-".concat(i),c=t.bundle._terms.get(u);if(!c){t.reportError(new ReferenceError("Unknown term: ".concat(u)));return new o(u)}if(a){var h=c.attributes[a];if(h){t.params=getArguments(t,l).named;var d=resolvePattern(t,h);t.params=null;return d}t.reportError(new ReferenceError("Unknown attribute: ".concat(a)));return new o("".concat(u,".").concat(a))}t.params=getArguments(t,l).named;var p=resolvePattern(t,c.value);t.params=null;return p}(t,r);case"func":return function resolveFunctionReference(t,r){var i=r.name,a=r.args,l=t.bundle._functions[i];if(!l){t.reportError(new ReferenceError("Unknown function: ".concat(i,"()")));return new o("".concat(i,"()"))}if("function"!=typeof l){t.reportError(new TypeError("Function ".concat(i,"() is not callable")));return new o("".concat(i,"()"))}try{var u=getArguments(t,a);return l(u.positional,u.named)}catch(r){t.reportError(r);return new o("".concat(i,"()"))}}(t,r);case"select":return function resolveSelectExpression(t,r){var i=r.selector,a=r.variants,l=r.star,u=resolveExpression(t,i);if(u instanceof o)return getDefault(t,a,l);var c,h=_createForOfIteratorHelper(a);try{for(h.s();!(c=h.n()).done;){var d=c.value;if(match(t,u,resolveExpression(t,d.key)))return resolvePattern(t,d.value)}}catch(t){h.e(t)}finally{h.f()}return getDefault(t,a,l)}(t,r);default:return new o}}function resolveComplexPattern(t,r){if(t.dirty.has(r)){t.reportError(new RangeError("Cyclic reference"));return new o}t.dirty.add(r);var i,a=[],l=t.bundle._useIsolating&&r.length>1,u=_createForOfIteratorHelper(r);try{for(u.s();!(i=u.n()).done;){var p=i.value;if("string"!=typeof p){t.placeables++;if(t.placeables>c){t.dirty.delete(r);throw new RangeError("Too many placeables expanded: ".concat(t.placeables,", ")+"max allowed is ".concat(c))}l&&a.push(h);a.push(resolveExpression(t,p).toString(t));l&&a.push(d)}else a.push(t.bundle._transform(p))}}catch(t){u.e(t)}finally{u.f()}t.dirty.delete(r);return a.join("")}function resolvePattern(t,r){return"string"==typeof r?t.bundle._transform(r):resolveComplexPattern(t,r)}i(394),i(7254);function scope_typeof(t){return scope_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},scope_typeof(t)}function scope_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function scope_toPrimitive(t,r){if("object"!==scope_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==scope_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===scope_typeof(l)?l:String(l)),a)}var o,l}var p=function(){function Scope(t,r,i){!function scope_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Scope);this.dirty=new WeakSet;this.params=null;this.placeables=0;this.bundle=t;this.errors=r;this.args=i}!function scope_createClass(t,r,i){r&&scope_defineProperties(t.prototype,r);i&&scope_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(Scope,[{key:"reportError",value:function reportError(t){if(!(this.errors&&t instanceof Error))throw t;this.errors.push(t)}},{key:"memoizeIntlObject",value:function memoizeIntlObject(t,r){var i=this.bundle._intls.get(t);if(!i){i={};this.bundle._intls.set(t,i)}var a=JSON.stringify(r);i[a]||(i[a]=new t(this.bundle.locales,r));return i[a]}}]);return Scope}();i(2586),i(2796),i(2613);function builtins_typeof(t){return builtins_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},builtins_typeof(t)}function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach((function(r){_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function _defineProperty(t,r,i){(r=function builtins_toPropertyKey(t){var r=function builtins_toPrimitive(t,r){if("object"!==builtins_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==builtins_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===builtins_typeof(r)?r:String(r)}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||function builtins_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return builtins_arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return builtins_arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function builtins_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function values(t,r){for(var i=Object.create(null),a=0,o=Object.entries(t);a<o.length;a++){var l=_slicedToArray(o[a],2),u=l[0],c=l[1];r.includes(u)&&(i[u]=c.valueOf())}return i}var v=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function NUMBER(t,r){var i=t[0];if(i instanceof o)return new o("NUMBER(".concat(i.valueOf(),")"));if(i instanceof l)return new l(i.valueOf(),_objectSpread(_objectSpread({},i.opts),values(r,v)));if(i instanceof u)return new l(i.valueOf(),_objectSpread({},values(r,v)));throw new TypeError("Invalid argument to NUMBER")}var y=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function DATETIME(t,r){var i=t[0];if(i instanceof o)return new o("DATETIME(".concat(i.valueOf(),")"));if(i instanceof u)return new u(i.valueOf(),_objectSpread(_objectSpread({},i.opts),values(r,y)));if(i instanceof l)return new u(i.valueOf(),_objectSpread({},values(r,y)));throw new TypeError("Invalid argument to DATETIME")}var g=new Map;function bundle_typeof(t){return bundle_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bundle_typeof(t)}function bundle_ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function bundle_defineProperty(t,r,i){(r=bundle_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function bundle_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,bundle_toPropertyKey(a.key),a)}}function bundle_toPropertyKey(t){var r=function bundle_toPrimitive(t,r){if("object"!==bundle_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==bundle_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===bundle_typeof(r)?r:String(r)}var m=function(){function FluentBundle(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.functions,a=r.useIsolating,o=void 0===a||a,l=r.transform,u=void 0===l?function(t){return t}:l;!function bundle_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,FluentBundle);this._terms=new Map;this._messages=new Map;this.locales=Array.isArray(t)?t:[t];this._functions=function bundle_objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?bundle_ownKeys(Object(i),!0).forEach((function(r){bundle_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):bundle_ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}({NUMBER:NUMBER,DATETIME:DATETIME},i);this._useIsolating=o;this._transform=u;this._intls=function getMemoizerForLocale(t){var r=Array.isArray(t)?t.join(" "):t,i=g.get(r);if(void 0===i){i=new Map;g.set(r,i)}return i}(t)}!function bundle_createClass(t,r,i){r&&bundle_defineProperties(t.prototype,r);i&&bundle_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(FluentBundle,[{key:"hasMessage",value:function hasMessage(t){return this._messages.has(t)}},{key:"getMessage",value:function getMessage(t){return this._messages.get(t)}},{key:"addResource",value:function addResource(t){for(var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowOverrides,i=void 0!==r&&r,a=[],o=0;o<t.body.length;o++){var l=t.body[o];if(l.id.startsWith("-")){if(!1===i&&this._terms.has(l.id)){a.push(new Error('Attempt to override an existing term: "'.concat(l.id,'"')));continue}this._terms.set(l.id,l)}else{if(!1===i&&this._messages.has(l.id)){a.push(new Error('Attempt to override an existing message: "'.concat(l.id,'"')));continue}this._messages.set(l.id,l)}}return a}},{key:"formatPattern",value:function formatPattern(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"==typeof t)return this._transform(t);var a=new p(this,i,r);try{return resolveComplexPattern(a,t).toString(a)}catch(t){if(a.errors&&t instanceof Error){a.errors.push(t);return(new o).toString(a)}throw t}}}]);return FluentBundle}();i(3032),i(5619),i(9786),i(2707),i(4711);function resource_typeof(t){return resource_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},resource_typeof(t)}function resource_slicedToArray(t,r){return function resource_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function resource_iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||resource_unsupportedIterableToArray(t,r)||function resource_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function resource_ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function resource_defineProperty(t,r,i){(r=resource_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function resource_unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return resource_arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?resource_arrayLikeToArray(t,r):void 0}}function resource_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function resource_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,resource_toPropertyKey(a.key),a)}}function resource_createClass(t,r,i){r&&resource_defineProperties(t.prototype,r);i&&resource_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function resource_toPropertyKey(t){var r=function resource_toPrimitive(t,r){if("object"!==resource_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==resource_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===resource_typeof(r)?r:String(r)}function resource_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var _=/^(-?[a-zA-Z][\w-]*) *= */gm,b=new RegExp("\\.([a-zA-Z][\\w-]*) *= *","y"),w=new RegExp("\\*?\\[","y"),P=new RegExp("(-?[0-9]+(?:\\.([0-9]+))?)","y"),A=new RegExp("([a-zA-Z][\\w-]*)","y"),S=new RegExp("([$-])?([a-zA-Z][\\w-]*)(?:\\.([a-zA-Z][\\w-]*))?","y"),E=/^[A-Z][A-Z0-9_-]*$/,x=new RegExp("([^{}\\n\\r]+)","y"),k=new RegExp('([^\\\\"\\n\\r]*)',"y"),D=new RegExp('\\\\([\\\\"])',"y"),C=new RegExp("\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{6})","y"),T=/^\n+/,I=/ +$/,O=/ *\r?\n/g,M=/( *)$/,L=new RegExp("{\\s*","y"),G=new RegExp("\\s*}","y"),R=new RegExp("\\[\\s*","y"),j=new RegExp("\\s*] *","y"),B=new RegExp("\\s*\\(\\s*","y"),N=new RegExp("\\s*->\\s*","y"),W=new RegExp("\\s*:\\s*","y"),V=new RegExp("\\s*,?\\s*","y"),z=new RegExp("\\s+","y"),H=resource_createClass((function FluentResource(t){resource_classCallCheck(this,FluentResource);this.body=[];_.lastIndex=0;for(var r=0;;){var i=_.exec(t);if(null===i)break;r=_.lastIndex;try{this.body.push(parseMessage(i[1]))}catch(t){if(t instanceof SyntaxError)continue;throw t}}function test(i){i.lastIndex=r;return i.test(t)}function consumeChar(i,a){if(t[r]===i){r++;return!0}if(a)throw new a("Expected ".concat(i));return!1}function consumeToken(t,i){if(test(t)){r=t.lastIndex;return!0}if(i)throw new i("Expected ".concat(t.toString()));return!1}function match(i){i.lastIndex=r;var a=i.exec(t);if(null===a)throw new SyntaxError("Expected ".concat(i.toString()));r=i.lastIndex;return a}function match1(t){return match(t)[1]}function parseMessage(t){var r=parsePattern(),i=function parseAttributes(){var t=Object.create(null);for(;test(b);){var r=match1(b),i=parsePattern();if(null===i)throw new SyntaxError("Expected attribute value");t[r]=i}return t}();if(null===r&&0===Object.keys(i).length)throw new SyntaxError("Expected message value or attributes");return{id:t,value:r,attributes:i}}function parsePattern(){var i;test(x)&&(i=match1(x));if("{"===t[r]||"}"===t[r])return parsePatternElements(i?[i]:[],1/0);var a=parseIndent();if(a){if(i)return parsePatternElements([i,a],a.length);a.value=trim(a.value,T);return parsePatternElements([a],a.length)}return i?trim(i,I):null}function parsePatternElements(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;;)if(test(x))i.push(match1(x));else if("{"!==t[r]){if("}"===t[r])throw new SyntaxError("Unbalanced closing brace");var o=parseIndent();if(!o)break;i.push(o);a=Math.min(a,o.length)}else i.push(parsePlaceable());var l=i.length-1,u=i[l];"string"==typeof u&&(i[l]=trim(u,I));var c,h=[],d=function resource_createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=resource_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}(i);try{for(d.s();!(c=d.n()).done;){var p=c.value;p instanceof U&&(p=p.value.slice(0,p.value.length-a));p&&h.push(p)}}catch(t){d.e(t)}finally{d.f()}return h}function parsePlaceable(){consumeToken(L,SyntaxError);var t=parseInlineExpression();if(consumeToken(G))return t;if(consumeToken(N)){var r=function parseVariants(){var t,r=[],i=0;for(;test(w);){consumeChar("*")&&(t=i);var a=parseVariantKey(),o=parsePattern();if(null===o)throw new SyntaxError("Expected variant value");r[i++]={key:a,value:o}}if(0===i)return null;if(void 0===t)throw new SyntaxError("Expected default variant");return{variants:r,star:t}}();consumeToken(G,SyntaxError);return function resource_objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?resource_ownKeys(Object(i),!0).forEach((function(r){resource_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):resource_ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}({type:"select",selector:t},r)}throw new SyntaxError("Unclosed placeable")}function parseInlineExpression(){if("{"===t[r])return parsePlaceable();if(test(S)){var i=resource_slicedToArray(match(S),4),a=i[1],o=i[2],l=i[3],u=void 0===l?null:l;if("$"===a)return{type:"var",name:o};if(consumeToken(B)){var c=function parseArguments(){var i=[];for(;;){switch(t[r]){case")":r++;return i;case void 0:throw new SyntaxError("Unclosed argument list")}i.push(parseArgument());consumeToken(V)}}();if("-"===a)return{type:"term",name:o,attr:u,args:c};if(E.test(o))return{type:"func",name:o,args:c};throw new SyntaxError("Function names must be all upper-case")}return"-"===a?{type:"term",name:o,attr:u,args:[]}:{type:"mesg",name:o,attr:u}}return parseLiteral()}function parseArgument(){var t=parseInlineExpression();return"mesg"!==t.type?t:consumeToken(W)?{type:"narg",name:t.name,value:parseLiteral()}:t}function parseVariantKey(){consumeToken(R,SyntaxError);var t;t=test(P)?parseNumberLiteral():{type:"str",value:match1(A)};consumeToken(j,SyntaxError);return t}function parseLiteral(){if(test(P))return parseNumberLiteral();if('"'===t[r])return function parseStringLiteral(){consumeChar('"',SyntaxError);var i="";for(;;){i+=match1(k);if("\\"!==t[r]){if(consumeChar('"'))return{type:"str",value:i};throw new SyntaxError("Unclosed string literal")}i+=parseEscapeSequence()}}();throw new SyntaxError("Invalid expression")}function parseNumberLiteral(){var t=resource_slicedToArray(match(P),3),r=t[1],i=t[2],a=(void 0===i?"":i).length;return{type:"num",value:parseFloat(r),precision:a}}function parseEscapeSequence(){if(test(D))return match1(D);if(test(C)){var t=resource_slicedToArray(match(C),3),r=t[1],i=t[2],a=parseInt(r||i,16);return a<=55295||57344<=a?String.fromCodePoint(a):""}throw new SyntaxError("Unknown escape sequence")}function parseIndent(){var i=r;consumeToken(z);switch(t[r]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return makeIndent(t.slice(i,r))}return" "===t[r-1]&&makeIndent(t.slice(i,r))}function trim(t,r){return t.replace(r,"")}function makeIndent(t){var r=t.replace(O,"\n"),i=M.exec(t)[1].length;return new U(r,i)}})),U=resource_createClass((function Indent(t,r){resource_classCallCheck(this,Indent);this.value=t;this.length=r}))},8275:(t,r,i)=>{i.d(r,{DOMLocalization:()=>y});i(6180),i(895),i(2048),i(1747),i(5561),i(8587),i(3247),i(3302),i(9490),i(5438),i(7914),i(2374),i(7254),i(4668),i(2808),i(3352),i(9593),i(5666),i(5136),i(7944),i(4226),i(13),i(9175),i(6128),i(9718),i(7262),i(5598),i(8806),i(9366),i(6678),i(5897),i(171),i(924),i(7942),i(5776),i(2926),i(1133),i(2173),i(2630),i(1024),i(7121),i(6770),i(1378),i(8341),i(2796),i(2613);function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}var a=/<|&#?\w+;/,o={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},l={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function translateElement(t,r){var i=r.value;if("string"==typeof i)if("title"===t.localName&&"http://www.w3.org/1999/xhtml"===t.namespaceURI)t.textContent=i;else if(a.test(i)){var o=t.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");o.innerHTML=i;!function overlayChildNodes(t,r){var i,a=_createForOfIteratorHelper(t.childNodes);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o.nodeType!==o.TEXT_NODE)if(o.hasAttribute("data-l10n-name")){var l=getNodeForNamedElement(r,o);t.replaceChild(l,o)}else if(isElementAllowed(o)){var u=createSanitizedElement(o);t.replaceChild(u,o)}else{console.warn('An element of forbidden type "'.concat(o.localName,'" was found in ')+"the translation. Only safe text-level elements and elements with data-l10n-name are allowed.");t.replaceChild(createTextNodeFromTextContent(o),o)}}}catch(t){a.e(t)}finally{a.f()}r.textContent="";r.appendChild(t)}(o.content,t)}else t.textContent=i;overlayAttributes(r,t)}function hasAttribute(t,r){if(!t)return!1;var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){if(i.value.name===r)return!0}}catch(t){a.e(t)}finally{a.f()}return!1}function overlayAttributes(t,r){for(var i=r.hasAttribute("data-l10n-attrs")?r.getAttribute("data-l10n-attrs").split(",").map((function(t){return t.trim()})):null,a=0,o=Array.from(r.attributes);a<o.length;a++){var l=o[a];isAttrNameLocalizable(l.name,r,i)&&!hasAttribute(t.attributes,l.name)&&r.removeAttribute(l.name)}if(t.attributes)for(var u=0,c=Array.from(t.attributes);u<c.length;u++){var h=c[u];isAttrNameLocalizable(h.name,r,i)&&r.getAttribute(h.name)!==h.value&&r.setAttribute(h.name,h.value)}}function getNodeForNamedElement(t,r){var i=r.getAttribute("data-l10n-name"),a=t.querySelector('[data-l10n-name="'.concat(i,'"]'));if(!a){console.warn('An element named "'.concat(i,"\" wasn't found in the source."));return createTextNodeFromTextContent(r)}if(a.localName!==r.localName){console.warn('An element named "'.concat(i,'" was found in the translation ')+"but its type ".concat(r.localName," didn't match the ")+"element found in the source (".concat(a.localName,")."));return createTextNodeFromTextContent(r)}t.removeChild(a);return shallowPopulateUsing(r,a.cloneNode(!1))}function createSanitizedElement(t){var r=t.ownerDocument.createElement(t.localName);return shallowPopulateUsing(t,r)}function createTextNodeFromTextContent(t){return t.ownerDocument.createTextNode(t.textContent)}function isElementAllowed(t){var r=o[t.namespaceURI];return r&&r.includes(t.localName)}function isAttrNameLocalizable(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(i&&i.includes(t))return!0;var a=l[r.namespaceURI];if(!a)return!1;var o=t.toLowerCase(),u=r.localName;if(a.global.includes(o))return!0;if(!a[u])return!1;if(a[u].includes(o))return!0;if("http://www.w3.org/1999/xhtml"===r.namespaceURI&&"input"===u&&"value"===o){var c=r.type.toLowerCase();if("submit"===c||"button"===c||"reset"===c)return!0}return!1}function shallowPopulateUsing(t,r){r.textContent=t.textContent;overlayAttributes(t,r);return r}i(1585),i(2993),i(7874),i(8649),i(5548);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createSuper(t){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;_wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(r){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}});return _setPrototypeOf(Wrapper,t)};return _wrapNativeSuper(t)}function _construct(t,r,i){_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(t,r,i){var a=[null];a.push.apply(a,r);var o=new(Function.bind.apply(t,a));i&&_setPrototypeOf(o,i.prototype);return o};return _construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}var u=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}(CachedIterable,t);var r=_createSuper(CachedIterable);function CachedIterable(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,CachedIterable);return r.apply(this,arguments)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(CachedIterable,null,[{key:"from",value:function from(t){return t instanceof this?t:new this(t)}}]);return CachedIterable}(_wrapNativeSuper(Array));function cached_sync_iterable_typeof(t){return cached_sync_iterable_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cached_sync_iterable_typeof(t)}function cached_sync_iterable_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function cached_sync_iterable_toPrimitive(t,r){if("object"!==cached_sync_iterable_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==cached_sync_iterable_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===cached_sync_iterable_typeof(l)?l:String(l)),a)}var o,l}function cached_sync_iterable_setPrototypeOf(t,r){cached_sync_iterable_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return cached_sync_iterable_setPrototypeOf(t,r)}function cached_sync_iterable_createSuper(t){var r=function cached_sync_iterable_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=cached_sync_iterable_getPrototypeOf(t);if(r){var o=cached_sync_iterable_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function cached_sync_iterable_possibleConstructorReturn(t,r){if(r&&("object"===cached_sync_iterable_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function cached_sync_iterable_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function cached_sync_iterable_getPrototypeOf(t){cached_sync_iterable_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return cached_sync_iterable_getPrototypeOf(t)}Symbol.iterator;function cached_async_iterable_typeof(t){return cached_async_iterable_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cached_async_iterable_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==cached_async_iterable_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(cached_async_iterable_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function cached_async_iterable_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function cached_async_iterable_toPrimitive(t,r){if("object"!==cached_async_iterable_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==cached_async_iterable_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===cached_async_iterable_typeof(l)?l:String(l)),a)}var o,l}function cached_async_iterable_setPrototypeOf(t,r){cached_async_iterable_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return cached_async_iterable_setPrototypeOf(t,r)}function cached_async_iterable_createSuper(t){var r=function cached_async_iterable_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=cached_async_iterable_getPrototypeOf(t);if(r){var o=cached_async_iterable_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function cached_async_iterable_possibleConstructorReturn(t,r){if(r&&("object"===cached_async_iterable_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function cached_async_iterable_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function cached_async_iterable_getPrototypeOf(t){cached_async_iterable_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return cached_async_iterable_getPrototypeOf(t)}var c=function(t,r){!function cached_async_iterable_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&cached_async_iterable_setPrototypeOf(t,r)}(CachedAsyncIterable,t);var i,a=cached_async_iterable_createSuper(CachedAsyncIterable);function CachedAsyncIterable(t){var r;!function cached_async_iterable_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,CachedAsyncIterable);r=a.call(this);if(Symbol.asyncIterator in Object(t))r.iterator=t[Symbol.asyncIterator]();else{if(!(Symbol.iterator in Object(t)))throw new TypeError("Argument must implement the iteration protocol.");r.iterator=t[Symbol.iterator]()}return r}!function cached_async_iterable_createClass(t,r,i){r&&cached_async_iterable_defineProperties(t.prototype,r);i&&cached_async_iterable_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(CachedAsyncIterable,[{key:r,value:function value(){var t=this,r=0;return{next:function next(){return _asyncToGenerator(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:t.length<=r&&t.push(t.iterator.next());return i.abrupt("return",t[r++]);case 2:case"end":return i.stop()}}),_callee)})))()}}}},{key:"touchNext",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var t,r,i,a=arguments;return _regeneratorRuntime().wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:1;r=0;case 2:if(!(r++<t)){o.next=14;break}i=this[this.length-1];o.t0=i;if(!o.t0){o.next=9;break}o.next=8;return i;case 8:o.t0=o.sent.done;case 9:if(!o.t0){o.next=11;break}return o.abrupt("break",14);case 11:this.push(this.iterator.next());o.next=2;break;case 14:return o.abrupt("return",this[this.length-1]);case 15:case"end":return o.stop()}}),_callee2,this)}))),function touchNext(){return i.apply(this,arguments)})}]);return CachedAsyncIterable}(u,Symbol.asyncIterator);function localization_typeof(t){return localization_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},localization_typeof(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||localization_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function localization_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */localization_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==localization_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(localization_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function localization_asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function localization_asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){localization_asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){localization_asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return localization_arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||localization_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function localization_unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return localization_arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?localization_arrayLikeToArray(t,r):void 0}}function localization_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function localization_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function localization_toPrimitive(t,r){if("object"!==localization_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==localization_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===localization_typeof(l)?l:String(l)),a)}var o,l}function _asyncIterator(t){var r,i,a,o=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,a=Symbol.iterator);o--;){if(i&&null!=(r=t[i]))return r.call(t);if(a&&null!=(r=t[a]))return new AsyncFromSyncIterator(r.call(t));i="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(t){function AsyncFromSyncIteratorContinuation(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var r=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:r}}))}return AsyncFromSyncIterator=function AsyncFromSyncIterator(t){this.s=t,this.n=t.next},AsyncFromSyncIterator.prototype={s:null,n:null,next:function next(){return AsyncFromSyncIteratorContinuation(this.n.apply(this.s,arguments))},return:function _return(t){var r=this.s.return;return void 0===r?Promise.resolve({value:t,done:!0}):AsyncFromSyncIteratorContinuation(r.apply(this.s,arguments))},throw:function _throw(t){var r=this.s.return;return void 0===r?Promise.reject(t):AsyncFromSyncIteratorContinuation(r.apply(this.s,arguments))}},new AsyncFromSyncIterator(t)}var h=function(){function Localization(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;!function localization_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Localization);this.resourceIds=t;this.generateBundles=r;this.onChange(!0)}!function localization_createClass(t,r,i){r&&localization_defineProperties(t.prototype,r);i&&localization_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(Localization,[{key:"addResourceIds",value:function addResourceIds(t){var r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(r=this.resourceIds).push.apply(r,_toConsumableArray(t));this.onChange(i);return this.resourceIds.length}},{key:"removeResourceIds",value:function removeResourceIds(t){this.resourceIds=this.resourceIds.filter((function(r){return!t.includes(r)}));this.onChange();return this.resourceIds.length}},{key:"formatWithFallback",value:(r=localization_asyncToGenerator(localization_regeneratorRuntime().mark((function _callee(t,r){var i,a,o,l,u,c,h,d,p,v,y;return localization_regeneratorRuntime().wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:i=[];a=!1;o=!1;l=!1;g.prev=4;c=_asyncIterator(this.bundles);case 6:g.next=8;return c.next();case 8:if(!(o=!(h=g.sent).done)){g.next=18;break}d=h.value;a=!0;if(0!==(p=keysFromBundle(r,d,t,i)).size){g.next=14;break}return g.abrupt("break",18);case 14:if("undefined"!=typeof console){v=d.locales[0];y=Array.from(p).join(", ");console.warn("[fluent] Missing translations in ".concat(v,": ").concat(y))}case 15:o=!1;g.next=6;break;case 18:g.next=24;break;case 20:g.prev=20;g.t0=g.catch(4);l=!0;u=g.t0;case 24:g.prev=24;g.prev=25;if(!o||null==c.return){g.next=29;break}g.next=29;return c.return();case 29:g.prev=29;if(!l){g.next=32;break}throw u;case 32:return g.finish(29);case 33:return g.finish(24);case 34:a||"undefined"==typeof console||console.warn("[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ".concat(JSON.stringify(t),".\n  resourceIds: ").concat(JSON.stringify(this.resourceIds),"."));return g.abrupt("return",i);case 36:case"end":return g.stop()}}),_callee,this,[[4,20,24,34],[25,,29,33]])}))),function formatWithFallback(t,i){return r.apply(this,arguments)})},{key:"formatMessages",value:function formatMessages(t){return this.formatWithFallback(t,messageFromBundle)}},{key:"formatValues",value:function formatValues(t){return this.formatWithFallback(t,valueFromBundle)}},{key:"formatValue",value:(t=localization_asyncToGenerator(localization_regeneratorRuntime().mark((function _callee2(t,r){var i,a,o;return localization_regeneratorRuntime().wrap((function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:l.next=2;return this.formatValues([{id:t,args:r}]);case 2:i=l.sent;a=_slicedToArray(i,1);o=a[0];return l.abrupt("return",o);case 6:case"end":return l.stop()}}),_callee2,this)}))),function formatValue(r,i){return t.apply(this,arguments)})},{key:"handleEvent",value:function handleEvent(){this.onChange()}},{key:"onChange",value:function onChange(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.bundles=c.from(this.generateBundles(this.resourceIds));t&&this.bundles.touchNext(2)}}]);var t,r;return Localization}();function valueFromBundle(t,r,i,a){return i.value?t.formatPattern(i.value,a,r):null}function messageFromBundle(t,r,i,a){var o={value:null,attributes:null};i.value&&(o.value=t.formatPattern(i.value,a,r));var l=Object.keys(i.attributes);if(l.length>0){o.attributes=new Array(l.length);var u,c=function localization_createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=localization_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}(l.entries());try{for(c.s();!(u=c.n()).done;){var h=_slicedToArray(u.value,2),d=h[0],p=h[1],v=t.formatPattern(i.attributes[p],a,r);o.attributes[d]={name:p,value:v}}}catch(t){c.e(t)}finally{c.f()}}return o}function keysFromBundle(t,r,i,a){var o=[],l=new Set;i.forEach((function(i,u){var c=i.id,h=i.args;if(void 0===a[u]){var d=r.getMessage(c);if(d){o.length=0;a[u]=t(r,o,d,h);if(o.length>0&&"undefined"!=typeof console){var p=r.locales[0],v=o.join(", ");console.warn("[fluent][resolver] errors in ".concat(p,"/").concat(c,": ").concat(v,"."))}}else l.add(c)}}));return l}function dom_localization_typeof(t){return dom_localization_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dom_localization_typeof(t)}function dom_localization_regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */dom_localization_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==dom_localization_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(dom_localization_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function dom_localization_asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function dom_localization_createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function dom_localization_unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return dom_localization_arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return dom_localization_arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function dom_localization_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function dom_localization_defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function dom_localization_toPrimitive(t,r){if("object"!==dom_localization_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==dom_localization_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===dom_localization_typeof(l)?l:String(l)),a)}var o,l}function _get(){_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,r,i){var a=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=dom_localization_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?t:i):o.value}};return _get.apply(this,arguments)}function dom_localization_setPrototypeOf(t,r){dom_localization_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return dom_localization_setPrototypeOf(t,r)}function dom_localization_createSuper(t){var r=function dom_localization_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=dom_localization_getPrototypeOf(t);if(r){var o=dom_localization_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function dom_localization_possibleConstructorReturn(t,r){if(r&&("object"===dom_localization_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function dom_localization_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function dom_localization_getPrototypeOf(t){dom_localization_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return dom_localization_getPrototypeOf(t)}var d="data-l10n-id",p="data-l10n-args",v="[".concat(d,"]"),y=function(t){!function dom_localization_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&dom_localization_setPrototypeOf(t,r)}(DOMLocalization,t);var r,i=dom_localization_createSuper(DOMLocalization);function DOMLocalization(t,r){var a;!function dom_localization_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,DOMLocalization);(a=i.call(this,t,r)).roots=new Set;a.pendingrAF=null;a.pendingElements=new Set;a.windowElement=null;a.mutationObserver=null;a.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[d,p]};return a}!function dom_localization_createClass(t,r,i){r&&dom_localization_defineProperties(t.prototype,r);i&&dom_localization_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(DOMLocalization,[{key:"onChange",value:function onChange(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_get(dom_localization_getPrototypeOf(DOMLocalization.prototype),"onChange",this).call(this,t);this.roots&&this.translateRoots()}},{key:"setAttributes",value:function setAttributes(t,r,i){t.setAttribute(d,r);i?t.setAttribute(p,JSON.stringify(i)):t.removeAttribute(p);return t}},{key:"getAttributes",value:function getAttributes(t){return{id:t.getAttribute(d),args:JSON.parse(t.getAttribute(p)||null)}}},{key:"connectRoot",value:function connectRoot(t){var r,i=this,a=dom_localization_createForOfIteratorHelper(this.roots);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o===t||o.contains(t)||t.contains(o))throw new Error("Cannot add a root that overlaps with existing root.")}}catch(t){a.e(t)}finally{a.f()}if(this.windowElement){if(this.windowElement!==t.ownerDocument.defaultView)throw new Error("Cannot connect a root:\n          DOMLocalization already has a root from a different window.")}else{this.windowElement=t.ownerDocument.defaultView;this.mutationObserver=new this.windowElement.MutationObserver((function(t){return i.translateMutations(t)}))}this.roots.add(t);this.mutationObserver.observe(t,this.observerConfig)}},{key:"disconnectRoot",value:function disconnectRoot(t){this.roots.delete(t);this.pauseObserving();if(0===this.roots.size){this.mutationObserver=null;this.windowElement=null;this.pendingrAF=null;this.pendingElements.clear();return!0}this.resumeObserving();return!1}},{key:"translateRoots",value:function translateRoots(){var t=this,r=Array.from(this.roots);return Promise.all(r.map((function(r){return t.translateFragment(r)})))}},{key:"pauseObserving",value:function pauseObserving(){if(this.mutationObserver){this.translateMutations(this.mutationObserver.takeRecords());this.mutationObserver.disconnect()}}},{key:"resumeObserving",value:function resumeObserving(){if(this.mutationObserver){var t,r=dom_localization_createForOfIteratorHelper(this.roots);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.mutationObserver.observe(i,this.observerConfig)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"translateMutations",value:function translateMutations(t){var r,i=this,a=dom_localization_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;switch(o.type){case"attributes":o.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(o.target);break;case"childList":var l,u=dom_localization_createForOfIteratorHelper(o.addedNodes);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(c.nodeType===c.ELEMENT_NODE)if(c.childElementCount){var h,p=dom_localization_createForOfIteratorHelper(this.getTranslatables(c));try{for(p.s();!(h=p.n()).done;){var v=h.value;this.pendingElements.add(v)}}catch(t){p.e(t)}finally{p.f()}}else c.hasAttribute(d)&&this.pendingElements.add(c)}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){a.e(t)}finally{a.f()}this.pendingElements.size>0&&null===this.pendingrAF&&(this.pendingrAF=this.windowElement.requestAnimationFrame((function(){i.translateElements(Array.from(i.pendingElements));i.pendingElements.clear();i.pendingrAF=null})))}},{key:"translateFragment",value:function translateFragment(t){return this.translateElements(this.getTranslatables(t))}},{key:"translateElements",value:(r=function dom_localization_asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){dom_localization_asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){dom_localization_asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}(dom_localization_regeneratorRuntime().mark((function _callee(t){var r,i;return dom_localization_regeneratorRuntime().wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(t.length){a.next=2;break}return a.abrupt("return",void 0);case 2:r=t.map(this.getKeysForElement);a.next=5;return this.formatMessages(r);case 5:i=a.sent;return a.abrupt("return",this.applyTranslations(t,i));case 7:case"end":return a.stop()}}),_callee,this)}))),function translateElements(t){return r.apply(this,arguments)})},{key:"applyTranslations",value:function applyTranslations(t,r){this.pauseObserving();for(var i=0;i<t.length;i++)void 0!==r[i]&&translateElement(t[i],r[i]);this.resumeObserving()}},{key:"getTranslatables",value:function getTranslatables(t){var r=Array.from(t.querySelectorAll(v));"function"==typeof t.hasAttribute&&t.hasAttribute(d)&&r.push(t);return r}},{key:"getKeysForElement",value:function getKeysForElement(t){return{id:t.getAttribute(d),args:JSON.parse(t.getAttribute(p)||null)}}}]);return DOMLocalization}(h)},3266:(t,r,i)=>{i.d(r,{warn:()=>warn});i(5897),i(5057),i(1210),i(3352),i(6421),i(7942),i(469),i(6180),i(895),i(1747),i(2374),i(7529),i(3757),i(3655),i(2555),i(2202),i(4226),i(4699),i(739),i(4816),i(6923),i(6775),i(6474),i(6450),i(1665),i(8837),i(9803),i(1293),i(1051),i(8260),i(5746),i(202),i(2138),i(368),i(9782),i(917),i(3650),i(8347),i(7192),i(354),i(9080),i(7238),i(7995),i(62),i(6635),i(4602),i(344),i(4305),i(7583),i(4668),i(4624),i(2796),i(2613),i(5136),i(7944),i(7230),i(924),i(7874),i(171),i(4711),i(7600),i(5666),i(5548),i(9366),i(6678),i(2926),i(7484),i(13),i(9175),i(6128),i(5598),i(8806),i(9593),i(5776);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}"object"!==("undefined"==typeof process?"undefined":_typeof(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&process.type;var a={ERRORS:0,WARNINGS:1,INFOS:5},o=a.WARNINGS;function warn(t){o>=a.WARNINGS&&("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?console.log("Warning: ".concat(t)):Window&&globalThis.ngxConsole?globalThis.ngxConsole.log("Warning: ".concat(t)):console.log("Warning: ".concat(t)))}function unreachable(t){throw new Error(t)}!function BaseExceptionClosure(){function BaseException(t,r){this.constructor===BaseException&&unreachable("Cannot initialize BaseException.");this.message=t;this.name=r}BaseException.prototype=new Error;BaseException.constructor=BaseException}();_toConsumableArray(Array(256).keys()).map((function(t){return t.toString(16).padStart(2,"0")}))},631:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{AltTextManager:()=>j});i(8341),i(3352),i(6180),i(895),i(1747),i(7484),i(2374),i(394),i(5598),i(8806),i(9366),i(6678),i(5897),i(5666),i(171),i(924),i(9593),i(7942),i(5776),i(2926),i(1133),i(2173),i(2630),i(1024),i(13),i(4226),i(7121),i(6770),i(1378);var o=i(1869),l=t([o]);o=(l.then?(await l)():l)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var u=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,v=new WeakMap,y=new WeakMap,g=new WeakMap,m=new WeakMap,_=new WeakMap,b=new WeakMap,w=new WeakMap,P=new WeakMap,A=new WeakMap,S=new WeakMap,E=new WeakMap,x=new WeakMap,k=new WeakMap,D=new WeakMap,C=new WeakSet,T=new WeakSet,I=new WeakSet,O=new WeakSet,M=new WeakSet,L=new WeakSet,G=new WeakSet,R=new WeakSet,j=function(){function AltTextManager(t,r,i,a){var o=this,l=t.dialog,j=t.optionDescription,B=t.optionDecorative,N=t.textarea,W=t.cancelButton,V=t.saveButton;_classCallCheck(this,AltTextManager);_classPrivateMethodInitSpec(this,R);_classPrivateMethodInitSpec(this,G);_classPrivateMethodInitSpec(this,L);_classPrivateMethodInitSpec(this,M);_classPrivateMethodInitSpec(this,O);_classPrivateMethodInitSpec(this,I);_classPrivateMethodInitSpec(this,T);_classPrivateMethodInitSpec(this,C);_classPrivateFieldInitSpec(this,u,{writable:!0,value:_classPrivateMethodGet(this,M,_updateUIState2).bind(this)});_classPrivateFieldInitSpec(this,c,{writable:!0,value:_classPrivateMethodGet(this,T,_setPosition2).bind(this)});_classPrivateFieldInitSpec(this,h,{writable:!0,value:_classPrivateMethodGet(this,G,_onClick2).bind(this)});_classPrivateFieldInitSpec(this,d,{writable:!0,value:null});_classPrivateFieldInitSpec(this,p,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,v,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,y,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,g,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,m,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,_,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,b,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,w,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,P,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,A,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,S,{writable:!0,value:null});_classPrivateFieldInitSpec(this,E,{writable:!0,value:null});_classPrivateFieldInitSpec(this,x,{writable:!0,value:null});_classPrivateFieldInitSpec(this,k,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,D,{writable:!0,value:null});_classPrivateFieldSet(this,v,l);_classPrivateFieldSet(this,m,j);_classPrivateFieldSet(this,_,B);_classPrivateFieldSet(this,P,N);_classPrivateFieldSet(this,p,W);_classPrivateFieldSet(this,w,V);_classPrivateFieldSet(this,b,i);_classPrivateFieldSet(this,y,a);_classPrivateFieldSet(this,k,r);l.addEventListener("close",_classPrivateMethodGet(this,O,_close2).bind(this));l.addEventListener("contextmenu",(function(t){t.target!==_classPrivateFieldGet(o,P)&&t.preventDefault()}));W.addEventListener("click",_classPrivateMethodGet(this,I,_finish2).bind(this));V.addEventListener("click",_classPrivateMethodGet(this,L,_save2).bind(this));j.addEventListener("change",_classPrivateFieldGet(this,u));B.addEventListener("change",_classPrivateFieldGet(this,u));_classPrivateFieldGet(this,b).register(l)}_createClass(AltTextManager,[{key:"_elements",get:function get(){return(0,o.shadow)(this,"_elements",[_classPrivateFieldGet(this,m),_classPrivateFieldGet(this,_),_classPrivateFieldGet(this,P),_classPrivateFieldGet(this,w),_classPrivateFieldGet(this,p)])}},{key:"editAltText",value:(r=(t=_regeneratorRuntime().mark((function _callee(t,r){var i,a,o,l;return _regeneratorRuntime().wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:if(!_classPrivateFieldGet(this,d)&&r){u.next=2;break}return u.abrupt("return");case 2:_classPrivateMethodGet(this,C,_createSVGElement2).call(this);_classPrivateFieldSet(this,g,!1);i=_createForOfIteratorHelper(this._elements);try{for(i.s();!(a=i.n()).done;)a.value.addEventListener("click",_classPrivateFieldGet(this,h))}catch(t){i.e(t)}finally{i.f()}o=r.altTextData,l=o.altText;if(!0===o.decorative){_classPrivateFieldGet(this,_).checked=!0;_classPrivateFieldGet(this,m).checked=!1}else{_classPrivateFieldGet(this,_).checked=!1;_classPrivateFieldGet(this,m).checked=!0}_classPrivateFieldSet(this,S,_classPrivateFieldGet(this,P).value=(null==l?void 0:l.trim())||"");_classPrivateMethodGet(this,M,_updateUIState2).call(this);_classPrivateFieldSet(this,d,r);_classPrivateFieldSet(this,A,t);_classPrivateFieldGet(this,A).removeEditListeners();_classPrivateFieldGet(this,y)._on("resize",_classPrivateFieldGet(this,c));u.prev=14;u.next=17;return _classPrivateFieldGet(this,b).open(_classPrivateFieldGet(this,v));case 17:_classPrivateMethodGet(this,T,_setPosition2).call(this);u.next=24;break;case 20:u.prev=20;u.t0=u.catch(14);_classPrivateMethodGet(this,O,_close2).call(this);throw u.t0;case 24:case"end":return u.stop()}}),_callee,this,[[14,20]])})),function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}),function editAltText(t,i){return r.apply(this,arguments)})},{key:"destroy",value:function destroy(){var t;_classPrivateFieldSet(this,A,null);_classPrivateMethodGet(this,I,_finish2).call(this);null===(t=_classPrivateFieldGet(this,E))||void 0===t||t.remove();_classPrivateFieldSet(this,E,_classPrivateFieldSet(this,x,null))}}]);var t,r;return AltTextManager}();function _createSVGElement2(){if(!_classPrivateFieldGet(this,E)){var t=new o.DOMSVGFactory,r=_classPrivateFieldSet(this,E,t.createElement("svg"));r.setAttribute("width","0");r.setAttribute("height","0");var i=t.createElement("defs");r.append(i);var a=t.createElement("mask");i.append(a);a.setAttribute("id","alttext-manager-mask");a.setAttribute("maskContentUnits","objectBoundingBox");var l=t.createElement("rect");a.append(l);l.setAttribute("fill","white");l.setAttribute("width","1");l.setAttribute("height","1");l.setAttribute("x","0");l.setAttribute("y","0");l=_classPrivateFieldSet(this,x,t.createElement("rect"));a.append(l);l.setAttribute("fill","black");_classPrivateFieldGet(this,v).append(r)}}function _setPosition2(){if(_classPrivateFieldGet(this,d)){var t=_classPrivateFieldGet(this,v),r=t.style,i=_classPrivateFieldGet(this,k).getBoundingClientRect(),a=i.x,o=i.y,l=i.width,u=i.height,c=window,h=c.innerWidth,p=c.innerHeight,y=t.getBoundingClientRect(),g=y.width,m=y.height,_=_classPrivateFieldGet(this,d).getClientDimensions(),b=_.x,w=_.y,P=_.width,S=_.height,E=10,D="ltr"===_classPrivateFieldGet(this,A).direction,C=Math.max(b,a),T=Math.min(b+P,a+l),I=Math.max(w,o),O=Math.min(w+S,o+u);_classPrivateFieldGet(this,x).setAttribute("width","".concat((T-C)/h));_classPrivateFieldGet(this,x).setAttribute("height","".concat((O-I)/p));_classPrivateFieldGet(this,x).setAttribute("x","".concat(C/h));_classPrivateFieldGet(this,x).setAttribute("y","".concat(I/p));var M=null,L=Math.max(w,0);L+=Math.min(p-(L+m),0);D?b+P+E+g<h?M=b+P+E:b>g+E&&(M=b-g-E):b>g+E?M=b-g-E:b+P+E+g<h&&(M=b+P+E);if(null===M){L=null;M=Math.max(b,0);M+=Math.min(h-(M+g),0);w>m+E?L=w-m-E:w+S+E+m<p&&(L=w+S+E)}if(null!==L){t.classList.add("positioned");D?r.left="".concat(M,"px"):r.right="".concat(h-M-g,"px");r.top="".concat(L,"px")}else{t.classList.remove("positioned");r.left="";r.top=""}}}function _finish2(){_classPrivateFieldGet(this,b).active===_classPrivateFieldGet(this,v)&&_classPrivateFieldGet(this,b).close(_classPrivateFieldGet(this,v))}function _close2(){var t;_classPrivateFieldGet(this,y).dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:_classPrivateFieldGet(this,d).editorType,data:_classPrivateFieldGet(this,D)||{action:"alt_text_cancel",alt_text_keyboard:!_classPrivateFieldGet(this,g)}}});_classPrivateFieldSet(this,D,null);_classPrivateMethodGet(this,R,_removeOnClickListeners2).call(this);null===(t=_classPrivateFieldGet(this,A))||void 0===t||t.addEditListeners();_classPrivateFieldGet(this,y)._off("resize",_classPrivateFieldGet(this,c));_classPrivateFieldGet(this,d).altTextFinish();_classPrivateFieldSet(this,d,null);_classPrivateFieldSet(this,A,null)}function _updateUIState2(){_classPrivateFieldGet(this,P).disabled=_classPrivateFieldGet(this,_).checked}function _save2(){var t=_classPrivateFieldGet(this,P).value.trim(),r=_classPrivateFieldGet(this,_).checked;_classPrivateFieldGet(this,d).altTextData={altText:t,decorative:r};_classPrivateFieldSet(this,D,{action:"alt_text_save",alt_text_description:!!t,alt_text_edit:!!_classPrivateFieldGet(this,S)&&_classPrivateFieldGet(this,S)!==t,alt_text_decorative:r,alt_text_keyboard:!_classPrivateFieldGet(this,g)});_classPrivateMethodGet(this,I,_finish2).call(this)}function _onClick2(t){if(0!==t.detail){_classPrivateFieldSet(this,g,!0);_classPrivateMethodGet(this,R,_removeOnClickListeners2).call(this)}}function _removeOnClickListeners2(){var t,r=_createForOfIteratorHelper(this._elements);try{for(r.s();!(t=r.n()).done;){t.value.removeEventListener("click",_classPrivateFieldGet(this,h))}}catch(t){r.e(t)}finally{r.f()}}a()}catch(B){a(B)}}))},2640:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{AnnotationEditorLayerBuilder:()=>d});i(3352),i(6180),i(895),i(1747),i(7484),i(2374),i(5598),i(8806),i(9366),i(6678),i(5897),i(5666),i(2926),i(1133),i(2173),i(2630),i(1024),i(13),i(4226),i(7121),i(6770),i(1378),i(171);var o=i(1869),l=i(7910),u=t([o,l]);[o,l]=u.then?(await u)():u;function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}var c=new WeakMap,h=new WeakMap,d=function(){function AnnotationEditorLayerBuilder(t){_classCallCheck(this,AnnotationEditorLayerBuilder);_classPrivateFieldInitSpec(this,c,{writable:!0,value:null});_classPrivateFieldInitSpec(this,h,{writable:!0,value:void 0});this.pageDiv=t.pageDiv;this.pdfPage=t.pdfPage;this.accessibilityManager=t.accessibilityManager;this.l10n=t.l10n||l.NullL10n;this.annotationEditorLayer=null;this.div=null;this._cancelled=!1;_classPrivateFieldSet(this,h,t.uiManager);_classPrivateFieldSet(this,c,t.annotationLayer||null)}_createClass(AnnotationEditorLayerBuilder,[{key:"render",value:(r=(t=_regeneratorRuntime().mark((function _callee(t){var r,i,a,l,u=arguments;return _regeneratorRuntime().wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:if("display"===(r=u.length>1&&void 0!==u[1]?u[1]:"display")){d.next=3;break}return d.abrupt("return");case 3:if(!this._cancelled){d.next=5;break}return d.abrupt("return");case 5:i=t.clone({dontFlip:!0});if(!this.div){d.next=10;break}this.annotationEditorLayer.update({viewport:i});this.show();return d.abrupt("return");case 10:(a=this.div=document.createElement("div")).className="annotationEditorLayer";a.tabIndex=0;a.hidden=!0;a.dir=_classPrivateFieldGet(this,h).direction;this.pageDiv.append(a);this.annotationEditorLayer=new o.AnnotationEditorLayer({uiManager:_classPrivateFieldGet(this,h),div:a,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:_classPrivateFieldGet(this,c)});l={viewport:i,div:a,annotations:null,intent:r};this.annotationEditorLayer.render(l);this.show();case 20:case"end":return d.stop()}}),_callee,this)})),function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}),function render(t){return r.apply(this,arguments)})},{key:"cancel",value:function cancel(){this._cancelled=!0;if(this.div){this.pageDiv=null;this.annotationEditorLayer.destroy();this.div.remove()}}},{key:"hide",value:function hide(){this.div&&(this.div.hidden=!0)}},{key:"show",value:function show(){this.div&&!this.annotationEditorLayer.isEmpty&&(this.div.hidden=!1)}}]);var t,r;return AnnotationEditorLayerBuilder}();a()}catch(p){a(p)}}))},1296:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{AnnotationEditorParams:()=>c});i(3352),i(6180),i(895),i(1747),i(394),i(2374),i(5598),i(8806),i(9366),i(6678),i(5897),i(171),i(924),i(9593),i(7942),i(5776),i(2926),i(4226);var o=i(1869),l=t([o]);o=(l.then?(await l)():l)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var u=new WeakSet,c=_createClass((function AnnotationEditorParams(t,r){_classCallCheck(this,AnnotationEditorParams);_classPrivateMethodInitSpec(this,u);this.eventBus=r;_classPrivateMethodGet(this,u,_bindListeners2).call(this,t)}));function _bindListeners2(t){var r=this,i=t.editorFreeTextFontSize,a=t.editorFreeTextColor,l=t.editorInkColor,u=t.editorInkThickness,c=t.editorInkOpacity,h=t.editorStampAddImage,d=function dispatchEvent(t,i){r.eventBus.dispatch("switchannotationeditorparams",{source:r,type:o.AnnotationEditorParamsType[t],value:i})};i.addEventListener("input",(function(){d("FREETEXT_SIZE",this.valueAsNumber)}));a.addEventListener("input",(function(){d("FREETEXT_COLOR",this.value)}));l.addEventListener("input",(function(){d("INK_COLOR",this.value)}));u.addEventListener("input",(function(){d("INK_THICKNESS",this.valueAsNumber)}));c.addEventListener("input",(function(){d("INK_OPACITY",this.valueAsNumber)}));h.addEventListener("click",(function(){d("CREATE")}));this.eventBus._on("annotationeditorparamschanged",(function(t){var r,h,d,p=_createForOfIteratorHelper(t.details);try{for(p.s();!(r=p.n()).done;){var v=(h=r.value,d=2,_arrayWithHoles(h)||_iterableToArrayLimit(h,d)||_unsupportedIterableToArray(h,d)||_nonIterableRest()),y=v[0],g=v[1];switch(y){case o.AnnotationEditorParamsType.FREETEXT_SIZE:i.value=g;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:a.value=g;break;case o.AnnotationEditorParamsType.INK_COLOR:l.value=g;break;case o.AnnotationEditorParamsType.INK_THICKNESS:u.value=g;break;case o.AnnotationEditorParamsType.INK_OPACITY:c.value=g}}}catch(t){p.e(t)}finally{p.f()}}))}a()}catch(h){a(h)}}))},6735:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{AnnotationLayerBuilder:()=>d});i(895),i(5666),i(6180),i(1747),i(2374),i(3352),i(7484),i(394),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926),i(4226),i(171),i(924),i(9593),i(7942),i(5776),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378);var o=i(1869),l=i(4927),u=t([o]);o=(u.then?(await u)():u)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var c=new WeakMap,h=new WeakSet,d=function(){function AnnotationLayerBuilder(t){var r=t.pageDiv,i=t.pdfPage,a=t.linkService,o=t.downloadManager,l=t.annotationStorage,u=void 0===l?null:l,d=t.imageResourcesPath,p=void 0===d?"":d,v=t.renderForms,y=void 0===v||v,g=t.enableScripting,m=void 0!==g&&g,_=t.hasJSActionsPromise,b=void 0===_?null:_,w=t.fieldObjectsPromise,P=void 0===w?null:w,A=t.annotationCanvasMap,S=void 0===A?null:A,E=t.accessibilityManager,x=void 0===E?null:E;_classCallCheck(this,AnnotationLayerBuilder);_classPrivateMethodInitSpec(this,h);_classPrivateFieldInitSpec(this,c,{writable:!0,value:null});this.pageDiv=r;this.pdfPage=i;this.linkService=a;this.downloadManager=o;this.imageResourcesPath=p;this.renderForms=y;this.annotationStorage=u;this.enableScripting=m;this._hasJSActionsPromise=b||Promise.resolve(!1);this._fieldObjectsPromise=P||Promise.resolve(null);this._annotationCanvasMap=S;this._accessibilityManager=x;this.annotationLayer=null;this.div=null;this._cancelled=!1;this._eventBus=a.eventBus}_createClass(AnnotationLayerBuilder,[{key:"render",value:(r=(t=_regeneratorRuntime().mark((function _callee(t){var r,i,a,u,d,p,v,y,g=this,m=arguments;return _regeneratorRuntime().wrap((function _callee$(_){for(;;)switch(_.prev=_.next){case 0:r=m.length>1&&void 0!==m[1]?m[1]:"display";if(!this.div){_.next=6;break}if(!this._cancelled&&this.annotationLayer){_.next=4;break}return _.abrupt("return");case 4:this.annotationLayer.update({viewport:t.clone({dontFlip:!0})});return _.abrupt("return");case 6:_.next=8;return Promise.all([this.pdfPage.getAnnotations({intent:r}),this._hasJSActionsPromise,this._fieldObjectsPromise]);case 8:i=_.sent;a=(w=3,_arrayWithHoles(b=i)||_iterableToArrayLimit(b,w)||_unsupportedIterableToArray(b,w)||_nonIterableRest());u=a[0];d=a[1];p=a[2];if(!this._cancelled){_.next=15;break}return _.abrupt("return");case 15:(v=this.div=document.createElement("div")).className="annotationLayer";this.pageDiv.append(v);if(0!==u.length){_.next=21;break}this.hide();return _.abrupt("return");case 21:this.annotationLayer=new o.AnnotationLayer({div:v,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,page:this.pdfPage,viewport:t.clone({dontFlip:!0})});_.next=24;return this.annotationLayer.render({annotations:u,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:d,fieldObjects:p});case 24:this.linkService.isInPresentationMode&&_classPrivateMethodGet(this,h,_updatePresentationModeState2).call(this,l.PresentationModeState.FULLSCREEN);if(!_classPrivateFieldGet(this,c)){_classPrivateFieldSet(this,c,(function(t){_classPrivateMethodGet(g,h,_updatePresentationModeState2).call(g,t.state)}));null===(y=this._eventBus)||void 0===y||y._on("presentationmodechanged",_classPrivateFieldGet(this,c))}case 26:case"end":return _.stop()}var b,w}),_callee,this)})),function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}),function render(t){return r.apply(this,arguments)})},{key:"cancel",value:function cancel(){this._cancelled=!0;if(_classPrivateFieldGet(this,c)){var t;null===(t=this._eventBus)||void 0===t||t._off("presentationmodechanged",_classPrivateFieldGet(this,c));_classPrivateFieldSet(this,c,null)}}},{key:"hide",value:function hide(){this.div&&(document.querySelector("[data-pdfjsprinting=true]")||(this.div.hidden=!0))}}]);var t,r;return AnnotationLayerBuilder}();function _updatePresentationModeState2(t){if(this.div){var r=!1;switch(t){case l.PresentationModeState.FULLSCREEN:r=!0;break;case l.PresentationModeState.NORMAL:break;default:return}var i,a=_createForOfIteratorHelper(this.div.childNodes);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.hasAttribute("data-internal-link")||(o.inert=r)}}catch(t){a.e(t)}finally{a.f()}}}a()}catch(p){a(p)}}))},39:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{DefaultExternalServices:()=>B,PDFPrintServiceFactory:()=>q,PDFViewerApplication:()=>N});i(3352),i(895),i(5666),i(5598),i(8806),i(9366),i(6678),i(5897),i(7942),i(5459),i(7874),i(4226),i(6180),i(1747),i(2374),i(9142),i(1210),i(7121),i(8518),i(5776),i(8341),i(924),i(7254),i(3143),i(7529),i(3757),i(3655),i(2555),i(2202),i(2796),i(4165),i(3821),i(2926),i(1133),i(2173),i(2630),i(1024),i(13),i(6770),i(1378),i(171),i(9593),i(4668),i(1585),i(2993),i(7262),i(7335);var o=i(4927),l=i(1869),u=i(5318),c=i(8961),h=i(6554),d=i(3234),p=i(631),v=i(1296),y=i(1996),g=i(6329),m=i(716),_=i(3611),b=i(6312),w=i(1795),P=i(3557),A=i(6418),S=i(3706),E=i(1141),x=i(323),k=i(5119),D=i(2599),C=i(4487),T=i(3510),I=i(9290),O=i(1544),M=i(276),L=i(2033),G=t([l,p,v,g,m,_,b,w,P,E,x,k,D,T,I,O,M]);[l,p,v,g,m,_,b,w,P,E,x,k,D,T,I,O,M]=G.then?(await G)():G;function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_unsupportedIterableToArray(t,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach((function(r){_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function _defineProperty(t,r,i){(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPropertyKey(t){var r=_toPrimitive(t,"string");return"symbol"===_typeof(r)?r:String(r)}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var R=1e3,j={UNKNOWN:-1,PREVIOUS:0,INITIAL:1},B=function(){function DefaultExternalServices(){_classCallCheck(this,DefaultExternalServices);throw new Error("Cannot initialize DefaultExternalServices.")}_createClass(DefaultExternalServices,null,[{key:"updateFindControlState",value:function updateFindControlState(t){}},{key:"updateFindMatchesCount",value:function updateFindMatchesCount(t){}},{key:"initPassiveLoading",value:function initPassiveLoading(t){}},{key:"reportTelemetry",value:function reportTelemetry(t){}},{key:"createDownloadManager",value:function createDownloadManager(){throw new Error("Not implemented: createDownloadManager")}},{key:"createPreferences",value:function createPreferences(){throw new Error("Not implemented: createPreferences")}},{key:"createL10n",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: createL10n");case 1:case"end":return t.stop()}}),_callee)}))),function createL10n(){return t.apply(this,arguments)})},{key:"createScripting",value:function createScripting(t){throw new Error("Not implemented: createScripting")}},{key:"updateEditorStates",value:function updateEditorStates(t){throw new Error("Not implemented: updateEditorStates")}},{key:"getNimbusExperimentData",value:function getNimbusExperimentData(){return(0,l.shadow)(this,"getNimbusExperimentData",Promise.resolve(null))}}]);var t;return DefaultExternalServices}(),N={initialBookmark:document.location.hash.substring(1),_initializedCapability:new l.PromiseCapability,appConfig:null,pdfDocument:null,pdfLoadingTask:null,printService:null,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pdfPresentationMode:null,pdfDocumentProperties:null,pdfLinkService:null,pdfHistory:null,pdfSidebar:null,pdfOutlineViewer:null,pdfAttachmentViewer:null,pdfLayerViewer:null,pdfCursorTools:null,pdfScriptingManager:null,store:null,downloadManager:null,overlayManager:null,preferences:null,toolbar:null,secondaryToolbar:null,eventBus:null,l10n:null,annotationEditorParams:null,isInitialViewSet:!1,downloadComplete:!1,isViewerEmbedded:window.parent!==window,url:"",baseUrl:"",_downloadUrl:"",externalServices:B,_boundEvents:Object.create(null),documentInfo:null,metadata:null,_contentDispositionFilename:null,_contentLength:null,_saveInProgress:!1,_wheelUnusedTicks:0,_wheelUnusedFactor:1,_touchUnusedTicks:0,_touchUnusedFactor:1,_PDFBug:null,_hasAnnotationEditors:!1,_title:document.title,_printAnnotationStoragePromise:null,_touchInfo:null,_isCtrlKeyDown:!1,_nimbusDataPromise:null,initialize:function initialize(t){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var i,a;return _regeneratorRuntime().wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:r.appConfig=t;o.prev=1;o.next=4;return r.preferences.initializedPromise;case 4:o.next=9;break;case 6:o.prev=6;o.t0=o.catch(1);console.error('initialize: "'.concat(o.t0.message,'".'));case 9:if(!c.AppOptions.get("pdfBugEnabled")){o.next=12;break}o.next=12;return r._parseHashParams();case 12:o.t1=c.AppOptions.get("viewerCssTheme");o.next=1===o.t1?15:2===o.t1?17:19;break;case 15:a="is-light";return o.abrupt("break",19);case 17:a="is-dark";return o.abrupt("break",19);case 19:a&&document.documentElement.classList.add(a);i=r.externalServices.createL10n();o.next=23;return i;case 23:r.l10n=o.sent;document.getElementsByTagName("html")[0].dir=r.l10n.getDirection();r.l10n.translate(t.appContainer||document.documentElement);r.isViewerEmbedded&&c.AppOptions.get("externalLinkTarget")===d.LinkTarget.NONE&&c.AppOptions.set("externalLinkTarget",d.LinkTarget.TOP);o.next=29;return r._initializeViewerComponents();case 29:r.bindEvents();r.bindWindowEvents();r._initializedCapability.resolve();r.initializeLoadingBar();case 33:case"end":return o.stop()}}),_callee2,null,[[1,6]])})))()},_parseHashParams:function _parseHashParams(){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var r,i,a,l,u,h;return _regeneratorRuntime().wrap((function _callee3$(d){for(;;)switch(d.prev=d.next){case 0:if(r=document.location.hash.substring(1)){d.next=3;break}return d.abrupt("return");case 3:i=t.appConfig,a=i.mainContainer,l=i.viewerContainer;if("true"!==(u=(0,o.parseQueryString)(r)).get("disableworker")){d.next=13;break}d.prev=5;d.next=8;return loadFakeWorker();case 8:d.next=13;break;case 10:d.prev=10;d.t0=d.catch(5);console.error('_parseHashParams: "'.concat(d.t0.message,'".'));case 13:u.has("disablerange")&&c.AppOptions.set("disableRange","true"===u.get("disablerange"));u.has("disablestream")&&c.AppOptions.set("disableStream","true"===u.get("disablestream"));u.has("disableautofetch")&&c.AppOptions.set("disableAutoFetch","true"===u.get("disableautofetch"));u.has("disablefontface")&&c.AppOptions.set("disableFontFace","true"===u.get("disablefontface"));u.has("disablehistory")&&c.AppOptions.set("disableHistory","true"===u.get("disablehistory"));u.has("verbosity")&&c.AppOptions.set("verbosity",0|u.get("verbosity"));if(!u.has("textlayer")){d.next=36;break}d.t1=u.get("textlayer");d.next="off"===d.t1?23:"visible"===d.t1||"shadow"===d.t1||"hover"===d.t1?25:36;break;case 23:c.AppOptions.set("textLayerMode",o.TextLayerMode.DISABLE);return d.abrupt("break",36);case 25:l.classList.add("textLayer-".concat(u.get("textlayer")));d.prev=26;d.next=29;return loadPDFBug(t);case 29:t._PDFBug.loadCSS();d.next=35;break;case 32:d.prev=32;d.t2=d.catch(26);console.error('_parseHashParams: "'.concat(d.t2.message,'".'));case 35:return d.abrupt("break",36);case 36:if(!u.has("pdfbug")){d.next=49;break}c.AppOptions.set("pdfBug",!0);c.AppOptions.set("fontExtraProperties",!0);h=u.get("pdfbug").split(",");d.prev=40;d.next=43;return loadPDFBug(t);case 43:t._PDFBug.init(a,h);d.next=49;break;case 46:d.prev=46;d.t3=d.catch(40);console.error('_parseHashParams: "'.concat(d.t3.message,'".'));case 49:u.has("locale")&&c.AppOptions.set("locale",u.get("locale"));case 50:case"end":return d.stop()}}),_callee3,null,[[5,10],[26,32],[40,46]])})))()},_initializeViewerComponents:function _initializeViewerComponents(){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){var r,i,a,u,L,G,R,j,B,N,W,V,z,H,U,q,K,Y,X,$,Z,Q,J,ee,te,re,ne,ie,ae;return _regeneratorRuntime().wrap((function _callee4$(oe){for(;;)switch(oe.prev=oe.next){case 0:j=t.appConfig,B=t.externalServices,N=t.l10n;W=c.AppOptions.get("isInAutomation")?new h.AutomationEventBus:new h.EventBus;t.eventBus=W;t.overlayManager=new y.OverlayManager;(V=new k.PDFRenderingQueue).onIdle=t._cleanup.bind(t);t.pdfRenderingQueue=V;z=new d.PDFLinkService({eventBus:W,externalLinkTarget:c.AppOptions.get("externalLinkTarget"),externalLinkRel:c.AppOptions.get("externalLinkRel"),ignoreDestinationZoom:c.AppOptions.get("ignoreDestinationZoom")});t.pdfLinkService=z;H=B.createDownloadManager();t.downloadManager=H;U=new P.PDFFindController({linkService:z,eventBus:W,pageViewMode:c.AppOptions.get("pageViewMode"),updateMatchesCountOnProgress:!0});t.findController=U;q=new D.PDFScriptingManager({eventBus:W,sandboxBundleSrc:c.AppOptions.get("sandboxBundleSrc"),externalServices:B,docProperties:t._scriptingDocProperties.bind(t)});t.pdfScriptingManager=q;K=j.mainContainer,Y=j.viewerContainer;X=c.AppOptions.get("annotationEditorMode");$=c.AppOptions.get("isOffscreenCanvasSupported")&&l.FeatureTest.isOffscreenCanvasSupported;Z=c.AppOptions.get("forcePageColors")||window.matchMedia("(forced-colors: active)").matches?{background:c.AppOptions.get("pageColorsBackground"),foreground:c.AppOptions.get("pageColorsForeground")}:null;Q=j.altTextDialog?new p.AltTextManager(j.altTextDialog,K,t.overlayManager,W):null;J=new I.PDFViewer({container:K,viewer:Y,eventBus:W,renderingQueue:V,linkService:z,downloadManager:H,altTextManager:Q,findController:U,scriptingManager:c.AppOptions.get("enableScripting")&&q,l10n:N,textLayerMode:c.AppOptions.get("textLayerMode"),annotationMode:c.AppOptions.get("annotationMode"),annotationEditorMode:X,imageResourcesPath:c.AppOptions.get("imageResourcesPath"),removePageBorders:c.AppOptions.get("removePageBorders"),enablePrintAutoRotate:c.AppOptions.get("enablePrintAutoRotate"),isOffscreenCanvasSupported:$,maxCanvasPixels:c.AppOptions.get("maxCanvasPixels"),pageViewMode:c.AppOptions.get("pageViewMode"),enablePermissions:c.AppOptions.get("enablePermissions"),pageColors:Z});t.pdfViewer=J;V.setViewer(J);z.setViewer(J);q.setViewer(J);if(null!==(r=j.sidebar)&&void 0!==r&&r.thumbnailView){t.pdfThumbnailViewer=new T.PDFThumbnailViewer({container:j.sidebar.thumbnailView,eventBus:W,renderingQueue:V,linkService:z,pageColors:Z});V.setThumbnailViewer(t.pdfThumbnailViewer)}if(!t.isViewerEmbedded&&!c.AppOptions.get("disableHistory")){t.pdfHistory=new A.PDFHistory({linkService:z,eventBus:W});z.setHistory(t.pdfHistory)}!t.supportsIntegratedFind&&j.findBar&&(t.findBar=new w.PDFFindBar(j.findBar,W));if(j.annotationEditorParams)if(X!==l.AnnotationEditorType.DISABLE){$||null===(ee=j.toolbar)||void 0===ee||null===(ee=ee.editorStampButton)||void 0===ee||ee.classList.add("hidden");t.annotationEditorParams=new v.AnnotationEditorParams(j.annotationEditorParams,W)}else for(te=0,re=["editorModeButtons","editorModeSeparator"];te<re.length;te++){ie=re[te];null===(ne=document.getElementById(ie))||void 0===ne||ne.classList.add("hidden")}j.documentProperties&&(t.pdfDocumentProperties=new b.PDFDocumentProperties(j.documentProperties,t.overlayManager,W,N,(function(){return t._docFilename})));null!==(i=j.secondaryToolbar)&&void 0!==i&&i.cursorHandToolButton&&(t.pdfCursorTools=new _.PDFCursorTools({container:K,eventBus:W,cursorToolOnLoad:c.AppOptions.get("cursorToolOnLoad")}));j.toolbar&&(t.toolbar=new M.Toolbar(j.toolbar,W));j.secondaryToolbar&&(t.secondaryToolbar=new O.SecondaryToolbar(j.secondaryToolbar,W));t.supportsFullscreen&&(null!==(a=j.toolbar)&&void 0!==a&&a.presentationModeButton||null!==(u=j.secondaryToolbar)&&void 0!==u&&u.presentationModeButton)&&(t.pdfPresentationMode=new x.PDFPresentationMode({container:K,pdfViewer:J,eventBus:W}));(ae=c.AppOptions.get("passwordPrompt"))?t.passwordPrompt=ae:j.passwordOverlay&&(t.passwordPrompt=new g.PasswordPrompt(j.passwordOverlay,t.overlayManager,t.isViewerEmbedded));null!==(L=j.sidebar)&&void 0!==L&&L.outlineView&&(t.pdfOutlineViewer=new E.PDFOutlineViewer({container:j.sidebar.outlineView,eventBus:W,l10n:N,linkService:z,downloadManager:H}));null!==(G=j.sidebar)&&void 0!==G&&G.attachmentsView&&(t.pdfAttachmentViewer=new m.PDFAttachmentViewer({container:j.sidebar.attachmentsView,eventBus:W,l10n:N,downloadManager:H}));null!==(R=j.sidebar)&&void 0!==R&&R.layersView&&(t.pdfLayerViewer=new S.PDFLayerViewer({container:j.sidebar.layersView,eventBus:W,l10n:N}));if(j.sidebar){t.pdfSidebar=new C.PDFSidebar({elements:j.sidebar,eventBus:W,l10n:N});t.pdfSidebar.onToggled=t.forceRendering.bind(t);t.pdfSidebar.onUpdateThumbnails=function(){var r,i=_createForOfIteratorHelper(J.getCachedPageViews());try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.renderingState===o.RenderingStates.FINISHED){var l;null===(l=t.pdfThumbnailViewer.getThumbnail(a.id-1))||void 0===l||l.setImage(a)}}}catch(t){i.e(t)}finally{i.f()}t.pdfThumbnailViewer.scrollThumbnailIntoView(J.currentPageNumber)}}case 40:case"end":return oe.stop()}}),_callee4)})))()},run:function run(t){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee5(){var i,a,l,u,h,d,p,v,y,g,m;return _regeneratorRuntime().wrap((function _callee5$(_){for(;;)switch(_.prev=_.next){case 0:r.preferences=r.externalServices.createPreferences();_.next=3;return r.initialize(t);case 3:a=r.appConfig,l=r.eventBus;h=document.location.search.substring(1);d=(0,o.parseQueryString)(h);u=null!==(i=d.get("file"))&&void 0!==i?i:c.AppOptions.get("defaultUrl");V(u);(p=a.openFileInput).value=null;p.addEventListener("change",(function(t){var r=t.target.files;r&&0!==r.length&&l.dispatch("fileinputchange",{source:this,fileInput:t.target})}));a.mainContainer.addEventListener("dragover",(function(t){if(c.AppOptions.get("enableDragAndDrop")){t.preventDefault();t.dataTransfer.dropEffect="copy"===t.dataTransfer.effectAllowed?"copy":"move"}}));a.mainContainer.addEventListener("drop",(function(t){t.preventDefault();var r=t.dataTransfer.files;r&&0!==r.length&&l.dispatch("fileinputchange",{source:this,fileInput:t.dataTransfer,dropEvent:t})}));if(!c.AppOptions.get("supportsDocumentFonts")){c.AppOptions.set("disableFontFace",!0);r.l10n.get("pdfjs-web-fonts-disabled").then((function(t){console.warn(t)}))}if(!r.supportsPrinting){null===(v=a.toolbar)||void 0===v||null===(v=v.print)||void 0===v||v.classList.add("hidden");null===(y=a.secondaryToolbar)||void 0===y||y.printButton.classList.add("hidden")}if(!r.supportsFullscreen){a.toolbar.presentationModeButton.classList.add("hidden");null===(g=a.secondaryToolbar)||void 0===g||g.presentationModeButton.classList.add("hidden")}r.supportsIntegratedFind&&(null===(m=a.toolbar)||void 0===m||null===(m=m.viewFind)||void 0===m||m.classList.add("hidden"));a.mainContainer.addEventListener("transitionend",(function(t){t.target===this&&l.dispatch("resize",{source:this})}),!0);try{u?r.open({url:u}):r._hideViewBookmark()}catch(t){l10n.get("loading_error").then((function(i){r._documentError(i,t);N.onError&&N.onError(t)}))}case 19:case"end":return _.stop()}}),_callee5)})))()},get initialized(){return this._initializedCapability.settled},get initializedPromise(){return this._initializedCapability.promise},zoomIn:function zoomIn(t,r){this.pdfViewer.isInPresentationMode||this.pdfViewer.increaseScale({drawingDelay:c.AppOptions.get("defaultZoomDelay"),steps:t,scaleFactor:r})},zoomOut:function zoomOut(t,r){this.pdfViewer.isInPresentationMode||this.pdfViewer.decreaseScale({drawingDelay:c.AppOptions.get("defaultZoomDelay"),steps:t,scaleFactor:r})},zoomReset:function zoomReset(){this.pdfViewer.isInPresentationMode||(this.pdfViewer.currentScaleValue=o.DEFAULT_SCALE_VALUE)},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(t){this.pdfViewer.currentPageNumber=t},get supportsPrinting(){return q.instance.supportsPrinting},get supportsFullscreen(){return(0,l.shadow)(this,"supportsFullscreen",document.fullscreenEnabled)},get supportsPinchToZoom(){return(0,l.shadow)(this,"supportsPinchToZoom",c.AppOptions.get("supportsPinchToZoom"))},get supportsIntegratedFind(){return(0,l.shadow)(this,"supportsIntegratedFind",c.AppOptions.get("supportsIntegratedFind"))},initializeLoadingBar:function initializeLoadingBar(){var t=document.getElementById("loadingBar"),r=t?new o.ProgressBar(t):null;null==r||r.hide();return(0,l.shadow)(this,"loadingBar",r)},get supportsMouseWheelZoomCtrlKey(){return(0,l.shadow)(this,"supportsMouseWheelZoomCtrlKey",c.AppOptions.get("supportsMouseWheelZoomCtrlKey"))},get supportsMouseWheelZoomMetaKey(){return(0,l.shadow)(this,"supportsMouseWheelZoomMetaKey",c.AppOptions.get("supportsMouseWheelZoomMetaKey"))},initPassiveLoading:function initPassiveLoading(t){throw new Error("Not implemented: initPassiveLoading")},setTitleUsingUrl:function setTitleUsingUrl(){},setTitle:function setTitle(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._title;this._title=t;if(!this.isViewerEmbedded){var r=this._hasAnnotationEditors&&!this.pdfRenderingQueue.printing;document.title="".concat(r?"* ":"").concat(t)}},get _docFilename(){return this._contentDispositionFilename||(0,l.getPdfFilenameFromUrl)(this.url)},_hideViewBookmark:function _hideViewBookmark(){if(this.appConfig){var t=this.appConfig.secondaryToolbar;null==t||t.viewBookmarkButton.classList.add("hidden");if(null!=t&&t.presentationModeButton.classList.contains("hidden")){var r;null===(r=document.getElementById("viewBookmarkSeparator"))||void 0===r||r.classList.add("hidden")}}},close:function close(){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee6(){var r,i,a,o,l,u,c,h,d,p,v,y,g;return _regeneratorRuntime().wrap((function _callee6$(m){for(;;)switch(m.prev=m.next){case 0:t._unblockDocumentLoadEvent();t._hideViewBookmark();if(t.pdfLoadingTask){m.next=4;break}return m.abrupt("return");case 4:if(!((null===(r=t.pdfDocument)||void 0===r?void 0:r.annotationStorage.size)>0&&t._annotationStorageModified)){m.next=12;break}m.prev=5;m.next=8;return t.save();case 8:m.next=12;break;case 10:m.prev=10;m.t0=m.catch(5);case 12:(v=[]).push(t.pdfLoadingTask.destroy());t.pdfLoadingTask=null;if(t.pdfDocument){t.pdfDocument=null;null===(y=t.pdfThumbnailViewer)||void 0===y||y.setDocument(null);t.pdfViewer.setDocument(null);t.pdfLinkService.setDocument(null);null===(g=t.pdfDocumentProperties)||void 0===g||g.setDocument(null)}t.pdfLinkService.externalLinkEnabled=!0;t.store=null;t.isInitialViewSet=!1;t.downloadComplete=!1;t.url="";t.baseUrl="";t._downloadUrl="";t.documentInfo=null;t.metadata=null;t._contentDispositionFilename=null;t._contentLength=null;t._saveInProgress=!1;t._hasAnnotationEditors=!1;v.push(t.pdfScriptingManager.destroyPromise,t.passwordPrompt.close());t.setTitle();null===(i=t.pdfSidebar)||void 0===i||i.reset();null===(a=t.pdfOutlineViewer)||void 0===a||a.reset();null===(o=t.pdfAttachmentViewer)||void 0===o||o.reset();null===(l=t.pdfLayerViewer)||void 0===l||l.reset();null===(u=t.pdfHistory)||void 0===u||u.reset();null===(c=t.findBar)||void 0===c||c.reset();null===(h=t.toolbar)||void 0===h||h.reset();null===(d=t.secondaryToolbar)||void 0===d||d.reset();null===(p=t._PDFBug)||void 0===p||p.cleanup();m.next=42;return Promise.all(v);case 42:case"end":return m.stop()}}),_callee6,null,[[5,10]])})))()},open:function open(t){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee8(){var i;return _regeneratorRuntime().wrap((function _callee8$(a){for(;;)switch(a.prev=a.next){case 0:window.adjacentPagesLoader=void 0;null===(i=r.pdfViewer)||void 0===i||i.destroyBookMode();window.ngxZone.runOutsideAngular(_asyncToGenerator(_regeneratorRuntime().mark((function _callee7(){var i,a,o;return _regeneratorRuntime().wrap((function _callee7$(u){for(;;)switch(u.prev=u.next){case 0:if(!r.pdfLoadingTask){u.next=3;break}u.next=3;return r.close();case 3:i=c.AppOptions.getAll(c.OptionKind.WORKER);Object.assign(l.GlobalWorkerOptions,i);t.url&&r.setTitleUsingUrl(t.originalUrl||t.url,t.url);a=c.AppOptions.getAll(c.OptionKind.API);o=(0,l.getDocument)(_objectSpread(_objectSpread({},a),t));r.pdfLoadingTask=o;o.onPassword=function(t,i){r.isViewerEmbedded&&r._unblockDocumentLoadEvent();r.pdfLinkService.externalLinkEnabled=!1;r.passwordPrompt.setUpdateCallback(t,i);r.passwordPrompt.open()};o.onProgress=function(t){var i,a=t.loaded,o=t.total;r.progress(a/o);null===(i=r.eventBus)||void 0===i||i.dispatch("progress",{source:r,type:"load",total:o,loaded:a,percent:100*a/o})};return u.abrupt("return",o.promise.then((function(t){r.load(t)}),(function(t){if(o===r.pdfLoadingTask){var i="pdfjs-loading-error";t instanceof l.InvalidPDFException?i="pdfjs-invalid-file-error":t instanceof l.MissingPDFException?i="pdfjs-missing-file-error":t instanceof l.UnexpectedResponseException&&(i="pdfjs-unexpected-response-error");N.onError&&N.onError(t);return r.l10n.get(i).then((function(i){r._documentError(i,{message:null==t?void 0:t.message});throw t}))}})));case 12:case"end":return u.stop()}}),_callee7)}))));case 3:case"end":return a.stop()}}),_callee8)})))()},_ensureDownloadComplete:function _ensureDownloadComplete(){if(!this.pdfDocument||!this.downloadComplete)throw new Error("PDF document not downloaded.")},download:function download(){var t=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee9(){var i,a,o,l,u;return _regeneratorRuntime().wrap((function _callee9$(c){for(;;)switch(c.prev=c.next){case 0:i=t.length>0&&void 0!==t[0]?t[0]:{};a=r._downloadUrl,o=r._docFilename;c.prev=2;r._ensureDownloadComplete();c.next=6;return r.pdfDocument.getData();case 6:l=c.sent;u=new Blob([l],{type:"application/pdf"});c.next=10;return r.downloadManager.download(u,a,o,i);case 10:c.next=16;break;case 12:c.prev=12;c.t0=c.catch(2);c.next=16;return r.downloadManager.downloadUrl(a,o,i);case 16:case"end":return c.stop()}}),_callee9,null,[[2,12]])})))()},save:function save(){var t=arguments,r=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee10(){var i,a,o,l,u;return _regeneratorRuntime().wrap((function _callee10$(c){for(;;)switch(c.prev=c.next){case 0:i=t.length>0&&void 0!==t[0]?t[0]:{};if(!r._saveInProgress){c.next=3;break}return c.abrupt("return");case 3:r._saveInProgress=!0;c.next=6;return r.pdfScriptingManager.dispatchWillSave();case 6:a=r._downloadUrl,o=r._docFilename;c.prev=7;r._ensureDownloadComplete();c.next=11;return r.pdfDocument.saveDocument();case 11:l=c.sent;u=new Blob([l],{type:"application/pdf"});c.next=15;return r.downloadManager.download(u,a,o,i);case 15:c.next=22;break;case 17:c.prev=17;c.t0=c.catch(7);globalThis.ngxConsole.error("Error when saving the document: ".concat(c.t0.message));c.next=22;return r.download(i);case 22:c.prev=22;c.next=25;return r.pdfScriptingManager.dispatchDidSave();case 25:r._saveInProgress=!1;return c.finish(22);case 27:r._hasAnnotationEditors&&r.externalServices.reportTelemetry({type:"editing",data:{type:"save"}});case 28:case"end":return c.stop()}}),_callee10,null,[[7,17,22,27]])})))()},downloadOrSave:function downloadOrSave(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(null===(t=this.pdfDocument)||void 0===t?void 0:t.annotationStorage.size)>0?this.save(r):this.download(r)},_exportWithAnnotations:function _exportWithAnnotations(){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee11(){var r,i;return _regeneratorRuntime().wrap((function _callee11$(a){for(;;)switch(a.prev=a.next){case 0:if(!t._saveInProgress){a.next=2;break}throw new Error("Already downloading");case 2:t._saveInProgress=!0;a.next=5;return t.pdfScriptingManager.dispatchWillSave();case 5:a.prev=5;t._ensureDownloadComplete();a.next=9;return t.pdfDocument.saveDocument();case 9:r=a.sent;i=new Blob([r],{type:"application/pdf"});return a.abrupt("return",i);case 14:a.prev=14;a.t0=a.catch(5);throw new Error("Error when saving the document: ".concat(a.t0.message));case 17:a.prev=17;a.next=20;return t.pdfScriptingManager.dispatchDidSave();case 20:t._saveInProgress=!1;return a.finish(17);case 22:case"end":return a.stop()}}),_callee11,null,[[5,14,17,22]])})))()},_exportWithoutAnnotations:function _exportWithoutAnnotations(){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee12(){var r,i;return _regeneratorRuntime().wrap((function _callee12$(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0;t._ensureDownloadComplete();a.next=4;return t.pdfDocument.getData();case 4:r=a.sent;i=new Blob([r],{type:"application/pdf"});return a.abrupt("return",i);case 9:a.prev=9;a.t0=a.catch(0);throw new Error("Error when saving the document: ".concat(a.t0.message));case 12:case"end":return a.stop()}}),_callee12,null,[[0,9]])})))()},export:function _export(){var t=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee13(){var r;return _regeneratorRuntime().wrap((function _callee13$(i){for(;;)switch(i.prev=i.next){case 0:if(!((null===(r=t.pdfDocument)||void 0===r?void 0:r.annotationStorage.size)>0)){i.next=2;break}return i.abrupt("return",t._exportWithAnnotations());case 2:return i.abrupt("return",t._exportWithoutAnnotations());case 3:case"end":return i.stop()}}),_callee13)})))()},openInExternalApp:function openInExternalApp(){this.downloadOrSave({openInExternalApp:!0})},_documentError:function _documentError(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._unblockDocumentLoadEvent();this._otherError(t,i);this.eventBus.dispatch("documenterror",{source:this,message:t,reason:null!==(r=null==i?void 0:i.message)&&void 0!==r?r:null})},_otherError:function _otherError(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=["PDF.js v".concat(l.version||"?"," (build: ").concat(l.build||"?",")")];if(r){i.push("Message: ".concat(r.message));if(r.stack)i.push("Stack: ".concat(r.stack));else{r.filename&&i.push("File: ".concat(r.filename));r.lineNumber&&i.push("Line: ".concat(r.lineNumber))}}console.error("".concat(t,"\n\n").concat(i.join("\n")))},progress:function progress(t){var r,i;if(this.loadingBar&&!this.downloadComplete){var a=Math.round(100*t);if(!(a<=this.loadingBar.percent)){this.loadingBar.percent=a;(null!==(r=null===(i=this.pdfDocument)||void 0===i?void 0:i.loadingParams.disableAutoFetch)&&void 0!==r?r:c.AppOptions.get("disableAutoFetch"))&&this.loadingBar.setDisableAutoFetch()}}},load:function load(t){var r,i,a,l,u=this;this.pdfDocument=t;t.getDownloadInfo().then((function(t){var r,i=t.length;u._contentLength=i;u.downloadComplete=!0;null===(r=u.loadingBar)||void 0===r||r.hide();y.then((function(){var t;null===(t=u.eventBus)||void 0===t||t.dispatch("documentloaded",{source:u})}))}));var h=t.getPageLayout().catch((function(){})),d=t.getPageMode().catch((function(){})),p=t.getOpenAction().catch((function(){}));null===(r=this.toolbar)||void 0===r||r.setPagesCount(t.numPages,!1);null===(i=this.secondaryToolbar)||void 0===i||i.setPagesCount(t.numPages);this.pdfLinkService.setDocument(t);null===(a=this.pdfDocumentProperties)||void 0===a||a.setDocument(t);var v=this.pdfViewer;v.setDocument(t);var y=v.firstPagePromise,g=v.onePageRendered,m=v.pagesPromise;null===(l=this.pdfThumbnailViewer)||void 0===l||l.setDocument(t);var _=(this.store=new L.ViewHistory(t.fingerprints[0])).getMultiple({page:null,zoom:o.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",rotation:null,sidebarView:o.SidebarView.UNKNOWN,scrollMode:o.ScrollMode.UNKNOWN,spreadMode:o.SpreadMode.UNKNOWN}).catch((function(){}));y.then((function(r){var i;null===(i=u.loadingBar)||void 0===i||i.setWidth(u.appConfig.viewerContainer);u._initializeAnnotationStorageCallbacks(t);Promise.all([o.animationStarted,_,h,d,p]).then(function(){var r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee14(r){var i,a,l,h,d,p,y,g,_,b,w,P,A,S;return _regeneratorRuntime().wrap((function _callee14$(E){for(;;)switch(E.prev=E.next){case 0:i=_slicedToArray(r,5),i[0],a=i[1],l=i[2],h=i[3],d=i[4];p=c.AppOptions.get("viewOnLoad");u._initializePdfHistory({fingerprint:t.fingerprints[0],viewOnLoad:p,initialDest:null==d?void 0:d.dest});y=u.initialBookmark;g=c.AppOptions.get("defaultZoomValue");_=g?"zoom=".concat(g):null;b=null;w=c.AppOptions.get("sidebarViewOnLoad");P=c.AppOptions.get("scrollModeOnLoad");A=c.AppOptions.get("spreadModeOnLoad");if(null!=a&&a.page&&p!==j.INITIAL){_="page=".concat(a.page,"&zoom=").concat(g||a.zoom,",")+"".concat(a.scrollLeft,",").concat(a.scrollTop);b=parseInt(a.rotation,10);w===o.SidebarView.UNKNOWN&&(w=0|a.sidebarView);P===o.ScrollMode.UNKNOWN&&(P=0|a.scrollMode);A===o.SpreadMode.UNKNOWN&&(A=0|a.spreadMode)}h&&w===o.SidebarView.UNKNOWN&&(w=(0,o.apiPageModeToSidebarView)(h));if(l&&P===o.ScrollMode.UNKNOWN&&A===o.SpreadMode.UNKNOWN){S=(0,o.apiPageLayoutToViewerModes)(l);A=S.spreadMode}u.setInitialView(_,{rotation:b,sidebarView:w,scrollMode:P,spreadMode:A});u.eventBus.dispatch("documentinit",{source:u});u.isViewerEmbedded||v.focus();E.next=18;return Promise.race([m,new Promise((function(t){setTimeout(t,10)}))]);case 18:if(y||_){E.next=20;break}return E.abrupt("return");case 20:if(!v.hasEqualPageSizes){E.next=22;break}return E.abrupt("return");case 22:u.initialBookmark=y;v.currentScaleValue=v.currentScaleValue;u.setInitialView(_);case 25:case"end":return E.stop()}}),_callee14)})));return function(t){return r.apply(this,arguments)}}()).catch((function(){u.setInitialView()})).then((function(){v.update()}))}));m.then((function(){u._unblockDocumentLoadEvent();u._initializeAutoPrint(t,p)}),(function(t){N.onError&&N.onError(t);u.l10n.get("pdfjs-loading-error").then((function(r){u._documentError(r,{message:null==t?void 0:t.message})}))}));g.then((function(r){u.externalServices.reportTelemetry({type:"pageInfo",timestamp:r.timestamp});u.pdfOutlineViewer&&t.getOutline().then((function(r){t===u.pdfDocument&&u.pdfOutlineViewer.render({outline:r,pdfDocument:t})}));u.pdfAttachmentViewer&&t.getAttachments().then((function(r){t===u.pdfDocument&&u.pdfAttachmentViewer.render({attachments:r})}));u.pdfLayerViewer&&v.optionalContentConfigPromise.then((function(r){t===u.pdfDocument&&u.pdfLayerViewer.render({optionalContentConfig:r,pdfDocument:t})}))}));this._initializePageLabels(t);this._initializeMetadata(t)},_scriptingDocProperties:function _scriptingDocProperties(t){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee15(){var i,a;return _regeneratorRuntime().wrap((function _callee15$(o){for(;;)switch(o.prev=o.next){case 0:if(r.documentInfo){o.next=5;break}o.next=3;return new Promise((function(t){r.eventBus._on("metadataloaded",t,{once:!0})}));case 3:if(t===r.pdfDocument){o.next=5;break}return o.abrupt("return",null);case 5:if(r._contentLength){o.next=10;break}o.next=8;return new Promise((function(t){r.eventBus._on("documentloaded",t,{once:!0})}));case 8:if(t===r.pdfDocument){o.next=10;break}return o.abrupt("return",null);case 10:return o.abrupt("return",_objectSpread(_objectSpread({},r.documentInfo),{},{baseURL:r.baseUrl,filesize:r._contentLength,filename:r._docFilename,metadata:null===(i=r.metadata)||void 0===i?void 0:i.getRaw(),authors:null===(a=r.metadata)||void 0===a?void 0:a.get("dc:creator"),numPages:r.pagesCount,URL:r.url}));case 11:case"end":return o.stop()}}),_callee15)})))()},_initializeAutoPrint:function _initializeAutoPrint(t,r){var i=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee16(){var a,l,u,c,h,d;return _regeneratorRuntime().wrap((function _callee16$(p){for(;;)switch(p.prev=p.next){case 0:p.next=2;return Promise.all([r,i.pdfViewer.enableScripting?null:t.getJSActions()]);case 2:a=p.sent;l=_slicedToArray(a,2);u=l[0];c=l[1];if(t===i.pdfDocument){p.next=8;break}return p.abrupt("return");case 8:h="Print"===(null==u?void 0:u.action);if(!c){p.next=23;break}globalThis.ngxConsole.warn("Warning: JavaScript support is not enabled");p.t0=_regeneratorRuntime().keys(c);case 12:if((p.t1=p.t0()).done){p.next=23;break}d=p.t1.value;if(!h){p.next=16;break}return p.abrupt("break",23);case 16:p.t2=d;p.next="WillClose"===p.t2||"WillSave"===p.t2||"DidSave"===p.t2||"WillPrint"===p.t2||"DidPrint"===p.t2?19:20;break;case 19:return p.abrupt("continue",12);case 20:h=c[d].some((function(t){return o.AutoPrintRegExp.test(t)}));p.next=12;break;case 23:h&&i.triggerPrinting();case 24:case"end":return p.stop()}}),_callee16)})))()},_initializeMetadata:function _initializeMetadata(t){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee17(){var i,a,o,c,h,d,p,v,y,g;return _regeneratorRuntime().wrap((function _callee17$(m){for(;;)switch(m.prev=m.next){case 0:m.next=2;return t.getMetadata();case 2:o=m.sent;c=o.info;h=o.metadata;d=o.contentDispositionFilename;p=o.contentLength;if(t===r.pdfDocument){m.next=9;break}return m.abrupt("return");case 9:r.documentInfo=c;r.metadata=h;null!==(i=r._contentDispositionFilename)&&void 0!==i||(r._contentDispositionFilename=d);null!==(a=r._contentLength)&&void 0!==a||(r._contentLength=p);(!(v=window.PDFViewerApplicationOptions)||v.get("verbosity")>0)&&globalThis.ngxConsole.log("PDF ".concat(t.fingerprints[0]," [").concat(c.PDFFormatVersion," ")+"".concat((c.Producer||"-").trim()," / ").concat((c.Creator||"-").trim(),"] ")+"(PDF.js: ".concat(l.version||"?"," [").concat(l.build||"?","])  modified by ngx-extended-pdf-viewer ").concat(u.ngxExtendedPdfViewerVersion));y=c.Title;(g=null==h?void 0:h.get("dc:title"))&&("Untitled"===g||/[\uFFF0-\uFFFF]/g.test(g)||(y=g));y?r.setTitle("".concat(y," - ").concat(r._contentDispositionFilename||r._title)):r._contentDispositionFilename&&r.setTitle(r._contentDispositionFilename);!c.IsXFAPresent||c.IsAcroFormPresent||t.isPureXfa?!c.IsAcroFormPresent&&!c.IsXFAPresent||r.pdfViewer.renderForms||console.warn("Warning: Interactive form support is not enabled"):t.loadingParams.enableXfa?globalThis.ngxConsole.warn("Warning: XFA Foreground documents are not supported"):globalThis.ngxConsole.warn("Warning: XFA support is not enabled");c.IsSignaturesPresent&&console.warn("Warning: Digital signatures validation is not supported");r.eventBus.dispatch("metadataloaded",{source:r});case 22:case"end":return m.stop()}}),_callee17)})))()},_initializePageLabels:function _initializePageLabels(t){var r=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee18(){var i,a,o,l,u,h,d,p,v;return _regeneratorRuntime().wrap((function _callee18$(y){for(;;)switch(y.prev=y.next){case 0:y.next=2;return t.getPageLabels();case 2:i=y.sent;if(t===r.pdfDocument){y.next=5;break}return y.abrupt("return");case 5:if(i&&!c.AppOptions.get("disablePageLabels")){y.next=7;break}return y.abrupt("return");case 7:a=i.length;o=0,l=0;u=0;case 10:if(!(u<a)){y.next=24;break}if((h=i[u])!==(u+1).toString()){y.next=16;break}o++;y.next=21;break;case 16:if(""!==h){y.next=20;break}l++;y.next=21;break;case 20:return y.abrupt("break",24);case 21:u++;y.next=10;break;case 24:if(!(o>=a||l>=a)){y.next=26;break}return y.abrupt("return");case 26:d=r.pdfViewer,p=r.pdfThumbnailViewer,v=r.toolbar;d.setPageLabels(i);null==p||p.setPageLabels(i);null==v||v.setPagesCount(a,!0);null==v||v.setPageNumber(d.currentPageNumber,d.currentPageLabel);case 31:case"end":return y.stop()}}),_callee18)})))()},_initializePdfHistory:function _initializePdfHistory(t){var r=t.fingerprint,i=t.viewOnLoad,a=t.initialDest,o=void 0===a?null:a;if(this.pdfHistory){this.pdfHistory.initialize({fingerprint:r,resetHistory:i===j.INITIAL,updateUrl:c.AppOptions.get("historyUpdateUrl")});if(this.pdfHistory.initialBookmark){this.initialBookmark=this.pdfHistory.initialBookmark;this.initialRotation=this.pdfHistory.initialRotation}if(o&&!this.initialBookmark&&i===j.UNKNOWN){this.initialBookmark=JSON.stringify(o);this.pdfHistory.push({explicitDest:o,pageNumber:null})}}},_initializeAnnotationStorageCallbacks:function _initializeAnnotationStorageCallbacks(t){var r=this;if(t===this.pdfDocument){var i=t.annotationStorage;i.onSetModified=function(){window.addEventListener("beforeunload",beforeUnload);r._annotationStorageModified=!0};i.onResetModified=function(){window.removeEventListener("beforeunload",beforeUnload);delete r._annotationStorageModified};i.onAnnotationEditor=function(t){r._hasAnnotationEditors=!!t;r.setTitle();t&&r.externalServices.reportTelemetry({type:"editing",data:{type:t}})}}},setInitialView:function setInitialView(t){var r,i,a,l=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=u.rotation,h=u.sidebarView,d=u.scrollMode,p=u.spreadMode,v=function setRotation(t){(0,o.isValidRotation)(t)&&(l.pdfViewer.pagesRotation=t)};this.isInitialViewSet=!0;null===(r=this.pdfSidebar)||void 0===r||r.setInitialView(h);!function setViewerModes(t,r){(0,o.isValidScrollMode)(t)&&(l.pdfViewer.scrollMode=t);(0,o.isValidSpreadMode)(r)&&(l.pdfViewer.spreadMode=r)}(d,p);if(this.initialBookmark){v(this.initialRotation);delete this.initialRotation;this.pdfLinkService.setHash(this.initialBookmark);this.initialBookmark=null}else if(t){v(c);this.pdfLinkService.setHash(t)}null===(i=this.toolbar)||void 0===i||i.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel);null===(a=this.secondaryToolbar)||void 0===a||a.setPageNumber(this.pdfViewer.currentPageNumber);if(!this.pdfViewer.currentScaleValue){var y=PDFViewerApplicationOptions.get("defaultZoomValue");y&&(this.pdfViewer.currentScaleValue=y)}},_cleanup:function _cleanup(){var t;if(this.pdfDocument){this.pdfViewer.cleanup();null===(t=this.pdfThumbnailViewer)||void 0===t||t.cleanup();this.pdfDocument.cleanup(c.AppOptions.get("fontExtraProperties"))}},forceRendering:function forceRendering(){var t;this.pdfRenderingQueue.printing=!!this.printService;this.pdfRenderingQueue.isThumbnailViewEnabled=(null===(t=this.pdfSidebar)||void 0===t?void 0:t.visibleView)===o.SidebarView.THUMBS;this.pdfRenderingQueue.renderHighestPriority()},beforePrint:function beforePrint(){var t=this;this._printAnnotationStoragePromise=this.pdfScriptingManager.dispatchWillPrint().catch((function(){})).then((function(){var r;return null===(r=t.pdfDocument)||void 0===r?void 0:r.annotationStorage.print}));if(!this.printService)if(this.supportsPrinting)if(this.pdfViewer.pageViewsReady){var r=this.pdfViewer.getPagesOverview(),i=this.appConfig.printContainer,a=c.AppOptions.get("printResolution"),o=this.pdfViewer.optionalContentConfigPromise,l=q.instance.createPrintService(this.pdfDocument,r,i,a,o,this._printAnnotationStoragePromise,this.pdfViewer.eventBus);this.printService=l;this.forceRendering();this.setTitle();l.layout();this._hasAnnotationEditors&&this.externalServices.reportTelemetry({type:"editing",data:{type:"print"}})}else this.l10n.get("pdfjs-printing-not-ready").then((function(t){window.alert(t)}));else this.l10n.get("pdfjs-printing-not-supported").then((function(r){t._otherError(r)}))},afterPrint:function afterPrint(){var t=this;if(this._printAnnotationStoragePromise){this._printAnnotationStoragePromise.then((function(){t.pdfScriptingManager.dispatchDidPrint()}));this._printAnnotationStoragePromise=null}if(this.printService){var r;this.printService.destroy();this.printService=null;null===(r=this.pdfDocument)||void 0===r||r.annotationStorage.resetModified()}this.forceRendering();this.setTitle()},rotatePages:function rotatePages(t){this.pdfViewer.pagesRotation+=t},requestPresentationMode:function requestPresentationMode(){var t;null===(t=this.pdfPresentationMode)||void 0===t||t.request()},triggerPrinting:function triggerPrinting(){this.supportsPrinting&&window.printPDF()},bindEvents:function bindEvents(){var t=this.eventBus,r=this._boundEvents;r.beforePrint=this.beforePrint.bind(this);r.afterPrint=this.afterPrint.bind(this);t._on("resize",webViewerResize);t._on("hashchange",webViewerHashchange);t._on("beforeprint",r.beforePrint);t._on("afterprint",r.afterPrint);t._on("pagerender",webViewerPageRender);t._on("pagerendered",webViewerPageRendered);t._on("updateviewarea",webViewerUpdateViewarea);t._on("pagechanging",webViewerPageChanging);t._on("scalechanging",webViewerScaleChanging);t._on("rotationchanging",webViewerRotationChanging);t._on("sidebarviewchanged",webViewerSidebarViewChanged);t._on("pagemode",webViewerPageMode);t._on("namedaction",webViewerNamedAction);t._on("presentationmodechanged",webViewerPresentationModeChanged);t._on("presentationmode",webViewerPresentationMode);t._on("switchannotationeditormode",webViewerSwitchAnnotationEditorMode);t._on("switchannotationeditorparams",webViewerSwitchAnnotationEditorParams);t._on("print",webViewerPrint);t._on("download",webViewerDownload);t._on("openinexternalapp",webViewerOpenInExternalApp);t._on("firstpage",webViewerFirstPage);t._on("lastpage",webViewerLastPage);t._on("nextpage",webViewerNextPage);t._on("previouspage",webViewerPreviousPage);t._on("zoomin",webViewerZoomIn);t._on("zoomout",webViewerZoomOut);t._on("zoomreset",webViewerZoomReset);t._on("pagenumberchanged",webViewerPageNumberChanged);t._on("scalechanged",webViewerScaleChanged);t._on("rotatecw",webViewerRotateCw);t._on("rotateccw",webViewerRotateCcw);t._on("optionalcontentconfig",webViewerOptionalContentConfig);t._on("switchscrollmode",webViewerSwitchScrollMode);t._on("scrollmodechanged",webViewerScrollModeChanged);t._on("switchspreadmode",webViewerSwitchSpreadMode);t._on("spreadmodechanged",webViewerSpreadModeChanged);t._on("documentproperties",webViewerDocumentProperties);t._on("findfromurlhash",webViewerFindFromUrlHash);t._on("updatefindmatchescount",webViewerUpdateFindMatchesCount);t._on("updatefindcontrolstate",webViewerUpdateFindControlState);if(c.AppOptions.get("pdfBug")){r.reportPageStatsPDFBug=reportPageStatsPDFBug;t._on("pagerendered",r.reportPageStatsPDFBug);t._on("pagechanging",r.reportPageStatsPDFBug)}t._on("fileinputchange",z);t._on("openfile",H)},bindWindowEvents:function bindWindowEvents(){var t=this.eventBus,r=this._boundEvents;!function addWindowResolutionChange(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&webViewerResolutionChange(t);var i=window.matchMedia("(resolution: ".concat(window.devicePixelRatio||1,"dppx)"));i.addEventListener("change",addWindowResolutionChange,{once:!0});r.removeWindowResolutionChange||(r.removeWindowResolutionChange=function(){i.removeEventListener("change",addWindowResolutionChange);r.removeWindowResolutionChange=null})}();r.windowResize=function(){t.dispatch("resize",{source:window})};r.windowHashChange=function(){t.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})};r.windowBeforePrint=function(){t.dispatch("beforeprint",{source:window})};r.windowAfterPrint=function(){t.dispatch("afterprint",{source:window})};r.windowUpdateFromSandbox=function(r){t.dispatch("updatefromsandbox",{source:window,detail:r.detail})};window.addEventListener("visibilitychange",webViewerVisibilityChange);var i=document.getElementById("viewerContainer");null==i||i.addEventListener("wheel",webViewerWheel,{passive:!1});var a=document.getElementById("mainContainer");null==a||a.addEventListener("touchstart",webViewerTouchStart,{passive:!1});null==a||a.addEventListener("touchmove",webViewerTouchMove,{passive:!1});null==a||a.addEventListener("touchend",webViewerTouchEnd,{passive:!1});window.addEventListener("click",webViewerClick);window.addEventListener("keydown",webViewerKeyDown);window.addEventListener("keyup",webViewerKeyUp);window.addEventListener("resize",r.windowResize);window.addEventListener("hashchange",r.windowHashChange);window.addEventListener("beforeprint",r.windowBeforePrint);window.addEventListener("afterprint",r.windowAfterPrint);window.addEventListener("updatefromsandbox",r.windowUpdateFromSandbox)},unbindEvents:function unbindEvents(){var t=this.eventBus,r=this._boundEvents;t._off("resize",webViewerResize);t._off("hashchange",webViewerHashchange);t._off("beforeprint",r.beforePrint);t._off("afterprint",r.afterPrint);t._off("pagerender",webViewerPageRender);t._off("pagerendered",webViewerPageRendered);t._off("updateviewarea",webViewerUpdateViewarea);t._off("pagechanging",webViewerPageChanging);t._off("scalechanging",webViewerScaleChanging);t._off("rotationchanging",webViewerRotationChanging);t._off("sidebarviewchanged",webViewerSidebarViewChanged);t._off("pagemode",webViewerPageMode);t._off("namedaction",webViewerNamedAction);t._off("presentationmodechanged",webViewerPresentationModeChanged);t._off("presentationmode",webViewerPresentationMode);t._off("print",webViewerPrint);t._off("download",webViewerDownload);t._off("openinexternalapp",webViewerOpenInExternalApp);t._off("firstpage",webViewerFirstPage);t._off("lastpage",webViewerLastPage);t._off("nextpage",webViewerNextPage);t._off("previouspage",webViewerPreviousPage);t._off("zoomin",webViewerZoomIn);t._off("zoomout",webViewerZoomOut);t._off("zoomreset",webViewerZoomReset);t._off("pagenumberchanged",webViewerPageNumberChanged);t._off("scalechanged",webViewerScaleChanged);t._off("rotatecw",webViewerRotateCw);t._off("rotateccw",webViewerRotateCcw);t._off("optionalcontentconfig",webViewerOptionalContentConfig);t._off("switchscrollmode",webViewerSwitchScrollMode);t._off("scrollmodechanged",webViewerScrollModeChanged);t._off("switchspreadmode",webViewerSwitchSpreadMode);t._off("spreadmodechanged",webViewerSpreadModeChanged);t._off("documentproperties",webViewerDocumentProperties);t._off("findfromurlhash",webViewerFindFromUrlHash);t._off("updatefindmatchescount",webViewerUpdateFindMatchesCount);t._off("updatefindcontrolstate",webViewerUpdateFindControlState);if(r.reportPageStatsPDFBug){t._off("pagerendered",r.reportPageStatsPDFBug);t._off("pagechanging",r.reportPageStatsPDFBug);r.reportPageStatsPDFBug=null}t._off("fileinputchange",z);t._off("openfile",H);r.beforePrint=null;r.afterPrint=null},unbindWindowEvents:function unbindWindowEvents(){var t,r=this._boundEvents;window.removeEventListener("visibilitychange",webViewerVisibilityChange);window.removeEventListener("wheel",webViewerWheel,{passive:!1});var i=document.getElementById("mainContainer");if(i){i.removeEventListener("touchstart",webViewerTouchStart,{passive:!1});i.removeEventListener("touchmove",webViewerTouchMove,{passive:!1});i.removeEventListener("touchend",webViewerTouchEnd,{passive:!1})}window.removeEventListener("click",webViewerClick);window.removeEventListener("keydown",webViewerKeyDown);window.removeEventListener("keyup",webViewerKeyUp);window.removeEventListener("resize",r.windowResize);window.removeEventListener("hashchange",r.windowHashChange);window.removeEventListener("beforeprint",r.windowBeforePrint);window.removeEventListener("afterprint",r.windowAfterPrint);window.removeEventListener("updatefromsandbox",r.windowUpdateFromSandbox);null===(t=r.removeWindowResolutionChange)||void 0===t||t.call(r);r.windowResize=null;r.windowHashChange=null;r.windowBeforePrint=null;r.windowAfterPrint=null;r.windowUpdateFromSandbox=null},_accumulateTicks:function _accumulateTicks(t,r){(this[r]>0&&t<0||this[r]<0&&t>0)&&(this[r]=0);this[r]+=t;var i=Math.trunc(this[r]);this[r]-=i;return i},_accumulateFactor:function _accumulateFactor(t,r,i){if(1===r)return 1;(this[i]>1&&r<1||this[i]<1&&r>1)&&(this[i]=1);var a=Math.floor(t*r*this[i]*100)/(100*t);this[i]=r/a;return a},_centerAtPos:function _centerAtPos(t,r,i){var a=this.pdfViewer,o=a.currentScale/t-1;if(0!==o){var l=_slicedToArray(a.containerTopLeft,2),u=l[0],c=l[1];a.container.scrollLeft+=(r-c)*o;a.container.scrollTop+=(i-u)*o}},_unblockDocumentLoadEvent:function _unblockDocumentLoadEvent(){var t,r;null===(t=(r=document).blockUnblockOnload)||void 0===t||t.call(r,!1);this._unblockDocumentLoadEvent=function(){}},get scriptingReady(){return this.pdfScriptingManager.ready}},W=["null","http://mozilla.github.io","https://mozilla.github.io"],V=function validateFileURL(t){if(t)try{var r=new URL(window.location.href).origin||"null";if(W.includes(r))return;if(new URL(t,window.location.href).origin!==r)throw new Error("file origin does not match viewer's")}catch(t){N.onError&&N.onError(t);N.l10n.get("pdfjs-loading-error").then((function(r){N._documentError(r,{message:null==t?void 0:t.message})}));throw t}};function loadFakeWorker(){return _loadFakeWorker.apply(this,arguments)}function _loadFakeWorker(){return(_loadFakeWorker=_asyncToGenerator(_regeneratorRuntime().mark((function _callee19(){return _regeneratorRuntime().wrap((function _callee19$(t){for(;;)switch(t.prev=t.next){case 0:l.GlobalWorkerOptions.workerSrc||(l.GlobalWorkerOptions.workerSrc=c.AppOptions.get("workerSrc"));"Function"===l.GlobalWorkerOptions.workerSrc.constructor.name&&(l.GlobalWorkerOptions.workerSrc=l.GlobalWorkerOptions.workerSrc());t.next=4;return import(l.PDFWorker.workerSrc);case 4:case"end":return t.stop()}}),_callee19)})))).apply(this,arguments)}function loadPDFBug(t){return _loadPDFBug.apply(this,arguments)}function _loadPDFBug(){return(_loadPDFBug=_asyncToGenerator(_regeneratorRuntime().mark((function _callee20(t){return _regeneratorRuntime().wrap((function _callee20$(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),_callee20)})))).apply(this,arguments)}function reportPageStatsPDFBug(t){var r,i,a=t.pageNumber;if(null!==(r=globalThis.Stats)&&void 0!==r&&r.enabled){var o=N.pdfViewer.getPageView(a-1);globalThis.Stats.add(a,null==o||null===(i=o.pdfPage)||void 0===i?void 0:i.stats)}}function webViewerPageRender(t){if(t.pageNumber===N.page){var r;null===(r=N.toolbar)||void 0===r||r.updateLoadingIndicatorState(!0)}}function webViewerPageRendered(t){var r,i=t.pageNumber,a=t.error;if(i===N.page){var l;null===(l=N.toolbar)||void 0===l||l.updateLoadingIndicatorState(!1)}if((null===(r=N.pdfSidebar)||void 0===r?void 0:r.visibleView)===o.SidebarView.THUMBS){var u,c=N.pdfViewer.getPageView(i-1),h=null===(u=N.pdfThumbnailViewer)||void 0===u?void 0:u.getThumbnail(i-1);c&&(null==h||h.setImage(c))}a&&N.l10n.get("pdfjs-rendering-error").then((function(t){N._otherError(t,a)}))}function webViewerPageMode(t){var r,i,a=t.mode;switch(a){case"thumbs":i=o.SidebarView.THUMBS;break;case"bookmarks":case"outline":i=o.SidebarView.OUTLINE;break;case"attachments":i=o.SidebarView.ATTACHMENTS;break;case"layers":i=o.SidebarView.LAYERS;break;case"none":i=o.SidebarView.NONE;break;default:globalThis.ngxConsole.error('Invalid "pagemode" hash parameter: '+a);return}null===(r=N.pdfSidebar)||void 0===r||r.switchView(i,!0)}function webViewerNamedAction(t){var r;switch(t.action){case"GoToPage":null===(r=N.appConfig.toolbar)||void 0===r||r.pageNumber.select();break;case"Find":N.supportsIntegratedFind||null==N||N.findBar.toggle();break;case"Print":N.triggerPrinting();break;case"SaveAs":N.downloadOrSave()}}function webViewerPresentationModeChanged(t){N.pdfViewer.presentationModeState=t.state}function webViewerSidebarViewChanged(t){var r=t.view;N.pdfRenderingQueue.isThumbnailViewEnabled=r===o.SidebarView.THUMBS;if(N.isInitialViewSet){var i;null===(i=N.store)||void 0===i||i.set("sidebarView",r).catch((function(){}))}}function webViewerUpdateViewarea(t){var r=t.location;if(N.isInitialViewSet){var i,a={};void 0===r.pageNumber&&null===r.pageNumber||(a.page=r.pageNumber);r.scale&&(a.zoom=r.scale);r.left&&(a.scrollLeft=r.left);r.top&&(a.scrollTop=r.top);void 0===r.rotation&&null===r.rotation||(a.rotation=r.rotation);null===(i=N.store)||void 0===i||i.setMultiple(a).catch((function(){}))}if(N.appConfig.secondaryToolbar){var o=N.pdfLinkService.getAnchorUrl(r.pdfOpenParams);N.appConfig.secondaryToolbar.viewBookmarkButton.href=o}}function webViewerScrollModeChanged(t){if(N.isInitialViewSet&&!N.pdfViewer.isInPresentationMode){var r;null===(r=N.store)||void 0===r||r.set("scrollMode",t.mode).catch((function(){}))}}function webViewerSpreadModeChanged(t){if(N.isInitialViewSet&&!N.pdfViewer.isInPresentationMode){var r;null===(r=N.store)||void 0===r||r.set("spreadMode",t.mode).catch((function(){}))}}function webViewerResize(){var t=N.pdfDocument,r=N.pdfViewer;if((!N.pdfRenderingQueue.printing||!window.matchMedia("print").matches)&&t){var i=r.currentScaleValue;"auto"!==i&&"page-fit"!==i&&"page-width"!==i||(r.currentScaleValue=i);r.update()}}function webViewerHashchange(t){var r,i=t.hash;i&&(N.isInitialViewSet?null!==(r=N.pdfHistory)&&void 0!==r&&r.popStateInProgress||N.pdfLinkService.setHash(i):N.initialBookmark=i)}var z=function webViewerFileInputChange(t){var r;if(null===(r=N.pdfViewer)||void 0===r||!r.isInPresentationMode){var i=t.fileInput.files[0];N.open({url:URL.createObjectURL(i),originalUrl:i.name});if(globalThis.setNgxExtendedPdfViewerSource){var a;globalThis.setNgxExtendedPdfViewerSource(null!==(a=i.name)&&void 0!==a?a:URL.createObjectURL(i))}}},H=function webViewerOpenFile(t){N.appConfig.openFileInput.click()};function webViewerPresentationMode(){N.requestPresentationMode()}function webViewerSwitchAnnotationEditorMode(t){N.pdfViewer.annotationEditorMode=t}function webViewerSwitchAnnotationEditorParams(t){N.pdfViewer.annotationEditorParams=t}function webViewerPrint(){N.triggerPrinting()}function webViewerDownload(){N.downloadOrSave()}function webViewerOpenInExternalApp(){N.openInExternalApp()}function webViewerFirstPage(){N.page=1}function webViewerLastPage(){N.page=N.pagesCount}function webViewerNextPage(){N.pdfViewer.nextPage()}function webViewerPreviousPage(){N.pdfViewer.previousPage()}function webViewerZoomIn(){N.zoomIn()}function webViewerZoomOut(){N.zoomOut()}function webViewerZoomReset(){N.zoomReset()}function webViewerPageNumberChanged(t){var r=N.pdfViewer;""!==t.value&&N.pdfLinkService.goToPage(t.value);if(t.value!==r.currentPageNumber.toString()&&t.value!==r.currentPageLabel){var i;null===(i=N.toolbar)||void 0===i||i.setPageNumber(r.currentPageNumber,r.currentPageLabel)}}function webViewerScaleChanged(t){N.pdfViewer.currentScaleValue=t.value}function webViewerRotateCw(){N.rotatePages(90)}function webViewerRotateCcw(){N.rotatePages(-90)}function webViewerOptionalContentConfig(t){N.pdfViewer.optionalContentConfigPromise=t.promise}function webViewerSwitchScrollMode(t){N.pdfViewer.scrollMode=t.mode}function webViewerSwitchSpreadMode(t){N.pdfViewer.spreadMode=t.mode}function webViewerDocumentProperties(){var t;null===(t=N.pdfDocumentProperties)||void 0===t||t.open()}function webViewerFindFromUrlHash(t){N.eventBus.dispatch("find",{source:t.source,type:"",query:t.query,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1,matchDiacritics:!0})}function webViewerUpdateFindMatchesCount(t){var r=t.matchesCount;N.supportsIntegratedFind?N.externalServices.updateFindMatchesCount(r):N.findBar.updateResultsCount(r)}function webViewerUpdateFindControlState(t){var r=t.state,i=t.previous,a=t.matchesCount,o=t.rawQuery;if(N.supportsIntegratedFind)N.externalServices.updateFindControlState({result:r,findPrevious:i,matchesCount:a,rawQuery:o});else{var l;null===(l=N.findBar)||void 0===l||l.updateUIState(r,i,a)}}function webViewerScaleChanging(t){var r;null===(r=N.toolbar)||void 0===r||r.setPageScale(t.presetValue,t.scale);N.pdfViewer.update()}function webViewerRotationChanging(t){N.pdfThumbnailViewer&&(N.pdfThumbnailViewer.pagesRotation=t.pagesRotation);N.forceRendering();N.pdfViewer.currentPageNumber=t.pageNumber}function webViewerPageChanging(t){var r,i,a,l,u=t.pageNumber,c=t.pageLabel;null===(r=N.toolbar)||void 0===r||r.setPageNumber(u,c);null===(i=N.secondaryToolbar)||void 0===i||i.setPageNumber(u);if((null===(a=N.pdfSidebar)||void 0===a?void 0:a.visibleView)===o.SidebarView.THUMBS){var h;null===(h=N.pdfThumbnailViewer)||void 0===h||h.scrollThumbnailIntoView(u)}var d=N.pdfViewer.getPageView(u-1);null===(l=N.toolbar)||void 0===l||l.updateLoadingIndicatorState((null==d?void 0:d.renderingState)===o.RenderingStates.RUNNING);var p=document.getElementById("pageNumber");if(p){var v=new CustomEvent("page-change");p.dispatchEvent(v)}}function webViewerResolutionChange(t){N.pdfViewer.refresh()}function webViewerVisibilityChange(t){"visible"===document.visibilityState&&setZoomDisabledTimeout()}var U=null;function setZoomDisabledTimeout(){U&&clearTimeout(U);U=setTimeout((function(){U=null}),R)}function webViewerWheel(t){var r=document.getElementById("viewerContainer");if(r.parentNode.querySelector(":hover")===r){var i=N.pdfViewer,a=N.supportsMouseWheelZoomCtrlKey,l=N.supportsMouseWheelZoomMetaKey,u=N.supportsPinchToZoom;if(!i.isInPresentationMode){var c=(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0);if(!window.isKeyIgnored||!window.isKeyIgnored(c,"WHEEL")){var h=t.deltaMode,d=Math.exp(-t.deltaY/100),p=t.ctrlKey&&!N._isCtrlKeyDown&&h===WheelEvent.DOM_DELTA_PIXEL&&0===t.deltaX&&(Math.abs(d-1)<.05||!1)&&0===t.deltaZ;if(p||t.ctrlKey&&a||t.metaKey&&l){t.preventDefault();if(U||"hidden"===document.visibilityState||N.overlayManager.active)return;var v=i.currentScale;if(p&&u)if((d=N._accumulateFactor(v,d,"_wheelUnusedFactor"))<1)N.zoomOut(null,d);else{if(!(d>1))return;N.zoomIn(null,d)}else{var y=(0,o.normalizeWheelEventDirection)(t),g=0;if(h===WheelEvent.DOM_DELTA_LINE||h===WheelEvent.DOM_DELTA_PAGE)g=Math.abs(y)>=1?Math.sign(y):N._accumulateTicks(y,"_wheelUnusedTicks");else{g=N._accumulateTicks(y/30,"_wheelUnusedTicks")}if(g<0)N.zoomOut(-g);else{if(!(g>0))return;N.zoomIn(g)}}N._centerAtPos(v,t.clientX,t.clientY)}else setZoomDisabledTimeout()}}}}function webViewerTouchStart(t){if(!(N.pdfViewer.isInPresentationMode||t.touches.length<2)){t.preventDefault();if(2!==t.touches.length||N.overlayManager.active)N._touchInfo=null;else{var r=_slicedToArray(t.touches,2),i=r[0],a=r[1];if(i.identifier>a.identifier){var o=[a,i];i=o[0];a=o[1]}N._touchInfo={touch0X:i.pageX,touch0Y:i.pageY,touch1X:a.pageX,touch1Y:a.pageY}}}}function webViewerTouchMove(t){if(N._touchInfo&&2===t.touches.length){var r=N.pdfViewer,i=N._touchInfo,a=N.supportsPinchToZoom,o=_slicedToArray(t.touches,2),l=o[0],u=o[1];if(l.identifier>u.identifier){var c=[u,l];l=c[0];u=c[1]}var h=l,d=h.pageX,p=h.pageY,v=u,y=v.pageX,g=v.pageY,m=i.touch0X,_=i.touch0Y,b=i.touch1X,w=i.touch1Y;if(!(Math.abs(m-d)<=1&&Math.abs(_-p)<=1&&Math.abs(b-y)<=1&&Math.abs(w-g)<=1)){i.touch0X=d;i.touch0Y=p;i.touch1X=y;i.touch1Y=g;if(m===d&&_===p){var P=b-d,A=w-p,S=y-d,E=g-p,x=P*E-A*S;if(Math.abs(x)>.02*Math.hypot(P,A)*Math.hypot(S,E))return}else if(b===y&&w===g){var k=m-y,D=_-g,C=d-y,T=p-g,I=k*T-D*C;if(Math.abs(I)>.02*Math.hypot(k,D)*Math.hypot(C,T))return}else{if((d-m)*(y-b)+(p-_)*(g-w)>=0)return}t.preventDefault();var O=Math.hypot(d-y,p-g)||1,M=Math.hypot(m-b,_-w)||1,L=r.currentScale;if(a){var G=N._accumulateFactor(L,O/M,"_touchUnusedFactor");if(G<1)N.zoomOut(null,G);else{if(!(G>1))return;N.zoomIn(null,G)}}else{var R=N._accumulateTicks((O-M)/30,"_touchUnusedTicks");if(R<0)N.zoomOut(-R);else{if(!(R>0))return;N.zoomIn(R)}}N._centerAtPos(L,(d+y)/2,(p+g)/2)}}}function webViewerTouchEnd(t){if(N._touchInfo){t.preventDefault();N._touchInfo=null;N._touchUnusedTicks=0;N._touchUnusedFactor=1}}function webViewerClick(t){var r,i,a;if(null!==(r=N.secondaryToolbar)&&void 0!==r&&r.isOpen){var o=N.appConfig;if(N.pdfViewer.containsElement(t.target)||null!==(i=o.toolbar)&&void 0!==i&&i.container.contains(t.target)&&t.target!==(null===(a=o.secondaryToolbar)||void 0===a?void 0:a.toggleButton)){if(t.target&&t.target.parentElement===o.secondaryToolbar.toggleButton)return;if(t.target&&t.target.parentElement&&t.target.parentElement.parentElement===o.secondaryToolbar.toggleButton)return;N.secondaryToolbar.close()}}}function webViewerKeyUp(t){"Control"===t.key&&(N._isCtrlKeyDown=!1)}function webViewerKeyDown(t){var r,i,a,l,u;N._isCtrlKeyDown="Control"===t.key;if(!N.overlayManager.active){var c=N.eventBus,h=N.pdfViewer,d=h.isInPresentationMode,p=!1,v=!1,y=(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0);if(!window.isKeyIgnored||!window.isKeyIgnored(y,t.keyCode)){if(1===y||8===y||5===y||12===y)switch(t.keyCode){case 70:if(!N.supportsIntegratedFind&&!t.shiftKey){var g;null===(g=N.findBar)||void 0===g||g.open();p=!0}break;case 71:if(!N.supportsIntegratedFind){var m=N.findController.state;if(m){var _={source:window,type:"again",findPrevious:5===y||12===y};c.dispatch("find",_objectSpread(_objectSpread({},m),_))}p=!0}break;case 61:case 107:case 187:case 171:N.zoomIn();p=!0;break;case 173:case 109:case 189:N.zoomOut();p=!0;break;case 48:case 96:if(!d){setTimeout((function(){N.zoomReset()}));p=!1}break;case 38:if(d||N.page>1){N.page=1;p=!0;v=!0}break;case 40:if(d||N.page<N.pagesCount){N.page=N.pagesCount;p=!0;v=!0}}if(1===y||8===y)switch(t.keyCode){case 83:c.dispatch("download",{source:window});p=!0;break;case 79:c.dispatch("openfile",{source:window});p=!0}if(3===y||10===y)switch(t.keyCode){case 80:N.requestPresentationMode();p=!0;N.externalServices.reportTelemetry({type:"buttons",data:{id:"presentationModeKeyboard"}});break;case 71:if(N.appConfig.toolbar){N.appConfig.toolbar.pageNumber.select();p=!0}}if(p){v&&!d&&h.focus();t.preventDefault()}else{var b=(0,o.getActiveOrFocusedElement)(),w=null==b?void 0:b.tagName.toUpperCase();if(!("INPUT"===w||"TEXTAREA"===w||"SELECT"===w||"BUTTON"===w&&(13===t.keyCode||32===t.keyCode)||null!=b&&b.isContentEditable)||27===t.keyCode){if(0===y){var P=0,A=!1;switch(t.keyCode){case 38:case 33:h.isVerticalScrollbarEnabled&&(A=!0);P=-1;break;case 8:d||(A=!0);P=-1;break;case 37:h.isHorizontalScrollbarEnabled&&(A=!0);case 75:case 80:P=-1;break;case 27:if(null!==(r=N.secondaryToolbar)&&void 0!==r&&r.isOpen){N.secondaryToolbar.close();p=!0}if(!N.supportsIntegratedFind&&null!==(i=N.findBar)&&void 0!==i&&i.opened){N.findBar.close();p=!0}break;case 40:case 34:h.isVerticalScrollbarEnabled&&(A=!0);P=1;break;case 13:case 32:d||(A=!0);P=1;break;case 39:h.isHorizontalScrollbarEnabled&&(A=!0);case 74:case 78:P=1;break;case 36:if(d||N.page>1){N.page=1;p=!0;v=!0}break;case 35:if(d||N.page<N.pagesCount){N.page=N.pagesCount;p=!0;v=!0}break;case 83:null===(a=N.pdfCursorTools)||void 0===a||a.switchTool(o.CursorTool.SELECT);break;case 72:null===(l=N.pdfCursorTools)||void 0===l||l.switchTool(o.CursorTool.HAND);break;case 82:N.rotatePages(90);break;case 115:null===(u=N.pdfSidebar)||void 0===u||u.toggle()}if(0!==P&&(!A||"page-fit"===h.currentScaleValue)){P>0?h.nextPage():h.previousPage();p=!0}}if(4===y)switch(t.keyCode){case 13:case 32:if(!d&&"page-fit"!==h.currentScaleValue)break;h.previousPage();p=!0;break;case 82:N.rotatePages(-90)}v&&!h.containsElement(b)&&h.focus();p&&t.preventDefault()}}}}}function beforeUnload(t){t.preventDefault();t.returnValue="";return!1}var q={instance:{supportsPrinting:!1,createPrintService:function createPrintService(){throw new Error("Not implemented: createPrintService")}}};a()}catch(K){a(K)}}))},8961:(t,r,i)=>{i.d(r,{AppOptions:()=>g,OptionKind:()=>d,compatibilityParams:()=>a});i(7942),i(5776),i(1210),i(3352),i(4668),i(5598),i(8806),i(9366),i(6678),i(895),i(5897),i(2926),i(6180),i(1747),i(2374);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var a=Object.create(null),o=navigator.userAgent||"",l=navigator.platform||"",u=navigator.maxTouchPoints||1,c=/Android/.test(o),h=/\b(iPad|iPhone|iPod)(?=;)/.test(o)||"MacIntel"===l&&u>1;!function checkCanvasSizeLimitation(){(h||c)&&(a.maxCanvasPixels=5242880)}();var d={BROWSER:1,VIEWER:2,API:4,WORKER:8,PREFERENCE:128},p={canvasMaxAreaInBytes:{value:-1,kind:d.BROWSER+d.API},isInAutomation:{value:!1,kind:d.BROWSER},supportsDocumentFonts:{value:!0,kind:d.BROWSER},supportsIntegratedFind:{value:!1,kind:d.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:d.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:d.BROWSER},supportsPinchToZoom:{value:!0,kind:d.BROWSER},annotationEditorMode:{value:0,kind:d.VIEWER+d.PREFERENCE},annotationMode:{value:2,kind:d.VIEWER+d.PREFERENCE},cursorToolOnLoad:{value:0,kind:d.VIEWER+d.PREFERENCE},defaultZoomDelay:{value:400,kind:d.VIEWER+d.PREFERENCE},defaultZoomValue:{value:"",kind:d.VIEWER+d.PREFERENCE},disableHistory:{value:!1,kind:d.VIEWER},disablePageLabels:{value:!1,kind:d.VIEWER+d.PREFERENCE},enablePermissions:{value:!1,kind:d.VIEWER+d.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:d.VIEWER+d.PREFERENCE},enableScripting:{value:!0,kind:d.VIEWER+d.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:d.VIEWER},externalLinkTarget:{value:0,kind:d.VIEWER+d.PREFERENCE},historyUpdateUrl:{value:!1,kind:d.VIEWER+d.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:d.VIEWER+d.PREFERENCE},imageResourcesPath:{value:"./images/",kind:d.VIEWER},maxCanvasPixels:{value:16777216,kind:d.VIEWER},forcePageColors:{value:!1,kind:d.VIEWER+d.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:d.VIEWER+d.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:d.VIEWER+d.PREFERENCE},pdfBugEnabled:{value:!1,kind:d.VIEWER+d.PREFERENCE},printResolution:{value:150,kind:d.VIEWER},removePageBorders:{value:!1,kind:d.VIEWER+d.PREFERENCE},sidebarViewOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},scrollModeOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},spreadModeOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},textLayerMode:{value:1,kind:d.VIEWER+d.PREFERENCE},viewOnLoad:{value:0,kind:d.VIEWER+d.PREFERENCE},cMapPacked:{value:!0,kind:d.API},cMapUrl:{value:"../web/cmaps/",kind:d.API},disableAutoFetch:{value:!1,kind:d.API+d.PREFERENCE},disableFontFace:{value:!1,kind:d.API+d.PREFERENCE},disableRange:{value:!1,kind:d.API+d.PREFERENCE},disableStream:{value:!1,kind:d.API+d.PREFERENCE},docBaseUrl:{value:"",kind:d.API},enableXfa:{value:!0,kind:d.API+d.PREFERENCE},fontExtraProperties:{value:!1,kind:d.API},isEvalSupported:{value:!0,kind:d.API},isOffscreenCanvasSupported:{value:!0,kind:d.API},maxImageSize:{value:-1,kind:d.API},pdfBug:{value:!1,kind:d.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:d.API},verbosity:{value:1,kind:d.API},workerPort:{value:null,kind:d.WORKER},workerSrc:{value:"./assets/pdf.worker.mjs",kind:d.WORKER}};p.viewerCssTheme={value:0,kind:d.VIEWER+d.PREFERENCE};p.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:d.VIEWER};p.disablePreferences={value:!1,kind:d.VIEWER};p.locale={value:navigator.language||"en-US",kind:d.VIEWER};p.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:d.VIEWER};var v=Object.create(null);if(globalThis.pdfDefaultOptions)for(var y in globalThis.pdfDefaultOptions)v[y]=globalThis.pdfDefaultOptions[y];var g=function(){function AppOptions(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,AppOptions);throw new Error("Cannot initialize AppOptions.")}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(AppOptions,null,[{key:"get",value:function get(t){var r=v[t];if(void 0!==r)return r;var i=p[t];if(void 0!==i){var o;return null!==(o=a[t])&&void 0!==o?o:i.value}}},{key:"getAll",value:function getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=Object.create(null);for(var i in p){var o,l=p[i];if(!t||t&l.kind){var u=v[i];r[i]=void 0!==u?u:null!==(o=a[i])&&void 0!==o?o:l.value}}return r}},{key:"set",value:function set(t,r){v[t]=r}},{key:"setAll",value:function setAll(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){if(this.get("disablePreferences"))return;Object.keys(v).length&&console.warn('setAll: The Preferences may override manually set AppOptions; please use the "disablePreferences"-option in order to prevent that.')}for(var r in t)v[r]=t[r]}},{key:"remove",value:function remove(t){delete v[t]}}]);return AppOptions}()},9415:(t,r,i)=>{i.d(r,{BaseTreeViewer:()=>l});i(3352),i(5598),i(8806),i(9366),i(6678),i(895),i(5897),i(171),i(924),i(9593),i(1747),i(7942),i(5776),i(2926),i(6180),i(2374);var a=i(4927);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}var o="selected",l=function(){function BaseTreeViewer(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,BaseTreeViewer);if(this.constructor===BaseTreeViewer)throw new Error("Cannot initialize BaseTreeViewer.");this.container=t.container;this.eventBus=t.eventBus;this._l10n=t.l10n;this.reset()}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(BaseTreeViewer,[{key:"reset",value:function reset(){this._pdfDocument=null;this._lastToggleIsShow=!0;this._currentTreeItem=null;this.container.textContent="";this.container.classList.remove("treeWithDeepNesting")}},{key:"_dispatchEvent",value:function _dispatchEvent(t){throw new Error("Not implemented: _dispatchEvent")}},{key:"_bindLink",value:function _bindLink(t,r){throw new Error("Not implemented: _bindLink")}},{key:"_normalizeTextContent",value:function _normalizeTextContent(t){return(0,a.removeNullCharacters)(t,!0)||""}},{key:"_addToggleButton",value:function _addToggleButton(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.createElement("div");a.className="treeItemToggler";i&&a.classList.add("treeItemsHidden");a.onclick=function(i){i.stopPropagation();a.classList.toggle("treeItemsHidden");if(i.shiftKey){var o=!a.classList.contains("treeItemsHidden");r._toggleTreeItem(t,o)}};t.prepend(a)}},{key:"_toggleTreeItem",value:function _toggleTreeItem(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._l10n.pause();this._lastToggleIsShow=r;var i,a=_createForOfIteratorHelper(t.querySelectorAll(".treeItemToggler"));try{for(a.s();!(i=a.n()).done;){i.value.classList.toggle("treeItemsHidden",!r)}}catch(t){a.e(t)}finally{a.f()}this._l10n.resume()}},{key:"_toggleAllTreeItems",value:function _toggleAllTreeItems(){this._toggleTreeItem(this.container,!this._lastToggleIsShow)}},{key:"_finishRendering",value:function _finishRendering(t,r){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){this.container.classList.add("treeWithDeepNesting");this._lastToggleIsShow=!t.querySelector(".treeItemsHidden")}this._l10n.pause();this.container.append(t);this._l10n.resume();this._dispatchEvent(r)}},{key:"render",value:function render(t){throw new Error("Not implemented: render")}},{key:"_updateCurrentTreeItem",value:function _updateCurrentTreeItem(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._currentTreeItem){this._currentTreeItem.classList.remove(o);this._currentTreeItem=null}if(t){t.classList.add(o);this._currentTreeItem=t}}},{key:"_scrollToCurrentTreeItem",value:function _scrollToCurrentTreeItem(t){if(t){this._l10n.pause();for(var r=t.parentNode;r&&r!==this.container;){if(r.classList.contains("treeItem")){var i=r.firstElementChild;null==i||i.classList.remove("treeItemsHidden")}r=r.parentNode}this._l10n.resume();this._updateCurrentTreeItem(t);this.container.scrollTo(t.offsetLeft,t.offsetTop+-100)}}}]);return BaseTreeViewer}()},4397:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{DownloadManager:()=>c});i(3352),i(6180),i(895),i(1747),i(7484),i(2374),i(1210),i(7529),i(3757),i(3655),i(2555),i(2202),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926);var o=i(1869),l=t([o]);o=(l.then?(await l)():l)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _download(t,r){var i=document.createElement("a");if(!i.click)throw new Error('DownloadManager: "a.click()" is not supported.');i.href=t;i.target="_parent";"download"in i&&(i.download=r);(document.body||document.documentElement).append(i);i.click();i.remove()}var u=new WeakMap,c=function(){function DownloadManager(){_classCallCheck(this,DownloadManager);_classPrivateFieldInitSpec(this,u,{writable:!0,value:new WeakMap})}_createClass(DownloadManager,[{key:"downloadUrl",value:function downloadUrl(t,r,i){(0,o.createValidAbsoluteUrl)(t,"http://example.com")?_download(t+"#pdfjs.action=download",r):globalThis.ngxConsole.error("downloadUrl - not a valid URL: ".concat(t))}},{key:"downloadData",value:function downloadData(t,r,i){_download(URL.createObjectURL(new Blob([t],{type:i})),r)}},{key:"openOrDownloadData",value:function openOrDownloadData(t,r){var i=(0,o.isPdfFile)(r),a=i?"application/pdf":"";if(i){var l=_classPrivateFieldGet(this,u).get(t);if(!l){l=URL.createObjectURL(new Blob([t],{type:a}));_classPrivateFieldGet(this,u).set(t,l)}try{window.open(l);return!0}catch(r){globalThis.ngxConsole.error("openOrDownloadData: ".concat(r));URL.revokeObjectURL(l);_classPrivateFieldGet(this,u).delete(t)}}this.downloadData(t,r,a);return!1}},{key:"download",value:function download(t,r,i,a){_download(URL.createObjectURL(t),i)}}]);return DownloadManager}();a()}catch(h){a(h)}}))},6554:(t,r,i)=>{i.d(r,{AutomationEventBus:()=>u,EventBus:()=>l,waitOnEventOrTimeout:()=>waitOnEventOrTimeout});i(895),i(5666),i(5897),i(3352),i(171),i(4226),i(6302),i(6180),i(1747),i(7484),i(2374),i(9366),i(6678),i(2926),i(5598),i(8806),i(924),i(9593),i(7942),i(5776),i(13),i(9175),i(6128);function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _classPrivateFieldInitSpec(t,r,i){!function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r);r.set(t,i)}function _classPrivateFieldGet(t,r){var i=function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}(t,r,"get");return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,i)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var a={EVENT:"event",TIMEOUT:"timeout"};function waitOnEventOrTimeout(t){var r=t.target,i=t.name,o=t.delay,u=void 0===o?0:o;return new Promise((function(t,o){if("object"!==_typeof(r)||!i||"string"!=typeof i||!(Number.isInteger(u)&&u>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function handler(a){r instanceof l?r._off(i,c):r.removeEventListener(i,c);d&&clearTimeout(d);t(a)}var c=handler.bind(null,a.EVENT);r instanceof l?r._on(i,c):r.addEventListener(i,c);var h=handler.bind(null,a.TIMEOUT),d=setTimeout(h,u)}))}var o=new WeakMap,l=function(){function EventBus(){_classCallCheck(this,EventBus);_classPrivateFieldInitSpec(this,o,{writable:!0,value:Object.create(null)})}_createClass(EventBus,[{key:"on",value:function on(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._on(t,r,{external:!0,once:null==i?void 0:i.once})}},{key:"off",value:function off(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._off(t,r,{external:!0,once:null==i?void 0:i.once})}},{key:"dispatch",value:function dispatch(t,r){var i=_classPrivateFieldGet(this,o)[t];if(i&&0!==i.length){var a,l,u=_createForOfIteratorHelper(i.slice(0));try{for(u.s();!(l=u.n()).done;){var c=l.value,h=c.listener,d=c.external;c.once&&this._off(t,h);d?(a||(a=[])).push(h):h(r)}}catch(t){u.e(t)}finally{u.f()}if(a){var p,v=_createForOfIteratorHelper(a);try{for(v.s();!(p=v.n()).done;){(0,p.value)(r)}}catch(t){v.e(t)}finally{v.f()}a=null}}}},{key:"_on",value:function _on(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;((i=_classPrivateFieldGet(this,o))[t]||(i[t]=[])).push({listener:r,external:!0===(null==a?void 0:a.external),once:!0===(null==a?void 0:a.once)})}},{key:"_off",value:function _off(t,r){var i=_classPrivateFieldGet(this,o)[t];if(i)for(var a=0,l=i.length;a<l;a++)if(i[a].listener===r){i.splice(a,1);return}}}]);return EventBus}(),u=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}(AutomationEventBus,t);var r=_createSuper(AutomationEventBus);function AutomationEventBus(){_classCallCheck(this,AutomationEventBus);return r.apply(this,arguments)}_createClass(AutomationEventBus,[{key:"dispatch",value:function dispatch(t,r){throw new Error("Not implemented: AutomationEventBus.dispatch")}}]);return AutomationEventBus}(l)},9170:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{GenericScripting:()=>u});i(895),i(5666),i(5598),i(8806),i(9366),i(6678),i(3352),i(5897),i(2926),i(6180),i(1747),i(2374),i(1133),i(2173),i(2630),i(1024),i(13),i(4226),i(7121),i(6770),i(1378),i(171),i(4668),i(1585),i(2993),i(7262),i(7335);var o=i(1869),l=t([o]);o=(l.then?(await l)():l)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPropertyKey(t){var r=_toPrimitive(t,"string");return"symbol"===_typeof(r)?r:String(r)}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}var u=function(){function GenericScripting(t){var r;_classCallCheck(this,GenericScripting);"Function"===(null===(r=t)||void 0===r||null===(r=r.constructor)||void 0===r?void 0:r.name)&&(t=t());this._ready=new Promise((function(r,i){import(t).then((function(t){r(t.QuickJSSandbox())})).catch(i)}))}_createClass(GenericScripting,[{key:"createSandbox",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(t){return _regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return this._ready;case 2:r.sent.create(t);case 4:case"end":return r.stop()}}),_callee,this)}))),function createSandbox(t){return i.apply(this,arguments)})},{key:"dispatchEventInSandbox",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t){var r;return _regeneratorRuntime().wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._ready;case 2:r=i.sent;setTimeout((function(){return r.dispatchEvent(t)}),0);case 4:case"end":return i.stop()}}),_callee2,this)}))),function dispatchEventInSandbox(t){return r.apply(this,arguments)})},{key:"destroySandbox",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){return _regeneratorRuntime().wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return this._ready;case 2:t.sent.nukeSandbox();case 4:case"end":return t.stop()}}),_callee3,this)}))),function destroySandbox(){return t.apply(this,arguments)})}]);var t,r,i;return GenericScripting}();a()}catch(c){a(c)}}))},1546:(t,r,i)=>{i.a(t,(async(t,r)=>{try{i(7254),i(4668),i(2808),i(13),i(895),i(9175),i(6128),i(3352),i(5598),i(8806),i(9366),i(6678),i(5897),i(5666),i(2926),i(6180),i(1747),i(2374),i(1133),i(2173),i(2630),i(1024),i(4226),i(7121),i(6770),i(1378),i(171);var a=i(39),o=i(8961),l=i(216),u=i(4397),c=i(450),h=i(9170),d=t([a,u,c,h]);[a,u,c,h]=d.then?(await d)():d;function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}var p=function(t){_inherits(GenericPreferences,t);var r,i,a=_createSuper(GenericPreferences);function GenericPreferences(){_classCallCheck(this,GenericPreferences);return a.apply(this,arguments)}_createClass(GenericPreferences,[{key:"_writeToStorage",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(t){return _regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:try{localStorage.setItem("pdfjs.preferences",JSON.stringify(t))}catch(t){}case 1:case"end":return r.stop()}}),_callee)}))),function _writeToStorage(t){return i.apply(this,arguments)})},{key:"_readFromStorage",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t){return _regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;return t.abrupt("return",{prefs:JSON.parse(localStorage.getItem("pdfjs.preferences"))});case 4:t.prev=4;t.t0=t.catch(0);return t.abrupt("return",{});case 7:case"end":return t.stop()}}),_callee2,null,[[0,4]])}))),function _readFromStorage(t){return r.apply(this,arguments)})}]);return GenericPreferences}(l.BasePreferences),v=function(t){_inherits(GenericExternalServices,t);var r,i=_createSuper(GenericExternalServices);function GenericExternalServices(){_classCallCheck(this,GenericExternalServices);return i.apply(this,arguments)}_createClass(GenericExternalServices,null,[{key:"createDownloadManager",value:function createDownloadManager(){return new u.DownloadManager}},{key:"createPreferences",value:function createPreferences(){return new p}},{key:"createL10n",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){return _regeneratorRuntime().wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new c.GenericL10n(o.AppOptions.get("locale")));case 1:case"end":return t.stop()}}),_callee3)}))),function createL10n(){return r.apply(this,arguments)})},{key:"createScripting",value:function createScripting(t){var r=t.sandboxBundleSrc;return new h.GenericScripting(r)}}]);return GenericExternalServices}(a.DefaultExternalServices);a.PDFViewerApplication.externalServices=v;r()}catch(y){r(y)}}))},450:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{GenericL10n:()=>p});i(3352),i(13),i(9175),i(6128),i(5598),i(8806),i(5897),i(2926),i(2173),i(2630),i(1024),i(7121),i(6770),i(1378),i(171),i(895),i(5666),i(9366),i(6678),i(1133),i(4226),i(6180),i(1747),i(2374),i(7529),i(3757),i(3655),i(2555),i(2202),i(7942),i(4711);var o,l=i(8759),u=i(8275),c=i(1869),h=i(4065),d=t([c]);c=(d.then?(await d)():d)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _classStaticPrivateMethodGet(t,r,i){_classCheckPrivateStaticAccess(t,r);return i}function _classCheckPrivateStaticAccess(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}function _awaitAsyncGenerator(t){return new _OverloadYield(t,0)}function _AsyncGenerator(t){var r,i;function resume(r,i){try{var a=t[r](i),o=a.value,l=o instanceof _OverloadYield;Promise.resolve(l?o.v:o).then((function(i){if(l){var u="return"===r?"return":"next";if(!o.k||i.done)return resume(u,i);i=t[u](i).value}settle(a.done?"return":"normal",i)}),(function(t){resume("throw",t)}))}catch(t){settle("throw",t)}}function settle(t,a){switch(t){case"return":r.resolve({value:a,done:!0});break;case"throw":r.reject(a);break;default:r.resolve({value:a,done:!1})}(r=r.next)?resume(r.key,r.arg):i=null}this._invoke=function(t,a){return new Promise((function(o,l){var u={key:t,arg:a,resolve:o,reject:l,next:null};i?i=i.next=u:(r=i=u,resume(t,a))}))},"function"!=typeof t.return&&(this.return=void 0)}_AsyncGenerator.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_AsyncGenerator.prototype.next=function(t){return this._invoke("next",t)},_AsyncGenerator.prototype.throw=function(t){return this._invoke("throw",t)},_AsyncGenerator.prototype.return=function(t){return this._invoke("return",t)};function _OverloadYield(t,r){this.v=t,this.k=r}var p=function(t){_inherits(GenericL10n,t);var r,i,a=(r=GenericL10n,i=_isNativeReflectConstruct(),function _createSuperInternal(){var t,a=_getPrototypeOf(r);if(i){var o=_getPrototypeOf(this).constructor;t=Reflect.construct(a,arguments,o)}else t=a.apply(this,arguments);return _possibleConstructorReturn(this,t)});function GenericL10n(t){var r;_classCallCheck(this,GenericL10n);(r=a.call(this,{lang:t}))._setL10n(new u.DOMLocalization([],_classStaticPrivateMethodGet(GenericL10n,GenericL10n,_generateBundles).bind(GenericL10n,"en-us",r.getLanguage())));return r}return _createClass(GenericL10n)}(h.L10n);o=p;function _generateBundles(t,r){var i,a=this;return(i=_regeneratorRuntime().mark((function _callee(){var i,l,u,c,h,d,p,v,y;return _regeneratorRuntime().wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:g.next=2;return _awaitAsyncGenerator(_classStaticPrivateMethodGet(a,o,_getPaths).call(a));case 2:i=g.sent;l=i.baseURL;u=i.paths;c=[r];if(t!==r){(h=r.split("-",1)[0])!==r&&c.push(h);c.push(t)}d=0,p=c;case 8:if(!(d<p.length)){g.next=19;break}v=p[d];g.next=12;return _awaitAsyncGenerator(_classStaticPrivateMethodGet(a,o,_createBundle).call(a,v,l,u));case 12:if(!(y=g.sent)){g.next=16;break}g.next=16;return y;case 16:d++;g.next=8;break;case 19:case"end":return g.stop()}}),_callee)})),function(){return new _AsyncGenerator(i.apply(this,arguments))})()}function _createBundle(t,r,i){return _createBundle3.apply(this,arguments)}function _createBundle3(){return(_createBundle3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t,r,i){var a,o,u,h,d,p;return _regeneratorRuntime().wrap((function _callee2$(v){for(;;)switch(v.prev=v.next){case 0:if(a=i[t]){v.next=3;break}return v.abrupt("return",null);case 3:o=new URL(a,r);v.next=6;return(0,c.fetchData)(o,"text");case 6:u=v.sent;h=new l.FluentResource(u);d=new l.FluentBundle(t);(p=d.addResource(h)).length&&console.error("L10n errors",p);return v.abrupt("return",d);case 12:case"end":return v.stop()}}),_callee2)})))).apply(this,arguments)}function _getPaths(){return _getPaths3.apply(this,arguments)}function _getPaths3(){return(_getPaths3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var t,r,i;return _regeneratorRuntime().wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:t=document.querySelector('link[type="application/l10n"]'),r=t.href;a.next=3;return(0,c.fetchData)(r,"json");case 3:i=a.sent;return a.abrupt("return",{baseURL:r.replace(/[^/]*$/,"")||"./",paths:i});case 5:case"end":return a.stop()}}),_callee3)})))).apply(this,arguments)}a()}catch(v){a(v)}}))},6143:(t,r,i)=>{i.d(r,{GrabToPan:()=>c});i(3352),i(6180),i(895),i(1747),i(394),i(2374),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _classPrivateMethodInitSpec(t,r){!function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r);r.add(t)}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var a="grab-to-pan-grab",o=new WeakSet,l=new WeakSet,u=new WeakSet,c=function(){function GrabToPan(t){var r=t.element;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,GrabToPan);_classPrivateMethodInitSpec(this,u);_classPrivateMethodInitSpec(this,l);_classPrivateMethodInitSpec(this,o);this.element=r;this.document=r.ownerDocument;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onMouseDown=_classPrivateMethodGet(this,o,_onMouseDown2).bind(this);this._onMouseMove=_classPrivateMethodGet(this,l,_onMouseMove2).bind(this);this._endPan=_classPrivateMethodGet(this,u,_endPan2).bind(this);(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(GrabToPan,[{key:"activate",value:function activate(){if(!this.active){this.active=!0;this.element.addEventListener("mousedown",this._onMouseDown);this.element.classList.add(a)}}},{key:"deactivate",value:function deactivate(){if(this.active){this.active=!1;this.element.removeEventListener("mousedown",this._onMouseDown);this._endPan();this.element.classList.remove(a)}}},{key:"toggle",value:function toggle(){this.active?this.deactivate():this.activate()}},{key:"ignoreTarget",value:function ignoreTarget(t){return!!document.querySelector(".stf__item")||t.matches("a[href], a[href] *, input, textarea, button, button *, select, option")}}]);return GrabToPan}();function _onMouseDown2(t){if(0===t.button&&!this.ignoreTarget(t.target)){if(t.originalTarget)try{t.originalTarget.tagName}catch(t){return}this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=t.clientX;this.clientYStart=t.clientY;if(!isOverPerfectScrollbar(this.clientXStart,this.clientYStart,"ps__rail-x")&&!isOverPerfectScrollbar(this.clientXStart,this.clientYStart,"ps__rail-y")){this.document.addEventListener("mousemove",this._onMouseMove,!0);this.document.addEventListener("mouseup",this._endPan,!0);this.element.addEventListener("scroll",this._endPan,!0);t.preventDefault();t.stopPropagation();var r=document.activeElement;r&&!r.contains(t.target)&&r.blur()}}}function _onMouseMove2(t){this.element.removeEventListener("scroll",this._endPan,!0);if(1&t.buttons){var r=t.clientX-this.clientXStart,i=t.clientY-this.clientYStart;this.element.scrollTo({top:this.scrollTopStart-i,left:this.scrollLeftStart-r,behavior:"instant"});this.overlay.parentNode||document.body.append(this.overlay)}else this._endPan()}function _endPan2(){this.element.removeEventListener("scroll",this._endPan,!0);this.document.removeEventListener("mousemove",this._onMouseMove,!0);this.document.removeEventListener("mouseup",this._endPan,!0);this.overlay.remove()}function isOverPerfectScrollbar(t,r,i){var a=document.getElementsByClassName(i);if(a&&1===a.length){var o=a[0].getBoundingClientRect(),l=o.top,u=o.right,c=o.bottom,h=o.left;if(r>=l&&r<=c&&t<=u&&t>=h)return!0}return!1}},4065:(t,r,i)=>{i.d(r,{L10n:()=>u});i(5136),i(7944),i(3352),i(6180),i(895),i(1747),i(7484),i(2374),i(2796),i(5598),i(8806),i(9366),i(6678),i(5897),i(5666),i(2926),i(1133),i(2173),i(2630),i(1024),i(13),i(4226),i(7121),i(6770),i(1378),i(171);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _classPrivateFieldInitSpec(t,r,i){!function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r);r.set(t,i)}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classStaticPrivateMethodGet(t,r,i){!function _classCheckPrivateStaticAccess(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}(t,r);return i}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var a=new WeakMap,o=new WeakMap,l=new WeakMap,u=function(){function L10n(t){var r=t.lang,i=t.isRTL,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,L10n);_classPrivateFieldInitSpec(this,a,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,o,{writable:!0,value:void 0});_classPrivateFieldInitSpec(this,l,{writable:!0,value:void 0});_classPrivateFieldSet(this,o,_classStaticPrivateMethodGet(L10n,L10n,_fixupLangCode).call(L10n,r));_classPrivateFieldSet(this,l,u);_classPrivateFieldSet(this,a,(null!=i?i:_classStaticPrivateMethodGet(L10n,L10n,_isRTL).call(L10n,_classPrivateFieldGet(this,o)))?"rtl":"ltr")}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(L10n,[{key:"_setL10n",value:function _setL10n(t){_classPrivateFieldSet(this,l,t)}},{key:"getLanguage",value:function getLanguage(){return _classPrivateFieldGet(this,o)}},{key:"getDirection",value:function getDirection(){return _classPrivateFieldGet(this,a)}},{key:"get",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(t){var r,i,a,o,u=arguments;return _regeneratorRuntime().wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:r=u.length>1&&void 0!==u[1]?u[1]:null;i=u.length>2?u[2]:void 0;if(!Array.isArray(t)){c.next=8;break}t=t.map((function(t){return{id:t}}));c.next=6;return _classPrivateFieldGet(this,l).formatMessages(t);case 6:a=c.sent;return c.abrupt("return",a.map((function(t){return t.value})));case 8:c.next=10;return _classPrivateFieldGet(this,l).formatMessages([{id:t,args:r}]);case 10:o=c.sent;return c.abrupt("return",(null==o?void 0:o[0].value)||i);case 12:case"end":return c.stop()}}),_callee,this)}))),function get(t){return r.apply(this,arguments)})},{key:"translate",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t){return _regeneratorRuntime().wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0;_classPrivateFieldGet(this,l).connectRoot(t);r.next=4;return _classPrivateFieldGet(this,l).translateRoots();case 4:r.next=8;break;case 6:r.prev=6;r.t0=r.catch(0);case 8:case"end":return r.stop()}}),_callee2,this,[[0,6]])}))),function translate(r){return t.apply(this,arguments)})},{key:"pause",value:function pause(){_classPrivateFieldGet(this,l).pauseObserving()}},{key:"resume",value:function resume(){_classPrivateFieldGet(this,l).resumeObserving()}}]);var t,r;return L10n}();function _fixupLangCode(t){var r;return{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[t=(null===(r=t)||void 0===r?void 0:r.toLowerCase())||"en-us"]||t}function _isRTL(t){var r=t.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(r)}},7910:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{NullL10n:()=>p});i(895),i(5666),i(9366),i(6678),i(1133),i(3352),i(13),i(9175),i(6128),i(5598),i(8806),i(5897),i(2926),i(6180),i(1747),i(2374),i(2173),i(2630),i(1024),i(4226),i(7121),i(6770),i(1378),i(171);var o=i(1869),l=i(8759),u=i(8275),c=i(4065),h=t([o]);o=(h.then?(await h)():h)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _classStaticPrivateMethodGet(t,r,i){_classCheckPrivateStaticAccess(t,r);return i}function _classCheckPrivateStaticAccess(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}function _AsyncGenerator(t){var r,i;function resume(r,i){try{var a=t[r](i),o=a.value,l=o instanceof _OverloadYield;Promise.resolve(l?o.v:o).then((function(i){if(l){var u="return"===r?"return":"next";if(!o.k||i.done)return resume(u,i);i=t[u](i).value}settle(a.done?"return":"normal",i)}),(function(t){resume("throw",t)}))}catch(t){settle("throw",t)}}function settle(t,a){switch(t){case"return":r.resolve({value:a,done:!0});break;case"throw":r.reject(a);break;default:r.resolve({value:a,done:!1})}(r=r.next)?resume(r.key,r.arg):i=null}this._invoke=function(t,a){return new Promise((function(o,l){var u={key:t,arg:a,resolve:o,reject:l,next:null};i?i=i.next=u:(r=i=u,resume(t,a))}))},"function"!=typeof t.return&&(this.return=void 0)}_AsyncGenerator.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_AsyncGenerator.prototype.next=function(t){return this._invoke("next",t)},_AsyncGenerator.prototype.throw=function(t){return this._invoke("throw",t)},_AsyncGenerator.prototype.return=function(t){return this._invoke("return",t)};function _OverloadYield(t,r){this.v=t,this.k=r}var d=function(t){_inherits(ConstL10n,t);var r,i,a=(r=ConstL10n,i=_isNativeReflectConstruct(),function _createSuperInternal(){var t,a=_getPrototypeOf(r);if(i){var o=_getPrototypeOf(this).constructor;t=Reflect.construct(a,arguments,o)}else t=a.apply(this,arguments);return _possibleConstructorReturn(this,t)});function ConstL10n(t){var r;_classCallCheck(this,ConstL10n);(r=a.call(this,{lang:t}))._setL10n(new u.DOMLocalization([],_classStaticPrivateMethodGet(ConstL10n,ConstL10n,_generateBundles).bind(ConstL10n,t)));return r}_createClass(ConstL10n,null,[{key:"instance",get:function get(){return(0,o.shadow)(this,"instance",new ConstL10n("en-us"))}}]);return ConstL10n}(c.L10n);function _generateBundles(t){return(r=_regeneratorRuntime().mark((function _callee3(){var r,i,a;return _regeneratorRuntime().wrap((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:r=new l.FluentResource("pdfjs-previous-button =\n    .title = Previous Page\npdfjs-previous-button-label = Previous\npdfjs-next-button =\n    .title = Next Page\npdfjs-next-button-label = Next\npdfjs-page-input =\n    .title = Page\npdfjs-of-pages = of { $pagesCount }\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\npdfjs-zoom-out-button =\n    .title = Zoom Out\npdfjs-zoom-out-button-label = Zoom Out\npdfjs-zoom-in-button =\n    .title = Zoom In\npdfjs-zoom-in-button-label = Zoom In\npdfjs-zoom-select =\n    .title = Zoom\npdfjs-presentation-mode-button =\n    .title = Switch to Presentation Mode\npdfjs-presentation-mode-button-label = Presentation Mode\npdfjs-open-file-button =\n    .title = Open File\npdfjs-open-file-button-label = Open\npdfjs-print-button =\n    .title = Print\npdfjs-print-button-label = Print\npdfjs-save-button =\n    .title = Save\npdfjs-save-button-label = Save\npdfjs-download-button =\n    .title = Download\npdfjs-download-button-label = Download\npdfjs-bookmark-button =\n    .title = Current Page (View URL from Current Page)\npdfjs-bookmark-button-label = Current Page\npdfjs-open-in-app-button =\n    .title = Open in app\npdfjs-open-in-app-button-label = Open in app\npdfjs-tools-button =\n    .title = Tools\npdfjs-tools-button-label = Tools\npdfjs-first-page-button =\n    .title = Go to First Page\npdfjs-first-page-button-label = Go to First Page\npdfjs-last-page-button =\n    .title = Go to Last Page\npdfjs-last-page-button-label = Go to Last Page\npdfjs-page-rotate-cw-button =\n    .title = Rotate Clockwise\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\npdfjs-page-rotate-ccw-button =\n    .title = Rotate Counterclockwise\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\npdfjs-cursor-text-select-tool-button =\n    .title = Enable Text Selection Tool\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\npdfjs-cursor-hand-tool-button =\n    .title = Enable Hand Tool\npdfjs-cursor-hand-tool-button-label = Hand Tool\npdfjs-scroll-page-button =\n    .title = Use Page Scrolling\npdfjs-scroll-page-button-label = Page Scrolling\npdfjs-scroll-vertical-button =\n    .title = Use Vertical Scrolling\npdfjs-scroll-vertical-button-label = Vertical Scrolling\npdfjs-scroll-horizontal-button =\n    .title = Use Horizontal Scrolling\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\npdfjs-scroll-wrapped-button =\n    .title = Use Wrapped Scrolling\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\npdfjs-spread-none-button =\n    .title = Do not join page spreads\npdfjs-spread-none-button-label = No Spreads\npdfjs-spread-odd-button =\n    .title = Join page spreads starting with odd-numbered pages\npdfjs-spread-odd-button-label = Odd Spreads\npdfjs-spread-even-button =\n    .title = Join page spreads starting with even-numbered pages\npdfjs-spread-even-button-label = Even Spreads\npdfjs-document-properties-button =\n    .title = Document Properties\npdfjs-document-properties-button-label = Document Properties\npdfjs-document-properties-file-name = File name:\npdfjs-document-properties-file-size = File size:\npdfjs-document-properties-kb = { $size_kb } KB ({ $size_b } bytes)\npdfjs-document-properties-mb = { $size_mb } MB ({ $size_b } bytes)\npdfjs-document-properties-title = Title:\npdfjs-document-properties-author = Author:\npdfjs-document-properties-subject = Subject:\npdfjs-document-properties-keywords = Keywords:\npdfjs-document-properties-creation-date = Creation Date:\npdfjs-document-properties-modification-date = Modification Date:\npdfjs-document-properties-date-string = { $date }, { $time }\npdfjs-document-properties-creator = Creator:\npdfjs-document-properties-producer = PDF Producer:\npdfjs-document-properties-version = PDF Version:\npdfjs-document-properties-page-count = Page Count:\npdfjs-document-properties-page-size = Page Size:\npdfjs-document-properties-page-size-unit-inches = in\npdfjs-document-properties-page-size-unit-millimeters = mm\npdfjs-document-properties-page-size-orientation-portrait = portrait\npdfjs-document-properties-page-size-orientation-landscape = landscape\npdfjs-document-properties-page-size-name-a-three = A3\npdfjs-document-properties-page-size-name-a-four = A4\npdfjs-document-properties-page-size-name-letter = Letter\npdfjs-document-properties-page-size-name-legal = Legal\npdfjs-document-properties-page-size-dimension-string = { $width }  { $height } { $unit } ({ $orientation })\npdfjs-document-properties-page-size-dimension-name-string = { $width }  { $height } { $unit } ({ $name }, { $orientation })\npdfjs-document-properties-linearized = Fast Web View:\npdfjs-document-properties-linearized-yes = Yes\npdfjs-document-properties-linearized-no = No\npdfjs-document-properties-close-button = Close\npdfjs-print-progress-message = Preparing document for printing\npdfjs-print-progress-percent = { $progress }%\npdfjs-print-progress-close-button = Cancel\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\npdfjs-toggle-sidebar-button =\n    .title = Toggle Sidebar\npdfjs-toggle-sidebar-notification-button =\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\npdfjs-document-outline-button =\n    .title = Show Document Outline (double-click to expand/collapse all items)\npdfjs-document-outline-button-label = Document Outline\npdfjs-attachments-button =\n    .title = Show Attachments\npdfjs-attachments-button-label = Attachments\npdfjs-layers-button =\n    .title = Show Layers (double-click to reset all layers to the default state)\npdfjs-layers-button-label = Layers\npdfjs-thumbs-button =\n    .title = Show Thumbnails\npdfjs-thumbs-button-label = Thumbnails\npdfjs-current-outline-item-button =\n    .title = Find Current Outline Item\npdfjs-current-outline-item-button-label = Current Outline Item\npdfjs-findbar-button =\n    .title = Find in Document\npdfjs-findbar-button-label = Find\npdfjs-additional-layers = Additional Layers\npdfjs-thumb-page-title =\n    .title = Page { $page }\npdfjs-thumb-page-canvas =\n    .aria-label = Thumbnail of Page { $page }\npdfjs-find-input =\n    .title = Find\n    .placeholder = Find in document\npdfjs-find-previous-button =\n    .title = Find the previous occurrence of the phrase\npdfjs-find-previous-button-label = Previous\npdfjs-find-next-button =\n    .title = Find the next occurrence of the phrase\npdfjs-find-next-button-label = Next\npdfjs-find-highlight-checkbox = Highlight All\npdfjs-find-match-case-checkbox-label = Match Case\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\npdfjs-find-entire-word-checkbox-label = Whole Words\npdfjs-find-reached-top = Reached top of document, continued from bottom\npdfjs-find-reached-bottom = Reached end of document, continued from top\npdfjs-find-match-count =\n    { $total ->\n        [one] { $current } of { $total } match\n       *[other] { $current } of { $total } matches\n    }\npdfjs-find-match-count-limit =\n    { $limit ->\n        [one] More than { $limit } match\n       *[other] More than { $limit } matches\n    }\npdfjs-find-not-found = Phrase not found\npdfjs-page-scale-width = Page Width\npdfjs-page-scale-fit = Page Fit\npdfjs-page-scale-auto = Automatic Zoom\npdfjs-page-scale-actual = Actual Size\npdfjs-page-scale-percent = { $scale }%\npdfjs-page-landmark =\n    .aria-label = Page { $page }\npdfjs-loading-error = An error occurred while loading the PDF.\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\npdfjs-missing-file-error = Missing PDF file.\npdfjs-unexpected-response-error = Unexpected server response.\npdfjs-rendering-error = An error occurred while rendering the page.\npdfjs-annotation-date-string = { $date }, { $time }\npdfjs-text-annotation-type =\n    .alt = [{ $type } Annotation]\npdfjs-password-label = Enter the password to open this PDF file.\npdfjs-password-invalid = Invalid password. Please try again.\npdfjs-password-ok-button = OK\npdfjs-password-cancel-button = Cancel\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\npdfjs-editor-free-text-button =\n    .title = Text\npdfjs-editor-free-text-button-label = Text\npdfjs-editor-ink-button =\n    .title = Draw\npdfjs-editor-ink-button-label = Draw\npdfjs-editor-stamp-button =\n    .title = Add or edit images\npdfjs-editor-stamp-button-label = Add or edit images\npdfjs-editor-remove-button =\n    .title = Remove\npdfjs-editor-free-text-color-input = Color\npdfjs-editor-free-text-size-input = Size\npdfjs-editor-ink-color-input = Color\npdfjs-editor-ink-thickness-input = Thickness\npdfjs-editor-ink-opacity-input = Opacity\npdfjs-editor-stamp-add-image-button =\n    .title = Add image\npdfjs-editor-stamp-add-image-button-label = Add image\npdfjs-free-text =\n    .aria-label = Text Editor\npdfjs-free-text-default-content = Start typing\npdfjs-ink =\n    .aria-label = Draw Editor\npdfjs-ink-canvas =\n    .aria-label = User-created image\npdfjs-editor-alt-text-button-label = Alt text\npdfjs-editor-alt-text-edit-button-label = Edit alt text\npdfjs-editor-alt-text-dialog-label = Choose an option\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people cant see the image or when it doesnt load.\npdfjs-editor-alt-text-add-description-label = Add a description\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\npdfjs-editor-alt-text-cancel-button = Cancel\npdfjs-editor-alt-text-save-button = Save\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\npdfjs-editor-alt-text-textarea =\n    .placeholder = For example, A young man sits down at a table to eat a meal\npdfjs-editor-resizer-label-top-left = Top left corner  resize\npdfjs-editor-resizer-label-top-middle = Top middle  resize\npdfjs-editor-resizer-label-top-right = Top right corner  resize\npdfjs-editor-resizer-label-middle-right = Middle right  resize\npdfjs-editor-resizer-label-bottom-right = Bottom right corner  resize\npdfjs-editor-resizer-label-bottom-middle = Bottom middle  resize\npdfjs-editor-resizer-label-bottom-left = Bottom left corner  resize\npdfjs-editor-resizer-label-middle-left = Middle left  resize");i=new l.FluentBundle(t);(a=i.addResource(r)).length&&console.error("L10n errors",a);o.next=7;return i;case 7:case"end":return o.stop()}}),_callee3)})),function(){return new _AsyncGenerator(r.apply(this,arguments))})();var r}var p={getLanguage:function getLanguage(){return d.instance.getLanguage()},getDirection:function getDirection(){return d.instance.getDirection()},get:function get(t){var r=arguments;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var i,a;return _regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:i=r.length>1&&void 0!==r[1]?r[1]:null;a=r.length>2?r[2]:void 0;return o.abrupt("return",d.instance.get(t,i,a));case 3:case"end":return o.stop()}}),_callee)})))()},translate:function translate(t){return _asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){return _regeneratorRuntime().wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",d.instance.translate(t));case 1:case"end":return r.stop()}}),_callee2)})))()},pause:function pause(){return d.instance.pause()},resume:function resume(){return d.instance.resume()}};a()}catch(v){a(v)}}))},5318:(t,r,i)=>{i.d(r,{ngxExtendedPdfViewerVersion:()=>a});var a="19.0.0-alpha.0"},1996:(t,r,i)=>{i.d(r,{OverlayManager:()=>l});i(6180),i(895),i(1747),i(7484),i(2374),i(3352),i(5598),i(8806),i(9366),i(6678),i(5897),i(5666),i(2926),i(1133),i(2173),i(2630),i(1024),i(13),i(4226),i(7121),i(6770),i(1378),i(171);function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _classPrivateFieldInitSpec(t,r,i){!function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r);r.set(t,i)}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var a=new WeakMap,o=new WeakMap,l=function(){function OverlayManager(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,OverlayManager);_classPrivateFieldInitSpec(this,a,{writable:!0,value:new WeakMap});_classPrivateFieldInitSpec(this,o,{writable:!0,value:null})}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(OverlayManager,[{key:"active",get:function get(){return _classPrivateFieldGet(this,o)}},{key:"register",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(t){var r,i=this,l=arguments;return _regeneratorRuntime().wrap((function _callee$(u){for(;;)switch(u.prev=u.next){case 0:r=l.length>1&&void 0!==l[1]&&l[1];if("object"===_typeof(t)){u.next=5;break}throw new Error("Not enough parameters.");case 5:if(!_classPrivateFieldGet(this,a).has(t)){u.next=7;break}throw new Error("The overlay is already registered.");case 7:_classPrivateFieldGet(this,a).set(t,{canForceClose:r});t.addEventListener("cancel",(function(t){_classPrivateFieldSet(i,o,null)}));case 9:case"end":return u.stop()}}),_callee,this)}))),function register(t){return i.apply(this,arguments)})},{key:"open",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t){return _regeneratorRuntime().wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(_classPrivateFieldGet(this,a).has(t)){r.next=4;break}throw new Error("The overlay does not exist.");case 4:if(!_classPrivateFieldGet(this,o)){r.next=15;break}if(_classPrivateFieldGet(this,o)!==t){r.next=9;break}throw new Error("The overlay is already active.");case 9:if(!_classPrivateFieldGet(this,a).get(t).canForceClose){r.next=14;break}r.next=12;return this.close();case 12:r.next=15;break;case 14:throw new Error("Another overlay is currently active.");case 15:_classPrivateFieldSet(this,o,t);t.showModal();t.classList.remove("hidden");case 18:case"end":return r.stop()}}),_callee2,this)}))),function open(t){return r.apply(this,arguments)})},{key:"close",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var t,r=arguments;return _regeneratorRuntime().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:_classPrivateFieldGet(this,o);if(_classPrivateFieldGet(this,a).has(t)){i.next=5;break}throw new Error("The overlay does not exist.");case 5:if(_classPrivateFieldGet(this,o)){i.next=9;break}throw new Error("The overlay is currently not active.");case 9:if(_classPrivateFieldGet(this,o)===t){i.next=11;break}throw new Error("Another overlay is currently active.");case 11:t.close();_classPrivateFieldSet(this,o,null);case 13:case"end":return i.stop()}}),_callee3,this)}))),function close(){return t.apply(this,arguments)})}]);var t,r,i;return OverlayManager}()},658:(t,r,i)=>{i.d(r,{PageFlip:()=>S});i(5598),i(8806),i(9366),i(6678),i(895),i(3352),i(5897),i(6394),i(4226),i(8649),i(7874),i(171),i(924),i(3032),i(5619),i(7942),i(9786),i(2796),i(6180),i(5548),i(1747),i(2374),i(9142),i(2926),i(13),i(9175),i(6128),i(9593),i(5776),i(9718),i(7262);function _get(){_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,r,i){var a=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?t:i):o.value}};return _get.apply(this,arguments)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}var a=function(){function Page(t,r){_classCallCheck(this,Page);this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0};this.createdDensity=r;this.nowDrawingDensity=this.createdDensity;this.render=t}_createClass(Page,[{key:"setDensity",value:function setDensity(t){this.createdDensity=t;this.nowDrawingDensity=t}},{key:"setDrawingDensity",value:function setDrawingDensity(t){this.nowDrawingDensity=t}},{key:"setPosition",value:function setPosition(t){this.state.position=t}},{key:"setAngle",value:function setAngle(t){this.state.angle=t}},{key:"setArea",value:function setArea(t){this.state.area=t}},{key:"setHardDrawingAngle",value:function setHardDrawingAngle(t){this.state.hardDrawingAngle=t}},{key:"setHardAngle",value:function setHardAngle(t){this.state.hardAngle=t;this.state.hardDrawingAngle=t}},{key:"setOrientation",value:function setOrientation(t){this.orientation=t}},{key:"getDrawingDensity",value:function getDrawingDensity(){return this.nowDrawingDensity}},{key:"getDensity",value:function getDensity(){return this.createdDensity}},{key:"getHardAngle",value:function getHardAngle(){return this.state.hardAngle}}]);return Page}(),o=function(t){_inherits(ImagePage,t);var r=_createSuper(ImagePage);function ImagePage(t,i,a){var o;_classCallCheck(this,ImagePage);(o=r.call(this,t,a)).image=null;o.isLoad=!1;o.loadingAngle=0;o.image=new Image;o.image.src=i;return o}_createClass(ImagePage,[{key:"draw",value:function draw(t){var r=window.pdfDefaultOptions.activateWillReadFrequentlyFlag?{willReadFrequently:!0}:void 0,i=canvas.getContext("2d",r),a=this.render.convertToGlobal(this.state.position),o=this.render.getRect().pageWidth,l=this.render.getRect().height;i.save();i.translate(a.x,a.y);i.beginPath();var u,c=_createForOfIteratorHelper(this.state.area);try{for(c.s();!(u=c.n()).done;){var h=u.value;if(null!==h){h=this.render.convertToGlobal(h);i.lineTo(h.x-a.x,h.y-a.y)}}}catch(t){c.e(t)}finally{c.f()}i.rotate(this.state.angle);i.clip();this.isLoad?i.drawImage(this.image,0,0,o,l):this.drawLoader(i,{x:0,y:0},o,l);i.restore()}},{key:"simpleDraw",value:function simpleDraw(t){var r=this.render.getRect(),i=window.pdfDefaultOptions.activateWillReadFrequentlyFlag?{willReadFrequently:!0}:void 0,a=canvas.getContext("2d",i),o=r.pageWidth,l=r.height,u=1===t?r.left+r.pageWidth:r.left,c=r.top;this.isLoad?a.drawImage(this.image,u,c,o,l):this.drawLoader(a,{x:u,y:c},o,l)}},{key:"drawLoader",value:function drawLoader(t,r,i,a){t.beginPath();t.strokeStyle="rgb(200, 200, 200)";t.fillStyle="rgb(255, 255, 255)";t.lineWidth=1;t.rect(r.x+1,r.y+1,i-1,a-1);t.stroke();t.fill();var o={x:r.x+i/2,y:r.y+a/2};t.beginPath();t.lineWidth=10;t.arc(o.x,o.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle);t.stroke();t.closePath();this.loadingAngle+=.07;this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}},{key:"load",value:function load(){var t=this;this.isLoad||(this.image.onload=function(){t.isLoad=!0})}},{key:"newTemporaryCopy",value:function newTemporaryCopy(){return this}},{key:"getTemporaryCopy",value:function getTemporaryCopy(){return this}},{key:"hideTemporaryCopy",value:function hideTemporaryCopy(){}}]);return ImagePage}(a),l=function(){function PageCollection(t,r){_classCallCheck(this,PageCollection);this.pages=[];this.currentPageIndex=0;this.currentSpreadIndex=0;this.landscapeSpread=[];this.portraitSpread=[];this.render=r;this.app=t;this.currentPageIndex=0;this.isShowCover=this.app.getSettings().showCover}_createClass(PageCollection,[{key:"destroy",value:function destroy(){this.pages=[]}},{key:"createSpread",value:function createSpread(){this.landscapeSpread=[];this.portraitSpread=[];for(var t=0;t<this.pages.length;t++)this.portraitSpread.push([t]);var r=0;if(this.isShowCover){this.pages[0].setDensity("hard");this.landscapeSpread.push([r]);r++}for(var i=r;i<this.pages.length;i+=2)if(i<this.pages.length-1)this.landscapeSpread.push([i,i+1]);else{this.landscapeSpread.push([i]);this.pages[i].setDensity("hard")}}},{key:"getSpread",value:function getSpread(){return"landscape"===this.render.getOrientation()?this.landscapeSpread:this.portraitSpread}},{key:"getSpreadIndexByPage",value:function getSpreadIndexByPage(t){for(var r=this.getSpread(),i=0;i<r.length;i++)if(t===r[i][0]||t===r[i][1])return i;return null}},{key:"getPageCount",value:function getPageCount(){return this.pages.length}},{key:"getPages",value:function getPages(){return this.pages}},{key:"getPage",value:function getPage(t){if(t>=0&&t<this.pages.length)return this.pages[t];throw new Error("Invalid page number")}},{key:"nextBy",value:function nextBy(t){var r=this.pages.indexOf(t);return r<this.pages.length-1?this.pages[r+1]:null}},{key:"prevBy",value:function prevBy(t){var r=this.pages.indexOf(t);return r>0?this.pages[r-1]:null}},{key:"getFlippingPage",value:function getFlippingPage(t){var r=this.currentSpreadIndex;if("portrait"===this.render.getOrientation())return 0===t?this.pages[r].newTemporaryCopy():this.pages[r-1];var i=0===t?this.getSpread()[r+1]:this.getSpread()[r-1];return 1===i.length||0===t?this.pages[i[0]]:this.pages[i[1]]}},{key:"getBottomPage",value:function getBottomPage(t){var r=this.currentSpreadIndex;if("portrait"===this.render.getOrientation())return 0===t?this.pages[r+1]:this.pages[r-1];var i=0===t?this.getSpread()[r+1]:this.getSpread()[r-1];return 1===i.length?this.pages[i[0]]:0===t?this.pages[i[1]]:this.pages[i[0]]}},{key:"showNext",value:function showNext(){if(this.currentSpreadIndex<this.getSpread().length){this.currentSpreadIndex++;this.showSpread()}}},{key:"showPrev",value:function showPrev(){if(this.currentSpreadIndex>0){this.currentSpreadIndex--;this.showSpread()}}},{key:"getCurrentPageIndex",value:function getCurrentPageIndex(){return this.currentPageIndex}},{key:"show",value:function show(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===t&&(t=this.currentPageIndex);if(!(t<0||t>=this.pages.length)){var r=this.getSpreadIndexByPage(t);if(null!==r){this.currentSpreadIndex=r;this.showSpread()}}}},{key:"getCurrentSpreadIndex",value:function getCurrentSpreadIndex(){return this.currentSpreadIndex}},{key:"setCurrentSpreadIndex",value:function setCurrentSpreadIndex(t){if(!(t>=0&&t<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=t}},{key:"showSpread",value:function showSpread(){var t=this.getSpread()[this.currentSpreadIndex];if(2===t.length){this.render.setLeftPage(this.pages[t[0]]);this.render.setRightPage(this.pages[t[1]])}else if("landscape"===this.render.getOrientation())if(t[0]===this.pages.length-1){this.render.setLeftPage(this.pages[t[0]]);this.render.setRightPage(null)}else{this.render.setLeftPage(null);this.render.setRightPage(this.pages[t[0]])}else{this.render.setLeftPage(null);this.render.setRightPage(this.pages[t[0]])}this.currentPageIndex=t[0];this.app.updatePageIndex(this.currentPageIndex)}}]);return PageCollection}(),u=function(t){_inherits(ImagePageCollection,t);var r=_createSuper(ImagePageCollection);function ImagePageCollection(t,i,a){var o;_classCallCheck(this,ImagePageCollection);(o=r.call(this,t,i)).imagesHref=a;return o}_createClass(ImagePageCollection,[{key:"load",value:function load(){var t,r=_createForOfIteratorHelper(this.imagesHref);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=new o(this.render,i,"soft");a.load();this.pages.push(a)}}catch(t){r.e(t)}finally{r.f()}this.createSpread()}}]);return ImagePageCollection}(l),c=function(){function Helper(){_classCallCheck(this,Helper)}_createClass(Helper,null,[{key:"GetDistanceBetweenTwoPoint",value:function GetDistanceBetweenTwoPoint(t,r){return null===t||null===r?1/0:Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}},{key:"GetSegmentLength",value:function GetSegmentLength(t){return Helper.GetDistanceBetweenTwoPoint(t[0],t[1])}},{key:"GetAngleBetweenTwoLine",value:function GetAngleBetweenTwoLine(t,r){var i=t[0].y-t[1].y,a=r[0].y-r[1].y,o=t[1].x-t[0].x,l=r[1].x-r[0].x;return Math.acos((i*a+o*l)/(Math.sqrt(i*i+o*o)*Math.sqrt(a*a+l*l)))}},{key:"PointInRect",value:function PointInRect(t,r){return null===r?null:r.x>=t.left&&r.x<=t.width+t.left&&r.y>=t.top&&r.y<=t.top+t.height?r:null}},{key:"GetRotatedPoint",value:function GetRotatedPoint(t,r,i){return{x:t.x*Math.cos(i)+t.y*Math.sin(i)+r.x,y:t.y*Math.cos(i)-t.x*Math.sin(i)+r.y}}},{key:"LimitPointToCircle",value:function LimitPointToCircle(t,r,i){if(Helper.GetDistanceBetweenTwoPoint(t,i)<=r)return i;var a=t.x,o=t.y,l=i.x,u=i.y,c=Math.sqrt(Math.pow(r,2)*Math.pow(a-l,2)/(Math.pow(a-l,2)+Math.pow(o-u,2)))+a;i.x<0&&(c*=-1);var h=(c-a)*(o-u)/(a-l)+o;a-l+o===0&&(h=r);return{x:c,y:h}}},{key:"GetIntersectBetweenTwoSegment",value:function GetIntersectBetweenTwoSegment(t,r,i){return Helper.PointInRect(t,Helper.GetIntersectBeetwenTwoLine(r,i))}},{key:"GetIntersectBeetwenTwoLine",value:function GetIntersectBeetwenTwoLine(t,r){var i=t[0].y-t[1].y,a=r[0].y-r[1].y,o=t[1].x-t[0].x,l=r[1].x-r[0].x,u=t[0].x*t[1].y-t[1].x*t[0].y,c=r[0].x*r[1].y-r[1].x*r[0].y,h=i*c-a*u,d=o*c-l*u,p=-(u*l-c*o)/(i*l-a*o),v=-(i*c-a*u)/(i*l-a*o);if(isFinite(p)&&isFinite(v))return{x:p,y:v};if(Math.abs(h-d)<.1)throw new Error("Segment included");return null}},{key:"GetCordsFromTwoPoint",value:function GetCordsFromTwoPoint(t,r){var i=Math.abs(t.x-r.x),a=Math.abs(t.y-r.y),o=Math.max(i,a),l=[t];function getCord(t,r,i,a,o){return r>t?t+o*(i/a):r<t?t-o*(i/a):t}for(var u=1;u<=o;u+=1)l.push({x:getCord(t.x,r.x,i,o,u),y:getCord(t.y,r.y,a,o,u)});return l}}]);return Helper}(),h=function(t){_inherits(HTMLPage,t);var r=_createSuper(HTMLPage);function HTMLPage(t,i,a){var o;_classCallCheck(this,HTMLPage);(o=r.call(this,t,a)).copiedElement=null;o.temporaryCopy=null;o.isLoad=!1;o.element=i;o.element.classList.add("stf__item");o.element.classList.add("--"+a);return o}_createClass(HTMLPage,[{key:"newTemporaryCopy",value:function newTemporaryCopy(){if("hard"===this.nowDrawingDensity)return this;if(null===this.temporaryCopy){this.copiedElement=this.element.cloneNode(!0);this.element.parentElement.appendChild(this.copiedElement);this.temporaryCopy=new HTMLPage(this.render,this.copiedElement,this.nowDrawingDensity)}return this.getTemporaryCopy()}},{key:"getTemporaryCopy",value:function getTemporaryCopy(){return this.temporaryCopy}},{key:"hideTemporaryCopy",value:function hideTemporaryCopy(){if(null!==this.temporaryCopy){this.copiedElement.remove();this.copiedElement=null;this.temporaryCopy=null}}},{key:"draw",value:function draw(t){var r=t||this.nowDrawingDensity,i=this.render.convertToGlobal(this.state.position),a=this.render.getRect().pageWidth,o=this.render.getRect().height;this.element.classList.remove("--simple");var l="\n            position: absolute;\n            display: block;\n            z-index: ".concat(this.element.style.zIndex,";\n            left: 0;\n            top: 0;\n            width: ").concat(a,"px;\n            height: ").concat(o,"px;\n        ");"hard"===r?this.drawHard(l):this.drawSoft(i,l)}},{key:"drawHard",value:function drawHard(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=this.render.getRect().left+this.render.getRect().width/2,i=this.state.hardDrawingAngle,a=t+"\n                backface-visibility: hidden;\n                -webkit-backface-visibility: hidden;\n                clip-path: none;\n                -webkit-clip-path: none;\n            "+(0===this.orientation?"transform-origin: ".concat(this.render.getRect().pageWidth,"px 0;\n                   transform: translate3d(0, 0, 0) rotateY(").concat(i,"deg);"):"transform-origin: 0 0;\n                   transform: translate3d(".concat(r,"px, 0, 0) rotateY(").concat(i,"deg);"));this.element.style.cssText=a}},{key:"drawSoft",value:function drawSoft(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="polygon( ",o=_createForOfIteratorHelper(this.state.area);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(null!==l){var u=1===this.render.getDirection()?{x:-l.x+this.state.position.x,y:l.y-this.state.position.y}:{x:l.x-this.state.position.x,y:l.y-this.state.position.y};a+=(u=c.GetRotatedPoint(u,{x:0,y:0},this.state.angle)).x+"px "+u.y+"px, "}}}catch(t){o.e(t)}finally{o.f()}a=a.slice(0,-2);var h=i+"transform-origin: 0 0; clip-path: ".concat(a+=")","; -webkit-clip-path: ").concat(a,";")+(this.render.isSafari()&&0===this.state.angle?"transform: translate(".concat(t.x,"px, ").concat(t.y,"px);"):"transform: translate3d(".concat(t.x,"px, ").concat(t.y,"px, 0) rotate(").concat(this.state.angle,"rad);"));this.element.style.cssText=h}},{key:"simpleDraw",value:function simpleDraw(t){var r=this.render.getRect(),i=r.pageWidth,a=r.height,o=1===t?r.left+r.pageWidth:r.left,l=r.top;this.element.classList.add("--simple");this.element.style.cssText="\n            position: absolute;\n            display: block;\n            height: ".concat(a,"px;\n            left: ").concat(o,"px;\n            top: ").concat(l,"px;\n            width: ").concat(i,"px;\n            z-index: ").concat(this.render.getSettings().startZIndex+1,";")}},{key:"getElement",value:function getElement(){return this.element}},{key:"load",value:function load(){this.isLoad=!0}},{key:"setOrientation",value:function setOrientation(t){_get(_getPrototypeOf(HTMLPage.prototype),"setOrientation",this).call(this,t);this.element.classList.remove("--left","--right");this.element.classList.add(1===t?"--right":"--left")}},{key:"setDrawingDensity",value:function setDrawingDensity(t){this.element.classList.remove("--soft","--hard");this.element.classList.add("--"+t);_get(_getPrototypeOf(HTMLPage.prototype),"setDrawingDensity",this).call(this,t)}}]);return HTMLPage}(a),d=function(t){_inherits(HTMLPageCollection,t);var r=_createSuper(HTMLPageCollection);function HTMLPageCollection(t,i,a,o){var l;_classCallCheck(this,HTMLPageCollection);(l=r.call(this,t,i)).element=a;l.pagesElement=o;return l}_createClass(HTMLPageCollection,[{key:"load",value:function load(){var t,r=_createForOfIteratorHelper(this.pagesElement);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=new h(this.render,i,"hard"===i.dataset.density?"hard":"soft");a.load();this.pages.push(a)}}catch(t){r.e(t)}finally{r.f()}this.createSpread()}}]);return HTMLPageCollection}(l),p=function(){function FlipCalculation(t,r,i,a){_classCallCheck(this,FlipCalculation);this.direction=t;this.corner=r;this.topIntersectPoint=null;this.sideIntersectPoint=null;this.bottomIntersectPoint=null;this.pageWidth=parseInt(i,10);this.pageHeight=parseInt(a,10)}_createClass(FlipCalculation,[{key:"calc",value:function calc(t){try{this.position=this.calcAngleAndPosition(t);this.calculateIntersectPoint(this.position);return!0}catch(t){return!1}}},{key:"getFlippingClipArea",value:function getFlippingClipArea(){var t=[],r=!1;t.push(this.rect.topLeft);t.push(this.topIntersectPoint);if(null===this.sideIntersectPoint)r=!0;else{t.push(this.sideIntersectPoint);null===this.bottomIntersectPoint&&(r=!1)}t.push(this.bottomIntersectPoint);(r||"bottom"===this.corner)&&t.push(this.rect.bottomLeft);return t}},{key:"getBottomClipArea",value:function getBottomClipArea(){var t=[];t.push(this.topIntersectPoint);if("top"===this.corner)t.push({x:this.pageWidth,y:0});else{null!==this.topIntersectPoint&&t.push({x:this.pageWidth,y:0});t.push({x:this.pageWidth,y:this.pageHeight})}null!==this.sideIntersectPoint?c.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&t.push(this.sideIntersectPoint):"top"===this.corner&&t.push({x:this.pageWidth,y:this.pageHeight});t.push(this.bottomIntersectPoint);t.push(this.topIntersectPoint);return t}},{key:"getAngle",value:function getAngle(){return 0===this.direction?-this.angle:this.angle}},{key:"getRect",value:function getRect(){return this.rect}},{key:"getPosition",value:function getPosition(){return this.position}},{key:"getActiveCorner",value:function getActiveCorner(){return 0===this.direction?this.rect.topLeft:this.rect.topRight}},{key:"getDirection",value:function getDirection(){return this.direction}},{key:"getFlippingProgress",value:function getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}},{key:"getCorner",value:function getCorner(){return this.corner}},{key:"getBottomPagePosition",value:function getBottomPagePosition(){return 1===this.direction?{x:this.pageWidth,y:0}:{x:0,y:0}}},{key:"getShadowStartPoint",value:function getShadowStartPoint(){return"top"===this.corner?this.topIntersectPoint:null!==this.sideIntersectPoint?this.sideIntersectPoint:this.topIntersectPoint}},{key:"getShadowAngle",value:function getShadowAngle(){var t=c.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return 0===this.direction?t:Math.PI-t}},{key:"calcAngleAndPosition",value:function calcAngleAndPosition(t){var r=t;this.updateAngleAndGeometry(r);r="top"===this.corner?this.checkPositionAtCenterLine(r,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(r,{x:0,y:this.pageHeight},{x:0,y:0});if(Math.abs(r.x-this.pageWidth)<1&&Math.abs(r.y)<1)throw new Error("Point is too small");return r}},{key:"updateAngleAndGeometry",value:function updateAngleAndGeometry(t){this.angle=this.calculateAngle(t);this.rect=this.getPageRect(t)}},{key:"calculateAngle",value:function calculateAngle(t){var r=this.pageWidth-t.x+1,i="bottom"===this.corner?this.pageHeight-t.y:t.y,a=2*Math.acos(r/Math.sqrt(i*i+r*r));i<0&&(a=-a);var o=Math.PI-a;if(!isFinite(a)||o>=0&&o<.003)throw new Error("The G point is too small");"bottom"===this.corner&&(a=-a);return a}},{key:"getPageRect",value:function getPageRect(t){return"top"===this.corner?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],t):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],t)}},{key:"getRectFromBasePoint",value:function getRectFromBasePoint(t,r){return{topLeft:this.getRotatedPoint(t[0],r),topRight:this.getRotatedPoint(t[1],r),bottomLeft:this.getRotatedPoint(t[2],r),bottomRight:this.getRotatedPoint(t[3],r)}}},{key:"getRotatedPoint",value:function getRotatedPoint(t,r){return{x:t.x*Math.cos(this.angle)+t.y*Math.sin(this.angle)+r.x,y:t.y*Math.cos(this.angle)-t.x*Math.sin(this.angle)+r.y}}},{key:"calculateIntersectPoint",value:function calculateIntersectPoint(t){var r={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};if("top"===this.corner){this.topIntersectPoint=c.GetIntersectBetweenTwoSegment(r,[t,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]);this.sideIntersectPoint=c.GetIntersectBetweenTwoSegment(r,[t,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]);this.bottomIntersectPoint=c.GetIntersectBetweenTwoSegment(r,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])}else{this.topIntersectPoint=c.GetIntersectBetweenTwoSegment(r,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]);this.sideIntersectPoint=c.GetIntersectBetweenTwoSegment(r,[t,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]);this.bottomIntersectPoint=c.GetIntersectBetweenTwoSegment(r,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])}}},{key:"checkPositionAtCenterLine",value:function checkPositionAtCenterLine(t,r,i){var a=t,o=c.LimitPointToCircle(r,this.pageWidth,a);if(a!==o){a=o;this.updateAngleAndGeometry(a)}var l=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2)),u=this.rect.bottomRight,h=this.rect.topLeft;if("bottom"===this.corner){u=this.rect.topRight;h=this.rect.bottomLeft}if(u.x<=0){var d=c.LimitPointToCircle(i,l,h);if(d!==a){a=d;this.updateAngleAndGeometry(a)}}return a}},{key:"getSegmentToShadowLine",value:function getSegmentToShadowLine(){var t=this.getShadowStartPoint();return[t,t!==this.sideIntersectPoint&&null!==this.sideIntersectPoint?this.sideIntersectPoint:this.bottomIntersectPoint]}}]);return FlipCalculation}(),v=function(){function Flip(t,r){_classCallCheck(this,Flip);this.flippingPage=null;this.bottomPage=null;this.calc=null;this.state="read";this.render=t;this.app=r}_createClass(Flip,[{key:"fold",value:function fold(t){this.setState("user_fold");null===this.calc&&this.start(t);this.do(this.render.convertToPage(t))}},{key:"flip",value:function flip(t){if(!this.app.getSettings().disableFlipByClick||this.isPointOnCorners(t)){null!==this.calc&&this.render.finishAnimation();if(this.start(t)){var r=this.getBoundsRect();this.setState("flipping");var i=r.height/10,a="bottom"===this.calc.getCorner()?r.height-i:i,o="bottom"===this.calc.getCorner()?r.height:0;this.calc.calc({x:r.pageWidth-i,y:a});this.animateFlippingTo({x:r.pageWidth-i,y:a},{x:-r.pageWidth,y:o},!0)}}}},{key:"start",value:function start(t){this.reset();var r=this.render.convertToBook(t),i=this.getBoundsRect(),a=this.getDirectionByPoint(r),o=r.y>=i.height/2?"bottom":"top";if(!this.checkDirection(a))return!1;try{this.flippingPage=this.app.getPageCollection().getFlippingPage(a);this.bottomPage=this.app.getPageCollection().getBottomPage(a);if("landscape"===this.render.getOrientation())if(1===a){var l=this.app.getPageCollection().nextBy(this.flippingPage);if(null!==l&&this.flippingPage.getDensity()!==l.getDensity()){this.flippingPage.setDrawingDensity("hard");l.setDrawingDensity("hard")}}else{var u=this.app.getPageCollection().prevBy(this.flippingPage);if(null!==u&&this.flippingPage.getDensity()!==u.getDensity()){this.flippingPage.setDrawingDensity("hard");u.setDrawingDensity("hard")}}this.render.setDirection(a);this.calc=new p(a,o,i.pageWidth.toString(10),i.height.toString(10));return!0}catch(t){return!1}}},{key:"do",value:function _do(t){if(null!==this.calc&&this.calc.calc(t)){var r=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea());this.bottomPage.setPosition(this.calc.getBottomPagePosition());this.bottomPage.setAngle(0);this.bottomPage.setHardAngle(0);this.flippingPage.setArea(this.calc.getFlippingClipArea());this.flippingPage.setPosition(this.calc.getActiveCorner());this.flippingPage.setAngle(this.calc.getAngle());0===this.calc.getDirection()?this.flippingPage.setHardAngle(90*(200-2*r)/100):this.flippingPage.setHardAngle(-90*(200-2*r)/100);this.render.setPageRect(this.calc.getRect());this.render.setBottomPage(this.bottomPage);this.render.setFlippingPage(this.flippingPage);this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),r,this.calc.getDirection())}}},{key:"flipToPage",value:function flipToPage(t,r){var i=this.app.getPageCollection().getCurrentSpreadIndex(),a=this.app.getPageCollection().getSpreadIndexByPage(t);try{if(a>i){this.app.getPageCollection().setCurrentSpreadIndex(a-1);this.flipNext(r)}if(a<i){this.app.getPageCollection().setCurrentSpreadIndex(a+1);this.flipPrev(r)}}catch(t){}}},{key:"flipNext",value:function flipNext(t){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:"top"===t?1:this.render.getRect().height-2})}},{key:"flipPrev",value:function flipPrev(t){this.flip({x:10,y:"top"===t?1:this.render.getRect().height-2})}},{key:"stopMove",value:function stopMove(){if(null!==this.calc){var t=this.calc.getPosition(),r=this.getBoundsRect(),i="bottom"===this.calc.getCorner()?r.height:0;t.x<=0?this.animateFlippingTo(t,{x:-r.pageWidth,y:i},!0):this.animateFlippingTo(t,{x:r.pageWidth,y:i},!1)}}},{key:"showCorner",value:function showCorner(t){if(this.checkState("read","fold_corner")){var r=this.getBoundsRect(),i=r.pageWidth;if(this.isPointOnCorners(t))if(null===this.calc){if(!this.start(t))return;this.setState("fold_corner");this.calc.calc({x:i-1,y:1});var a="bottom"===this.calc.getCorner()?r.height-1:1,o="bottom"===this.calc.getCorner()?r.height-50:50;this.animateFlippingTo({x:i-1,y:a},{x:i-50,y:o},!1,!1)}else this.do(this.render.convertToPage(t));else{this.setState("read");this.render.finishAnimation();this.stopMove()}}}},{key:"animateFlippingTo",value:function animateFlippingTo(t,r,i){var a,o=this,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=c.GetCordsFromTwoPoint(t,r),h=[],d=_createForOfIteratorHelper(u);try{var p=function _loop(){var t=a.value;h.push((function(){return o.do(t)}))};for(d.s();!(a=d.n()).done;)p()}catch(t){d.e(t)}finally{d.f()}var v=this.getAnimationDuration(u.length);this.render.startAnimation(h,v,(function(){if(o.calc){i&&(1===o.calc.getDirection()?o.app.turnToPrevPage():o.app.turnToNextPage());if(l){o.render.setBottomPage(null);o.render.setFlippingPage(null);o.render.clearShadow();o.setState("read");o.reset()}}}))}},{key:"getCalculation",value:function getCalculation(){return this.calc}},{key:"getState",value:function getState(){return this.state}},{key:"setState",value:function setState(t){if(this.state!==t){this.app.updateState(t);this.state=t}}},{key:"getDirectionByPoint",value:function getDirectionByPoint(t){var r=this.getBoundsRect();if("portrait"===this.render.getOrientation()){if(t.x-r.pageWidth<=r.width/5)return 1}else if(t.x<r.width/2)return 1;return 0}},{key:"getAnimationDuration",value:function getAnimationDuration(t){var r=this.app.getSettings().flippingTime;return t>=1e3?r:t/1e3*r}},{key:"checkDirection",value:function checkDirection(t){return 0===t?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}},{key:"reset",value:function reset(){this.calc=null;this.flippingPage=null;this.bottomPage=null}},{key:"getBoundsRect",value:function getBoundsRect(){return this.render.getRect()}},{key:"checkState",value:function checkState(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var l=o[a];if(this.state===l)return!0}return!1}},{key:"isPointOnCorners",value:function isPointOnCorners(t){var r=this.getBoundsRect(),i=r.pageWidth,a=Math.sqrt(Math.pow(i,2)+Math.pow(r.height,2))/5,o=this.render.convertToBook(t);return o.x>0&&o.y>0&&o.x<r.width&&o.y<r.height&&(o.x<a||o.x>r.width-a)&&(o.y<a||o.y>r.height-a)}}]);return Flip}(),y=function(){function Render(t,r){_classCallCheck(this,Render);this.leftPage=null;this.rightPage=null;this.flippingPage=null;this.bottomPage=null;this.direction=null;this.orientation=null;this.shadow=null;this.animation=null;this.pageRect=null;this.boundsRect=null;this.timer=0;this.safari=!1;this.setting=r;this.app=t;var i=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=null!==i.exec(window.navigator.userAgent)}_createClass(Render,[{key:"render",value:function render(t){if(null!==this.animation){var r=Math.round((t-this.animation.startedAt)/this.animation.durationFrame);if(r<this.animation.frames.length)this.animation.frames[r]();else{this.animation.onAnimateEnd();this.animation=null}}this.timer=t;this.drawFrame()}},{key:"start",value:function start(){var t=this;this.update();var r=function loop(r){window.ngxZone.runOutsideAngular((function(){t.render(r);requestAnimationFrame(loop)}))};window.ngxZone.runOutsideAngular((function(){requestAnimationFrame(r)}))}},{key:"startAnimation",value:function startAnimation(t,r,i){this.finishAnimation();this.animation={frames:t,duration:r,durationFrame:r/t.length,onAnimateEnd:i,startedAt:this.timer}}},{key:"finishAnimation",value:function finishAnimation(){if(null!==this.animation){this.animation.frames[this.animation.frames.length-1]();null!==this.animation.onAnimateEnd&&this.animation.onAnimateEnd()}this.animation=null}},{key:"update",value:function update(){this.boundsRect=null;var t=this.calculateBoundsRect();if(this.orientation!==t){this.orientation=t;this.app.updateOrientation(t)}}},{key:"calculateBoundsRect",value:function calculateBoundsRect(){var t="landscape",r=this.getBlockWidth(),i=r/2,a=this.getBlockHeight()/2,o=this.setting.width/this.setting.height,l=this.setting.width,u=this.setting.height,c=i-l;if("stretch"===this.setting.size){r<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(t="portrait");(l="portrait"===t?this.getBlockWidth():this.getBlockWidth()/2)>this.setting.maxWidth&&(l=this.setting.maxWidth);(u=l/o)>this.getBlockHeight()&&(l=(u=this.getBlockHeight())*o);c="portrait"===t?i-l/2-l:i-l}else if(r<2*l&&this.app.getSettings().usePortrait){t="portrait";c=i-l/2-l}this.boundsRect={left:c,top:a-u/2,width:2*l,height:u,pageWidth:l};return t}},{key:"setShadowData",value:function setShadowData(t,r,i,a){if(this.app.getSettings().drawShadow){var o=100*this.getSettings().maxShadowOpacity;this.shadow={pos:t,angle:r,width:3*this.getRect().pageWidth/4*i/100,opacity:(100-i)*o/100/100,direction:a,progress:2*i}}}},{key:"clearShadow",value:function clearShadow(){this.shadow=null}},{key:"getBlockWidth",value:function getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}},{key:"getBlockHeight",value:function getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}},{key:"getDirection",value:function getDirection(){return this.direction}},{key:"getRect",value:function getRect(){null===this.boundsRect&&this.calculateBoundsRect();return this.boundsRect}},{key:"getSettings",value:function getSettings(){return this.app.getSettings()}},{key:"getOrientation",value:function getOrientation(){return this.orientation}},{key:"setPageRect",value:function setPageRect(t){this.pageRect=t}},{key:"setDirection",value:function setDirection(t){this.direction=t}},{key:"setRightPage",value:function setRightPage(t){null!==t&&t.setOrientation(1);this.rightPage=t}},{key:"setLeftPage",value:function setLeftPage(t){null!==t&&t.setOrientation(0);this.leftPage=t}},{key:"setBottomPage",value:function setBottomPage(t){null!==t&&t.setOrientation(1===this.direction?0:1);this.bottomPage=t}},{key:"setFlippingPage",value:function setFlippingPage(t){null!==t&&t.setOrientation(0===this.direction&&"portrait"!==this.orientation?0:1);this.flippingPage=t}},{key:"convertToBook",value:function convertToBook(t){var r=this.getRect();return{x:t.x-r.left,y:t.y-r.top}}},{key:"isSafari",value:function isSafari(){return this.safari}},{key:"convertToPage",value:function convertToPage(t,r){r||(r=this.direction);var i=this.getRect();return{x:0===r?t.x-i.left-i.width/2:i.width/2-t.x+i.left,y:t.y-i.top}}},{key:"convertToGlobal",value:function convertToGlobal(t,r){r||(r=this.direction);if(null==t)return null;var i=this.getRect();return{x:0===r?t.x+i.left+i.width/2:i.width/2-t.x+i.left,y:t.y+i.top}}},{key:"convertRectToGlobal",value:function convertRectToGlobal(t,r){r||(r=this.direction);return{topLeft:this.convertToGlobal(t.topLeft,r),topRight:this.convertToGlobal(t.topRight,r),bottomLeft:this.convertToGlobal(t.bottomLeft,r),bottomRight:this.convertToGlobal(t.bottomRight,r)}}}]);return Render}(),g=function(t){_inherits(CanvasRender,t);var r=_createSuper(CanvasRender);function CanvasRender(t,i,a){var o;_classCallCheck(this,CanvasRender);(o=r.call(this,t,i)).canvas=a;var l=window.pdfDefaultOptions.activateWillReadFrequentlyFlag?{willReadFrequently:!0}:void 0;canvas.getContext("2d",l);return o}_createClass(CanvasRender,[{key:"getContext",value:function getContext(){return this.ctx}},{key:"reload",value:function reload(){}},{key:"drawFrame",value:function drawFrame(){this.clear();"portrait"!==this.orientation&&null!=this.leftPage&&this.leftPage.simpleDraw(0);null!=this.rightPage&&this.rightPage.simpleDraw(1);null!=this.bottomPage&&this.bottomPage.draw();this.drawBookShadow();null!=this.flippingPage&&this.flippingPage.draw();if(null!=this.shadow){this.drawOuterShadow();this.drawInnerShadow()}var t=this.getRect();if("portrait"===this.orientation){this.ctx.beginPath();this.ctx.rect(t.left+t.pageWidth,t.top,t.width,t.height);this.ctx.clip()}}},{key:"drawBookShadow",value:function drawBookShadow(){var t=this.getRect();this.ctx.save();this.ctx.beginPath();var r=t.width/20;this.ctx.rect(t.left,t.top,t.width,t.height);var i={x:t.left+t.width/2-r/2,y:0};this.ctx.translate(i.x,i.y);var a=this.ctx.createLinearGradient(0,0,r,0);a.addColorStop(0,"rgba(0, 0, 0, 0)");a.addColorStop(.4,"rgba(0, 0, 0, 0.2)");a.addColorStop(.49,"rgba(0, 0, 0, 0.1)");a.addColorStop(.5,"rgba(0, 0, 0, 0.5)");a.addColorStop(.51,"rgba(0, 0, 0, 0.4)");a.addColorStop(1,"rgba(0, 0, 0, 0)");this.ctx.clip();this.ctx.fillStyle=a;this.ctx.fillRect(0,0,r,2*t.height);this.ctx.restore()}},{key:"drawOuterShadow",value:function drawOuterShadow(){var t=this.getRect();this.ctx.save();this.ctx.beginPath();this.ctx.rect(t.left,t.top,t.width,t.height);var r=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(r.x,r.y);this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);var i=this.ctx.createLinearGradient(0,0,this.shadow.width,0);if(0===this.shadow.direction){this.ctx.translate(0,-100);i.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")");i.addColorStop(1,"rgba(0, 0, 0, 0)")}else{this.ctx.translate(-this.shadow.width,-100);i.addColorStop(0,"rgba(0, 0, 0, 0)");i.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")}this.ctx.clip();this.ctx.fillStyle=i;this.ctx.fillRect(0,0,this.shadow.width,2*t.height);this.ctx.restore()}},{key:"drawInnerShadow",value:function drawInnerShadow(){var t=this.getRect();this.ctx.save();this.ctx.beginPath();var r=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),i=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(i.topLeft.x,i.topLeft.y);this.ctx.lineTo(i.topRight.x,i.topRight.y);this.ctx.lineTo(i.bottomRight.x,i.bottomRight.y);this.ctx.lineTo(i.bottomLeft.x,i.bottomLeft.y);this.ctx.translate(r.x,r.y);this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);var a=3*this.shadow.width/4,o=this.ctx.createLinearGradient(0,0,a,0);if(0===this.shadow.direction){this.ctx.translate(-a,-100);o.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")");o.addColorStop(.9,"rgba(0, 0, 0, 0.05)");o.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")");o.addColorStop(0,"rgba(0, 0, 0, 0)")}else{this.ctx.translate(0,-100);o.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")");o.addColorStop(.1,"rgba(0, 0, 0, 0.05)");o.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")");o.addColorStop(1,"rgba(0, 0, 0, 0)")}this.ctx.clip();this.ctx.fillStyle=o;this.ctx.fillRect(0,0,a,2*t.height);this.ctx.restore()}},{key:"clear",value:function clear(){this.ctx.fillStyle="white";this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}]);return CanvasRender}(y),m=function(){function UI(t,r,i){var a=this;_classCallCheck(this,UI);this.touchPoint=null;this.swipeTimeout=250;this.onResize=function(){a.update()};this.onMouseDown=function(t){if(a.checkTarget(t.target)){var r=a.getMousePos(t.clientX,t.clientY);a.app.startUserTouch(r);t.preventDefault()}};this.onTouchStart=function(t){if(a.checkTarget(t.target)&&t.changedTouches.length>0){var r=t.changedTouches[0],i=a.getMousePos(r.clientX,r.clientY);a.touchPoint={point:i,time:Date.now()};setTimeout((function(){null!==a.touchPoint&&a.app.startUserTouch(i)}),a.swipeTimeout);a.app.getSettings().mobileScrollSupport||t.preventDefault()}};this.onMouseUp=function(t){var r=a.getMousePos(t.clientX,t.clientY);a.app.userStop(r)};this.onMouseMove=function(t){var r=a.getMousePos(t.clientX,t.clientY);a.app.userMove(r,!1)};this.onTouchMove=function(t){if(t.changedTouches.length>0){var r=t.changedTouches[0],i=a.getMousePos(r.clientX,r.clientY);if(a.app.getSettings().mobileScrollSupport){null!==a.touchPoint&&(Math.abs(a.touchPoint.point.x-i.x)>10||"read"!==a.app.getState())&&t.cancelable&&a.app.userMove(i,!0);"read"!==a.app.getState()&&t.preventDefault()}else a.app.userMove(i,!0)}};this.onTouchEnd=function(t){if(t.changedTouches.length>0){var r=t.changedTouches[0],i=a.getMousePos(r.clientX,r.clientY),o=!1;if(null!==a.touchPoint){var l=i.x-a.touchPoint.point.x,u=Math.abs(i.y-a.touchPoint.point.y);if(Math.abs(l)>a.swipeDistance&&u<2*a.swipeDistance&&Date.now()-a.touchPoint.time<a.swipeTimeout){l>0?a.app.flipPrev(a.touchPoint.point.y<a.app.getRender().getRect().height/2?"top":"bottom"):a.app.flipNext(a.touchPoint.point.y<a.app.getRender().getRect().height/2?"top":"bottom");o=!0}a.touchPoint=null}a.app.userStop(i,o)}};this.parentElement=t;t.classList.add("stf__parent");t.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>');this.wrapper=t.querySelector(".stf__wrapper");this.app=r;var o=this.app.getSettings().usePortrait?1:2;t.style.minWidth=i.minWidth*o+"px";t.style.minHeight=i.minHeight+"px";if("fixed"===i.size){t.style.minWidth=i.width*o+"px";t.style.minHeight=i.height+"px"}if(i.autoSize){t.style.width="100%";t.style.maxWidth=2*i.maxWidth+"px"}t.style.display="block";window.addEventListener("resize",this.onResize,!1);this.swipeDistance=i.swipeDistance}_createClass(UI,[{key:"destroy",value:function destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers();this.distElement.remove();this.wrapper.remove()}},{key:"getDistElement",value:function getDistElement(){return this.distElement}},{key:"getWrapper",value:function getWrapper(){return this.wrapper}},{key:"setOrientationStyle",value:function setOrientationStyle(t){this.wrapper.classList.remove("--portrait","--landscape");if("portrait"===t){this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%");this.wrapper.classList.add("--portrait")}else{this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%");this.wrapper.classList.add("--landscape")}this.update()}},{key:"removeHandlers",value:function removeHandlers(){window.removeEventListener("resize",this.onResize);this.distElement.removeEventListener("mousedown",this.onMouseDown);this.distElement.removeEventListener("touchstart",this.onTouchStart);window.removeEventListener("mousemove",this.onMouseMove);window.removeEventListener("touchmove",this.onTouchMove);window.removeEventListener("mouseup",this.onMouseUp);window.removeEventListener("touchend",this.onTouchEnd)}},{key:"setHandlers",value:function setHandlers(){window.addEventListener("resize",this.onResize,!1);if(this.app.getSettings().useMouseEvents){this.distElement.addEventListener("mousedown",this.onMouseDown);this.distElement.addEventListener("touchstart",this.onTouchStart);window.addEventListener("mousemove",this.onMouseMove);window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport});window.addEventListener("mouseup",this.onMouseUp);window.addEventListener("touchend",this.onTouchEnd)}}},{key:"getMousePos",value:function getMousePos(t,r){var i=this.distElement.getBoundingClientRect();return{x:t-i.left,y:r-i.top}}},{key:"checkTarget",value:function checkTarget(t){return!this.app.getSettings().clickEventForward||!["a","button"].includes(t.tagName.toLowerCase())}}]);return UI}(),_=function(t){_inherits(HTMLUI,t);var r=_createSuper(HTMLUI);function HTMLUI(t,i,a,o){var l;_classCallCheck(this,HTMLUI);(l=r.call(this,t,i,a)).wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>');l.distElement=t.querySelector(".stf__block");l.items=o;var u,c=_createForOfIteratorHelper(o);try{for(c.s();!(u=c.n()).done;){var h=u.value;l.distElement.appendChild(h)}}catch(t){c.e(t)}finally{c.f()}l.setHandlers();return l}_createClass(HTMLUI,[{key:"clear",value:function clear(){var t,r=_createForOfIteratorHelper(this.items);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.parentElement.appendChild(i)}}catch(t){r.e(t)}finally{r.f()}}},{key:"updateItems",value:function updateItems(t){this.removeHandlers();this.distElement.innerHTML="";var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.distElement.appendChild(a)}}catch(t){i.e(t)}finally{i.f()}this.items=t;this.setHandlers()}},{key:"update",value:function update(){this.app.getRender().update()}}]);return HTMLUI}(m),b=function(t){_inherits(CanvasUI,t);var r=_createSuper(CanvasUI);function CanvasUI(t,i,a){var o;_classCallCheck(this,CanvasUI);(o=r.call(this,t,i,a)).wrapper.innerHTML='<canvas class="stf__canvas"></canvas>';o.canvas=t.querySelectorAll("canvas")[0];o.distElement=o.canvas;o.resizeCanvas();o.setHandlers();return o}_createClass(CanvasUI,[{key:"resizeCanvas",value:function resizeCanvas(){var t=getComputedStyle(this.canvas),r=parseInt(t.getPropertyValue("width"),10),i=parseInt(t.getPropertyValue("height"),10);this.canvas.width=r;this.canvas.height=i}},{key:"getCanvas",value:function getCanvas(){return this.canvas}},{key:"update",value:function update(){this.resizeCanvas();this.app.getRender().update()}}]);return CanvasUI}(m),w=function(){function EventObject(){_classCallCheck(this,EventObject);this.events=new Map}_createClass(EventObject,[{key:"on",value:function on(t,r){this.events.has(t)?this.events.get(t).push(r):this.events.set(t,[r]);return this}},{key:"off",value:function off(t){this.events.delete(t)}},{key:"trigger",value:function trigger(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.events.has(t)){var a,o=_createForOfIteratorHelper(this.events.get(t));try{for(o.s();!(a=o.n()).done;){(0,a.value)({data:i,object:r})}}catch(t){o.e(t)}finally{o.f()}}}}]);return EventObject}(),P=function(t){_inherits(HTMLRender,t);var r=_createSuper(HTMLRender);function HTMLRender(t,i,a){var o;_classCallCheck(this,HTMLRender);(o=r.call(this,t,i)).outerShadow=null;o.innerShadow=null;o.hardShadow=null;o.hardInnerShadow=null;o.element=a;o.createShadows();return o}_createClass(HTMLRender,[{key:"createShadows",value:function createShadows(){this.element.insertAdjacentHTML("beforeend",'<div class="stf__outerShadow"></div>\n             <div class="stf__innerShadow"></div>\n             <div class="stf__hardShadow"></div>\n             <div class="stf__hardInnerShadow"></div>');this.outerShadow=this.element.querySelector(".stf__outerShadow");this.innerShadow=this.element.querySelector(".stf__innerShadow");this.hardShadow=this.element.querySelector(".stf__hardShadow");this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}},{key:"clearShadow",value:function clearShadow(){_get(_getPrototypeOf(HTMLRender.prototype),"clearShadow",this).call(this);this.outerShadow.style.cssText="display: none";this.innerShadow.style.cssText="display: none";this.hardShadow.style.cssText="display: none";this.hardInnerShadow.style.cssText="display: none"}},{key:"reload",value:function reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}},{key:"drawHardInnerShadow",value:function drawHardInnerShadow(){var t=this.getRect(),r=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress,i=(100-r)*(2.5*t.pageWidth)/100+20;i>t.pageWidth&&(i=t.pageWidth);var a="\n            display: block;\n            z-index: ".concat((this.getSettings().startZIndex+5).toString(10),";\n            width: ").concat(i,"px;\n            height: ").concat(t.height,"px;\n            background: linear-gradient(to right,\n                rgba(0, 0, 0, ").concat(this.shadow.opacity*r/100,") 5%,\n                rgba(0, 0, 0, 0) 100%);\n            left: ").concat(t.left+t.width/2,"px;\n            transform-origin: 0 0;\n        ");a+=0===this.getDirection()&&this.shadow.progress>100||1===this.getDirection()&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);";this.hardInnerShadow.style.cssText=a}},{key:"drawHardOuterShadow",value:function drawHardOuterShadow(){var t=this.getRect(),r=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*t.pageWidth)/100+20;r>t.pageWidth&&(r=t.pageWidth);var i="\n            display: block;\n            z-index: ".concat((this.getSettings().startZIndex+4).toString(10),";\n            width: ").concat(r,"px;\n            height: ").concat(t.height,"px;\n            background: linear-gradient(to left, rgba(0, 0, 0, ").concat(this.shadow.opacity,") 5%, rgba(0, 0, 0, 0) 100%);\n            left: ").concat(t.left+t.width/2,"px;\n            transform-origin: 0 0;\n        ");i+=0===this.getDirection()&&this.shadow.progress>100||1===this.getDirection()&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);";this.hardShadow.style.cssText=i}},{key:"drawInnerShadow",value:function drawInnerShadow(){for(var t=this.getRect(),r=3*this.shadow.width/4,i=0===this.getDirection()?r:0,a=0===this.getDirection()?"to left":"to right",o=this.convertToGlobal(this.shadow.pos),l=this.shadow.angle+3*Math.PI/2,u="polygon( ",h=0,d=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];h<d.length;h++){var p=d[h],v=1===this.getDirection()?{x:-p.x+this.shadow.pos.x,y:p.y-this.shadow.pos.y}:{x:p.x-this.shadow.pos.x,y:p.y-this.shadow.pos.y};u+=(v=c.GetRotatedPoint(v,{x:i,y:100},l)).x+"px "+v.y+"px, "}u=u.slice(0,-2);u+=")";var y="\n            display: block;\n            z-index: ".concat((this.getSettings().startZIndex+10).toString(10),";\n            width: ").concat(r,"px;\n            height: ").concat(2*t.height,"px;\n            background: linear-gradient(").concat(a,",\n                rgba(0, 0, 0, ").concat(this.shadow.opacity,") 5%,\n                rgba(0, 0, 0, 0.05) 15%,\n                rgba(0, 0, 0, ").concat(this.shadow.opacity,") 35%,\n                rgba(0, 0, 0, 0) 100%);\n            transform-origin: ").concat(i,"px 100px;\n            transform: translate3d(").concat(o.x-i,"px, ").concat(o.y-100,"px, 0) rotate(").concat(l,"rad);\n            clip-path: ").concat(u,";\n            -webkit-clip-path: ").concat(u,";\n        ");this.innerShadow.style.cssText=y}},{key:"drawOuterShadow",value:function drawOuterShadow(){for(var t=this.getRect(),r=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),i=this.shadow.angle+3*Math.PI/2,a=1===this.getDirection()?this.shadow.width:0,o=0===this.getDirection()?"to right":"to left",l="polygon( ",u=0,h=[{x:0,y:0},{x:t.pageWidth,y:0},{x:t.pageWidth,y:t.height},{x:0,y:t.height}];u<h.length;u++){var d=h[u];if(null!==d){var p=1===this.getDirection()?{x:-d.x+this.shadow.pos.x,y:d.y-this.shadow.pos.y}:{x:d.x-this.shadow.pos.x,y:d.y-this.shadow.pos.y};l+=(p=c.GetRotatedPoint(p,{x:a,y:100},i)).x+"px "+p.y+"px, "}}l=l.slice(0,-2);l+=")";var v="\n            display: block;\n            z-index: ".concat((this.getSettings().startZIndex+10).toString(10),";\n            width: ").concat(this.shadow.width,"px;\n            height: ").concat(2*t.height,"px;\n            background: linear-gradient(").concat(o,", rgba(0, 0, 0, ").concat(this.shadow.opacity,"), rgba(0, 0, 0, 0));\n            transform-origin: ").concat(a,"px 100px;\n            transform: translate3d(").concat(r.x-a,"px, ").concat(r.y-100,"px, 0) rotate(").concat(i,"rad);\n            clip-path: ").concat(l,";\n            -webkit-clip-path: ").concat(l,";\n        ");this.outerShadow.style.cssText=v}},{key:"drawLeftPage",value:function drawLeftPage(){if("portrait"!==this.orientation&&null!==this.leftPage)if(1===this.direction&&null!==this.flippingPage&&"hard"===this.flippingPage.getDrawingDensity()){if(this.flippingPage.getHardAngle()<-90){this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10);this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle());this.leftPage.draw(this.flippingPage.getDrawingDensity())}else this.leftPage.getElement().style.display="none"}else this.leftPage.simpleDraw(0)}},{key:"drawRightPage",value:function drawRightPage(){if(null!==this.rightPage)if(0===this.direction&&null!==this.flippingPage&&"hard"===this.flippingPage.getDrawingDensity()){if(this.flippingPage.getHardAngle()>90){this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10);this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle());this.rightPage.draw(this.flippingPage.getDrawingDensity())}else this.rightPage.getElement().style.display="none"}else this.rightPage.simpleDraw(1)}},{key:"drawBottomPage",value:function drawBottomPage(){if(null!==this.bottomPage){var t=null!=this.flippingPage?this.flippingPage.getDrawingDensity():null;if("portrait"!==this.orientation||1!==this.direction){this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10);this.bottomPage.draw(t)}}}},{key:"drawFrame",value:function drawFrame(){if(null!==this.flippingPage){if(this.flippingPage.getHardAngle()===this.lastAngle)return;this.lastAngle=this.flippingPage.getHardAngle()}else this.lastAngle=-1234;this.clear();this.drawLeftPage();this.drawRightPage();this.drawBottomPage();if(null!=this.flippingPage){if(this.flippingPage.state.hardDrawingAngle<=90){this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10);this.flippingPage.draw()}else this.flippingPage.getElement().style.display="none"}if(null!=this.shadow&&null!==this.flippingPage)if("soft"===this.flippingPage.getDrawingDensity()){this.drawOuterShadow();this.drawInnerShadow()}else{this.drawHardOuterShadow();this.drawHardInnerShadow()}}},{key:"clear",value:function clear(){var t,r=_createForOfIteratorHelper(this.app.getPageCollection().getPages());try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i!==this.leftPage&&i!==this.rightPage&&i!==this.flippingPage&&i!==this.bottomPage){var a=i.getElement().style;"none"!==a.display&&(a.cssText="display: none")}i.getTemporaryCopy()!==this.flippingPage&&i.hideTemporaryCopy()}}catch(t){r.e(t)}finally{r.f()}}},{key:"update",value:function update(){_get(_getPrototypeOf(HTMLRender.prototype),"update",this).call(this);null!==this.rightPage&&this.rightPage.setOrientation(1);null!==this.leftPage&&this.leftPage.setOrientation(0)}}]);return HTMLRender}(y),A=function(){function Settings(){_classCallCheck(this,Settings);this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}_createClass(Settings,[{key:"getSettings",value:function getSettings(t){var r=this._default;Object.assign(r,t);if("stretch"!==r.size&&"fixed"!==r.size)throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(r.width<=0||r.height<=0)throw new Error("Invalid width or height");if(r.flippingTime<=0)throw new Error("Invalid flipping time");if("stretch"===r.size){r.minWidth<=0&&(r.minWidth=100);r.maxWidth<r.minWidth&&(r.maxWidth=2e3);r.minHeight<=0&&(r.minHeight=100);r.maxHeight<r.minHeight&&(r.maxHeight=2e3)}else{r.minWidth=r.width;r.maxWidth=r.width;r.minHeight=r.height;r.maxHeight=r.height}return r}}]);return Settings}();!function styleInject(t,r){void 0===r&&(r={});var i=r.insertAt;if(t&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css";"top"===i&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o);o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".stf__parent {\n  position: relative;\n  display: block;\n  box-sizing: border-box;\n  transform: translateZ(0);\n\n  -ms-touch-action: pan-y;\n  touch-action: pan-y;\n}\n\n.sft__wrapper {\n  position: relative;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.stf__parent canvas {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n\n.stf__block {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  perspective: 2000px;\n}\n\n.stf__item {\n  display: none;\n  position: absolute;\n  transform-style: preserve-3d;\n}\n\n.stf__outerShadow {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.stf__innerShadow {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.stf__hardShadow {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.stf__hardInnerShadow {\n  position: absolute;\n  left: 0;\n  top: 0;\n}");var S=function(t){_inherits(PageFlip,t);var r=_createSuper(PageFlip);function PageFlip(t,i){var a;_classCallCheck(this,PageFlip);(a=r.call(this)).isUserTouch=!1;a.isUserMove=!1;a.setting=null;a.pages=null;a.setting=(new A).getSettings(i);a.block=t;return a}_createClass(PageFlip,[{key:"destroy",value:function destroy(){this.ui.destroy()}},{key:"update",value:function update(){this.render.update();this.pages.show()}},{key:"loadFromImages",value:function loadFromImages(t){var r=this;this.ui=new b(this.block,this,this.setting);var i=this.ui.getCanvas();this.render=new g(this,this.setting,i);this.flipController=new v(this.render,this);this.pages=new u(this,this.render,t);this.pages.load();this.render.start();this.pages.show(this.setting.startPage);setTimeout((function(){r.ui.update();r.trigger("init",r,{page:r.setting.startPage,mode:r.render.getOrientation()})}),1)}},{key:"loadFromHTML",value:function loadFromHTML(t){var r=this;this.ui=new _(this.block,this,this.setting,t);this.render=new P(this,this.setting,this.ui.getDistElement());this.flipController=new v(this.render,this);this.pages=new d(this,this.render,this.ui.getDistElement(),t);this.pages.load();this.render.start();this.pages.show(this.setting.startPage);setTimeout((function(){r.ui.update();r.trigger("init",r,{page:r.setting.startPage,mode:r.render.getOrientation()})}),1)}},{key:"updateFromImages",value:function updateFromImages(t){var r=this.pages.getCurrentPageIndex();this.pages.destroy();this.pages=new u(this,this.render,t);this.pages.load();this.pages.show(r);this.trigger("update",this,{page:r,mode:this.render.getOrientation()})}},{key:"updateFromHtml",value:function updateFromHtml(t){var r=this.pages.getCurrentPageIndex();this.pages.destroy();this.pages=new d(this,this.render,this.ui.getDistElement(),t);this.pages.load();this.ui.updateItems(t);this.render.reload();this.pages.show(r);this.trigger("update",this,{page:r,mode:this.render.getOrientation()})}},{key:"clear",value:function clear(){this.pages.destroy();this.ui.clear()}},{key:"turnToPrevPage",value:function turnToPrevPage(){this.pages.showPrev()}},{key:"turnToNextPage",value:function turnToNextPage(){this.pages.showNext()}},{key:"turnToPage",value:function turnToPage(t){this.pages.show(t)}},{key:"flipNext",value:function flipNext(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top";this.flipController.flipNext(t)}},{key:"flipPrev",value:function flipPrev(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top";this.flipController.flipPrev(t)}},{key:"flip",value:function flip(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";this.flipController.flipToPage(t,r)}},{key:"updateState",value:function updateState(t){this.trigger("changeState",this,t)}},{key:"updatePageIndex",value:function updatePageIndex(t){this.trigger("flip",this,t)}},{key:"updateOrientation",value:function updateOrientation(t){this.ui.setOrientationStyle(t);this.update();this.trigger("changeOrientation",this,t)}},{key:"getPageCount",value:function getPageCount(){return this.pages.getPageCount()}},{key:"getCurrentPageIndex",value:function getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}},{key:"getPage",value:function getPage(t){return this.pages.getPage(t)}},{key:"getRender",value:function getRender(){return this.render}},{key:"getFlipController",value:function getFlipController(){return this.flipController}},{key:"getOrientation",value:function getOrientation(){return this.render.getOrientation()}},{key:"getBoundsRect",value:function getBoundsRect(){return this.render.getRect()}},{key:"getSettings",value:function getSettings(){return this.setting}},{key:"getUI",value:function getUI(){return this.ui}},{key:"getState",value:function getState(){return this.flipController.getState()}},{key:"getPageCollection",value:function getPageCollection(){return this.pages}},{key:"startUserTouch",value:function startUserTouch(t){this.mousePosition=t;this.isUserTouch=!0;this.isUserMove=!1}},{key:"userMove",value:function userMove(t,r){if(this.isUserTouch||r||!this.setting.showPageCorners){if(this.isUserTouch&&c.GetDistanceBetweenTwoPoint(this.mousePosition,t)>5){this.isUserMove=!0;this.flipController.fold(t)}}else this.flipController.showCorner(t)}},{key:"userStop",value:function userStop(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isUserTouch){this.isUserTouch=!1;r||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(t))}}}]);return PageFlip}(w)},6329:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PasswordPrompt:()=>y});i(3352),i(6180),i(895),i(1747),i(7484),i(2374),i(394),i(5598),i(8806),i(9366),i(6678),i(5897),i(5666),i(2926),i(1133),i(2173),i(2630),i(1024),i(13),i(4226),i(7121),i(6770),i(1378),i(171);var o=i(1869),l=t([o]);o=(l.then?(await l)():l)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var u=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakSet,p=new WeakSet,v=new WeakSet,y=function(){function PasswordPrompt(t,r){var i=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,PasswordPrompt);_classPrivateMethodInitSpec(this,v);_classPrivateMethodInitSpec(this,p);_classPrivateMethodInitSpec(this,d);_classPrivateFieldInitSpec(this,u,{writable:!0,value:null});_classPrivateFieldInitSpec(this,c,{writable:!0,value:null});_classPrivateFieldInitSpec(this,h,{writable:!0,value:null});this.dialog=t.dialog;this.label=t.label;this.input=t.input;this.submitButton=t.submitButton;this.cancelButton=t.cancelButton;this.overlayManager=r;this._isViewerEmbedded=a;this.submitButton.addEventListener("click",_classPrivateMethodGet(this,d,_verify2).bind(this));this.cancelButton.addEventListener("click",this.close.bind(this));this.input.addEventListener("keydown",(function(t){13===t.keyCode&&_classPrivateMethodGet(i,d,_verify2).call(i)}));this.overlayManager.register(this.dialog,!0);this.dialog.addEventListener("close",_classPrivateMethodGet(this,p,_cancel2).bind(this))}_createClass(PasswordPrompt,[{key:"open",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t;return _regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(!_classPrivateFieldGet(this,u)){r.next=3;break}r.next=3;return _classPrivateFieldGet(this,u).promise;case 3:_classPrivateFieldSet(this,u,new o.PromiseCapability);r.prev=4;r.next=7;return this.overlayManager.open(this.dialog);case 7:this.input.type="password";this.input.focus();r.next=15;break;case 11:r.prev=11;r.t0=r.catch(4);_classPrivateFieldGet(this,u).resolve();throw r.t0;case 15:t=_classPrivateFieldGet(this,h)===o.PasswordResponses.INCORRECT_PASSWORD;this._isViewerEmbedded&&!t||this.input.focus();this.label.setAttribute("data-l10n-id","pdfjs-password-".concat(t?"invalid":"label"));case 18:case"end":return r.stop()}}),_callee,this,[[4,11]])}))),function open(){return i.apply(this,arguments)})},{key:"close",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){return _regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(this.overlayManager.active===this.dialog){this.overlayManager.close(this.dialog);this.input.value="";this.input.type="hidden"}case 1:case"end":return t.stop()}}),_callee2,this)}))),function close(){return r.apply(this,arguments)})},{key:"setUpdateCallback",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(t,r){return _regeneratorRuntime().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(!_classPrivateFieldGet(this,u)){i.next=3;break}i.next=3;return _classPrivateFieldGet(this,u).promise;case 3:_classPrivateFieldSet(this,c,t);_classPrivateFieldSet(this,h,r);case 5:case"end":return i.stop()}}),_callee3,this)}))),function setUpdateCallback(r,i){return t.apply(this,arguments)})}]);var t,r,i;return PasswordPrompt}();function _verify2(){var t=this.input.value;(null==t?void 0:t.length)>0&&_classPrivateMethodGet(this,v,_invokeCallback2).call(this,t)}function _cancel2(){_classPrivateMethodGet(this,v,_invokeCallback2).call(this,new Error("PasswordPrompt cancelled."));_classPrivateFieldGet(this,u).resolve()}function _invokeCallback2(t){if(_classPrivateFieldGet(this,c)){this.close();this.input.value="";_classPrivateFieldGet(this,c).call(this,t);_classPrivateFieldSet(this,c,null)}}a()}catch(g){a(g)}}))},716:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFAttachmentViewer:()=>d});i(3352),i(6180),i(895),i(1747),i(394),i(2374),i(13),i(9175),i(6128),i(9718),i(7262),i(5598),i(8806),i(9366),i(6678),i(5897),i(5666),i(2926),i(1133),i(2173),i(2630),i(1024),i(4226),i(7121),i(6770),i(1378),i(171);var o=i(1869),l=i(9415),u=i(6554),c=t([o]);o=(c.then?(await c)():c)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _get(){_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,r,i){var a=_superPropBase(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?t:i):o.value}};return _get.apply(this,arguments)}function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var h=new WeakSet,d=function(t){_inherits(PDFAttachmentViewer,t);var r,i,a,l,c=(r=PDFAttachmentViewer,i=_isNativeReflectConstruct(),function _createSuperInternal(){var t,a=_getPrototypeOf(r);if(i){var o=_getPrototypeOf(this).constructor;t=Reflect.construct(a,arguments,o)}else t=a.apply(this,arguments);return _possibleConstructorReturn(this,t)});function PDFAttachmentViewer(t){var r;_classCallCheck(this,PDFAttachmentViewer);_classPrivateMethodInitSpec(_assertThisInitialized(r=c.call(this,t)),h);r.downloadManager=t.downloadManager;r.eventBus._on("fileattachmentannotation",_classPrivateMethodGet(_assertThisInitialized(r),h,_appendAttachment2).bind(_assertThisInitialized(r)));return r}_createClass(PDFAttachmentViewer,[{key:"reset",value:function reset(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_get(_getPrototypeOf(PDFAttachmentViewer.prototype),"reset",this).call(this);this._attachments=null;t||(this._renderedCapability=new o.PromiseCapability);this._pendingDispatchEvent=!1}},{key:"_dispatchEvent",value:(l=(a=_regeneratorRuntime().mark((function _callee(t){return _regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:this._renderedCapability.resolve();if(0!==t||this._pendingDispatchEvent){r.next=7;break}this._pendingDispatchEvent=!0;r.next=5;return(0,u.waitOnEventOrTimeout)({target:this.eventBus,name:"annotationlayerrendered",delay:1e3});case 5:if(this._pendingDispatchEvent){r.next=7;break}return r.abrupt("return");case 7:this._pendingDispatchEvent=!1;this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:t});case 9:case"end":return r.stop()}}),_callee,this)})),function(){var t=this,r=arguments;return new Promise((function(i,o){var l=a.apply(t,r);function _next(t){asyncGeneratorStep(l,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,i,o,_next,_throw,"throw",t)}_next(void 0)}))}),function _dispatchEvent(t){return l.apply(this,arguments)})},{key:"_bindLink",value:function _bindLink(t,r){var i=this,a=r.content,o=r.filename;t.onclick=function(){i.downloadManager.openOrDownloadData(a,o);return!1}}},{key:"render",value:function render(t){var r=t.attachments,i=t.keepRenderedCapability,a=void 0!==i&&i;this._attachments&&this.reset(a);this._attachments=r||null;if(r){var l=document.createDocumentFragment(),u=0;for(var c in r){var h=r[c],d=h.content,p=(0,o.getFilenameFromUrl)(h.filename,!0),v=document.createElement("div");v.className="treeItem";var y=document.createElement("a");this._bindLink(y,{content:d,filename:p});y.textContent=this._normalizeTextContent(p);v.append(y);l.append(v);u++}this._finishRendering(l,u)}else this._dispatchEvent(0)}}]);return PDFAttachmentViewer}(l.BaseTreeViewer);function _appendAttachment2(t){var r=this,i=t.filename,a=t.content,o=this._renderedCapability.promise;o.then((function(){if(o===r._renderedCapability.promise){var t=r._attachments||Object.create(null);for(var l in t)if(i===l)return;t[i]={filename:i,content:a};r.render({attachments:t,keepRenderedCapability:!0})}}))}a()}catch(p){a(p)}}))},3611:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFCursorTools:()=>v});i(895),i(5666),i(1210),i(3352),i(6180),i(1747),i(7484),i(2374),i(394),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926);var o=i(1869),l=i(4927),u=i(6143),c=t([o]);o=(c.then?(await c)():c)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var h=new WeakMap,d=new WeakMap,p=new WeakSet,v=function(){function PDFCursorTools(t){var r=this,i=t.container,a=t.eventBus,o=t.cursorToolOnLoad,u=void 0===o?l.CursorTool.SELECT:o;_classCallCheck(this,PDFCursorTools);_classPrivateMethodInitSpec(this,p);_classPrivateFieldInitSpec(this,h,{writable:!0,value:l.CursorTool.SELECT});_classPrivateFieldInitSpec(this,d,{writable:!0,value:null});this.container=i;this.eventBus=a;_classPrivateMethodGet(this,p,_addEventListeners2).call(this);Promise.resolve().then((function(){r.switchTool(u)}))}_createClass(PDFCursorTools,[{key:"activeTool",get:function get(){return _classPrivateFieldGet(this,h)}},{key:"switchTool",value:function switchTool(t){var r=this;if(null===_classPrivateFieldGet(this,d)&&t!==_classPrivateFieldGet(this,h)){var i=function disableActiveTool(){switch(_classPrivateFieldGet(r,h)){case l.CursorTool.SELECT:break;case l.CursorTool.HAND:r._handTool.deactivate();case l.CursorTool.ZOOM:}};switch(t){case l.CursorTool.SELECT:i();break;case l.CursorTool.HAND:i();this._handTool.activate();break;case l.CursorTool.ZOOM:default:globalThis.ngxConsole.error('switchTool: "'.concat(t,'" is an unsupported value.'));return}_classPrivateFieldSet(this,h,t);this.eventBus.dispatch("cursortoolchanged",{source:this,tool:t})}}},{key:"_handTool",get:function get(){return(0,o.shadow)(this,"_handTool",new u.GrabToPan({element:this.container}))}}]);return PDFCursorTools}();function _addEventListeners2(){var t=this;this.eventBus._on("switchcursortool",(function(r){t.switchTool(r.tool)}));var r=o.AnnotationEditorType.NONE,i=l.PresentationModeState.NORMAL,a=function disableActive(){var r,i=_classPrivateFieldGet(t,h);t.switchTool(l.CursorTool.SELECT);null!==(r=_classPrivateFieldGet(t,d))&&void 0!==r||_classPrivateFieldSet(t,d,i)},u=function enableActive(){var a=_classPrivateFieldGet(t,d);if(null!==a&&r===o.AnnotationEditorType.NONE&&i===l.PresentationModeState.NORMAL){_classPrivateFieldSet(t,d,null);t.switchTool(a)}};this.eventBus._on("secondarytoolbarreset",(function(a){if(null!==_classPrivateFieldGet(t,d)){r=o.AnnotationEditorType.NONE;i=l.PresentationModeState.NORMAL;u()}}));this.eventBus._on("annotationeditormodechanged",(function(t){var i=t.mode;r=i;i===o.AnnotationEditorType.NONE?u():a()}));this.eventBus._on("presentationmodechanged",(function(t){var r=t.state;i=r;r===l.PresentationModeState.NORMAL?u():r===l.PresentationModeState.FULLSCREEN&&a()}))}a()}catch(y){a(y)}}))},6312:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFDocumentProperties:()=>w});i(7874),i(2796),i(6180),i(895),i(5666),i(1747),i(2374),i(4441),i(9142),i(7484),i(394),i(5897),i(3352),i(5598),i(8806),i(9366),i(6678),i(2926),i(4226),i(171),i(924),i(9593),i(7942),i(5776),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378);var o=i(4927),l=i(1869),u=t([l]);l=(u.then?(await u)():u)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_unsupportedIterableToArray(t,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var c=["en-us","en-lr","my"],h={"8.5x11":"letter","8.5x14":"legal"},d={"297x420":"a-three","210x297":"a-four"};function getPageName(t,r,i){var a=r?t.width:t.height,o=r?t.height:t.width;return i["".concat(a,"x").concat(o)]}var p=new WeakMap,v=new WeakSet,y=new WeakSet,g=new WeakSet,m=new WeakSet,_=new WeakSet,b=new WeakSet,w=function(){function PDFDocumentProperties(t,r,i,a,o){var l=this,u=t.dialog,h=t.fields,d=t.closeButton;_classCallCheck(this,PDFDocumentProperties);_classPrivateMethodInitSpec(this,b);_classPrivateMethodInitSpec(this,_);_classPrivateMethodInitSpec(this,m);_classPrivateMethodInitSpec(this,g);_classPrivateMethodInitSpec(this,y);_classPrivateMethodInitSpec(this,v);_classPrivateFieldInitSpec(this,p,{writable:!0,value:null});this.dialog=u;this.fields=h;this.overlayManager=r;this.l10n=a;this._fileNameLookup=o;this.eventBus=i;_classPrivateMethodGet(this,v,_reset2).call(this);d.addEventListener("click",this.close.bind(this));this.overlayManager.register(this.dialog);i._on("pagechanging",(function(t){l._currentPageNumber=t.pageNumber}));i._on("rotationchanging",(function(t){l._pagesRotation=t.pagesRotation}));this._isNonMetricLocale=c.includes(a.getLanguage())}_createClass(PDFDocumentProperties,[{key:"open",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t,r,i,a,l,u,c,h,d,v,w,P,A,S,E,x,k=this;return _regeneratorRuntime().wrap((function _callee$(D){for(;;)switch(D.prev=D.next){case 0:D.next=2;return Promise.all([this.overlayManager.open(this.dialog),this._dataAvailableCapability.promise]);case 2:this.eventBus.dispatch("propertiesdialogopen",this);t=this._currentPageNumber;r=this._pagesRotation;if(!_classPrivateFieldGet(this,p)||t!==_classPrivateFieldGet(this,p)._currentPageNumber||r!==_classPrivateFieldGet(this,p)._pagesRotation){D.next=8;break}_classPrivateMethodGet(this,y,_updateUI2).call(this);return D.abrupt("return");case 8:D.next=10;return this.pdfDocument.getMetadata();case 10:i=D.sent;a=i.info;l=i.contentLength;D.next=15;return Promise.all([this._fileNameLookup(),_classPrivateMethodGet(this,g,_parseFileSize2).call(this,l),_classPrivateMethodGet(this,_,_parseDate2).call(this,a.CreationDate),_classPrivateMethodGet(this,_,_parseDate2).call(this,a.ModDate),this.pdfDocument.getPage(t).then((function(t){return _classPrivateMethodGet(k,m,_parsePageSize2).call(k,(0,o.getPageSizeInches)(t),r)})),_classPrivateMethodGet(this,b,_parseLinearization2).call(this,a.IsLinearized)]);case 15:u=D.sent;c=_slicedToArray(u,6);h=c[0];d=c[1];v=c[2];w=c[3];P=c[4];A=c[5];_classPrivateFieldSet(this,p,Object.freeze({fileName:h,fileSize:d,title:a.Title,author:a.Author,subject:a.Subject,keywords:a.Keywords,creationDate:v,modificationDate:w,creator:a.Creator,producer:a.Producer,version:a.PDFFormatVersion,pageCount:this.pdfDocument.numPages,pageSize:P,linearized:A,_currentPageNumber:t,_pagesRotation:r}));_classPrivateMethodGet(this,y,_updateUI2).call(this);D.next=27;return this.pdfDocument.getDownloadInfo();case 27:S=D.sent;E=S.length;if(l!==E){D.next=31;break}return D.abrupt("return");case 31:x=Object.assign(Object.create(null),_classPrivateFieldGet(this,p));D.next=34;return _classPrivateMethodGet(this,g,_parseFileSize2).call(this,E);case 34:x.fileSize=D.sent;_classPrivateFieldSet(this,p,Object.freeze(x));_classPrivateMethodGet(this,y,_updateUI2).call(this);case 37:case"end":return D.stop()}}),_callee,this)}))),function open(){return r.apply(this,arguments)})},{key:"close",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){return _regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:this.overlayManager.close(this.dialog);this.eventBus.dispatch("propertiesdialogclose",this);case 2:case"end":return t.stop()}}),_callee2,this)}))),function close(){return t.apply(this,arguments)})},{key:"setDocument",value:function setDocument(t){if(this.pdfDocument){_classPrivateMethodGet(this,v,_reset2).call(this);_classPrivateMethodGet(this,y,_updateUI2).call(this,!0)}if(t){this.pdfDocument=t;this._dataAvailableCapability.resolve()}}}]);var t,r;return PDFDocumentProperties}();function _reset2(){this.pdfDocument=null;_classPrivateFieldSet(this,p,null);this._dataAvailableCapability=new l.PromiseCapability;this._currentPageNumber=1;this._pagesRotation=0}function _updateUI2(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&_classPrivateFieldGet(this,p)){if(this.overlayManager.active===this.dialog)for(var t in this.fields){var r=_classPrivateFieldGet(this,p)[t];this.fields[t].textContent=r||0===r?r:"-"}}else for(var i in this.fields)this.fields[i].textContent="-"}function _parseFileSize2(){return _parseFileSize3.apply(this,arguments)}function _parseFileSize3(){_parseFileSize3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var t,r,i,a=arguments;return _regeneratorRuntime().wrap((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:i=(r=(t=a.length>0&&void 0!==a[0]?a[0]:0)/1024)/1024;if(r){o.next=4;break}return o.abrupt("return",void 0);case 4:return o.abrupt("return",this.l10n.get("pdfjs-document-properties-".concat(i>=1?"mb":"kb"),{size_mb:i>=1&&(+i.toPrecision(3)).toLocaleString(),size_kb:i<1&&(+r.toPrecision(3)).toLocaleString(),size_b:t.toLocaleString()}));case 5:case"end":return o.stop()}}),_callee3,this)})));return _parseFileSize3.apply(this,arguments)}function _parsePageSize2(t,r){return _parsePageSize3.apply(this,arguments)}function _parsePageSize3(){return(_parsePageSize3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(t,r){var i,a,l,u,c,p,v,y,g,m,_,b,w,P;return _regeneratorRuntime().wrap((function _callee4$(A){for(;;)switch(A.prev=A.next){case 0:if(t){A.next=2;break}return A.abrupt("return",void 0);case 2:r%180!=0&&(t={width:t.height,height:t.width});i=(0,o.isPortraitOrientation)(t);a={width:Math.round(100*t.width)/100,height:Math.round(100*t.height)/100};l={width:Math.round(25.4*t.width*10)/10,height:Math.round(25.4*t.height*10)/10};if(!((u=getPageName(a,i,h)||getPageName(l,i,d))||Number.isInteger(l.width)&&Number.isInteger(l.height))){c={width:25.4*t.width,height:25.4*t.height};p={width:Math.round(l.width),height:Math.round(l.height)};if(Math.abs(c.width-p.width)<.1&&Math.abs(c.height-p.height)<.1&&(u=getPageName(p,i,d))){a={width:Math.round(p.width/25.4*100)/100,height:Math.round(p.height/25.4*100)/100};l=p}}A.next=10;return Promise.all([this._isNonMetricLocale?a:l,this.l10n.get("pdfjs-document-properties-page-size-unit-".concat(this._isNonMetricLocale?"inches":"millimeters")),u&&this.l10n.get("pdfjs-document-properties-page-size-name-".concat(u)),this.l10n.get("pdfjs-document-properties-page-size-orientation-".concat(i?"portrait":"landscape"))]);case 10:v=A.sent;y=_slicedToArray(v,4);g=y[0];m=g.width;_=g.height;b=y[1];w=y[2];P=y[3];return A.abrupt("return",this.l10n.get("pdfjs-document-properties-page-size-dimension-".concat(w?"name-":"","string"),{width:m.toLocaleString(),height:_.toLocaleString(),unit:b,name:w,orientation:P}));case 19:case"end":return A.stop()}}),_callee4,this)})))).apply(this,arguments)}function _parseDate2(t){return _parseDate3.apply(this,arguments)}function _parseDate3(){return(_parseDate3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(t){var r;return _regeneratorRuntime().wrap((function _callee5$(i){for(;;)switch(i.prev=i.next){case 0:if(r=l.PDFDateString.toDateObject(t)){i.next=3;break}return i.abrupt("return",void 0);case 3:return i.abrupt("return",this.l10n.get("pdfjs-document-properties-date-string",{date:r.toLocaleDateString(),time:r.toLocaleTimeString()}));case 4:case"end":return i.stop()}}),_callee5,this)})))).apply(this,arguments)}function _parseLinearization2(t){return this.l10n.get("pdfjs-document-properties-linearized-".concat(t?"yes":"no"))}a()}catch(P){a(P)}}))},1795:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFFindBar:()=>d});i(7254),i(3352),i(6180),i(895),i(1747),i(7484),i(2374),i(394),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926);var o=i(3557),l=i(4927),u=t([o]);o=(u.then?(await u)():u)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var c=new WeakMap,h=new WeakSet,d=function(){function PDFFindBar(t,r){var i,a=this;_classCallCheck(this,PDFFindBar);_classPrivateMethodInitSpec(this,h);_classPrivateFieldInitSpec(this,c,{writable:!0,value:new ResizeObserver(_classPrivateMethodGet(this,h,_resizeObserverCallback2).bind(this))});this.opened=!1;this.bar=t.bar;this.toggleButton=t.toggleButton;this.findField=t.findField;this.highlightAll=t.highlightAllCheckbox;this.currentPage=t.findCurrentPageCheckbox;this.pageRange=t.findPageRangeField;this.caseSensitive=t.caseSensitiveCheckbox;this.matchDiacritics=t.matchDiacriticsCheckbox;this.entireWord=t.entireWordCheckbox;this.findMsg=t.findMsg;this.findResultsCount=t.findResultsCount;this.findPreviousButton=t.findPreviousButton;this.findNextButton=t.findNextButton;this.eventBus=r;this.toggleButton.addEventListener("click",(function(){a.toggle()}));this.findField.addEventListener("input",(function(){a.dispatchEvent("")}));this.bar.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:t.target===a.findField&&a.dispatchEvent("again",t.shiftKey);break;case 27:a.close()}}));this.findPreviousButton.addEventListener("click",(function(){a.dispatchEvent("again",!0)}));this.findNextButton.addEventListener("click",(function(){a.dispatchEvent("again",!1)}));this.highlightAll.addEventListener("click",(function(){a.dispatchEvent("highlightallchange")}));this.caseSensitive.addEventListener("click",(function(){a.dispatchEvent("casesensitivitychange")}));this.entireWord.addEventListener("click",(function(){a.dispatchEvent("entirewordchange")}));null===(i=this.matchDiacritics)||void 0===i||i.addEventListener("click",(function(){a.dispatchEvent("diacriticmatchingchange")}))}_createClass(PDFFindBar,[{key:"reset",value:function reset(){this.updateUIState()}},{key:"dispatchEvent",value:function dispatchEvent(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.eventBus.dispatch("find",{source:this,type:t,query:this.findField.value,caseSensitive:this.caseSensitive.checked,entireWord:this.entireWord.checked,highlightAll:this.highlightAll.checked,findPrevious:r,matchDiacritics:this.matchDiacritics.checked})}},{key:"updateUIState",value:function updateUIState(t,r,i){var a=this.findField,l=this.findMsg,u="",c="";switch(t){case o.FindState.FOUND:break;case o.FindState.PENDING:c="pending";break;case o.FindState.NOT_FOUND:u="pdfjs-find-not-found";c="notFound";break;case o.FindState.WRAPPED:u="pdfjs-find-reached-".concat(r?"top":"bottom")}a.setAttribute("data-status",c);a.setAttribute("aria-invalid",t===o.FindState.NOT_FOUND);l.setAttribute("data-status",c);if(u)l.setAttribute("data-l10n-id",u);else{l.removeAttribute("data-l10n-id");l.textContent=""}this.updateResultsCount(i)}},{key:"updateResultsCount",value:function updateResultsCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.current,i=void 0===r?0:r,a=t.total,o=void 0===a?0:a,l=this.findResultsCount;if(o>0){l.setAttribute("data-l10n-id","pdfjs-find-match-count".concat(o>1e3?"-limit":""));l.setAttribute("data-l10n-args",JSON.stringify({limit:1e3,current:i,total:o}))}else{l.removeAttribute("data-l10n-id");l.textContent=""}}},{key:"open",value:function open(){if(!this.opened){_classPrivateFieldGet(this,c).observe(this.bar.parentNode);_classPrivateFieldGet(this,c).observe(this.bar);this.opened=!0;(0,l.toggleExpandedBtn)(this.toggleButton,!0,this.bar)}this.findField.select();this.findField.focus();this.dispatchEvent("");this.eventBus.dispatch("findbaropen",{source:this})}},{key:"close",value:function close(){if(this.opened){_classPrivateFieldGet(this,c).disconnect();this.opened=!1;(0,l.toggleExpandedBtn)(this.toggleButton,!1,this.bar);this.eventBus.dispatch("findbarclose",{source:this})}}},{key:"toggle",value:function toggle(){this.opened?this.close():this.open()}}]);return PDFFindBar}();function _resizeObserverCallback2(t){var r=this.bar;r.classList.remove("wrapContainers");r.clientHeight>r.firstElementChild.clientHeight&&r.classList.add("wrapContainers")}a()}catch(p){a(p)}}))},3557:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{FindState:()=>d,PDFFindController:()=>$});i(6180),i(895),i(2048),i(1747),i(5561),i(8587),i(3247),i(3302),i(9490),i(5438),i(7914),i(2374),i(5548),i(7942),i(4226),i(4668),i(7874),i(3032),i(5619),i(9786),i(924),i(4711),i(6133),i(171),i(7484),i(394),i(7121),i(8518),i(5136),i(7944),i(1585),i(2993),i(7254),i(469),i(7600),i(8301),i(5666),i(9593),i(5776),i(9366),i(6678),i(2926),i(3352),i(5598),i(8806),i(5897);var o=i(4927),l=i(6839),u=i(1869),c=t([u]);u=(c.then?(await c)():c)[0];function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_unsupportedIterableToArray(t,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}var h,d={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},p={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},v=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),y=/(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])+/g,g=/([\$\(-\+\.\?\[-\^\{-\}])|((?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))|([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)|((?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]))|((?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]))/g,m=/((?:[\0-\u02FF\u0370-\u0482\u048A-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u060F\u061B-\u064A\u0660-\u066F\u0671-\u06D5\u06DD\u06DE\u06E5\u06E6\u06E9\u06EE-\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4-\u07FC\u07FE-\u0815\u081A\u0824\u0828\u082E-\u0858\u085C-\u0897\u08A0-\u08C9\u08E2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0964-\u0980\u0984-\u09BB\u09BD\u09C5\u09C6\u09C9\u09CA\u09CE-\u09D6\u09D8-\u09E1\u09E4-\u09FD\u09FF\u0A00\u0A04-\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A6F\u0A72-\u0A74\u0A76-\u0A80\u0A84-\u0ABB\u0ABD\u0AC6\u0ACA\u0ACE-\u0AE1\u0AE4-\u0AF9\u0B00\u0B04-\u0B3B\u0B3D\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B61\u0B64-\u0B81\u0B83-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE-\u0BD6\u0BD8-\u0BFF\u0C05-\u0C3B\u0C3D\u0C45\u0C49\u0C4E-\u0C54\u0C57-\u0C61\u0C64-\u0C80\u0C84-\u0CBB\u0CBD\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CE1\u0CE4-\u0CF2\u0CF4-\u0CFF\u0D04-\u0D3A\u0D3D\u0D45\u0D49\u0D4E-\u0D56\u0D58-\u0D61\u0D64-\u0D80\u0D84-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF4-\u0E30\u0E32\u0E33\u0E3B-\u0E46\u0E4F-\u0EB0\u0EB2\u0EB3\u0EBD-\u0EC7\u0ECF-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F40-\u0F70\u0F85\u0F88-\u0F8C\u0F98\u0FBD-\u0FC5\u0FC7-\u102A\u103F-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u109E-\u135C\u1360-\u1711\u1716-\u1731\u1735-\u1751\u1754-\u1771\u1774-\u17B3\u17D4-\u17DC\u17DE-\u180A\u180E\u1810-\u1884\u1887-\u18A8\u18AA-\u191F\u192C-\u192F\u193C-\u1A16\u1A1C-\u1A54\u1A5F\u1A7D\u1A7E\u1A80-\u1AAF\u1ACF-\u1AFF\u1B05-\u1B33\u1B45-\u1B6A\u1B74-\u1B7F\u1B83-\u1BA0\u1BAE-\u1BE5\u1BF4-\u1C23\u1C38-\u1CCF\u1CD3\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA-\u1DBF\u1E00-\u20CF\u20F1-\u2CEE\u2CF2-\u2D7E\u2D80-\u2DDF\u2E00-\u3029\u3030-\u3098\u309B-\uA66E\uA673\uA67E-\uA69D\uA6A0-\uA6EF\uA6F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA828-\uA82B\uA82D-\uA87F\uA882-\uA8B3\uA8C6-\uA8DF\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA954-\uA97F\uA984-\uA9B2\uA9C1-\uA9E4\uA9E6-\uAA28\uAA37-\uAA42\uAA44-\uAA4B\uAA4E-\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2-\uAAEA\uAAF0-\uAAF4\uAAF7-\uABE2\uABEB\uABEE-\uD7FF\uE000-\uFB1D\uFB1F-\uFDFF\uFE10-\uFE1F\uFE30-\uFFFF]|\uD800[\uDC00-\uDDFC\uDDFE-\uDEDF\uDEE1-\uDF75\uDF7B-\uDFFF]|[\uD801\uD808-\uD80C\uD80E-\uD819\uD81C-\uD82E\uD830-\uD832\uD835\uD837\uD83B-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD802[\uDC00-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDEE4\uDEE7-\uDFFF]|\uD803[\uDC00-\uDD23\uDD28-\uDEAA\uDEAD-\uDEFC\uDF00-\uDF45\uDF51-\uDF81\uDF86-\uDFFF]|\uD804[\uDC03-\uDC37\uDC47-\uDC6F\uDC71\uDC72\uDC75-\uDC7E\uDC83-\uDCAF\uDCBB-\uDCC1\uDCC3-\uDCFF\uDD03-\uDD26\uDD35-\uDD44\uDD47-\uDD72\uDD74-\uDD7F\uDD83-\uDDB2\uDDC1-\uDDC8\uDDCD\uDDD0-\uDE2B\uDE38-\uDE3D\uDE3F\uDE40\uDE42-\uDEDE\uDEEB-\uDEFF\uDF04-\uDF3A\uDF3D\uDF45\uDF46\uDF49\uDF4A\uDF4E-\uDF56\uDF58-\uDF61\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC00-\uDC34\uDC47-\uDC5D\uDC5F-\uDCAF\uDCC4-\uDDAE\uDDB6\uDDB7\uDDC1-\uDDDB\uDDDE-\uDE2F\uDE41-\uDEAA\uDEB8-\uDF1C\uDF2C-\uDFFF]|\uD806[\uDC00-\uDC2B\uDC3B-\uDD2F\uDD36\uDD39\uDD3A\uDD3F\uDD41\uDD44-\uDDD0\uDDD8\uDDD9\uDDE1-\uDDE3\uDDE5-\uDE00\uDE0B-\uDE32\uDE3A\uDE3F-\uDE46\uDE48-\uDE50\uDE5C-\uDE89\uDE9A-\uDFFF]|\uD807[\uDC00-\uDC2E\uDC37\uDC40-\uDC91\uDCA8\uDCB7-\uDD30\uDD37-\uDD39\uDD3B\uDD3E\uDD46\uDD48-\uDD89\uDD8F\uDD92\uDD98-\uDEF2\uDEF7-\uDEFF\uDF02\uDF04-\uDF33\uDF3B-\uDF3D\uDF43-\uDFFF]|\uD80D[\uDC00-\uDC3F\uDC41-\uDC46\uDC56-\uDFFF]|\uD81A[\uDC00-\uDEEF\uDEF5-\uDF2F\uDF37-\uDFFF]|\uD81B[\uDC00-\uDF4E\uDF50\uDF88-\uDF8E\uDF93-\uDFE3\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD82F[\uDC00-\uDC9C\uDC9F-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDC8E\uDC90-\uDD2F\uDD37-\uDEAD\uDEAF-\uDEEB\uDEF0-\uDFFF]|\uD839[\uDC00-\uDCEB\uDCF0-\uDFFF]|\uD83A[\uDC00-\uDCCF\uDCD7-\uDD43\uDD4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/,_=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*((?:[\0-\u02FF\u0370-\u0482\u048A-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u060F\u061B-\u064A\u0660-\u066F\u0671-\u06D5\u06DD\u06DE\u06E5\u06E6\u06E9\u06EE-\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4-\u07FC\u07FE-\u0815\u081A\u0824\u0828\u082E-\u0858\u085C-\u0897\u08A0-\u08C9\u08E2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0964-\u0980\u0984-\u09BB\u09BD\u09C5\u09C6\u09C9\u09CA\u09CE-\u09D6\u09D8-\u09E1\u09E4-\u09FD\u09FF\u0A00\u0A04-\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A6F\u0A72-\u0A74\u0A76-\u0A80\u0A84-\u0ABB\u0ABD\u0AC6\u0ACA\u0ACE-\u0AE1\u0AE4-\u0AF9\u0B00\u0B04-\u0B3B\u0B3D\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B61\u0B64-\u0B81\u0B83-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE-\u0BD6\u0BD8-\u0BFF\u0C05-\u0C3B\u0C3D\u0C45\u0C49\u0C4E-\u0C54\u0C57-\u0C61\u0C64-\u0C80\u0C84-\u0CBB\u0CBD\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CE1\u0CE4-\u0CF2\u0CF4-\u0CFF\u0D04-\u0D3A\u0D3D\u0D45\u0D49\u0D4E-\u0D56\u0D58-\u0D61\u0D64-\u0D80\u0D84-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF4-\u0E30\u0E32\u0E33\u0E3B-\u0E46\u0E4F-\u0EB0\u0EB2\u0EB3\u0EBD-\u0EC7\u0ECF-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F40-\u0F70\u0F85\u0F88-\u0F8C\u0F98\u0FBD-\u0FC5\u0FC7-\u102A\u103F-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u109E-\u135C\u1360-\u1711\u1716-\u1731\u1735-\u1751\u1754-\u1771\u1774-\u17B3\u17D4-\u17DC\u17DE-\u180A\u180E\u1810-\u1884\u1887-\u18A8\u18AA-\u191F\u192C-\u192F\u193C-\u1A16\u1A1C-\u1A54\u1A5F\u1A7D\u1A7E\u1A80-\u1AAF\u1ACF-\u1AFF\u1B05-\u1B33\u1B45-\u1B6A\u1B74-\u1B7F\u1B83-\u1BA0\u1BAE-\u1BE5\u1BF4-\u1C23\u1C38-\u1CCF\u1CD3\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA-\u1DBF\u1E00-\u20CF\u20F1-\u2CEE\u2CF2-\u2D7E\u2D80-\u2DDF\u2E00-\u3029\u3030-\u3098\u309B-\uA66E\uA673\uA67E-\uA69D\uA6A0-\uA6EF\uA6F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA828-\uA82B\uA82D-\uA87F\uA882-\uA8B3\uA8C6-\uA8DF\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA954-\uA97F\uA984-\uA9B2\uA9C1-\uA9E4\uA9E6-\uAA28\uAA37-\uAA42\uAA44-\uAA4B\uAA4E-\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2-\uAAEA\uAAF0-\uAAF4\uAAF7-\uABE2\uABEB\uABEE-\uD7FF\uE000-\uFB1D\uFB1F-\uFDFF\uFE10-\uFE1F\uFE30-\uFFFF]|\uD800[\uDC00-\uDDFC\uDDFE-\uDEDF\uDEE1-\uDF75\uDF7B-\uDFFF]|[\uD801\uD808-\uD80C\uD80E-\uD819\uD81C-\uD82E\uD830-\uD832\uD835\uD837\uD83B-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD802[\uDC00-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDEE4\uDEE7-\uDFFF]|\uD803[\uDC00-\uDD23\uDD28-\uDEAA\uDEAD-\uDEFC\uDF00-\uDF45\uDF51-\uDF81\uDF86-\uDFFF]|\uD804[\uDC03-\uDC37\uDC47-\uDC6F\uDC71\uDC72\uDC75-\uDC7E\uDC83-\uDCAF\uDCBB-\uDCC1\uDCC3-\uDCFF\uDD03-\uDD26\uDD35-\uDD44\uDD47-\uDD72\uDD74-\uDD7F\uDD83-\uDDB2\uDDC1-\uDDC8\uDDCD\uDDD0-\uDE2B\uDE38-\uDE3D\uDE3F\uDE40\uDE42-\uDEDE\uDEEB-\uDEFF\uDF04-\uDF3A\uDF3D\uDF45\uDF46\uDF49\uDF4A\uDF4E-\uDF56\uDF58-\uDF61\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC00-\uDC34\uDC47-\uDC5D\uDC5F-\uDCAF\uDCC4-\uDDAE\uDDB6\uDDB7\uDDC1-\uDDDB\uDDDE-\uDE2F\uDE41-\uDEAA\uDEB8-\uDF1C\uDF2C-\uDFFF]|\uD806[\uDC00-\uDC2B\uDC3B-\uDD2F\uDD36\uDD39\uDD3A\uDD3F\uDD41\uDD44-\uDDD0\uDDD8\uDDD9\uDDE1-\uDDE3\uDDE5-\uDE00\uDE0B-\uDE32\uDE3A\uDE3F-\uDE46\uDE48-\uDE50\uDE5C-\uDE89\uDE9A-\uDFFF]|\uD807[\uDC00-\uDC2E\uDC37\uDC40-\uDC91\uDCA8\uDCB7-\uDD30\uDD37-\uDD39\uDD3B\uDD3E\uDD46\uDD48-\uDD89\uDD8F\uDD92\uDD98-\uDEF2\uDEF7-\uDEFF\uDF02\uDF04-\uDF33\uDF3B-\uDF3D\uDF43-\uDFFF]|\uD80D[\uDC00-\uDC3F\uDC41-\uDC46\uDC56-\uDFFF]|\uD81A[\uDC00-\uDEEF\uDEF5-\uDF2F\uDF37-\uDFFF]|\uD81B[\uDC00-\uDF4E\uDF50\uDF88-\uDF8E\uDF93-\uDFE3\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD82F[\uDC00-\uDC9C\uDC9F-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDC8E\uDC90-\uDD2F\uDD37-\uDEAD\uDEAF-\uDEEB\uDEF0-\uDFFF]|\uD839[\uDC00-\uDCEB\uDCF0-\uDFFF]|\uD83A[\uDC00-\uDCCF\uDCD7-\uDD43\uDD4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/,b=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,w=new Map,P="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",A=new Map,S=null,E=null;function normalize(t){for(var r,i,a=[];null!==(r=b.exec(t));){var o,u=r.index,c=_createForOfIteratorHelper(r[0]);try{for(c.s();!(o=c.n()).done;){var h=o.value,d=w.get(h);if(!d){d=h.normalize("NFD").length;w.set(h,d)}a.push([d,u++])}}catch(t){c.e(t)}finally{c.f()}}if(0===a.length&&S)i=S;else if(a.length>0&&E)i=E;else{var v=Object.keys(p).join(""),g=(0,l.getNormalizeWithNFKC)(),m="([".concat(v,"])|([").concat(g,"])|(").concat("(?:|)","\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(").concat("(?:\\p{Ideographic}|[-])","\\n)|(\\n)");i=0===a.length?S=new RegExp(m+"|(\\u0000)","gum"):E=new RegExp(m+"|(".concat(P,")"),"gum")}for(var _=[];null!==(r=y.exec(t));)_.push([r[0].length,r.index]);var x=t.normalize("NFD"),k=[[0,0]],D=0,C=0,T=0,I=0,O=0,M=!1;x=x.replace(i,(function(t,r,i,o,l,u,c,h,d,v){var y;v-=I;if(r){for(var g=p[r],m=g.length,b=1;b<m;b++)k.push([v-T+b,T-b]);T-=m-1;return g}if(i){var w=A.get(i);if(!w){w=i.normalize("NFKC");A.set(i,w)}for(var P=w.length,S=1;S<P;S++)k.push([v-T+S,T-S]);T-=P-1;return w}if(o){var E;M=!0;if(v+O===(null===(E=_[D])||void 0===E?void 0:E[1]))++D;else{k.push([v-1-T+1,T-1]);T-=1;I+=1}k.push([v-T+1,T]);I+=1;O+=1;return o.charAt(0)}if(l){var x,L=l.endsWith("\n"),G=L?l.length-2:l.length;M=!0;var R=G;if(v+O===(null===(x=_[D])||void 0===x?void 0:x[1])){R-=_[D][0];++D}for(var j=1;j<=R;j++)k.push([v-1-T+j,T-j]);T-=R;I+=R;if(L){v+=G-1;k.push([v-T+1,1+T]);T+=1;I+=1;O+=1;return l.slice(0,G)}return l}if(u){var B=u.length-2;k.push([v-T+B,1+T]);T+=1;I+=1;O+=1;return u.slice(0,-2)}if(c){var N=c.length-1;k.push([v-T+N,T]);I+=1;O+=1;return c.slice(0,-1)}if(h){k.push([v-T+1,T-1]);T-=1;I+=1;O+=1;return" "}if(v+O===(null===(y=a[C])||void 0===y?void 0:y[1])){var W=a[C][0]-1;++C;for(var V=1;V<=W;V++)k.push([v-(T-V),T-V]);T-=W;I+=W}return d}));k.push([x.length,T]);return[x,k,M]}function getOriginalIndex(t,r,i){if(!t)return[r,i];var a=r,l=r+i-1,u=(0,o.binarySearchFirstItem)(t,(function(t){return t[0]>=a}));t[u][0]>a&&--u;var c=(0,o.binarySearchFirstItem)(t,(function(t){return t[0]>=l}),u);t[c][0]>l&&--c;var h=a+t[u][1];return[h,l+t[c][1]+1-h]}var x=new WeakMap,k=new WeakMap,D=new WeakMap,C=new WeakSet,T=new WeakSet,I=new WeakMap,O=new WeakSet,M=new WeakSet,L=new WeakSet,G=new WeakSet,R=new WeakSet,j=new WeakSet,B=new WeakSet,N=new WeakSet,W=new WeakSet,V=new WeakSet,z=new WeakSet,H=new WeakSet,U=new WeakSet,q=new WeakSet,K=new WeakSet,Y=new WeakSet,X=new WeakSet,$=function(){function PDFFindController(t){var r=t.linkService,i=t.eventBus,a=t.updateMatchesCountOnProgress,o=void 0===a||a,l=t.pageViewMode;_classCallCheck(this,PDFFindController);_classPrivateMethodInitSpec(this,X);_classPrivateMethodInitSpec(this,Y);_classPrivateMethodInitSpec(this,K);_classPrivateMethodInitSpec(this,q);_classPrivateMethodInitSpec(this,U);_classPrivateMethodInitSpec(this,H);_classPrivateMethodInitSpec(this,z);_classPrivateMethodInitSpec(this,V);_classPrivateMethodInitSpec(this,W);_classPrivateMethodInitSpec(this,N);_classPrivateMethodInitSpec(this,B);_classPrivateMethodInitSpec(this,j);_classPrivateMethodInitSpec(this,R);_classPrivateMethodInitSpec(this,G);_classPrivateMethodInitSpec(this,L);_classPrivateMethodInitSpec(this,M);_classPrivateMethodInitSpec(this,O);_classPrivateFieldInitSpec(this,I,{get:_get_query,set:void 0});_classPrivateMethodInitSpec(this,T);_classPrivateMethodInitSpec(this,C);_classPrivateFieldInitSpec(this,x,{writable:!0,value:null});_classPrivateFieldInitSpec(this,k,{writable:!0,value:!0});_classPrivateFieldInitSpec(this,D,{writable:!0,value:0});this._linkService=r;this._eventBus=i;_classPrivateFieldSet(this,k,o);this._pageViewMode=l;this.onIsPageVisible=null;_classPrivateMethodGet(this,T,_reset2).call(this);i._on("find",_classPrivateMethodGet(this,C,_onFind2).bind(this));i._on("findbarclose",_classPrivateMethodGet(this,q,_onFindBarClose2).bind(this))}_createClass(PDFFindController,[{key:"highlightMatches",get:function get(){return this._highlightMatches}},{key:"pageMatches",get:function get(){return this._pageMatches}},{key:"pageMatchesLength",get:function get(){return this._pageMatchesLength}},{key:"selected",get:function get(){return this._selected}},{key:"state",get:function get(){return _classPrivateFieldGet(this,x)}},{key:"setDocument",value:function setDocument(t){this._pdfDocument&&_classPrivateMethodGet(this,T,_reset2).call(this);if(t){this._pdfDocument=t;this._firstPageCapability.resolve()}}},{key:"scrollMatchIntoView",value:function scrollMatchIntoView(t){var r=t.element,i=void 0===r?null:r,a=t.selectedLeft,l=void 0===a?0:a,u=t.pageIndex,c=void 0===u?-1:u,h=t.matchIndex,d=void 0===h?-1:h;if(this._scrollMatches&&i&&-1!==d&&d===this._selected.matchIdx&&-1!==c&&c===this._selected.pageIdx){this._scrollMatches=!1;var p={top:-50,left:l+-400};(0,o.scrollIntoView)(i,p,!0,"infinite-scroll"===this._pageViewMode)}}}]);return PDFFindController}();function _onFind2(t){var r=this;if(t){var i=this._pdfDocument,a=t.type;(null===_classPrivateFieldGet(this,x)||_classPrivateMethodGet(this,O,_shouldDirtyMatch2).call(this,t))&&(this._dirtyMatch=!0);_classPrivateFieldSet(this,x,t);if("highlightallchange"!==a)_classPrivateMethodGet(this,X,_updateUIState2).call(this,d.PENDING);else{var o,l=this._pageMatches.some((function(t){return t.length>0})),u=!(null!==(o=this.state)&&void 0!==o&&o.query)||l;_classPrivateMethodGet(this,X,_updateUIState2).call(this,u?d.FOUND:d.NOT_FOUND)}this._firstPageCapability.promise.then((function(){if(r._pdfDocument&&(!i||r._pdfDocument===i)){_classPrivateMethodGet(r,j,_extractText2).call(r);var t=!r._highlightMatches,o=!!r._findTimeout;if(r._findTimeout){clearTimeout(r._findTimeout);r._findTimeout=null}if(a)if(r._dirtyMatch)_classPrivateMethodGet(r,W,_nextMatch2).call(r);else if("again"===a){_classPrivateMethodGet(r,W,_nextMatch2).call(r);t&&_classPrivateFieldGet(r,x).highlightAll&&_classPrivateMethodGet(r,N,_updateAllPages2).call(r)}else if("highlightallchange"===a){o?_classPrivateMethodGet(r,W,_nextMatch2).call(r):r._highlightMatches=!0;_classPrivateMethodGet(r,N,_updateAllPages2).call(r)}else _classPrivateMethodGet(r,W,_nextMatch2).call(r);else r._findTimeout=setTimeout((function(){_classPrivateMethodGet(r,W,_nextMatch2).call(r);r._findTimeout=null}),250)}}))}}function _reset2(){this._highlightMatches=!1;this._scrollMatches=!1;this._pdfDocument=null;this._pageMatches=[];this._pageMatchesLength=[];_classPrivateFieldSet(this,D,0);_classPrivateFieldSet(this,x,null);this._selected={pageIdx:-1,matchIdx:-1};this._offset={pageIdx:null,matchIdx:null,wrapped:!1};this._extractTextPromises=[];this._pageContents=[];this._pageDiffs=[];this._hasDiacritics=[];this._matchesCountTotal=0;this._pagesToSearch=null;this._pendingFindMatches=new Set;this._resumePageIdx=null;this._dirtyMatch=!1;clearTimeout(this._findTimeout);this._findTimeout=null;this._firstPageCapability=new u.PromiseCapability}function _get_query(){var t=_classPrivateFieldGet(this,x).query;if("string"==typeof t){if(t!==this._rawQuery){this._rawQuery=t;var r=_slicedToArray(normalize(t),1);this._normalizedQuery=r[0]}return this._normalizedQuery}return(t||[]).filter((function(t){return!!t})).map((function(t){return normalize(t)[0]}))}function _shouldDirtyMatch2(t){var r,i,a=t.query,o=_classPrivateFieldGet(this,x).query,l=_typeof(a);if(l!==_typeof(o))return!0;if("string"===l){if(a!==o)return!0}else if(JSON.stringify(a)!==JSON.stringify(o))return!0;switch(t.type){case"again":var u=this._selected.pageIdx+1,c=this._linkService;return u>=1&&u<=c.pagesCount&&u!==c.page&&!(null===(r=null===(i=this.onIsPageVisible)||void 0===i?void 0:i.call(this,u))||void 0===r||r);case"highlightallchange":return!1}return!0}function _isEntireWord2(t,r,i){var a=t.slice(0,r).match(m);if(a){var o=t.charCodeAt(r),u=a[1].charCodeAt(0);if((0,l.getCharacterType)(o)===(0,l.getCharacterType)(u))return!1}if(a=t.slice(r+i).match(_)){var c=t.charCodeAt(r+i-1),h=a[1].charCodeAt(0);if((0,l.getCharacterType)(c)===(0,l.getCharacterType)(h))return!1}return!0}function _calculateRegExpMatch2(t,r,i,a){var o=this._pageMatches[i]=[],l=this._pageMatchesLength[i]=[];if(t)for(var u,c=this._pageDiffs[i];null!==(u=t.exec(a));)if(!r||_classPrivateMethodGet(this,M,_isEntireWord2).call(this,a,u.index,u[0].length)){var h=_slicedToArray(getOriginalIndex(c,u.index,u[0].length),2),d=h[0],p=h[1];if(p){o.push(d);l.push(p)}}}function _convertToRegExpString2(t,r){var i,a=_classPrivateFieldGet(this,x).matchDiacritics,o=!1,l="[ ]*";(t=t.replaceAll(g,(function(t,i,l,u,c,h){if(i)return"[ ]*\\".concat(i,"[ ]*");if(l)return"[ ]*".concat(l,"[ ]*");if(u)return"[ ]+";if(a)return c||h;if(c)return v.has(c.charCodeAt(0))?c:"";if(r){o=!0;return"".concat(h,"\\p{M}*")}return h}))).endsWith(l)&&(t=t.slice(0,t.length-4));if(a&&r){h||(h=String.fromCharCode.apply(String,_arrayWithoutHoles(i=v)||_iterableToArray(i)||_unsupportedIterableToArray(i)||_nonIterableSpread()));o=!0;t="".concat(t,"(?=[").concat(h,"]|[^\\p{M}]|$)")}return[o,t]}function _calculateMatch2(t){var r,i=this,a=_classPrivateFieldGet(this,I);if(0!==a.length){var o=_classPrivateFieldGet(this,x),l=o.caseSensitive,u=o.entireWord,c=this._pageContents[t],h=this._hasDiacritics[t],d=!1;if("string"==typeof a){var p=_slicedToArray(_classPrivateMethodGet(this,G,_convertToRegExpString2).call(this,a,h),2);d=p[0];a=p[1]}else a=a.sort().reverse().map((function(t){var r=_slicedToArray(_classPrivateMethodGet(i,G,_convertToRegExpString2).call(i,t,h),2),a=r[0],o=r[1];d||(d=a);return"(".concat(o,")")})).join("|");var v="g".concat(d?"u":"").concat(l?"":"i");a=a?new RegExp(a,v):null;_classPrivateMethodGet(this,L,_calculateRegExpMatch2).call(this,a,u,t,c);_classPrivateFieldGet(this,x).highlightAll&&_classPrivateMethodGet(this,B,_updatePage2).call(this,t);if(this._resumePageIdx===t){this._resumePageIdx=null;_classPrivateMethodGet(this,z,_nextPageMatch2).call(this)}var y=this._pageMatches[t].length;this._matchesCountTotal+=y;_classPrivateFieldGet(this,k)?y>0&&_classPrivateMethodGet(this,Y,_updateUIResultsCount2).call(this):_classPrivateFieldSet(this,D,(r=_classPrivateFieldGet(this,D),++r))===this._linkService.pagesCount&&_classPrivateMethodGet(this,Y,_updateUIResultsCount2).call(this)}}function _extractText2(){var t=this;if(!(this._extractTextPromises.length>0))for(var r=Promise.resolve(),i={disableNormalization:!0},a=function _loop(a){var o=new u.PromiseCapability;t._extractTextPromises[a]=o.promise;r=r.then((function(){return t._pdfDocument.getPage(a+1).then((function(t){return t.getTextContent(i)})).then((function(r){var i,l=[],u=_createForOfIteratorHelper(r.items);try{for(u.s();!(i=u.n()).done;){var c=i.value;l.push(c.str);c.hasEOL&&l.push("\n")}}catch(t){u.e(t)}finally{u.f()}var h=_slicedToArray(normalize(l.join("")),3);t._pageContents[a]=h[0];t._pageDiffs[a]=h[1];t._hasDiacritics[a]=h[2];o.resolve()}),(function(r){console.error("Unable to get text content for page ".concat(a+1),r);t._pageContents[a]="";t._pageDiffs[a]=null;t._hasDiacritics[a]=!1;o.resolve()}))}))},o=0,l=this._linkService.pagesCount;o<l;o++)a(o)}function _updatePage2(t){this._scrollMatches&&this._selected.pageIdx===t&&(this._linkService.page=t+1);this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:t})}function _updateAllPages2(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function _nextMatch2(){var t=this,r=_classPrivateFieldGet(this,x).findPrevious,i=this._linkService.page-1,a=this._linkService.pagesCount;this._highlightMatches=!0;if(this._dirtyMatch){this._dirtyMatch=!1;this._selected.pageIdx=this._selected.matchIdx=-1;this._offset.pageIdx=i;this._offset.matchIdx=null;this._offset.wrapped=!1;this._resumePageIdx=null;this._pageMatches.length=0;this._pageMatchesLength.length=0;_classPrivateFieldSet(this,D,0);this._matchesCountTotal=0;_classPrivateMethodGet(this,N,_updateAllPages2).call(this);for(var o=function _loop2(r){if(t._pendingFindMatches.has(r))return 1;t._pendingFindMatches.add(r);t._extractTextPromises[r].then((function(){t._pendingFindMatches.delete(r);_classPrivateMethodGet(t,R,_calculateMatch2).call(t,r)}))},l=0;l<a;l++)o(l)}if(0!==_classPrivateFieldGet(this,I).length){if(!this._resumePageIdx){var u=this._offset;this._pagesToSearch=a;if(null!==u.matchIdx){var c=this._pageMatches[u.pageIdx].length;if(!r&&u.matchIdx+1<c||r&&u.matchIdx>0){u.matchIdx=r?u.matchIdx-1:u.matchIdx+1;_classPrivateMethodGet(this,U,_updateMatch2).call(this,!0);return}_classPrivateMethodGet(this,H,_advanceOffsetPage2).call(this,r)}_classPrivateMethodGet(this,z,_nextPageMatch2).call(this)}}else _classPrivateMethodGet(this,X,_updateUIState2).call(this,d.FOUND)}function _matchesReady2(t){var r=this._offset,i=t.length,a=_classPrivateFieldGet(this,x).findPrevious;if(i){r.matchIdx=a?i-1:0;_classPrivateMethodGet(this,U,_updateMatch2).call(this,!0);return!0}_classPrivateMethodGet(this,H,_advanceOffsetPage2).call(this,a);if(r.wrapped){r.matchIdx=null;if(this._pagesToSearch<0){_classPrivateMethodGet(this,U,_updateMatch2).call(this,!1);return!0}}return!1}function _nextPageMatch2(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var t=null;do{var r=this._offset.pageIdx;if(!(t=this._pageMatches[r])){this._resumePageIdx=r;break}}while(!_classPrivateMethodGet(this,V,_matchesReady2).call(this,t))}function _advanceOffsetPage2(t){var r=this._offset,i=this._linkService.pagesCount;r.pageIdx=t?r.pageIdx-1:r.pageIdx+1;r.matchIdx=null;this._pagesToSearch--;if(r.pageIdx>=i||r.pageIdx<0){r.pageIdx=t?i-1:0;r.wrapped=!0}}function _updateMatch2(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=d.NOT_FOUND,i=this._offset.wrapped;this._offset.wrapped=!1;if(t){var a=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx;this._selected.matchIdx=this._offset.matchIdx;r=i?d.WRAPPED:d.FOUND;-1!==a&&a!==this._selected.pageIdx&&_classPrivateMethodGet(this,B,_updatePage2).call(this,a)}_classPrivateMethodGet(this,X,_updateUIState2).call(this,r,_classPrivateFieldGet(this,x).findPrevious);if(-1!==this._selected.pageIdx){this._scrollMatches=!0;_classPrivateMethodGet(this,B,_updatePage2).call(this,this._selected.pageIdx)}}function _onFindBarClose2(t){var r=this,i=this._pdfDocument;this._firstPageCapability.promise.then((function(){if(r._pdfDocument&&(!i||r._pdfDocument===i)){if(r._findTimeout){clearTimeout(r._findTimeout);r._findTimeout=null}if(r._resumePageIdx){r._resumePageIdx=null;r._dirtyMatch=!0}_classPrivateMethodGet(r,X,_updateUIState2).call(r,d.FOUND);r._highlightMatches=!1;_classPrivateMethodGet(r,N,_updateAllPages2).call(r)}}))}function _requestMatchesCount2(){var t=this._selected,r=t.pageIdx,i=t.matchIdx,a=0,o=this._matchesCountTotal;if(-1!==i){for(var l=0;l<r;l++){var u;a+=(null===(u=this._pageMatches[l])||void 0===u?void 0:u.length)||0}a+=i+1}(a<1||a>o)&&(a=o=0);return{current:a,total:o}}function _updateUIResultsCount2(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:_classPrivateMethodGet(this,K,_requestMatchesCount2).call(this)})}function _updateUIState2(t){var r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(_classPrivateFieldGet(this,k)||_classPrivateFieldGet(this,D)===this._linkService.pagesCount&&t!==d.PENDING)&&this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:t,previous:a,matchesCount:_classPrivateMethodGet(this,K,_requestMatchesCount2).call(this),rawQuery:null!==(r=null===(i=_classPrivateFieldGet(this,x))||void 0===i?void 0:i.query)&&void 0!==r?r:null})}a()}catch(Z){a(Z)}}))},6839:(t,r,i)=>{i.d(r,{getCharacterType:()=>getCharacterType,getNormalizeWithNFKC:()=>getNormalizeWithNFKC});var a,o={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function getCharacterType(t){return function isAlphabeticalScript(t){return t<11904}(t)?function isAscii(t){return 0==(65408&t)}(t)?function isAsciiSpace(t){return 32===t||9===t||13===t||10===t}(t)?o.SPACE:function isAsciiAlpha(t){return t>=97&&t<=122||t>=65&&t<=90}(t)||function isAsciiDigit(t){return t>=48&&t<=57}(t)||95===t?o.ALPHA_LETTER:o.PUNCT:function isThai(t){return 3584==(65408&t)}(t)?o.THAI_LETTER:160===t?o.SPACE:o.ALPHA_LETTER:function isHan(t){return t>=13312&&t<=40959||t>=63744&&t<=64255}(t)?o.HAN_LETTER:function isKatakana(t){return t>=12448&&t<=12543}(t)?o.KATAKANA_LETTER:function isHiragana(t){return t>=12352&&t<=12447}(t)?o.HIRAGANA_LETTER:function isHalfwidthKatakana(t){return t>=65376&&t<=65439}(t)?o.HALFWIDTH_KATAKANA_LETTER:o.ALPHA_LETTER}function getNormalizeWithNFKC(){a||(a="---------------------------------------------------------------------------------------------------");return a}},6418:(t,r,i)=>{i.d(r,{PDFHistory:()=>l});i(1210),i(7254),i(895),i(5666),i(6421),i(7874),i(9142),i(5897),i(5598),i(8806),i(9366),i(6678),i(3352),i(4668),i(2926),i(6180),i(1747),i(2374),i(4226),i(171),i(924),i(9593),i(7942),i(5776);var a=i(4927),o=i(6554);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function getCurrentHash(){return document.location.hash}var l=function(){function PDFHistory(t){var r=this,i=t.linkService,a=t.eventBus;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFHistory);this.linkService=i;this.eventBus=a;this._initialized=!1;this._fingerprint="";this.reset();this._boundEvents=null;this.eventBus._on("pagesinit",(function(){r._isPagesLoaded=!1;r.eventBus._on("pagesloaded",(function(t){r._isPagesLoaded=!!t.pagesCount}),{once:!0})}))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(PDFHistory,[{key:"initialize",value:function initialize(t){var r=t.fingerprint,i=t.resetHistory,a=void 0!==i&&i,o=t.updateUrl,l=void 0!==o&&o;if(r&&"string"==typeof r){this._initialized&&this.reset();var u=""!==this._fingerprint&&this._fingerprint!==r;this._fingerprint=r;this._updateUrl=!0===l;this._initialized=!0;this._bindEvents();var c=window.history.state;this._popStateInProgress=!1;this._blockHashChange=0;this._currentHash=getCurrentHash();this._numPositionUpdates=0;this._uid=this._maxUid=0;this._destination=null;this._position=null;if(this._isValidState(c,!0)&&!a){var h=c.destination;this._updateInternalState(h,c.uid,!0);void 0!==h.rotation&&(this._initialRotation=h.rotation);if(h.dest){this._initialBookmark=JSON.stringify(h.dest);this._destination.page=null}else h.hash?this._initialBookmark=h.hash:h.page&&(this._initialBookmark="page=".concat(h.page))}else{var d=this._parseCurrentHash(!0),p=d.hash,v=d.page,y=d.rotation;if(!p||u||a){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:p,page:v,rotation:y},!0)}}else globalThis.ngxConsole.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function reset(){if(this._initialized){this._pageHide();this._initialized=!1;this._unbindEvents()}if(this._updateViewareaTimeout){clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}this._initialBookmark=null;this._initialRotation=null}},{key:"push",value:function push(t){var r=this,i=t.namedDest,o=void 0===i?null:i,l=t.explicitDest,u=t.pageNumber;if(this._initialized)if(o&&"string"!=typeof o)globalThis.ngxConsole.error("PDFHistory.push: "+'"'.concat(o,'" is not a valid namedDest parameter.'));else if(Array.isArray(l))if(this._isValidPage(u)||null===u&&!this._destination){var c=o||JSON.stringify(l);if(c){var h=!1;if(this._destination&&(function isDestHashesEqual(t,r){if("string"!=typeof t||"string"!=typeof r)return!1;if(t===r)return!0;if((0,a.parseQueryString)(t).get("nameddest")===r)return!0;return!1}(this._destination.hash,c)||function isDestArraysEqual(t,r){function isEntryEqual(t,r){if(_typeof(t)!==_typeof(r))return!1;if(Array.isArray(t)||Array.isArray(r))return!1;if(null!==t&&"object"===_typeof(t)&&null!==r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(var i in t)if(!isEntryEqual(t[i],r[i]))return!1;return!0}return t===r||Number.isNaN(t)&&Number.isNaN(r)}if(!Array.isArray(t)||!Array.isArray(r))return!1;if(t.length!==r.length)return!1;for(var i=0,a=t.length;i<a;i++)if(!isEntryEqual(t[i],r[i]))return!1;return!0}(this._destination.dest,l))){if(this._destination.page)return;h=!0}if(!this._popStateInProgress||h){this._pushOrReplaceState({dest:l,hash:c,page:u,rotation:this.linkService.rotation},h);if(!this._popStateInProgress){this._popStateInProgress=!0;Promise.resolve().then((function(){r._popStateInProgress=!1}))}}}}else globalThis.ngxConsole.error("PDFHistory.push: "+'"'.concat(u,'" is not a valid pageNumber parameter.'));else globalThis.ngxConsole.error("PDFHistory.push: "+'"'.concat(l,'" is not a valid explicitDest parameter.'))}},{key:"pushPage",value:function pushPage(t){var r,i=this;if(this._initialized)if(this._isValidPage(t)){if((null===(r=this._destination)||void 0===r?void 0:r.page)!==t&&!this._popStateInProgress){this._pushOrReplaceState({dest:null,hash:"page=".concat(t),page:t,rotation:this.linkService.rotation});if(!this._popStateInProgress){this._popStateInProgress=!0;Promise.resolve().then((function(){i._popStateInProgress=!1}))}}}else globalThis.ngxConsole.error('PDFHistory.pushPage: "'.concat(t,'" is not a valid page number.'))}},{key:"pushCurrentPosition",value:function pushCurrentPosition(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function back(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}}},{key:"forward",value:function forward(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}}},{key:"popStateInProgress",get:function get(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function get(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function get(){return this._initialized?this._initialRotation:null}},{key:"_pushOrReplaceState",value:function _pushOrReplaceState(t){var r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this._destination,a={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:t};this._updateInternalState(t,a.uid);if(this._updateUrl&&null!=t&&t.hash){var o=document.location.href.split("#")[0];o.startsWith("file://")||(r="".concat(o,"#").concat(t.hash))}i?window.history.replaceState(a,"",r):window.history.pushState(a,"",r)}},{key:"_tryPushCurrentPosition",value:function _tryPushCurrentPosition(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var r=this._position;t&&((r=Object.assign(Object.create(null),this._position)).temporary=!0);if(this._destination){if(this._destination.temporary)this._pushOrReplaceState(r,!0);else if(this._destination.hash!==r.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var i=!1;if(this._destination.page>=r.first&&this._destination.page<=r.page){if(void 0!==this._destination.dest||!this._destination.first)return;i=!0}this._pushOrReplaceState(r,i)}}else this._pushOrReplaceState(r)}}},{key:"_isValidPage",value:function _isValidPage(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}},{key:"_isValidState",value:function _isValidState(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!r)return!1;if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;var i=_slicedToArray(performance.getEntriesByType("navigation"),1)[0];if("reload"!==(null==i?void 0:i.type))return!1}return!(!Number.isInteger(t.uid)||t.uid<0)&&(null!==t.destination&&"object"===_typeof(t.destination))}},{key:"_updateInternalState",value:function _updateInternalState(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._updateViewareaTimeout){clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}i&&null!=t&&t.temporary&&delete t.temporary;this._destination=t;this._uid=r;this._maxUid=Math.max(this._maxUid,r);this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function _parseCurrentHash(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=unescape(getCurrentHash()).substring(1),i=(0,a.parseQueryString)(r),o=i.get("nameddest")||"",l=0|i.get("page");(!this._isValidPage(l)||t&&o.length>0)&&(l=null);return{hash:r,page:l,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function _updateViewarea(t){var r=this,i=t.location;if(this._updateViewareaTimeout){clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}this._position={hash:i.pdfOpenParams.substring(1),page:this.linkService.page,first:i.pageNumber,rotation:i.rotation};if(!this._popStateInProgress){this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++;this._updateViewareaTimeout=setTimeout((function(){r._popStateInProgress||r._tryPushCurrentPosition(!0);r._updateViewareaTimeout=null}),1e3)}}},{key:"_popState",value:function _popState(t){var r=this,i=t.state,l=getCurrentHash(),u=this._currentHash!==l;this._currentHash=l;if(i){if(this._isValidState(i)){this._popStateInProgress=!0;if(u){this._blockHashChange++;(0,o.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then((function(){r._blockHashChange--}))}var c=i.destination;this._updateInternalState(c,i.uid,!0);(0,a.isValidRotation)(c.rotation)&&(this.linkService.rotation=c.rotation);c.dest?this.linkService.goToDestination(c.dest):c.hash?this.linkService.setHash(c.hash):c.page&&(this.linkService.page=c.page);Promise.resolve().then((function(){r._popStateInProgress=!1}))}}else{this._uid++;var h=this._parseCurrentHash(),d=h.hash,p=h.page,v=h.rotation;this._pushOrReplaceState({hash:d,page:p,rotation:v},!0)}}},{key:"_pageHide",value:function _pageHide(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function _bindEvents(){if(!this._boundEvents){this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)};this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea);window.addEventListener("popstate",this._boundEvents.popState);window.addEventListener("pagehide",this._boundEvents.pageHide)}}},{key:"_unbindEvents",value:function _unbindEvents(){if(this._boundEvents){this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea);window.removeEventListener("popstate",this._boundEvents.popState);window.removeEventListener("pagehide",this._boundEvents.pageHide);this._boundEvents=null}}}]);return PDFHistory}()},3706:(t,r,i)=>{i.d(r,{PDFLayerViewer:()=>l});i(895),i(5666),i(4226),i(3352),i(6180),i(1747),i(394),i(2374),i(13),i(9175),i(6128),i(9718),i(7262),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926),i(1133),i(2173),i(2630),i(1024),i(7121),i(6770),i(1378),i(171),i(924),i(9593),i(7942),i(5776);var a=i(9415);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _get(){_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,r,i){var a=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?t:i):o.value}};return _get.apply(this,arguments)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}function _classPrivateMethodInitSpec(t,r){!function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r);r.add(t)}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var o=new WeakSet,l=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}(PDFLayerViewer,t);var r,i=_createSuper(PDFLayerViewer);function PDFLayerViewer(t){var r;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFLayerViewer);_classPrivateMethodInitSpec(_assertThisInitialized(r=i.call(this,t)),o);r.eventBus._on("optionalcontentconfigchanged",(function(t){_classPrivateMethodGet(_assertThisInitialized(r),o,_updateLayers2).call(_assertThisInitialized(r),t.promise)}));r.eventBus._on("resetlayers",(function(){_classPrivateMethodGet(_assertThisInitialized(r),o,_updateLayers2).call(_assertThisInitialized(r))}));r.eventBus._on("togglelayerstree",r._toggleAllTreeItems.bind(_assertThisInitialized(r)));return r}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(PDFLayerViewer,[{key:"reset",value:function reset(){_get(_getPrototypeOf(PDFLayerViewer.prototype),"reset",this).call(this);this._optionalContentConfig=null;this._optionalContentHash=null}},{key:"_dispatchEvent",value:function _dispatchEvent(t){this.eventBus.dispatch("layersloaded",{source:this,layersCount:t})}},{key:"_bindLink",value:function _bindLink(t,r){var i=this,a=r.groupId,o=r.input,l=function setVisibility(){i._optionalContentConfig.setVisibility(a,o.checked);i._optionalContentHash=i._optionalContentConfig.getHash();i.eventBus.dispatch("optionalcontentconfig",{source:i,promise:Promise.resolve(i._optionalContentConfig)})};t.onclick=function(r){if(r.target===o){l();return!0}if(r.target!==t)return!0;o.checked=!o.checked;l();return!1}}},{key:"_setNestedName",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(t,r){var i,a;return _regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:i=r.name;if("string"!=typeof(a=void 0===i?null:i)){o.next=4;break}t.textContent=this._normalizeTextContent(a);return o.abrupt("return");case 4:o.next=6;return this._l10n.get("pdfjs-additional-layers");case 6:t.textContent=o.sent;t.style.fontStyle="italic";case 8:case"end":return o.stop()}}),_callee,this)}))),function _setNestedName(t,i){return r.apply(this,arguments)})},{key:"_addToggleButton",value:function _addToggleButton(t,r){var i=r.name,a=void 0===i?null:i;_get(_getPrototypeOf(PDFLayerViewer.prototype),"_addToggleButton",this).call(this,t,null===a)}},{key:"_toggleAllTreeItems",value:function _toggleAllTreeItems(){this._optionalContentConfig&&_get(_getPrototypeOf(PDFLayerViewer.prototype),"_toggleAllTreeItems",this).call(this)}},{key:"render",value:function render(t){var r=t.optionalContentConfig,i=t.pdfDocument;this._optionalContentConfig&&this.reset();this._optionalContentConfig=r||null;this._pdfDocument=i||null;var a=null==r?void 0:r.getOrder();if(a){this._optionalContentHash=r.getHash();for(var o=document.createDocumentFragment(),l=[{parent:o,groups:a}],u=0,c=!1;l.length>0;){var h,d=l.shift(),p=_createForOfIteratorHelper(d.groups);try{for(p.s();!(h=p.n()).done;){var v=h.value,y=document.createElement("div");y.className="treeItem";var g=document.createElement("a");y.append(g);if("object"===_typeof(v)){c=!0;this._addToggleButton(y,v);this._setNestedName(g,v);var m=document.createElement("div");m.className="treeItems";y.append(m);l.push({parent:m,groups:v.order})}else{var _=r.getGroup(v),b=document.createElement("input");this._bindLink(g,{groupId:v,input:b});b.type="checkbox";b.checked=_.visible;var w=document.createElement("label");w.textContent=this._normalizeTextContent(_.name);w.append(b);g.append(w);u++}d.parent.append(y)}}catch(t){p.e(t)}finally{p.f()}}this._finishRendering(o,u,c)}else this._dispatchEvent(0)}}]);return PDFLayerViewer}(a.BaseTreeViewer);function _updateLayers2(){return _updateLayers3.apply(this,arguments)}function _updateLayers3(){_updateLayers3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var t,r,i,a=arguments;return _regeneratorRuntime().wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:null;if(this._optionalContentConfig){o.next=3;break}return o.abrupt("return");case 3:r=this._pdfDocument;o.next=6;return t||r.getOptionalContentConfig();case 6:i=o.sent;if(r===this._pdfDocument){o.next=9;break}return o.abrupt("return");case 9:if(!t){o.next=14;break}if(i.getHash()!==this._optionalContentHash){o.next=12;break}return o.abrupt("return");case 12:o.next=15;break;case 14:this.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(i)});case 15:this.render({optionalContentConfig:i,pdfDocument:this._pdfDocument});case 16:case"end":return o.stop()}}),_callee2,this)})));return _updateLayers3.apply(this,arguments)}},3234:(t,r,i)=>{i.d(r,{LinkTarget:()=>o,PDFLinkService:()=>c,SimpleLinkService:()=>h});i(3352),i(6180),i(5548),i(895),i(1747),i(2374),i(1210),i(5897),i(7254),i(2796),i(2613),i(7942),i(4711),i(7600),i(469),i(4668),i(2808),i(924),i(5666),i(7874),i(7484),i(394),i(4226),i(5598),i(8806),i(9366),i(6678),i(2926),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378),i(171),i(9593),i(5776);var a=i(4927);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classStaticPrivateMethodGet(t,r,i){!function _classCheckPrivateStaticAccess(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}(t,r);return i}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldGet(t,r){var i=function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}(t,r,"get");return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,i)}var o={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function _addLinkAttributes(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.url,a=r.target,l=r.rel,u=r.enabled,c=void 0===u||u;if(!i||"string"!=typeof i)throw new Error('A valid "url" parameter must provided.');if(c)t.href=t.title=i;else{t.href="";t.title="Disabled: ".concat(i);t.onclick=function(){return!1}}var h="";switch(a){case o.NONE:break;case o.SELF:h="_self";break;case o.BLANK:h="_blank";break;case o.PARENT:h="_parent";break;case o.TOP:h="_top"}t.target=h;t.rel="string"==typeof l?l:"noopener noreferrer nofollow"}var l=new WeakMap,u=new WeakSet,c=function(){function PDFLinkService(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.eventBus,i=t.externalLinkTarget,a=void 0===i?null:i,o=t.externalLinkRel,c=void 0===o?null:o,h=t.ignoreDestinationZoom,d=void 0!==h&&h;_classCallCheck(this,PDFLinkService);!function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}(this,u);!function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}(this,l,{writable:!0,value:new Map});this.eventBus=r;this.externalLinkTarget=a;this.externalLinkRel=c;this.externalLinkEnabled=!0;this._ignoreDestinationZoom=d;this.baseUrl=null;this.pdfDocument=null;this.pdfViewer=null;this.pdfHistory=null}_createClass(PDFLinkService,[{key:"setDocument",value:function setDocument(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=r;this.pdfDocument=t;_classPrivateFieldGet(this,l).clear()}},{key:"setViewer",value:function setViewer(t){this.pdfViewer=t}},{key:"setHistory",value:function setHistory(t){this.pdfHistory=t}},{key:"pagesCount",get:function get(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function get(){return this.pdfViewer.currentPageNumber},set:function set(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function get(){return this.pdfViewer.pagesRotation},set:function set(t){this.pdfViewer.pagesRotation=t}},{key:"isInPresentationMode",get:function get(){return this.pdfViewer.isInPresentationMode}},{key:"goToDestination",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(t){var r,i;return _regeneratorRuntime().wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(this.pdfDocument){a.next=2;break}return a.abrupt("return");case 2:if("string"!=typeof t){a.next=9;break}r=t;a.next=6;return this.pdfDocument.getDestination(t);case 6:i=a.sent;a.next=13;break;case 9:r=null;a.next=12;return t;case 12:i=a.sent;case 13:if(Array.isArray(i)){a.next=16;break}globalThis.ngxConsole.error('PDFLinkService.goToDestination: "'.concat(i,'" is not ')+'a valid destination array, for dest="'.concat(t,'".'));return a.abrupt("return");case 16:_classPrivateMethodGet(this,u,_goToDestinationHelper2).call(this,t,r,i);case 17:case"end":return a.stop()}}),_callee,this)}))),function goToDestination(t){return r.apply(this,arguments)})},{key:"goToPage",value:function goToPage(t){if(this.pdfDocument){var r="string"==typeof t&&this.pdfViewer.pageLabelToPageNumber(t)||0|t;if(Number.isInteger(r)&&r>0&&r<=this.pagesCount){if(this.pdfHistory){this.pdfHistory.pushCurrentPosition();this.pdfHistory.pushPage(r)}if("book"===this.pdfViewer.pageViewMode){if(this.pdfViewer.pageFlip){this.pdfViewer.ensureAdjecentPagesAreLoaded();var i=this.pdfViewer.currentPageNumber-this.pdfViewer.currentPageNumber%2,a=r-r%2;i===a-2?this.pdfViewer.pageFlip.flipNext():i===a+2?this.pdfViewer.pageFlip.flipPrev():this.pdfViewer.pageFlip.turnToPage(r-1)}}else this.pdfViewer.scrollPageIntoView({pageNumber:r})}else globalThis.ngxConsole.error('PDFLinkService.goToPage: "'.concat(t,'" is not a valid page.'))}}},{key:"addLinkAttributes",value:function addLinkAttributes(t,r){_addLinkAttributes(t,{url:r,target:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?o.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}},{key:"getDestinationHash",value:function getDestinationHash(t){if("string"==typeof t){if(t.length>0)return this.getAnchorUrl("#"+escape(t))}else if(Array.isArray(t)){var r=JSON.stringify(t);if(r.length>0)return this.getAnchorUrl("#"+escape(r))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function getAnchorUrl(t){return this.baseUrl?this.baseUrl+t:t}},{key:"setHash",value:function setHash(t){if(this.pdfDocument){var r,i;if(t.includes("=")){var o=(0,a.parseQueryString)(t);if(o.has("search")){var l=o.get("search").replaceAll('"',""),u="true"===o.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:u?l:l.match(/\S+/g)})}o.has("page")&&(r=0|o.get("page")||1);if(o.has("zoom")){var c=o.get("zoom").split(","),h=c[0],d=parseFloat(h);h.includes("Fit")?"Fit"===h||"FitB"===h?i=[null,{name:h}]:"FitH"===h||"FitBH"===h||"FitV"===h||"FitBV"===h?i=[null,{name:h},c.length>1?0|c[1]:null]:"FitR"===h?5!==c.length?globalThis.ngxConsole.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:h},0|c[1],0|c[2],0|c[3],0|c[4]]:globalThis.ngxConsole.error('PDFLinkService.setHash: "'.concat(h,'" is not a valid zoom value.')):i=[null,{name:"XYZ"},c.length>1?0|c[1]:null,c.length>2?0|c[2]:null,d?d/100:h]}i?this.pdfViewer.scrollPageIntoView({pageNumber:r||this.page,destArray:i,allowNegativeOffset:!0}):r&&(this.page=r);o.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:o.get("pagemode")});o.has("nameddest")&&this.goToDestination(o.get("nameddest"))}else{i=unescape(t);try{i=JSON.parse(i);Array.isArray(i)||(i=i.toString())}catch(t){}if("string"==typeof i||_classStaticPrivateMethodGet(PDFLinkService,PDFLinkService,_isValidExplicitDestination).call(PDFLinkService,i)){this.goToDestination(i);return}globalThis.ngxConsole.error('PDFLinkService.setHash: "'.concat(unescape(t),'" is not a valid destination.'))}}}},{key:"executeNamedAction",value:function executeNamedAction(t){var r,i;switch(t){case"GoBack":null===(r=this.pdfHistory)||void 0===r||r.back();break;case"GoForward":null===(i=this.pdfHistory)||void 0===i||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:t})}},{key:"executeSetOCGState",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t){var r,i,a,o,l,u,c;return _regeneratorRuntime().wrap((function _callee2$(h){for(;;)switch(h.prev=h.next){case 0:r=this.pdfDocument;h.next=3;return this.pdfViewer.optionalContentConfigPromise;case 3:i=h.sent;if(r===this.pdfDocument){h.next=6;break}return h.abrupt("return");case 6:o=_createForOfIteratorHelper(t.state);h.prev=7;o.s();case 9:if((l=o.n()).done){h.next=28;break}u=l.value;h.t0=u;h.next="ON"===h.t0||"OFF"===h.t0||"Toggle"===h.t0?14:16;break;case 14:a=u;return h.abrupt("continue",26);case 16:h.t1=a;h.next="ON"===h.t1?19:"OFF"===h.t1?21:"Toggle"===h.t1?23:26;break;case 19:i.setVisibility(u,!0);return h.abrupt("break",26);case 21:i.setVisibility(u,!1);return h.abrupt("break",26);case 23:(c=i.getGroup(u))&&i.setVisibility(u,!c.visible);return h.abrupt("break",26);case 26:h.next=9;break;case 28:h.next=33;break;case 30:h.prev=30;h.t2=h.catch(7);o.e(h.t2);case 33:h.prev=33;o.f();return h.finish(33);case 36:this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i);case 37:case"end":return h.stop()}}),_callee2,this,[[7,30,33,36]])}))),function executeSetOCGState(r){return t.apply(this,arguments)})},{key:"cachePageRef",value:function cachePageRef(t,r){if(r){var i=0===r.gen?"".concat(r.num,"R"):"".concat(r.num,"R").concat(r.gen);_classPrivateFieldGet(this,l).set(i,t)}}},{key:"_cachedPageNumber",value:function _cachedPageNumber(t){if(!t)return null;var r=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return _classPrivateFieldGet(this,l).get(r)||null}}]);var t,r;return PDFLinkService}();function _goToDestinationHelper2(t){var r,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2?arguments[2]:void 0,l=o[0];if("object"===_typeof(l)&&null!==l){if(!(r=this._cachedPageNumber(l))){this.pdfDocument.getPageIndex(l).then((function(r){i.cachePageRef(r+1,l);_classPrivateMethodGet(i,u,_goToDestinationHelper2).call(i,t,a,o)})).catch((function(){globalThis.ngxConsole.error('PDFLinkService.#goToDestinationHelper: "'.concat(l,'" is not ')+'a valid page reference, for dest="'.concat(t,'".'))}));return}}else{if(!Number.isInteger(l)){globalThis.ngxConsole.error('PDFLinkService.#goToDestinationHelper: "'.concat(l,'" is not ')+'a valid destination reference, for dest="'.concat(t,'".'));return}r=l+1}if(!r||r<1||r>this.pagesCount)globalThis.ngxConsole.error('PDFLinkService.#goToDestinationHelper: "'.concat(r,'" is not ')+'a valid page number, for dest="'.concat(t,'".'));else{if(this.pdfHistory){this.pdfHistory.pushCurrentPosition();this.pdfHistory.push({namedDest:a,explicitDest:o,pageNumber:r})}this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:o,ignoreDestinationZoom:this._ignoreDestinationZoom})}}function _isValidExplicitDestination(t){if(!Array.isArray(t))return!1;var r=t.length;if(r<2)return!1;var i=t[0];if(!("object"===_typeof(i)&&Number.isInteger(i.num)&&Number.isInteger(i.gen)||Number.isInteger(i)&&i>=0))return!1;var a=t[1];if("object"!==_typeof(a)||"string"!=typeof a.name)return!1;var o=!0;switch(a.name){case"XYZ":if(5!==r)return!1;break;case"Fit":case"FitB":return 2===r;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==r)return!1;break;case"FitR":if(6!==r)return!1;o=!1;break;default:return!1}for(var l=2;l<r;l++){var u=t[l];if(!("number"==typeof u||o&&null===u))return!1}return!0}var h=function(){function SimpleLinkService(){_classCallCheck(this,SimpleLinkService);this.externalLinkEnabled=!0}_createClass(SimpleLinkService,[{key:"pagesCount",get:function get(){return 0}},{key:"page",get:function get(){return 0},set:function set(t){}},{key:"rotation",get:function get(){return 0},set:function set(t){}},{key:"isInPresentationMode",get:function get(){return!1}},{key:"goToDestination",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(t){return _regeneratorRuntime().wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),_callee3)}))),function goToDestination(r){return t.apply(this,arguments)})},{key:"goToPage",value:function goToPage(t){}},{key:"addLinkAttributes",value:function addLinkAttributes(t,r){_addLinkAttributes(t,{url:r,enabled:this.externalLinkEnabled})}},{key:"getDestinationHash",value:function getDestinationHash(t){return"#"}},{key:"getAnchorUrl",value:function getAnchorUrl(t){return"#"}},{key:"setHash",value:function setHash(t){}},{key:"executeNamedAction",value:function executeNamedAction(t){}},{key:"executeSetOCGState",value:function executeSetOCGState(t){}},{key:"cachePageRef",value:function cachePageRef(t,r){}}]);var t;return SimpleLinkService}()},1141:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFOutlineViewer:()=>h});i(4226),i(3352),i(6180),i(5548),i(895),i(1747),i(2374),i(5897),i(13),i(9175),i(6128),i(9718),i(7262),i(5598),i(8806),i(9366),i(6678),i(2926),i(9593),i(171),i(924),i(7942),i(5776),i(5666),i(1133),i(2173),i(2630),i(1024),i(7121),i(6770),i(1378);var o=i(9415),l=i(1869),u=i(4927),c=t([l]);l=(c.then?(await c)():c)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _get(){_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,r,i){var a=_superPropBase(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(arguments.length<3?t:i):o.value}};return _get.apply(this,arguments)}function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});Object.defineProperty(t,"prototype",{writable:!1});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){t.__proto__=r;return t};return _setPrototypeOf(t,r)}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(t)}var h=function(t){_inherits(PDFOutlineViewer,t);var r,i,a,o,c=(r=PDFOutlineViewer,i=_isNativeReflectConstruct(),function _createSuperInternal(){var t,a=_getPrototypeOf(r);if(i){var o=_getPrototypeOf(this).constructor;t=Reflect.construct(a,arguments,o)}else t=a.apply(this,arguments);return _possibleConstructorReturn(this,t)});function PDFOutlineViewer(t){var r;_classCallCheck(this,PDFOutlineViewer);(r=c.call(this,t)).linkService=t.linkService;r.downloadManager=t.downloadManager;r.eventBus._on("toggleoutlinetree",r._toggleAllTreeItems.bind(_assertThisInitialized(r)));r.eventBus._on("currentoutlineitem",r._currentOutlineItem.bind(_assertThisInitialized(r)));r.eventBus._on("pagechanging",(function(t){r._currentPageNumber=t.pageNumber}));r.eventBus._on("pagesloaded",(function(t){r._isPagesLoaded=!!t.pagesCount;r._currentOutlineItemCapability&&!r._currentOutlineItemCapability.settled&&r._currentOutlineItemCapability.resolve(r._isPagesLoaded)}));r.eventBus._on("sidebarviewchanged",(function(t){r._sidebarView=t.view}));return r}_createClass(PDFOutlineViewer,[{key:"reset",value:function reset(){_get(_getPrototypeOf(PDFOutlineViewer.prototype),"reset",this).call(this);this._outline=null;this._pageNumberToDestHashCapability=null;this._currentPageNumber=1;this._isPagesLoaded=null;this._currentOutlineItemCapability&&!this._currentOutlineItemCapability.settled&&this._currentOutlineItemCapability.resolve(!1);this._currentOutlineItemCapability=null}},{key:"_dispatchEvent",value:function _dispatchEvent(t){var r;this._currentOutlineItemCapability=new l.PromiseCapability;0===t||null!==(r=this._pdfDocument)&&void 0!==r&&r.loadingParams.disableAutoFetch?this._currentOutlineItemCapability.resolve(!1):null!==this._isPagesLoaded&&this._currentOutlineItemCapability.resolve(this._isPagesLoaded);this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:t,currentOutlineItemPromise:this._currentOutlineItemCapability.promise})}},{key:"_bindLink",value:function _bindLink(t,r){var i=this,a=r.url,o=r.newWindow,l=r.action,u=r.attachment,c=r.dest,h=r.setOCGState,d=this.linkService;if(a)d.addLinkAttributes(t,a,o);else if(l){t.href=d.getAnchorUrl("");t.onclick=function(){d.executeNamedAction(l);return!1}}else if(u){t.href=d.getAnchorUrl("");t.onclick=function(){i.downloadManager.openOrDownloadData(u.content,u.filename);return!1}}else if(h){t.href=d.getAnchorUrl("");t.onclick=function(){d.executeSetOCGState(h);return!1}}else{t.href=d.getDestinationHash(c);t.onclick=function(t){i._updateCurrentTreeItem(t.target.parentNode);c&&d.goToDestination(c);return!1}}}},{key:"_setStyles",value:function _setStyles(t,r){var i=r.bold,a=r.italic;i&&(t.style.fontWeight="bold");a&&(t.style.fontStyle="italic")}},{key:"_addToggleButton",value:function _addToggleButton(t,r){var i=r.count,a=r.items,o=!1;if(i<0){var l=a.length;if(l>0)for(var u=_toConsumableArray(a);u.length>0;){var c=u.shift(),h=c.count,d=c.items;if(h>0&&d.length>0){l+=d.length;u.push.apply(u,_toConsumableArray(d))}}Math.abs(i)===l&&(o=!0)}_get(_getPrototypeOf(PDFOutlineViewer.prototype),"_addToggleButton",this).call(this,t,o)}},{key:"_toggleAllTreeItems",value:function _toggleAllTreeItems(){this._outline&&_get(_getPrototypeOf(PDFOutlineViewer.prototype),"_toggleAllTreeItems",this).call(this)}},{key:"render",value:function render(t){var r=t.outline,i=t.pdfDocument;this._outline&&this.reset();this._outline=r||null;this._pdfDocument=i||null;if(r){for(var a=document.createDocumentFragment(),o=[{parent:a,items:r}],l=0,u=!1;o.length>0;){var c,h=o.shift(),d=_createForOfIteratorHelper(h.items);try{for(d.s();!(c=d.n()).done;){var p=c.value,v=document.createElement("div");v.className="treeItem";var y=document.createElement("a");this._bindLink(y,p);this._setStyles(y,p);y.textContent=this._normalizeTextContent(p.title);v.append(y);if(p.items.length>0){u=!0;this._addToggleButton(v,p);var g=document.createElement("div");g.className="treeItems";v.append(g);o.push({parent:g,items:p.items})}h.parent.append(v);l++}}catch(t){d.e(t)}finally{d.f()}}this._finishRendering(a,l,u)}else this._dispatchEvent(0)}},{key:"_currentOutlineItem",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t,r,i,a;return _regeneratorRuntime().wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:if(this._isPagesLoaded){o.next=2;break}throw new Error("_currentOutlineItem: All pages have not been loaded.");case 2:if(this._outline&&this._pdfDocument){o.next=4;break}return o.abrupt("return");case 4:o.next=6;return this._getPageNumberToDestHash(this._pdfDocument);case 6:if(t=o.sent){o.next=9;break}return o.abrupt("return");case 9:this._updateCurrentTreeItem(null);if(this._sidebarView===u.SidebarView.OUTLINE){o.next=12;break}return o.abrupt("return");case 12:r=this._currentPageNumber;case 13:if(!(r>0)){o.next=25;break}if(i=t.get(r)){o.next=17;break}return o.abrupt("continue",22);case 17:if(a=this.container.querySelector('a[href="'.concat(i,'"]'))){o.next=20;break}return o.abrupt("continue",22);case 20:this._scrollToCurrentTreeItem(a.parentNode);return o.abrupt("break",25);case 22:r--;o.next=13;break;case 25:case"end":return o.stop()}}),_callee,this)}))),function _currentOutlineItem(){return o.apply(this,arguments)})},{key:"_getPageNumberToDestHash",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t){var r,i,a,o,u,c,h,d,p,v,y,g,m,_,b;return _regeneratorRuntime().wrap((function _callee2$(w){for(;;)switch(w.prev=w.next){case 0:if(!this._pageNumberToDestHashCapability){w.next=2;break}return w.abrupt("return",this._pageNumberToDestHashCapability.promise);case 2:this._pageNumberToDestHashCapability=new l.PromiseCapability;r=new Map,i=new Map;a=[{nesting:0,items:this._outline}];case 5:if(!(a.length>0)){w.next=56;break}o=a.shift(),u=o.nesting;c=_createForOfIteratorHelper(o.items);w.prev=8;c.s();case 10:if((h=c.n()).done){w.next=46;break}d=h.value,p=d.dest,v=d.items;y=void 0,g=void 0;if("string"!=typeof p){w.next=21;break}w.next=16;return t.getDestination(p);case 16:y=w.sent;if(t===this._pdfDocument){w.next=19;break}return w.abrupt("return",null);case 19:w.next=22;break;case 21:y=p;case 22:if(!Array.isArray(y)){w.next=43;break}m=(A=1,_arrayWithHoles(P=y)||_iterableToArrayLimit(P,A)||_unsupportedIterableToArray(P,A)||_nonIterableRest());if("object"!==_typeof(_=m[0])||null===_){w.next=41;break}if(g=this.linkService._cachedPageNumber(_)){w.next=39;break}w.prev=27;w.next=30;return t.getPageIndex(_);case 30:w.t0=w.sent;g=w.t0+1;if(t===this._pdfDocument){w.next=34;break}return w.abrupt("return",null);case 34:this.linkService.cachePageRef(g,_);w.next=39;break;case 37:w.prev=37;w.t1=w.catch(27);case 39:w.next=42;break;case 41:Number.isInteger(_)&&(g=_+1);case 42:if(Number.isInteger(g)&&(!r.has(g)||u>i.get(g))){b=this.linkService.getDestinationHash(p);r.set(g,b);i.set(g,u)}case 43:v.length>0&&a.push({nesting:u+1,items:v});case 44:w.next=10;break;case 46:w.next=51;break;case 48:w.prev=48;w.t2=w.catch(8);c.e(w.t2);case 51:w.prev=51;c.f();return w.finish(51);case 54:w.next=5;break;case 56:this._pageNumberToDestHashCapability.resolve(r.size>0?r:null);return w.abrupt("return",this._pageNumberToDestHashCapability.promise);case 58:case"end":return w.stop()}var P,A}),_callee2,this,[[8,48,51,54],[27,37]])}))),function _getPageNumberToDestHash(t){return a.apply(this,arguments)})}]);return PDFOutlineViewer}(o.BaseTreeViewer);a()}catch(d){a(d)}}))},6732:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFPageView:()=>V});i(6180),i(895),i(1747),i(7484),i(2374),i(7254),i(5666),i(7874),i(1210),i(3352),i(5548),i(7942),i(5776),i(394),i(4226),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378),i(171),i(924),i(9593);var o=i(1869),l=i(4927),u=i(2640),c=i(6735),h=i(8961),d=i(7910),p=(i(3234),i(7498)),v=i(4630),y=i(1483),g=i(3266),m=i(4274),_=i(1013),b=i(8012),w=t([o,u,c,d,_,b]);[o,u,c,d,_,b]=w.then?(await w)():w;function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}var P=h.compatibilityParams.maxCanvasPixels||16777216,A=new WeakMap,S=new WeakMap,E=new WeakMap,x=new WeakMap,k=new WeakMap,D=new WeakMap,C=new WeakMap,T=new WeakMap,I=new WeakMap,O=new WeakMap,M=new WeakSet,L=new WeakSet,G=new WeakSet,R=new WeakSet,j=new WeakSet,B=new WeakSet,N=new WeakSet,W=new WeakSet,V=function(){function PDFPageView(t){var r,i,a,u,c,h=this;_classCallCheck(this,PDFPageView);_classPrivateMethodInitSpec(this,W);_classPrivateMethodInitSpec(this,N);_classPrivateMethodInitSpec(this,B);_classPrivateMethodInitSpec(this,j);_classPrivateMethodInitSpec(this,R);_classPrivateMethodInitSpec(this,G);_classPrivateMethodInitSpec(this,L);_classPrivateMethodInitSpec(this,M);_classPrivateFieldInitSpec(this,A,{writable:!0,value:o.AnnotationMode.ENABLE_FORMS});_classPrivateFieldInitSpec(this,S,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,E,{writable:!0,value:null});_classPrivateFieldInitSpec(this,x,{writable:!0,value:null});_classPrivateFieldInitSpec(this,k,{writable:!0,value:null});_classPrivateFieldInitSpec(this,D,{writable:!0,value:null});_classPrivateFieldInitSpec(this,C,{writable:!0,value:l.RenderingStates.INITIAL});_classPrivateFieldInitSpec(this,T,{writable:!0,value:l.TextLayerMode.ENABLE});_classPrivateFieldInitSpec(this,I,{writable:!0,value:{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0}});_classPrivateFieldInitSpec(this,O,{writable:!0,value:new WeakMap});var p=t.container,v=t.defaultViewport;this.id=t.id;this.renderingId="page"+this.id;_classPrivateFieldSet(this,E,t.layerProperties||null);this.pdfPage=null;this.pageLabel=null;this.rotation=0;this.scale=t.scale||l.DEFAULT_SCALE;this.viewport=v;this.pdfPageRotate=v.rotation;this._optionalContentConfigPromise=t.optionalContentConfigPromise||null;_classPrivateFieldSet(this,T,null!==(r=t.textLayerMode)&&void 0!==r?r:l.TextLayerMode.ENABLE);_classPrivateFieldSet(this,A,null!==(i=t.annotationMode)&&void 0!==i?i:o.AnnotationMode.ENABLE_FORMS);this.imageResourcesPath=t.imageResourcesPath||"";this.isOffscreenCanvasSupported=null===(a=t.isOffscreenCanvasSupported)||void 0===a||a;this.maxCanvasPixels=null!==(u=t.maxCanvasPixels)&&void 0!==u?u:P;this.pageColors=t.pageColors||null;this.eventBus=t.eventBus;this.renderingQueue=t.renderingQueue;this.l10n=t.l10n||d.NullL10n;this.renderTask=null;this.resume=null;this._isStandalone=!(null!==(c=this.renderingQueue)&&void 0!==c&&c.hasViewer());this._container=p;this._annotationCanvasMap=null;this.annotationLayer=null;this.annotationEditorLayer=null;this.textLayer=null;this.zoomLayer=null;this.xfaLayer=null;this.structTreeLayer=null;var y=document.createElement("div");y.className="page";y.setAttribute("data-page-number",this.id);y.setAttribute("role","region");y.setAttribute("data-l10n-id","pdfjs-page-landmark");y.setAttribute("data-l10n-args",JSON.stringify({page:this.id}));this.div=y;_classPrivateMethodGet(this,M,_setDimensions2).call(this);null==p||p.append(y);if(this._isStandalone){null==p||p.style.setProperty("--scale-factor",this.scale*o.PixelsPerInch.PDF_TO_CSS_UNITS);var g=t.optionalContentConfigPromise;g&&g.then((function(t){g===h._optionalContentConfigPromise&&(_classPrivateFieldGet(h,I).initialOptionalContent=t.hasInitialVisibility)}));this.l10n===d.NullL10n&&this.l10n.translate(this.div)}}_createClass(PDFPageView,[{key:"renderingState",get:function get(){return _classPrivateFieldGet(this,C)},set:function set(t){var r=this;if(t!==_classPrivateFieldGet(this,C)){_classPrivateFieldSet(this,C,t);if(_classPrivateFieldGet(this,x)){clearTimeout(_classPrivateFieldGet(this,x));_classPrivateFieldSet(this,x,null)}switch(t){case l.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case l.RenderingStates.RUNNING:this.div.classList.add("loadingIcon");_classPrivateFieldSet(this,x,setTimeout((function(){r.div.classList.add("loading");_classPrivateFieldSet(r,x,null)}),0));break;case l.RenderingStates.INITIAL:case l.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading")}}}},{key:"setPdfPage",value:function setPdfPage(t){var r,i;if(this._isStandalone&&("CanvasText"===(null===(r=this.pageColors)||void 0===r?void 0:r.foreground)||"Canvas"===(null===(i=this.pageColors)||void 0===i?void 0:i.background))){var a;null===(a=this._container)||void 0===a||a.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"))}this.pdfPage=t;this.pdfPageRotate=t.rotate;var l=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:l});_classPrivateMethodGet(this,M,_setDimensions2).call(this);this.reset()}},{key:"destroy",value:function destroy(){var t;this.reset();null===(t=this.pdfPage)||void 0===t||t.cleanup()}},{key:"_textHighlighter",get:function get(){return(0,o.shadow)(this,"_textHighlighter",new m.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:_classPrivateFieldGet(this,E).findController}))}},{key:"_resetZoomLayer",value:function _resetZoomLayer(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var r=this.zoomLayer.firstChild;_classPrivateFieldGet(this,O).delete(r);r.width=0;r.height=0;t&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function reset(){var t,r,i,a,o,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=u.keepZoomLayer,h=void 0!==c&&c,d=u.keepAnnotationLayer,p=void 0!==d&&d,v=u.keepAnnotationEditorLayer,y=void 0!==v&&v,g=u.keepXfaLayer,m=void 0!==g&&g,_=u.keepTextLayer,b=void 0!==_&&_;this.cancelRendering({keepAnnotationLayer:p,keepAnnotationEditorLayer:y,keepXfaLayer:m,keepTextLayer:b});this.renderingState=l.RenderingStates.INITIAL;for(var w=this.div,P=w.childNodes,A=h&&this.zoomLayer||null,S=p&&(null===(t=this.annotationLayer)||void 0===t?void 0:t.div)||null,E=y&&(null===(r=this.annotationEditorLayer)||void 0===r?void 0:r.div)||null,x=m&&(null===(i=this.xfaLayer)||void 0===i?void 0:i.div)||null,k=b&&(null===(a=this.textLayer)||void 0===a?void 0:a.div)||null,D=P.length-1;D>=0;D--){var C=P[D];switch(C){case A:case S:case E:case x:case k:continue}C.remove()}w.removeAttribute("data-loaded");S&&this.annotationLayer.hide();E&&this.annotationEditorLayer.hide();x&&this.xfaLayer.hide();k&&this.textLayer.hide();null===(o=this.structTreeLayer)||void 0===o||o.hide();if(!A){if(this.canvas){_classPrivateFieldGet(this,O).delete(this.canvas);this.canvas.width=0;this.canvas.height=0;delete this.canvas}this._resetZoomLayer()}}},{key:"update",value:function update(t){var r=this,i=t.scale,a=void 0===i?0:i,u=t.rotation,c=void 0===u?null:u,h=t.optionalContentConfigPromise,d=void 0===h?null:h,p=t.drawingDelay,v=void 0===p?-1:p;this.scale=a||this.scale;"number"==typeof c&&(this.rotation=c);if(d instanceof Promise){this._optionalContentConfigPromise=d;d.then((function(t){d===r._optionalContentConfigPromise&&(_classPrivateFieldGet(r,I).initialOptionalContent=t.hasInitialVisibility)}))}_classPrivateFieldGet(this,I).directDrawing=!0;var y=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:this.scale*o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:y});_classPrivateMethodGet(this,M,_setDimensions2).call(this);if(this._isStandalone){var g;null===(g=this._container)||void 0===g||g.style.setProperty("--scale-factor",this.viewport.scale)}if(this.canvas){var m=!1;if(_classPrivateFieldGet(this,S))if(0===this.maxCanvasPixels)m=!0;else if(this.maxCanvasPixels>0){var _=this.viewport,b=_.width,w=_.height,P=this.outputScale,A=P.sx,E=P.sy;m=(Math.floor(b)*A|0)*(Math.floor(w)*E|0)>this.maxCanvasPixels}var x=!m&&v>=0&&v<1e3;if(x||m){if(x&&this.renderingState!==l.RenderingStates.FINISHED){this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:v});this.renderingState=l.RenderingStates.FINISHED;_classPrivateFieldGet(this,I).directDrawing=!1}this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!x,hideTextLayer:x});if(x)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:_classPrivateFieldGet(this,D)});return}if(!this.zoomLayer&&!this.canvas.hidden){this.zoomLayer=this.canvas.parentNode;this.zoomLayer.style.position="absolute"}}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild});this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}},{key:"cancelRendering",value:function cancelRendering(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.keepAnnotationLayer,i=void 0!==r&&r,a=t.keepAnnotationEditorLayer,o=void 0!==a&&a,l=t.keepXfaLayer,u=void 0!==l&&l,c=t.keepTextLayer,h=void 0!==c&&c,d=t.cancelExtraDelay,p=void 0===d?0:d;if(this.renderTask){this.renderTask.cancel(p);this.renderTask=null}this.resume=null;if(this.textLayer&&(!h||!this.textLayer.div)){this.textLayer.cancel();this.textLayer=null}this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null);if(this.annotationLayer&&(!i||!this.annotationLayer.div)){this.annotationLayer.cancel();this.annotationLayer=null;this._annotationCanvasMap=null}if(this.annotationEditorLayer&&(!o||!this.annotationEditorLayer.div)){this.annotationEditorLayer.cancel();this.annotationEditorLayer=null}if(this.xfaLayer&&(!u||!this.xfaLayer.div)){var v;this.xfaLayer.cancel();this.xfaLayer=null;null===(v=this._textHighlighter)||void 0===v||v.disable()}}},{key:"cssTransform",value:function cssTransform(t){var r=t.target,i=t.redrawAnnotationLayer,a=void 0!==i&&i,o=t.redrawAnnotationEditorLayer,l=void 0!==o&&o,u=t.redrawXfaLayer,c=void 0!==u&&u,h=t.redrawTextLayer,d=void 0!==h&&h,p=t.hideTextLayer,v=void 0!==p&&p;if(!r.hasAttribute("zooming")){r.setAttribute("zooming",!0);var y=r.style;y.width=y.height=""}var g=_classPrivateFieldGet(this,O).get(r);if(this.viewport!==g){var m=this.viewport.rotation-g.rotation,_=Math.abs(m),b=1,w=1;if(90===_||270===_){var P=this.viewport,A=P.width,S=P.height;b=S/A;w=A/S}r.style.transform="rotate(".concat(m,"deg) scale(").concat(b,", ").concat(w,")")}a&&this.annotationLayer&&_classPrivateMethodGet(this,L,_renderAnnotationLayer2).call(this);l&&this.annotationEditorLayer&&_classPrivateMethodGet(this,G,_renderAnnotationEditorLayer2).call(this);c&&this.xfaLayer&&_classPrivateMethodGet(this,R,_renderXfaLayer2).call(this);if(this.textLayer)if(v){var E;this.textLayer.hide();null===(E=this.structTreeLayer)||void 0===E||E.hide()}else d&&_classPrivateMethodGet(this,j,_renderTextLayer2).call(this)}},{key:"width",get:function get(){return this.viewport.width}},{key:"height",get:function get(){return this.viewport.height}},{key:"getPagePoint",value:function getPagePoint(t,r){return this.viewport.convertToPdfPoint(t,r)}},{key:"draw",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var t,r,i,a,h,d,p,m,w,P,x,k,D,C,I,M,B,N,V,z,H,U,q,K,Y,X,$,Z,Q,J,ee,te,re,ne,ie,ae,oe,se,le=this;return _regeneratorRuntime().wrap((function _callee2$(ue){for(;;)switch(ue.prev=ue.next){case 0:if(this.renderingState!==l.RenderingStates.INITIAL){globalThis.ngxConsole.error("Must be in new state before drawing");this.reset()}t=this.div,r=this.l10n,i=this.pageColors,a=this.pdfPage,h=this.viewport;if(a){ue.next=5;break}this.renderingState=l.RenderingStates.FINISHED;throw new Error("pdfPage is not loaded");case 5:this.renderingState=l.RenderingStates.RUNNING;(d=document.createElement("div")).classList.add("canvasWrapper");t.append(d);if(!this.textLayer&&_classPrivateFieldGet(this,T)!==l.TextLayerMode.DISABLE&&!a.isPureXfa){this._accessibilityManager||(this._accessibilityManager=new v.TextAccessibilityManager);this.textLayer=new _.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:_classPrivateFieldGet(this,T)===l.TextLayerMode.ENABLE_PERMISSIONS});this.textLayer.onAppend=function(t){le.l10n.pause();le.div.append(t);le.l10n.resume()}}if(!this.annotationLayer&&_classPrivateFieldGet(this,A)!==o.AnnotationMode.DISABLE){p=_classPrivateFieldGet(this,E),m=p.annotationStorage,w=p.downloadManager,P=p.enableScripting,x=p.fieldObjectsPromise,k=p.hasJSActionsPromise,D=p.linkService;this._annotationCanvasMap||(this._annotationCanvasMap=new Map);this.annotationLayer=new c.AnnotationLayerBuilder({pageDiv:t,pdfPage:a,annotationStorage:m,imageResourcesPath:this.imageResourcesPath,renderForms:_classPrivateFieldGet(this,A)===o.AnnotationMode.ENABLE_FORMS,linkService:D,downloadManager:w,enableScripting:P,hasJSActionsPromise:k,fieldObjectsPromise:x,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}C=function renderContinueCallback(t){var r;null===(r=V)||void 0===r||r(!1);if(!le.renderingQueue||le.renderingQueue.isHighestPriority(le))t();else{le.renderingState=l.RenderingStates.PAUSED;le.resume=function(){le.renderingState=l.RenderingStates.RUNNING;t()}}};I=h.width,M=h.height;(B=document.createElement("canvas")).setAttribute("role","presentation");B.hidden=!0;N=!(null==i||!i.background||null==i||!i.foreground);V=function showCanvas(t){if(!N||t){B.hidden=!1;V=null}};d.append(B);this.canvas=B;z=window.pdfDefaultOptions.activateWillReadFrequentlyFlag?{willReadFrequently:!0,alpha:!1}:{alpha:!1};H=B.getContext("2d",z);U=this.outputScale=new l.OutputScale;if(0===this.maxCanvasPixels){q=1/this.scale;U.sx*=q;U.sy*=q;_classPrivateFieldSet(this,S,!0)}else if(this.maxCanvasPixels>0){K=I*M;Y=Math.sqrt(this.maxCanvasPixels/K);if(U.sx>Y||U.sy>Y){U.sx=Y;U.sy=Y;_classPrivateFieldSet(this,S,!0)}else _classPrivateFieldSet(this,S,!1)}X=(0,l.approximateFraction)(U.sx);$=(0,l.approximateFraction)(U.sy);I=(0,l.roundToDivide)(I*U.sx,X[0]);M=(0,l.roundToDivide)(M*U.sy,$[0]);Z=1;if((I>=4096||M>=4096)&&(this.maxWidth||!y.default.test({width:I,height:M}))){Q=this.determineMaxDimensions();if((Z=Math.max(I/Q,M/Q))>1){J=Math.floor(100*this.scale/Z)/100;Z=this.scale/J;h.width/=Z;h.height/=Z;(0,g.warn)("Page ".concat(this.id,": Reduced the maximum zoom to ").concat(J," because the browser can't render larger canvases."))}else Z=1}B.width=(0,l.roundToDivide)(h.width*U.sx,X[0]);B.height=(0,l.roundToDivide)(h.height*U.sy,$[0]);(ee=B.style).width=(0,l.roundToDivide)(h.width,X[1])+"px";ee.height=(0,l.roundToDivide)(h.height,$[1])+"px";_classPrivateFieldGet(this,O).set(B,h);te=U.scaled?[U.sx,0,0,U.sy,0,0]:null;re={canvasContext:H,transform:te,viewport:h,annotationMode:_classPrivateFieldGet(this,A),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:i};(ne=this.renderTask=this.pdfPage.render(re)).onContinue=C;ie=ne.promise.then(_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var i,o,l,c;return _regeneratorRuntime().wrap((function _callee$(h){for(;;)switch(h.prev=h.next){case 0:null===(i=V)||void 0===i||i(!0);h.next=3;return _classPrivateMethodGet(le,W,_finishRenderTask2).call(le,ne);case 3:_classPrivateMethodGet(le,j,_renderTextLayer2).call(le);if(!le.annotationLayer){h.next=7;break}h.next=7;return _classPrivateMethodGet(le,L,_renderAnnotationLayer2).call(le);case 7:if(le.annotationEditorLayer){h.next=12;break}l=_classPrivateFieldGet(le,E);if(c=l.annotationEditorUIManager){h.next=11;break}return h.abrupt("return");case 11:le.annotationEditorLayer=new u.AnnotationEditorLayerBuilder({uiManager:c,pageDiv:t,pdfPage:a,l10n:r,accessibilityManager:le._accessibilityManager,annotationLayer:null===(o=le.annotationLayer)||void 0===o?void 0:o.annotationLayer});case 12:_classPrivateMethodGet(le,G,_renderAnnotationEditorLayer2).call(le);case 13:case"end":return h.stop()}}),_callee)}))),(function(t){if(!(t instanceof o.RenderingCancelledException)){var r;null===(r=V)||void 0===r||r(!0)}return _classPrivateMethodGet(le,W,_finishRenderTask2).call(le,ne,t)}));if(a.isPureXfa){if(!this.xfaLayer){ae=_classPrivateFieldGet(this,E),oe=ae.annotationStorage,se=ae.linkService;this.xfaLayer=new b.XfaLayerBuilder({pdfPage:a,annotationStorage:oe,linkService:se})}_classPrivateMethodGet(this,R,_renderXfaLayer2).call(this)}t.setAttribute("data-loaded",!0);this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id});return ue.abrupt("return",ie);case 45:case"end":return ue.stop()}}),_callee2,this)}))),function draw(){return t.apply(this,arguments)})},{key:"setPageLabel",value:function setPageLabel(t){var r;this.pageLabel="string"==typeof t?t:null;this.div.setAttribute("data-l10n-args",JSON.stringify({page:null!==(r=this.pageLabel)&&void 0!==r?r:this.id}));null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"determineMaxDimensions",value:function determineMaxDimensions(){if(this.maxWidth)return this.maxWidth;for(var t=0,r=[4096,8192,10836,11180,11402,14188,16384];t<r.length;t++){var i=r[t];if(!y.default.test({width:i+1,height:i+1})){this.maxWidth=i;return this.maxWidth}}return 16384}},{key:"thumbnailCanvas",get:function get(){var t=_classPrivateFieldGet(this,I),r=t.directDrawing,i=t.initialOptionalContent,a=t.regularAnnotations;return r&&i&&a?this.canvas:null}}]);var t;return PDFPageView}();function _setDimensions2(){var t=this.viewport;if(this.pdfPage){if(_classPrivateFieldGet(this,k)===t.rotation)return;_classPrivateFieldSet(this,k,t.rotation)}(0,o.setLayerDimensions)(this.div,t,!0,!1)}function _renderAnnotationLayer2(){return _renderAnnotationLayer3.apply(this,arguments)}function _renderAnnotationLayer3(){return(_renderAnnotationLayer3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var t;return _regeneratorRuntime().wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:t=null;r.prev=1;r.next=4;return this.annotationLayer.render(this.viewport,"display");case 4:r.next=10;break;case 6:r.prev=6;r.t0=r.catch(1);console.error('#renderAnnotationLayer: "'.concat(r.t0,'".'));t=r.t0;case 10:r.prev=10;this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:t});return r.finish(10);case 13:case"end":return r.stop()}}),_callee3,this,[[1,6,10,13]])})))).apply(this,arguments)}function _renderAnnotationEditorLayer2(){return _renderAnnotationEditorLayer3.apply(this,arguments)}function _renderAnnotationEditorLayer3(){return(_renderAnnotationEditorLayer3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){var t;return _regeneratorRuntime().wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:t=null;r.prev=1;r.next=4;return this.annotationEditorLayer.render(this.viewport,"display");case 4:r.next=10;break;case 6:r.prev=6;r.t0=r.catch(1);console.error('#renderAnnotationEditorLayer: "'.concat(r.t0,'".'));t=r.t0;case 10:r.prev=10;this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:t});return r.finish(10);case 13:case"end":return r.stop()}}),_callee4,this,[[1,6,10,13]])})))).apply(this,arguments)}function _renderXfaLayer2(){return _renderXfaLayer3.apply(this,arguments)}function _renderXfaLayer3(){return(_renderXfaLayer3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(){var t,r,i;return _regeneratorRuntime().wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:t=null;a.prev=1;a.next=4;return this.xfaLayer.render(this.viewport,"display");case 4:null!=(r=a.sent)&&r.textDivs&&this._textHighlighter&&_classPrivateMethodGet(this,N,_buildXfaTextContentItems2).call(this,r.textDivs);a.next=12;break;case 8:a.prev=8;a.t0=a.catch(1);console.error('#renderXfaLayer: "'.concat(a.t0,'".'));t=a.t0;case 12:a.prev=12;if(null!==(i=this.xfaLayer)&&void 0!==i&&i.div){this.l10n.pause();this.div.append(this.xfaLayer.div);this.l10n.resume()}this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:t});return a.finish(12);case 16:case"end":return a.stop()}}),_callee5,this,[[1,8,12,16]])})))).apply(this,arguments)}function _renderTextLayer2(){return _renderTextLayer3.apply(this,arguments)}function _renderTextLayer3(){return(_renderTextLayer3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee6(){var t,r,i,a,l;return _regeneratorRuntime().wrap((function _callee6$(u){for(;;)switch(u.prev=u.next){case 0:t=this.pdfPage,r=this.textLayer,i=this.viewport;if(r){u.next=3;break}return u.abrupt("return");case 3:a=null;u.prev=4;if(!r.renderingDone){l=t.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});r.setTextContentSource(l)}u.next=8;return r.render(i);case 8:u.next=16;break;case 10:u.prev=10;u.t0=u.catch(4);if(!(u.t0 instanceof o.AbortException)){u.next=14;break}return u.abrupt("return");case 14:console.error('#renderTextLayer: "'.concat(u.t0,'".'));a=u.t0;case 16:this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:r.numTextDivs,error:a});_classPrivateMethodGet(this,B,_renderStructTreeLayer2).call(this);case 18:case"end":return u.stop()}}),_callee6,this,[[4,10]])})))).apply(this,arguments)}function _renderStructTreeLayer2(){return _renderStructTreeLayer3.apply(this,arguments)}function _renderStructTreeLayer3(){return(_renderStructTreeLayer3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee7(){var t,r,i,a,o;return _regeneratorRuntime().wrap((function _callee7$(l){for(;;)switch(l.prev=l.next){case 0:if(this.textLayer){l.next=2;break}return l.abrupt("return");case 2:this.structTreeLayer||(this.structTreeLayer=new p.StructTreeLayerBuilder);l.next=5;return this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree();case 5:i=l.sent;if(a=null===(t=this.structTreeLayer)||void 0===t?void 0:t.render(i)){this.l10n.pause();null===(o=this.canvas)||void 0===o||o.append(a);this.l10n.resume()}null===(r=this.structTreeLayer)||void 0===r||r.show();case 9:case"end":return l.stop()}}),_callee7,this)})))).apply(this,arguments)}function _buildXfaTextContentItems2(t){return _buildXfaTextContentItems3.apply(this,arguments)}function _buildXfaTextContentItems3(){return(_buildXfaTextContentItems3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee8(t){var r,i,a,o,l;return _regeneratorRuntime().wrap((function _callee8$(u){for(;;)switch(u.prev=u.next){case 0:u.next=2;return this.pdfPage.getTextContent();case 2:r=u.sent;i=[];a=_createForOfIteratorHelper(r.items);try{for(a.s();!(o=a.n()).done;){l=o.value;i.push(l.str)}}catch(t){a.e(t)}finally{a.f()}this._textHighlighter.setTextMapping(t,i);this._textHighlighter.enable();case 8:case"end":return u.stop()}}),_callee8,this)})))).apply(this,arguments)}function _finishRenderTask2(t){return _finishRenderTask3.apply(this,arguments)}function _finishRenderTask3(){_finishRenderTask3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee9(t){var r,i=arguments;return _regeneratorRuntime().wrap((function _callee9$(a){for(;;)switch(a.prev=a.next){case 0:r=i.length>1&&void 0!==i[1]?i[1]:null;t===this.renderTask&&(this.renderTask=null);if(!(r instanceof o.RenderingCancelledException)){a.next=5;break}_classPrivateFieldSet(this,D,null);return a.abrupt("return");case 5:_classPrivateFieldSet(this,D,r);this.renderingState=l.RenderingStates.FINISHED;this._resetZoomLayer(!0);_classPrivateFieldGet(this,I).regularAnnotations=!t.separateAnnots;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:_classPrivateFieldGet(this,D)});if(!r){a.next=12;break}throw r;case 12:case"end":return a.stop()}}),_callee9,this)})));return _finishRenderTask3.apply(this,arguments)}a()}catch(z){a(z)}}))},323:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFPresentationMode:()=>G});i(3352),i(6180),i(895),i(1747),i(7484),i(2374),i(394),i(5598),i(8806),i(9366),i(6678),i(5897),i(5666),i(2926),i(1133),i(2173),i(2630),i(1024),i(13),i(4226),i(7121),i(6770),i(1378),i(171);var o=i(4927),l=i(1869),u=t([l]);l=(u.then?(await u)():u)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var c=3e3,h="pdfPresentationMode",d="pdfPresentationModeControls",p=50,v=.1,y=50,g=Math.PI/6,m=new WeakMap,_=new WeakMap,b=new WeakSet,w=new WeakSet,P=new WeakSet,A=new WeakSet,S=new WeakSet,E=new WeakSet,x=new WeakSet,k=new WeakSet,D=new WeakSet,C=new WeakSet,T=new WeakSet,I=new WeakSet,O=new WeakSet,M=new WeakSet,L=new WeakSet,G=function(){function PDFPresentationMode(t){var r=t.container,i=t.pdfViewer,a=t.eventBus;_classCallCheck(this,PDFPresentationMode);_classPrivateMethodInitSpec(this,L);_classPrivateMethodInitSpec(this,M);_classPrivateMethodInitSpec(this,O);_classPrivateMethodInitSpec(this,I);_classPrivateMethodInitSpec(this,T);_classPrivateMethodInitSpec(this,C);_classPrivateMethodInitSpec(this,D);_classPrivateMethodInitSpec(this,k);_classPrivateMethodInitSpec(this,x);_classPrivateMethodInitSpec(this,E);_classPrivateMethodInitSpec(this,S);_classPrivateMethodInitSpec(this,A);_classPrivateMethodInitSpec(this,P);_classPrivateMethodInitSpec(this,w);_classPrivateMethodInitSpec(this,b);_classPrivateFieldInitSpec(this,m,{writable:!0,value:o.PresentationModeState.UNKNOWN});_classPrivateFieldInitSpec(this,_,{writable:!0,value:null});this.container=r;this.pdfViewer=i;this.eventBus=a;this.contextMenuOpen=!1;this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0;this.touchSwipeState=null}_createClass(PDFPresentationMode,[{key:"request",value:(r=(t=_regeneratorRuntime().mark((function _callee(){var t,r,i;return _regeneratorRuntime().wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:t=this.container,r=this.pdfViewer;if(!this.active&&r.pagesCount&&t.requestFullscreen){a.next=3;break}return a.abrupt("return",!1);case 3:_classPrivateMethodGet(this,M,_addFullscreenChangeListeners2).call(this);_classPrivateMethodGet(this,w,_notifyStateChange2).call(this,o.PresentationModeState.CHANGING);i=t.requestFullscreen();_classPrivateFieldSet(this,_,{pageNumber:r.currentPageNumber,scaleValue:r.currentScaleValue,scrollMode:r.scrollMode,spreadMode:null,annotationEditorMode:null});if(!(r.spreadMode===o.SpreadMode.NONE||r.pageViewsReady&&r.hasEqualPageSizes)){console.warn("Ignoring Spread modes when entering PresentationMode, since the document may contain varying page sizes.");_classPrivateFieldGet(this,_).spreadMode=r.spreadMode}r.annotationEditorMode!==l.AnnotationEditorType.DISABLE&&(_classPrivateFieldGet(this,_).annotationEditorMode=r.annotationEditorMode);a.prev=9;a.next=12;return i;case 12:r.focus();return a.abrupt("return",!0);case 16:a.prev=16;a.t0=a.catch(9);_classPrivateMethodGet(this,L,_removeFullscreenChangeListeners2).call(this);_classPrivateMethodGet(this,w,_notifyStateChange2).call(this,o.PresentationModeState.NORMAL);case 20:return a.abrupt("return",!1);case 21:case"end":return a.stop()}}),_callee,this,[[9,16]])})),function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}),function request(){return r.apply(this,arguments)})},{key:"active",get:function get(){return _classPrivateFieldGet(this,m)===o.PresentationModeState.CHANGING||_classPrivateFieldGet(this,m)===o.PresentationModeState.FULLSCREEN}},{key:"_prepareFullscreenMode",value:function _prepareFullscreenMode(){var t=document.getElementsByClassName("zoom")[0].parentElement,r=t.parentElement;this.ngxContainer=r;for(var i=0;i<r.childElementCount;i++)r.children.item(i)===t&&(this.ngxContainerIndex=i);r.removeChild(t);document.body.append(t);for(var a=document.body.children,o=0;o<a.length;o++){var l=a.item(o);l!==t&&l instanceof HTMLElement&&l.classList.add("hidden-by-fullscreen")}document.getElementById("sidebarContainer").classList.add("hidden-by-fullscreen");document.getElementsByClassName("toolbar")[0].classList.add("hidden-by-fullscreen")}},{key:"_tidyUpFullscreenMode",value:function _tidyUpFullscreenMode(){if(this.ngxContainer){var t=document.getElementsByClassName("zoom")[0].parentElement;document.body.removeChild(t);this.ngxContainerIndex>=this.ngxContainer.childElementCount?this.ngxContainer.append(t):this.ngxContainer.insertBefore(t,this.ngxContainer.children.item(this.ngxContainerIndex));this.ngxContainer=void 0;for(var r=document.body.children,i=0;i<r.length;i++){var a=r.item(i);a!==t&&a instanceof HTMLElement&&a.classList.contains("hidden-by-fullscreen")&&a.classList.remove("hidden-by-fullscreen")}document.getElementById("sidebarContainer").classList.remove("hidden-by-fullscreen");document.getElementsByClassName("toolbar")[0].classList.remove("hidden-by-fullscreen")}}}]);var t,r;return PDFPresentationMode}();function _mouseWheel2(t){if(this.active){t.preventDefault();var r=(0,o.normalizeWheelEventDelta)(t),i=Date.now(),a=this.mouseScrollTimeStamp;if(!(i>a&&i-a<p)){(this.mouseScrollDelta>0&&r<0||this.mouseScrollDelta<0&&r>0)&&_classPrivateMethodGet(this,D,_resetMouseScrollState2).call(this);this.mouseScrollDelta+=r;if(Math.abs(this.mouseScrollDelta)>=v){var l=this.mouseScrollDelta;_classPrivateMethodGet(this,D,_resetMouseScrollState2).call(this);(l>0?this.pdfViewer.previousPage():this.pdfViewer.nextPage())&&(this.mouseScrollTimeStamp=i)}}}}function _notifyStateChange2(t){_classPrivateFieldSet(this,m,t);this.eventBus.dispatch("presentationmodechanged",{source:this,state:t})}function _enter2(){var t=this;_classPrivateMethodGet(this,w,_notifyStateChange2).call(this,o.PresentationModeState.FULLSCREEN);this.container.classList.add(h);setTimeout((function(){t.pdfViewer.scrollMode=o.ScrollMode.PAGE;null!==_classPrivateFieldGet(t,_).spreadMode&&(t.pdfViewer.spreadMode=o.SpreadMode.NONE);t.pdfViewer.currentPageNumber=_classPrivateFieldGet(t,_).pageNumber;t.pdfViewer.currentScaleValue="page-fit";null!==_classPrivateFieldGet(t,_).annotationEditorMode&&(t.pdfViewer.annotationEditorMode={mode:l.AnnotationEditorType.NONE})}),0);_classPrivateMethodGet(this,T,_addWindowListeners2).call(this);_classPrivateMethodGet(this,x,_showControls2).call(this);this.contextMenuOpen=!1;window.getSelection().removeAllRanges()}function _exit2(){var t=this,r=this.pdfViewer.currentPageNumber;this.container.classList.remove(h);setTimeout((function(){_classPrivateMethodGet(t,L,_removeFullscreenChangeListeners2).call(t);_classPrivateMethodGet(t,w,_notifyStateChange2).call(t,o.PresentationModeState.NORMAL);t.pdfViewer.scrollMode=_classPrivateFieldGet(t,_).scrollMode;null!==_classPrivateFieldGet(t,_).spreadMode&&(t.pdfViewer.spreadMode=_classPrivateFieldGet(t,_).spreadMode);t.pdfViewer.currentScaleValue=_classPrivateFieldGet(t,_).scaleValue;t.pdfViewer.currentPageNumber=r;null!==_classPrivateFieldGet(t,_).annotationEditorMode&&(t.pdfViewer.annotationEditorMode={mode:_classPrivateFieldGet(t,_).annotationEditorMode});_classPrivateFieldSet(t,_,null)}),0);_classPrivateMethodGet(this,I,_removeWindowListeners2).call(this);_classPrivateMethodGet(this,k,_hideControls2).call(this);_classPrivateMethodGet(this,D,_resetMouseScrollState2).call(this);this.contextMenuOpen=!1}function _mouseDown2(t){var r;if(this.contextMenuOpen){this.contextMenuOpen=!1;t.preventDefault()}else if(!(0!==t.button||t.target.href&&null!==(r=t.target.parentNode)&&void 0!==r&&r.hasAttribute("data-internal-link"))){t.preventDefault();t.shiftKey?this.pdfViewer.previousPage():this.pdfViewer.nextPage()}}function _contextMenu2(){this.contextMenuOpen=!0}function _showControls2(){var t=this;this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add(d);this.controlsTimeout=setTimeout((function(){t.container.classList.remove(d);delete t.controlsTimeout}),c)}function _hideControls2(){if(this.controlsTimeout){clearTimeout(this.controlsTimeout);this.container.classList.remove(d);delete this.controlsTimeout}}function _resetMouseScrollState2(){this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0}function _touchSwipe2(t){if(this.active)if(t.touches.length>1)this.touchSwipeState=null;else switch(t.type){case"touchstart":this.touchSwipeState={startX:t.touches[0].pageX,startY:t.touches[0].pageY,endX:t.touches[0].pageX,endY:t.touches[0].pageY};break;case"touchmove":if(null===this.touchSwipeState)return;this.touchSwipeState.endX=t.touches[0].pageX;this.touchSwipeState.endY=t.touches[0].pageY;t.preventDefault();break;case"touchend":if(null===this.touchSwipeState)return;var r=0,i=this.touchSwipeState.endX-this.touchSwipeState.startX,a=this.touchSwipeState.endY-this.touchSwipeState.startY,o=Math.abs(Math.atan2(a,i));Math.abs(i)>y&&(o<=g||o>=Math.PI-g)?r=i:Math.abs(a)>y&&Math.abs(o-Math.PI/2)<=g&&(r=a);r>0?this.pdfViewer.previousPage():r<0&&this.pdfViewer.nextPage()}}function _addWindowListeners2(){this.showControlsBind=_classPrivateMethodGet(this,x,_showControls2).bind(this);this.mouseDownBind=_classPrivateMethodGet(this,S,_mouseDown2).bind(this);this.mouseWheelBind=_classPrivateMethodGet(this,b,_mouseWheel2).bind(this);this.resetMouseScrollStateBind=_classPrivateMethodGet(this,D,_resetMouseScrollState2).bind(this);this.contextMenuBind=_classPrivateMethodGet(this,E,_contextMenu2).bind(this);this.touchSwipeBind=_classPrivateMethodGet(this,C,_touchSwipe2).bind(this);window.addEventListener("mousemove",this.showControlsBind);window.addEventListener("mousedown",this.mouseDownBind);window.addEventListener("wheel",this.mouseWheelBind,{passive:!1});window.addEventListener("keydown",this.resetMouseScrollStateBind);window.addEventListener("contextmenu",this.contextMenuBind);window.addEventListener("touchstart",this.touchSwipeBind);window.addEventListener("touchmove",this.touchSwipeBind);window.addEventListener("touchend",this.touchSwipeBind)}function _removeWindowListeners2(){window.removeEventListener("mousemove",this.showControlsBind);window.removeEventListener("mousedown",this.mouseDownBind);window.removeEventListener("wheel",this.mouseWheelBind,{passive:!1});window.removeEventListener("keydown",this.resetMouseScrollStateBind);window.removeEventListener("contextmenu",this.contextMenuBind);window.removeEventListener("touchstart",this.touchSwipeBind);window.removeEventListener("touchmove",this.touchSwipeBind);window.removeEventListener("touchend",this.touchSwipeBind);delete this.showControlsBind;delete this.mouseDownBind;delete this.mouseWheelBind;delete this.resetMouseScrollStateBind;delete this.contextMenuBind;delete this.touchSwipeBind}function _fullscreenChange2(){document.fullscreenElement?_classPrivateMethodGet(this,P,_enter2).call(this):_classPrivateMethodGet(this,A,_exit2).call(this)}function _addFullscreenChangeListeners2(){this.fullscreenChangeBind=_classPrivateMethodGet(this,O,_fullscreenChange2).bind(this);window.addEventListener("fullscreenchange",this.fullscreenChangeBind)}function _removeFullscreenChangeListeners2(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind);delete this.fullscreenChangeBind}a()}catch(R){a(R)}}))},1834:(t,r,i)=>{i.a(t,(async(t,r)=>{try{i(7942),i(5776),i(6180),i(895),i(5666),i(1747),i(2374),i(7121),i(385),i(1210),i(7874),i(7529),i(3757),i(3655),i(2555),i(2202),i(2796),i(2613),i(3352),i(7254),i(9366),i(6678),i(2926),i(4226),i(171),i(924),i(9593),i(5598),i(8806),i(5897);var a=i(1869),o=i(39),l=i(1483),u=i(4552),c=i(3266),h=t([a,o,u]);[a,o,u]=h.then?(await h)():h;function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}var d=null,p=null,v=null;function renderPage(t,r,i,o,u,h,p){var v=d.scratchCanvas,y=u/a.PixelsPerInch.PDF,g=1,m=Math.floor(o.width*y),_=Math.floor(o.height*y);if(m>=4096||_>=4096){if(!l.default.test({width:m,height:_})){var b=determineMaxDimensions();g=.95*Math.min(b/m,b/_)}(0,c.warn)("Page "+i+": Reduced the [printResolution] to "+Math.floor(u*g)+" because the browser can't render larger canvases. If you see blank page in the print preview, reduce [printResolution] manually to a lower value.")}y*=g;v.width=Math.floor(o.width*y);v.height=Math.floor(o.height*y);var w=window.pdfDefaultOptions.activateWillReadFrequentlyFlag?{willReadFrequently:!0}:void 0,P=v.getContext("2d",w);P.save();P.fillStyle="rgb(255, 255, 255)";P.fillRect(0,0,v.width,v.height);P.restore();return Promise.all([r.getPage(i),p]).then((function(t){var r,i,l=(i=2,_arrayWithHoles(r=t)||_iterableToArrayLimit(r,i)||_unsupportedIterableToArray(r,i)||_nonIterableRest()),u=l[0],c=l[1],d={canvasContext:P,transform:[y,0,0,y,0,0],viewport:u.getViewport({scale:1,rotation:o.rotation}),intent:"print",annotationMode:a.AnnotationMode.ENABLE_STORAGE,optionalContentConfigPromise:h,printAnnotationStorage:c};return u.render(d).promise}))}function determineMaxDimensions(){for(var t=0,r=[4096,8192,10836,11180,11402,14188,16384];t<r.length;t++){var i=r[t];if(!l.default.test({width:i+1,height:i+1}))return i}return 16384}var y,g=function(){function PDFPrintService(t,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,PDFPrintService);this.pdfDocument=t;this.pagesOverview=r;this.printContainer=i;this._printResolution=a||150;this._optionalContentConfigPromise=o||t.getOptionalContentConfig();this._printAnnotationStoragePromise=l||Promise.resolve();this.currentPage=-1;this.scratchCanvas=document.createElement("canvas");this.eventBus=u}_createClass(PDFPrintService,[{key:"layout",value:function layout(){this.throwIfInactive();var t=document.querySelector("body");t.setAttribute("data-pdfjsprinting",!0);document.querySelector("html").setAttribute("data-pdfjsprinting",!0);var r=this.pagesOverview[0],i=r.width,a=r.height;this.pagesOverview.every((function(t){return t.width===i&&t.height===a}))||globalThis.ngxConsole.warn("Not all pages have the same size. The printed result may be incorrect!");this.pageStyleSheet=document.createElement("style");this.pageStyleSheet.textContent="@page { size: ".concat(i,"pt ").concat(a,"pt;}");t.append(this.pageStyleSheet)}},{key:"destroy",value:function destroy(){if(d===this){this.printContainer.textContent="";document.querySelector("body").removeAttribute("data-pdfjsprinting");document.querySelector("html").removeAttribute("data-pdfjsprinting");if(this.pageStyleSheet){this.pageStyleSheet.remove();this.pageStyleSheet=null}this.scratchCanvas.width=this.scratchCanvas.height=0;this.scratchCanvas=null;d=null;ensureOverlay().then((function(){v.active===p&&v.close(p)}))}}},{key:"renderPages",value:function renderPages(){var t=this;if(this.pdfDocument.isPureXfa){(0,u.getXfaHtmlForPrinting)(this.printContainer,this.pdfDocument);return Promise.resolve()}var r=this.pagesOverview.length;return new Promise((function renderNextPage(i,a){t.throwIfInactive();for(;;){++t.currentPage;if(t.currentPage>=r)break;if(!window.isInPDFPrintRange||window.isInPDFPrintRange(t.currentPage))break}if(t.currentPage>=r){renderProgress(window.filteredPageCount|r,window.filteredPageCount|r,t.eventBus);i()}else{var o=t.currentPage;renderProgress(o,window.filteredPageCount|r,t.eventBus);renderPage(0,t.pdfDocument,o+1,t.pagesOverview[o],t._printResolution,t._optionalContentConfigPromise,t._printAnnotationStoragePromise).then(t.useRenderedPage.bind(t)).then((function(){renderNextPage(i,a)}),a)}}))}},{key:"useRenderedPage",value:function useRenderedPage(){this.throwIfInactive();var t=document.createElement("img"),r=this.scratchCanvas;"toBlob"in r?r.toBlob((function(r){t.src=URL.createObjectURL(r)})):t.src=r.toDataURL();var i=document.createElement("div");i.className="printedPage";i.append(t);this.printContainer.append(i);return new Promise((function(r,i){t.onload=r;t.onerror=i}))}},{key:"performPrint",value:function performPrint(){var t=this;this.throwIfInactive();return new Promise((function(r){setTimeout((function(){if(t.active){m.call(window);var i=navigator.platform&&["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document;setTimeout(r,i?1500:20)}else r()}),0)}))}},{key:"active",get:function get(){return this===d}},{key:"throwIfInactive",value:function throwIfInactive(){if(!this.active)throw new Error("This print request was cancelled or completed.")}}]);return PDFPrintService}(),m=window.print;window.printPDF=function printPdf(){if(o.PDFViewerApplication.enablePrint)if(d)globalThis.ngxConsole.warn("Ignored window.printPDF() because of a pending print job.");else{ensureOverlay().then((function(){d&&v.open(p)}));try{dispatchEvent("beforeprint")}finally{if(!d){globalThis.ngxConsole.error("Expected print service to be initialized.");ensureOverlay().then((function(){v.active===p&&v.close(p)}));return}var t=d;d.renderPages().then((function(){var r=document.getElementById("printServiceDialog");r&&r.classList.add("hidden");return t.performPrint()})).catch((function(){})).then((function(){t.active&&abort()}))}}};function dispatchEvent(t){var r=new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:"custom"});window.dispatchEvent(r)}function abort(){if(d){d.destroy();dispatchEvent("afterprint")}}function renderProgress(t,r,i){p=document.getElementById("printServiceDialog");var a=Math.round(100*t/r),o=p.querySelector("progress"),l=p.querySelector(".relative-progress");o.value=a;l.setAttribute("data-l10n-args",JSON.stringify({progress:a}));i.dispatch("progress",{source:this,type:"print",total:r,page:t,percent:100*t/r})}window.addEventListener("keydown",(function(t){if(80===t.keyCode&&(t.ctrlKey||t.metaKey)&&!t.altKey&&(!t.shiftKey||window.chrome||window.opera)){window.print();t.preventDefault();t.stopImmediatePropagation()}}),!0);if("onbeforeprint"in window){var _=function stopPropagationIfNeeded(t){"custom"!==t.detail&&t.stopImmediatePropagation()};window.addEventListener("beforeprint",_);window.addEventListener("afterprint",_)}function ensureOverlay(){if(!y){if(!(v=o.PDFViewerApplication.overlayManager))throw new Error("The overlay manager has not yet been initialized.");p=document.getElementById("printServiceDialog");y=v.register(p,!0);document.getElementById("printCancel").onclick=abort;p.addEventListener("close",abort)}return y}o.PDFPrintServiceFactory.instance={supportsPrinting:!0,createPrintService:function createPrintService(t,r,i,a,o,l,u){if(d)throw new Error("The print service is created and active.");return d=new g(t,r,i,a,o,l,u)}};r()}catch(b){r(b)}}))},5119:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFRenderingQueue:()=>c});i(895),i(5666),i(4750),i(1210),i(5598),i(8806),i(9366),i(6678),i(3352),i(5897),i(2926),i(6180),i(1747),i(2374);var o=i(1869),l=i(4927),u=t([o]);o=(u.then?(await u)():u)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var c=function(){function PDFRenderingQueue(){var t=this;_classCallCheck(this,PDFRenderingQueue);this.pdfViewer=null;this.pdfThumbnailViewer=null;this.onIdle=null;this.highestPriorityPage=null;this.idleTimeout=null;this.printing=!1;this.isThumbnailViewEnabled=!1;Object.defineProperty(this,"hasViewer",{value:function value(){return!!t.pdfViewer}})}_createClass(PDFRenderingQueue,[{key:"setViewer",value:function setViewer(t){this.pdfViewer=t}},{key:"setThumbnailViewer",value:function setThumbnailViewer(t){this.pdfThumbnailViewer=t}},{key:"isHighestPriority",value:function isHighestPriority(t){return this.highestPriorityPage===t.renderingId}},{key:"renderHighestPriority",value:function renderHighestPriority(t){var r;if(this.idleTimeout){clearTimeout(this.idleTimeout);this.idleTimeout=null}this.pdfViewer.forceRendering(t)||this.isThumbnailViewEnabled&&null!==(r=this.pdfThumbnailViewer)&&void 0!==r&&r.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function getHighestPriority(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t.views,l=o.length;if(0===l)return null;for(var u=0;u<l;u++){var c=o[u].view;if(!this.isViewFinished(c))return c}var h=t.first.id,d=t.last.id;if(d-h+1>l)for(var p=t.ids,v=1,y=d-h;v<y;v++){var g=i?h+v:d-v;if(!p.has(g)){var m=r[g-1];if(!this.isViewFinished(m))return m}}var _=i?d:h-2,b=r[_];return b&&!this.isViewFinished(b)||a&&(b=r[_+=i?1:-1])&&!this.isViewFinished(b)?b:null}},{key:"isViewFinished",value:function isViewFinished(t){return t.renderingState===l.RenderingStates.FINISHED}},{key:"renderView",value:function renderView(t){var r=this;switch(t.renderingState){case l.RenderingStates.FINISHED:return!1;case l.RenderingStates.PAUSED:this.highestPriorityPage=t.renderingId;t.resume();break;case l.RenderingStates.RUNNING:this.highestPriorityPage=t.renderingId;break;case l.RenderingStates.INITIAL:this.highestPriorityPage=t.renderingId;t.draw().finally((function(){r.renderHighestPriority()})).catch((function(t){t instanceof o.RenderingCancelledException||globalThis.ngxConsole.error('renderView: "'.concat(t,'"'))}))}return!0}}]);return PDFRenderingQueue}();a()}catch(h){a(h)}}))},2599:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFScriptingManager:()=>k});i(6180),i(895),i(5666),i(1747),i(2374),i(1210),i(5548),i(2048),i(5561),i(8587),i(3247),i(3302),i(9490),i(5438),i(7914),i(3352),i(7484),i(394),i(7874),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926),i(4226),i(171),i(924),i(9593),i(7942),i(5776),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378),i(4668),i(1585),i(2993),i(7262),i(7335);var o=i(4927),l=i(1869),u=t([l]);l=(u.then?(await u)():u)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach((function(r){_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function _defineProperty(t,r,i){(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_unsupportedIterableToArray(t,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPropertyKey(t){var r=_toPrimitive(t,"string");return"symbol"===_typeof(r)?r:String(r)}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}var c=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,v=new WeakMap,y=new WeakMap,g=new WeakMap,m=new WeakMap,_=new WeakMap,b=new WeakMap,w=new WeakMap,P=new WeakSet,A=new WeakSet,S=new WeakSet,E=new WeakSet,x=new WeakSet,k=function(){function PDFScriptingManager(t){var r=t.eventBus,i=t.sandboxBundleSrc,a=void 0===i?null:i,o=t.externalServices,l=void 0===o?null:o,u=t.docProperties,k=void 0===u?null:u;_classCallCheck(this,PDFScriptingManager);_classPrivateMethodInitSpec(this,x);_classPrivateMethodInitSpec(this,E);_classPrivateMethodInitSpec(this,S);_classPrivateMethodInitSpec(this,A);_classPrivateMethodInitSpec(this,P);_classPrivateFieldInitSpec(this,c,{writable:!0,value:null});_classPrivateFieldInitSpec(this,h,{writable:!0,value:null});_classPrivateFieldInitSpec(this,d,{writable:!0,value:null});_classPrivateFieldInitSpec(this,p,{writable:!0,value:null});_classPrivateFieldInitSpec(this,v,{writable:!0,value:null});_classPrivateFieldInitSpec(this,y,{writable:!0,value:null});_classPrivateFieldInitSpec(this,g,{writable:!0,value:null});_classPrivateFieldInitSpec(this,m,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,_,{writable:!0,value:null});_classPrivateFieldInitSpec(this,b,{writable:!0,value:null});_classPrivateFieldInitSpec(this,w,{writable:!0,value:null});_classPrivateFieldSet(this,p,r);_classPrivateFieldSet(this,_,a);_classPrivateFieldSet(this,v,l);_classPrivateFieldSet(this,d,k)}_createClass(PDFScriptingManager,[{key:"setViewer",value:function setViewer(t){_classPrivateFieldSet(this,g,t)}},{key:"setDocument",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t){var r,i,a,o,l,u,h,v,_,w,k,D,C=this;return _regeneratorRuntime().wrap((function _callee2$(T){for(;;)switch(T.prev=T.next){case 0:if(!_classPrivateFieldGet(this,y)){T.next=3;break}T.next=3;return _classPrivateMethodGet(this,x,_destroyScripting2).call(this);case 3:_classPrivateFieldSet(this,y,t);if(t){T.next=6;break}return T.abrupt("return");case 6:T.next=8;return Promise.all([t.getFieldObjects(),t.getCalculationOrderIds(),t.getJSActions()]);case 8:i=T.sent;a=_slicedToArray(i,3);o=a[0];l=a[1];u=a[2];if(o||u){T.next=17;break}T.next=16;return _classPrivateMethodGet(this,x,_destroyScripting2).call(this);case 16:return T.abrupt("return");case 17:if(t===_classPrivateFieldGet(this,y)){T.next=19;break}return T.abrupt("return");case 19:T.prev=19;_classPrivateFieldSet(this,b,_classPrivateMethodGet(this,E,_initScripting2).call(this));T.next=29;break;case 23:T.prev=23;T.t0=T.catch(19);globalThis.ngxConsole.error('setDocument: "'.concat(T.t0.message,'".'));T.next=28;return _classPrivateMethodGet(this,x,_destroyScripting2).call(this);case 28:return T.abrupt("return");case 29:this._internalEvents.set("updatefromsandbox",(function(t){(null==t?void 0:t.source)===window&&_classPrivateMethodGet(C,P,_updateFromSandbox2).call(C,t.detail)}));this._internalEvents.set("dispatcheventinsandbox",(function(t){var r;null===(r=_classPrivateFieldGet(C,b))||void 0===r||r.dispatchEventInSandbox(t.detail)}));this._internalEvents.set("pagechanging",(function(t){var r=t.pageNumber,i=t.previous;if(r!==i){_classPrivateMethodGet(C,S,_dispatchPageClose2).call(C,i);_classPrivateMethodGet(C,A,_dispatchPageOpen2).call(C,r)}}));this._internalEvents.set("pagerendered",(function(t){var r=t.pageNumber;C._pageOpenPending.has(r)&&r===_classPrivateFieldGet(C,g).currentPageNumber&&_classPrivateMethodGet(C,A,_dispatchPageOpen2).call(C,r)}));this._internalEvents.set("pagesdestroy",_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t,r;return _regeneratorRuntime().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return _classPrivateMethodGet(C,S,_dispatchPageClose2).call(C,_classPrivateFieldGet(C,g).currentPageNumber);case 2:i.next=4;return null===(t=_classPrivateFieldGet(C,b))||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"WillClose"});case 4:null===(r=_classPrivateFieldGet(C,c))||void 0===r||r.resolve();case 5:case"end":return i.stop()}}),_callee)}))));h=_createForOfIteratorHelper(this._internalEvents);try{for(h.s();!(v=h.n()).done;){_=_slicedToArray(v.value,2),w=_[0],k=_[1];_classPrivateFieldGet(this,p)._on(w,k)}}catch(t){h.e(t)}finally{h.f()}T.prev=36;T.next=39;return _classPrivateFieldGet(this,d).call(this,t);case 39:D=T.sent;if(t===_classPrivateFieldGet(this,y)){T.next=42;break}return T.abrupt("return");case 42:T.next=44;return _classPrivateFieldGet(this,b).createSandbox({objects:o,calculationOrder:l,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:_objectSpread(_objectSpread({},D),{},{actions:u})});case 44:_classPrivateFieldGet(this,p).dispatch("sandboxcreated",{source:this});T.next=53;break;case 47:T.prev=47;T.t1=T.catch(36);globalThis.ngxConsole.error('setDocument: "'.concat(T.t1.message,'".'));T.next=52;return _classPrivateMethodGet(this,x,_destroyScripting2).call(this);case 52:return T.abrupt("return");case 53:T.next=55;return null===(r=_classPrivateFieldGet(this,b))||void 0===r?void 0:r.dispatchEventInSandbox({id:"doc",name:"Open"});case 55:T.next=57;return _classPrivateMethodGet(this,A,_dispatchPageOpen2).call(this,_classPrivateFieldGet(this,g).currentPageNumber,!0);case 57:Promise.resolve().then((function(){t===_classPrivateFieldGet(C,y)&&_classPrivateFieldSet(C,m,!0)}));case 58:case"end":return T.stop()}}),_callee2,this,[[19,23],[36,47]])}))),function setDocument(t){return o.apply(this,arguments)})},{key:"dispatchWillSave",value:(a=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var t;return _regeneratorRuntime().wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",null===(t=_classPrivateFieldGet(this,b))||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"WillSave"}));case 1:case"end":return r.stop()}}),_callee3,this)}))),function dispatchWillSave(){return a.apply(this,arguments)})},{key:"dispatchDidSave",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){var t;return _regeneratorRuntime().wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",null===(t=_classPrivateFieldGet(this,b))||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"DidSave"}));case 1:case"end":return r.stop()}}),_callee4,this)}))),function dispatchDidSave(){return i.apply(this,arguments)})},{key:"dispatchWillPrint",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(){var t;return _regeneratorRuntime().wrap((function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:if(_classPrivateFieldGet(this,b)){r.next=2;break}return r.abrupt("return");case 2:r.next=4;return null===(t=_classPrivateFieldGet(this,w))||void 0===t?void 0:t.promise;case 4:_classPrivateFieldSet(this,w,new l.PromiseCapability);r.prev=5;r.next=8;return _classPrivateFieldGet(this,b).dispatchEventInSandbox({id:"doc",name:"WillPrint"});case 8:r.next=15;break;case 10:r.prev=10;r.t0=r.catch(5);_classPrivateFieldGet(this,w).resolve();_classPrivateFieldSet(this,w,null);throw r.t0;case 15:r.next=17;return _classPrivateFieldGet(this,w).promise;case 17:case"end":return r.stop()}}),_callee5,this,[[5,10]])}))),function dispatchWillPrint(){return r.apply(this,arguments)})},{key:"dispatchDidPrint",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee6(){var t;return _regeneratorRuntime().wrap((function _callee6$(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",null===(t=_classPrivateFieldGet(this,b))||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"DidPrint"}));case 1:case"end":return r.stop()}}),_callee6,this)}))),function dispatchDidPrint(){return t.apply(this,arguments)})},{key:"destroyPromise",get:function get(){var t;return(null===(t=_classPrivateFieldGet(this,h))||void 0===t?void 0:t.promise)||null}},{key:"ready",get:function get(){return _classPrivateFieldGet(this,m)}},{key:"_internalEvents",get:function get(){return(0,l.shadow)(this,"_internalEvents",new Map)}},{key:"_pageOpenPending",get:function get(){return(0,l.shadow)(this,"_pageOpenPending",new Set)}},{key:"_visitedPages",get:function get(){return(0,l.shadow)(this,"_visitedPages",new Map)}}]);var t,r,i,a,o;return PDFScriptingManager}();function _updateFromSandbox2(t){return _updateFromSandbox3.apply(this,arguments)}function _updateFromSandbox3(){return(_updateFromSandbox3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee7(t){var r,i,a,l,u,c,h,d,v,m,_,b,P,A;return _regeneratorRuntime().wrap((function _callee7$(S){for(;;)switch(S.prev=S.next){case 0:i=_classPrivateFieldGet(this,g);a=i.isInPresentationMode||i.isChangingPresentationMode;l=t.id,u=t.siblings,c=t.command,h=t.value;if(l){S.next=41;break}S.t0=c;S.next="clear"===S.t0?7:"error"===S.t0?9:"layout"===S.t0?11:"page-num"===S.t0?13:"print"===S.t0?15:"println"===S.t0?19:"zoom"===S.t0?21:"SaveAs"===S.t0?23:"FirstPage"===S.t0?25:"LastPage"===S.t0?27:"NextPage"===S.t0?29:"PrevPage"===S.t0?31:"ZoomViewIn"===S.t0?33:"ZoomViewOut"===S.t0?35:"WillPrintFinished"===S.t0?37:40;break;case 7:globalThis.ngxConsole.clear();return S.abrupt("break",40);case 9:globalThis.ngxConsole.error(h);return S.abrupt("break",40);case 11:if(!a){d=(0,o.apiPageLayoutToViewerModes)(h);i.spreadMode=d.spreadMode}return S.abrupt("break",40);case 13:i.currentPageNumber=h+1;return S.abrupt("break",40);case 15:S.next=17;return i.pagesPromise;case 17:_classPrivateFieldGet(this,p).dispatch("print",{source:this});return S.abrupt("break",40);case 19:globalThis.ngxConsole.log(h);return S.abrupt("break",40);case 21:a||(i.currentScaleValue=h);return S.abrupt("break",40);case 23:_classPrivateFieldGet(this,p).dispatch("download",{source:this});return S.abrupt("break",40);case 25:i.currentPageNumber=1;return S.abrupt("break",40);case 27:i.currentPageNumber=i.pagesCount;return S.abrupt("break",40);case 29:i.nextPage();return S.abrupt("break",40);case 31:i.previousPage();return S.abrupt("break",40);case 33:a||i.increaseScale();return S.abrupt("break",40);case 35:a||i.decreaseScale();return S.abrupt("break",40);case 37:null===(r=_classPrivateFieldGet(this,w))||void 0===r||r.resolve();_classPrivateFieldSet(this,w,null);return S.abrupt("break",40);case 40:return S.abrupt("return");case 41:if(!a||!t.focus){S.next=43;break}return S.abrupt("return");case 43:delete t.id;delete t.siblings;v=u?[l].concat(_arrayWithoutHoles(E=u)||_iterableToArray(E)||_unsupportedIterableToArray(E)||_nonIterableSpread()):[l];m=_createForOfIteratorHelper(v);try{for(m.s();!(_=m.n()).done;){b=_.value;(P=document.querySelector('[data-element-id="'.concat(b,'"]')))?P.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:t})):null===(A=_classPrivateFieldGet(this,y))||void 0===A||A.annotationStorage.setValue(b,t)}}catch(t){m.e(t)}finally{m.f()}case 48:case"end":return S.stop()}var E}),_callee7,this)})))).apply(this,arguments)}function _dispatchPageOpen2(t){return _dispatchPageOpen3.apply(this,arguments)}function _dispatchPageOpen3(){_dispatchPageOpen3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee9(t){var r,i,a,u,h,d=this,p=arguments;return _regeneratorRuntime().wrap((function _callee9$(v){for(;;)switch(v.prev=v.next){case 0:r=p.length>1&&void 0!==p[1]&&p[1];i=_classPrivateFieldGet(this,y),a=this._visitedPages;r&&_classPrivateFieldSet(this,c,new l.PromiseCapability);if(_classPrivateFieldGet(this,c)){v.next=5;break}return v.abrupt("return");case 5:if((null==(u=_classPrivateFieldGet(this,g).getPageView(t-1))?void 0:u.renderingState)===o.RenderingStates.FINISHED){v.next=9;break}this._pageOpenPending.add(t);return v.abrupt("return");case 9:this._pageOpenPending.delete(t);h=_asyncToGenerator(_regeneratorRuntime().mark((function _callee8(){var r,o,l;return _regeneratorRuntime().wrap((function _callee8$(c){for(;;)switch(c.prev=c.next){case 0:c.next=2;return a.has(t)?null:null===(r=u.pdfPage)||void 0===r?void 0:r.getJSActions();case 2:l=c.sent;if(i===_classPrivateFieldGet(d,y)){c.next=5;break}return c.abrupt("return");case 5:c.next=7;return null===(o=_classPrivateFieldGet(d,b))||void 0===o?void 0:o.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:t,actions:l});case 7:case"end":return c.stop()}}),_callee8)})))();a.set(t,h);case 12:case"end":return v.stop()}}),_callee9,this)})));return _dispatchPageOpen3.apply(this,arguments)}function _dispatchPageClose2(t){return _dispatchPageClose3.apply(this,arguments)}function _dispatchPageClose3(){return(_dispatchPageClose3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee10(t){var r,i,a,o;return _regeneratorRuntime().wrap((function _callee10$(l){for(;;)switch(l.prev=l.next){case 0:i=_classPrivateFieldGet(this,y),a=this._visitedPages;if(_classPrivateFieldGet(this,c)){l.next=3;break}return l.abrupt("return");case 3:if(!this._pageOpenPending.has(t)){l.next=5;break}return l.abrupt("return");case 5:if(o=a.get(t)){l.next=8;break}return l.abrupt("return");case 8:a.set(t,null);l.next=11;return o;case 11:if(i===_classPrivateFieldGet(this,y)){l.next=13;break}return l.abrupt("return");case 13:l.next=15;return null===(r=_classPrivateFieldGet(this,b))||void 0===r?void 0:r.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:t});case 15:case"end":return l.stop()}}),_callee10,this)})))).apply(this,arguments)}function _initScripting2(){_classPrivateFieldSet(this,h,new l.PromiseCapability);if(_classPrivateFieldGet(this,b))throw new Error("#initScripting: Scripting already exists.");return _classPrivateFieldGet(this,v).createScripting({sandboxBundleSrc:_classPrivateFieldGet(this,_)})}function _destroyScripting2(){return _destroyScripting3.apply(this,arguments)}function _destroyScripting3(){return(_destroyScripting3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee11(){var t,r,i,a,o,l,u,d;return _regeneratorRuntime().wrap((function _callee11$(v){for(;;)switch(v.prev=v.next){case 0:if(_classPrivateFieldGet(this,b)){v.next=4;break}_classPrivateFieldSet(this,y,null);null===(i=_classPrivateFieldGet(this,h))||void 0===i||i.resolve();return v.abrupt("return");case 4:if(!_classPrivateFieldGet(this,c)){v.next=8;break}v.next=7;return Promise.race([_classPrivateFieldGet(this,c).promise,new Promise((function(t){setTimeout(t,1e3)}))]).catch((function(){}));case 7:_classPrivateFieldSet(this,c,null);case 8:_classPrivateFieldSet(this,y,null);v.prev=9;v.next=12;return _classPrivateFieldGet(this,b).destroySandbox();case 12:v.next=16;break;case 14:v.prev=14;v.t0=v.catch(9);case 16:null===(t=_classPrivateFieldGet(this,w))||void 0===t||t.reject(new Error("Scripting destroyed."));_classPrivateFieldSet(this,w,null);a=_createForOfIteratorHelper(this._internalEvents);try{for(a.s();!(o=a.n()).done;){l=_slicedToArray(o.value,2),u=l[0],d=l[1];_classPrivateFieldGet(this,p)._off(u,d)}}catch(t){a.e(t)}finally{a.f()}this._internalEvents.clear();this._pageOpenPending.clear();this._visitedPages.clear();_classPrivateFieldSet(this,b,null);_classPrivateFieldSet(this,m,!1);null===(r=_classPrivateFieldGet(this,h))||void 0===r||r.resolve();case 26:case"end":return v.stop()}}),_callee11,this,[[9,14]])})))).apply(this,arguments)}a()}catch(D){a(D)}}))},4487:(t,r,i)=>{i.d(r,{PDFSidebar:()=>S});i(1210),i(3352),i(6180),i(895),i(1747),i(7484),i(2374),i(394),i(5666),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926);var a=i(4927);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var o="--sidebar-width",l=200,u="sidebarResizing",c="pdfSidebarNotification",h=new WeakMap,d=new WeakMap,p=new WeakMap,v=new WeakMap,y=new WeakMap,g=new WeakSet,m=new WeakSet,_=new WeakSet,b=new WeakSet,w=new WeakSet,P=new WeakSet,A=new WeakSet,S=function(){function PDFSidebar(t){var r=t.elements,i=t.eventBus,o=t.l10n;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFSidebar);_classPrivateMethodInitSpec(this,A);_classPrivateMethodInitSpec(this,P);_classPrivateMethodInitSpec(this,w);_classPrivateMethodInitSpec(this,b);_classPrivateMethodInitSpec(this,_);_classPrivateMethodInitSpec(this,m);_classPrivateMethodInitSpec(this,g);_classPrivateFieldInitSpec(this,h,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,d,{writable:!0,value:_classPrivateMethodGet(this,P,_mouseMove2).bind(this)});_classPrivateFieldInitSpec(this,p,{writable:!0,value:_classPrivateMethodGet(this,A,_mouseUp2).bind(this)});_classPrivateFieldInitSpec(this,v,{writable:!0,value:null});_classPrivateFieldInitSpec(this,y,{writable:!0,value:null});this.isOpen=!1;this.active=a.SidebarView.THUMBS;this.isInitialViewSet=!1;this.isInitialEventDispatched=!1;this.onToggled=null;this.onUpdateThumbnails=null;this.outerContainer=r.outerContainer;this.sidebarContainer=r.sidebarContainer;this.toggleButton=r.toggleButton;this.resizer=r.resizer;this.thumbnailButton=r.thumbnailButton;this.outlineButton=r.outlineButton;this.attachmentsButton=r.attachmentsButton;this.layersButton=r.layersButton;this.thumbnailView=r.thumbnailView;this.outlineView=r.outlineView;this.attachmentsView=r.attachmentsView;this.layersView=r.layersView;this._outlineOptionsContainer=r.outlineOptionsContainer;this._currentOutlineItemButton=r.currentOutlineItemButton;this.eventBus=i;_classPrivateFieldSet(this,h,"rtl"===o.getDirection());_classPrivateMethodGet(this,b,_addEventListeners2).call(this)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(PDFSidebar,[{key:"reset",value:function reset(){this.isInitialViewSet=!1;this.isInitialEventDispatched=!1;_classPrivateMethodGet(this,_,_hideUINotification2).call(this,!0);this.switchView(a.SidebarView.THUMBS);this.outlineButton.disabled=!1;this.attachmentsButton.disabled=!1;this.layersButton.disabled=!1;this.outlineButton.hidden=!1;this.attachmentsButton.hidden=!1;this.layersButton.hidden=!1;this._currentOutlineItemButton.disabled=!0}},{key:"visibleView",get:function get(){return this.isOpen?this.active:a.SidebarView.NONE}},{key:"setInitialView",value:function setInitialView(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.SidebarView.NONE;if(!this.isInitialViewSet){this.isInitialViewSet=!0;if(t!==a.SidebarView.NONE&&t!==a.SidebarView.UNKNOWN){this.switchView(t,!0);this.isInitialEventDispatched||_classPrivateMethodGet(this,g,_dispatchEvent2).call(this)}else _classPrivateMethodGet(this,g,_dispatchEvent2).call(this)}}},{key:"switchView",value:function switchView(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t!==this.active,o=!1;switch(t){case a.SidebarView.NONE:this.isOpen&&this.close();return;case a.SidebarView.THUMBS:this.isOpen&&i&&(o=!0);break;case a.SidebarView.OUTLINE:if(this.outlineButton.disabled)return;break;case a.SidebarView.ATTACHMENTS:if(this.attachmentsButton.disabled)return;break;case a.SidebarView.LAYERS:if(this.layersButton.disabled)return;break;default:globalThis.ngxConsole.error('PDFSidebar.switchView: "'.concat(t,'" is not a valid view.'));return}this.active=t;(0,a.toggleCheckedBtn)(this.thumbnailButton,t===a.SidebarView.THUMBS,this.thumbnailView);(0,a.toggleCheckedBtn)(this.outlineButton,t===a.SidebarView.OUTLINE,this.outlineView);(0,a.toggleCheckedBtn)(this.attachmentsButton,t===a.SidebarView.ATTACHMENTS,this.attachmentsView);(0,a.toggleCheckedBtn)(this.layersButton,t===a.SidebarView.LAYERS,this.layersView);this._outlineOptionsContainer.classList.toggle("hidden",t!==a.SidebarView.OUTLINE);if(!r||this.isOpen){if(o){this.onUpdateThumbnails();this.onToggled()}i&&_classPrivateMethodGet(this,g,_dispatchEvent2).call(this)}else this.open()}},{key:"open",value:function open(){if(!this.isOpen){this.isOpen=!0;(0,a.toggleExpandedBtn)(this.toggleButton,!0);this.outerContainer.classList.add("sidebarMoving","sidebarOpen");this.active===a.SidebarView.THUMBS&&this.onUpdateThumbnails();this.onToggled();_classPrivateMethodGet(this,g,_dispatchEvent2).call(this);_classPrivateMethodGet(this,_,_hideUINotification2).call(this)}}},{key:"close",value:function close(){if(this.isOpen){this.isOpen=!1;(0,a.toggleExpandedBtn)(this.toggleButton,!1);this.outerContainer.classList.add("sidebarMoving");this.outerContainer.classList.remove("sidebarOpen");this.onToggled();_classPrivateMethodGet(this,g,_dispatchEvent2).call(this)}}},{key:"toggle",value:function toggle(){this.isOpen?this.close():this.open()}},{key:"outerContainerWidth",get:function get(){return _classPrivateFieldGet(this,v)||_classPrivateFieldSet(this,v,this.outerContainer.clientWidth)}}]);return PDFSidebar}();function _dispatchEvent2(){this.isInitialViewSet&&(this.isInitialEventDispatched||(this.isInitialEventDispatched=!0));this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}function _showUINotification2(){this.toggleButton.setAttribute("data-l10n-id","pdfjs-toggle-sidebar-notification-button");this.isOpen||this.toggleButton.classList.add(c)}function _hideUINotification2(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.isOpen||t)&&this.toggleButton.classList.remove(c);t&&this.toggleButton.setAttribute("data-l10n-id","pdfjs-toggle-sidebar-button")}function _addEventListeners2(){var t=this;this.sidebarContainer.addEventListener("transitionend",(function(r){r.target===t.sidebarContainer&&t.outerContainer.classList.remove("sidebarMoving")}));this.toggleButton.addEventListener("click",(function(){t.toggle()}));this.thumbnailButton.addEventListener("click",(function(){t.switchView(a.SidebarView.THUMBS)}));this.outlineButton.addEventListener("click",(function(){t.switchView(a.SidebarView.OUTLINE)}));this.outlineButton.addEventListener("dblclick",(function(){t.eventBus.dispatch("toggleoutlinetree",{source:t})}));this.attachmentsButton.addEventListener("click",(function(){t.switchView(a.SidebarView.ATTACHMENTS)}));this.layersButton.addEventListener("click",(function(){t.switchView(a.SidebarView.LAYERS)}));this.layersButton.addEventListener("dblclick",(function(){t.eventBus.dispatch("resetlayers",{source:t})}));this._currentOutlineItemButton.addEventListener("click",(function(){t.eventBus.dispatch("currentoutlineitem",{source:t})}));var r=function onTreeLoaded(r,i,o){i.disabled=!r;i.hidden=!r;r?_classPrivateMethodGet(t,m,_showUINotification2).call(t):t.active===o&&t.switchView(a.SidebarView.THUMBS)};this.eventBus._on("outlineloaded",(function(i){r(i.outlineCount,t.outlineButton,a.SidebarView.OUTLINE);i.enableCurrentOutlineItemButton&&i.currentOutlineItemPromise&&i.currentOutlineItemPromise.then((function(r){t.isInitialViewSet&&(t._currentOutlineItemButton.disabled=!r)}))}));this.eventBus._on("attachmentsloaded",(function(i){r(i.attachmentsCount,t.attachmentsButton,a.SidebarView.ATTACHMENTS)}));this.eventBus._on("layersloaded",(function(i){r(i.layersCount,t.layersButton,a.SidebarView.LAYERS)}));this.eventBus._on("presentationmodechanged",(function(r){r.state===a.PresentationModeState.NORMAL&&t.visibleView===a.SidebarView.THUMBS&&t.onUpdateThumbnails()}));this.resizer.addEventListener("mousedown",(function(r){if(0===r.button){t.outerContainer.classList.add(u);window.addEventListener("mousemove",_classPrivateFieldGet(t,d));window.addEventListener("mouseup",_classPrivateFieldGet(t,p))}}));this.eventBus._on("resize",(function(r){if(r.source===window){_classPrivateFieldSet(t,v,null);if(_classPrivateFieldGet(t,y))if(t.isOpen){t.outerContainer.classList.add(u);var i=_classPrivateMethodGet(t,w,_updateWidth2).call(t,_classPrivateFieldGet(t,y));Promise.resolve().then((function(){t.outerContainer.classList.remove(u);i&&t.eventBus.dispatch("resize",{source:t})}))}else _classPrivateMethodGet(t,w,_updateWidth2).call(t,_classPrivateFieldGet(t,y))}}))}function _updateWidth2(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=Math.floor(this.outerContainerWidth/2);t>r&&(t=r);t<l&&(t=l);if(t===_classPrivateFieldGet(this,y))return!1;_classPrivateFieldSet(this,y,t);a.docStyle.setProperty(o,"".concat(t,"px"));return!0}function _mouseMove2(t){var r=t.clientX;_classPrivateFieldGet(this,h)&&(r=this.outerContainerWidth-r);_classPrivateMethodGet(this,w,_updateWidth2).call(this,r)}function _mouseUp2(t){this.outerContainer.classList.remove(u);this.eventBus.dispatch("resize",{source:this});window.removeEventListener("mousemove",_classPrivateFieldGet(this,d));window.removeEventListener("mouseup",_classPrivateFieldGet(this,p))}},3346:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFThumbnailView:()=>y,TempImageFactory:()=>c});i(3352),i(1210),i(895),i(5666),i(4750),i(6180),i(1747),i(394),i(2374),i(7484),i(7254),i(5598),i(8806),i(9366),i(6678),i(5897),i(2926),i(1133),i(2173),i(2630),i(1024),i(13),i(4226),i(7121),i(6770),i(1378),i(171),i(924),i(9593),i(7942),i(5776);var o=i(4927),l=i(1869),u=t([l]);l=(u.then?(await u)():u)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classStaticPrivateFieldSpecSet(t,r,i,a){_classCheckPrivateStaticAccess(t,r);_classCheckPrivateStaticFieldDescriptor(i,"set");_classApplyDescriptorSet(t,i,a);return a}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}function _classStaticPrivateFieldSpecGet(t,r,i){_classCheckPrivateStaticAccess(t,r);_classCheckPrivateStaticFieldDescriptor(i,"get");return _classApplyDescriptorGet(t,i)}function _classCheckPrivateStaticFieldDescriptor(t,r){if(void 0===t)throw new TypeError("attempted to "+r+" private static field before its declaration")}function _classCheckPrivateStaticAccess(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}var c=function(){function TempImageFactory(){_classCallCheck(this,TempImageFactory)}_createClass(TempImageFactory,null,[{key:"getCanvas",value:function getCanvas(t,r){var i=_classStaticPrivateFieldSpecGet(this,TempImageFactory,h)||_classStaticPrivateFieldSpecSet(this,TempImageFactory,h,document.createElement("canvas"));i.width=t;i.height=r;var a=window.pdfDefaultOptions.activateWillReadFrequentlyFlag?{willReadFrequently:!0,alpha:!1}:{alpha:!1},o=window.pdfDefaultOptions.activateWillReadFrequentlyFlag?{willReadFrequently:!0}:void 0,l=i.getContext("2d",a);l.save();l.fillStyle="rgb(255, 255, 255)";l.fillRect(0,0,t,r);l.restore();return[i,i.getContext("2d",o)]}},{key:"destroyCanvas",value:function destroyCanvas(){var t=_classStaticPrivateFieldSpecGet(this,TempImageFactory,h);if(t){t.width=0;t.height=0}_classStaticPrivateFieldSpecSet(this,TempImageFactory,h,null)}}]);return TempImageFactory}(),h={writable:!0,value:null},d=new WeakSet,p=new WeakSet,v=new WeakMap,y=function(){function PDFThumbnailView(t){var r=t.container,i=t.eventBus,a=t.id,l=t.defaultViewport,u=t.optionalContentConfigPromise,c=t.linkService,h=t.renderingQueue,y=t.pageColors;_classCallCheck(this,PDFThumbnailView);_classPrivateFieldInitSpec(this,v,{get:_get_pageL10nArgs,set:void 0});_classPrivateMethodInitSpec(this,p);_classPrivateMethodInitSpec(this,d);this.id=a;this.renderingId="thumbnail"+a;this.pageLabel=null;this.pdfPage=null;this.rotation=0;this.viewport=l;this.pdfPageRotate=l.rotation;this._optionalContentConfigPromise=u||null;this.pageColors=y||null;this.eventBus=i;this.linkService=c;this.renderingQueue=h;this.eventBus=i;this.renderTask=null;this.renderingState=o.RenderingStates.INITIAL;this.resume=null;window.pdfThumbnailGenerator?this._placeholderImg=window.pdfThumbnailGenerator(this,c,a,r,_classPrivateFieldGet(this,v)):this.createThumbnail(this,c,a,r,_classPrivateFieldGet(this,v))}_createClass(PDFThumbnailView,[{key:"createThumbnail",value:function createThumbnail(t,r,i,a,o){var l=document.createElement("a");l.href=r.getAnchorUrl("#page="+i);l.setAttribute("data-l10n-id","pdfjs-thumb-page-title");l.setAttribute("data-l10n-args",_classPrivateFieldGet(this,v));l.onclick=function(){r.goToPage(i);return!1};this.anchor=l;var u=document.createElement("div");u.className="thumbnail";u.setAttribute("data-page-number",this.id);this.div=u;_classPrivateMethodGet(this,d,_updateDims2).call(this);var c=document.createElement("div");c.className="thumbnailImage";this._placeholderImg=c;u.append(c);l.append(u);a.append(l)}},{key:"setPdfPage",value:function setPdfPage(t){this.pdfPage=t;this.pdfPageRotate=t.rotate;var r=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:1,rotation:r});this.reset()}},{key:"reset",value:function reset(){var t;this.cancelRendering();this.renderingState=o.RenderingStates.INITIAL;this.div.removeAttribute("data-loaded");null===(t=this.image)||void 0===t||t.replaceWith(this._placeholderImg);_classPrivateMethodGet(this,d,_updateDims2).call(this);if(this.image){this.image.removeAttribute("src");delete this.image}}},{key:"update",value:function update(t){var r=t.rotation,i=void 0===r?null:r;"number"==typeof i&&(this.rotation=i);var a=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:a});this.reset()}},{key:"cancelRendering",value:function cancelRendering(){if(this.renderTask){this.renderTask.cancel();this.renderTask=null}this.resume=null}},{key:"_getPageDrawContext",value:function _getPageDrawContext(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=document.createElement("canvas"),i=window.pdfDefaultOptions.activateWillReadFrequentlyFlag?{willReadFrequently:!0,alpha:!1}:{alpha:!1},a=r.getContext("2d",i),l=new o.OutputScale;r.width=t*this.canvasWidth*l.sx|0;r.height=t*this.canvasHeight*l.sy|0;return{ctx:a,canvas:r,transform:l.scaled?[l.sx,0,0,l.sy,0,0]:null}}},{key:"_convertCanvasToImage",value:function _convertCanvasToImage(t){if(this.renderingState!==o.RenderingStates.FINISHED)throw new Error("_convertCanvasToImage: Rendering has not finished.");var r=this._reduceImage(t),i=document.createElement("img");i.className="thumbnailImage";i.setAttribute("data-l10n-id","pdfjs-thumb-page-canvas");i.setAttribute("data-l10n-args",_classPrivateFieldGet(this,v));i.src=r.toDataURL();this.image=i;this.div.setAttribute("data-loaded",!0);this._placeholderImg.replaceWith(i);r.width=0;r.height=0}},{key:"draw",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t,r,i,a,l,u,c,h,d,v,y=this;return _regeneratorRuntime().wrap((function _callee$(g){for(;;)switch(g.prev=g.next){case 0:if(this.renderingState===o.RenderingStates.INITIAL){g.next=3;break}globalThis.ngxConsole.error("Must be in new state before drawing");return g.abrupt("return",void 0);case 3:if(t=this.pdfPage){g.next=7;break}this.renderingState=o.RenderingStates.FINISHED;throw new Error("pdfPage is not loaded");case 7:this.renderingState=o.RenderingStates.RUNNING;r=this._getPageDrawContext(2),i=r.ctx,a=r.canvas,l=r.transform;u=this.viewport.clone({scale:2*this.scale});c=function renderContinueCallback(t){if(y.renderingQueue.isHighestPriority(y))t();else{y.renderingState=o.RenderingStates.PAUSED;y.resume=function(){y.renderingState=o.RenderingStates.RUNNING;t()}}};h={canvasContext:i,transform:l,viewport:u,optionalContentConfigPromise:this._optionalContentConfigPromise,pageColors:this.pageColors};(d=this.renderTask=t.render(h)).onContinue=c;(v=d.promise.then((function(){return _classPrivateMethodGet(y,p,_finishRenderTask2).call(y,d,a)}),(function(t){return _classPrivateMethodGet(y,p,_finishRenderTask2).call(y,d,a,t)}))).finally((function(){a.width=0;a.height=0;y.eventBus.dispatch("thumbnailrendered",{source:y,pageNumber:y.id,pdfPage:y.pdfPage})}));return g.abrupt("return",v);case 17:case"end":return g.stop()}}),_callee,this)}))),function draw(){return t.apply(this,arguments)})},{key:"setImage",value:function setImage(t){if(this.renderingState===o.RenderingStates.INITIAL){var r=t.thumbnailCanvas,i=t.pdfPage,a=t.scale;if(r){this.pdfPage||this.setPdfPage(i);if(!(a<this.scale)){this.renderingState=o.RenderingStates.FINISHED;this._convertCanvasToImage(r)}}}}},{key:"_reduceImage",value:function _reduceImage(t){var r=this._getPageDrawContext(),i=r.ctx,a=r.canvas;if(t.width<=2*a.width){i.drawImage(t,0,0,t.width,t.height,0,0,a.width,a.height);return a}for(var o,l,u=a.width<<3,h=a.height<<3,d=c.getCanvas(u,h),p=(l=2,_arrayWithHoles(o=d)||_iterableToArrayLimit(o,l)||_unsupportedIterableToArray(o,l)||_nonIterableRest()),v=p[0],y=p[1];u>t.width||h>t.height;){u>>=1;h>>=1}y.drawImage(t,0,0,t.width,t.height,0,0,u,h);for(;u>2*a.width;){y.drawImage(v,0,0,u,h,0,0,u>>1,h>>1);u>>=1;h>>=1}i.drawImage(v,0,0,u,h,0,0,a.width,a.height);return a}},{key:"setPageLabel",value:function setPageLabel(t){var r;this.pageLabel="string"==typeof t?t:null;this.anchor.setAttribute("data-l10n-args",_classPrivateFieldGet(this,v));this.renderingState===o.RenderingStates.FINISHED&&(null===(r=this.image)||void 0===r||r.setAttribute("data-l10n-args",_classPrivateFieldGet(this,v)))}}]);var t;return PDFThumbnailView}();function _updateDims2(){var t=this.viewport,r=t.width,i=r/t.height;this.canvasWidth=98;this.canvasHeight=this.canvasWidth/i|0;this.scale=this.canvasWidth/r;var a=this.div.style;a.setProperty("--thumbnail-width","".concat(this.canvasWidth,"px"));a.setProperty("--thumbnail-height","".concat(this.canvasHeight,"px"))}function _finishRenderTask2(t,r){return _finishRenderTask3.apply(this,arguments)}function _finishRenderTask3(){_finishRenderTask3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t,r){var i,a=arguments;return _regeneratorRuntime().wrap((function _callee2$(u){for(;;)switch(u.prev=u.next){case 0:i=a.length>2&&void 0!==a[2]?a[2]:null;t===this.renderTask&&(this.renderTask=null);if(!(i instanceof l.RenderingCancelledException)){u.next=4;break}return u.abrupt("return");case 4:this.renderingState=o.RenderingStates.FINISHED;this._convertCanvasToImage(r);if(!i){u.next=8;break}throw i;case 8:this.eventBus.dispatch("thumbnailRendered",this.id);case 9:case"end":return u.stop()}}),_callee2,this)})));return _finishRenderTask3.apply(this,arguments)}function _get_pageL10nArgs(){var t;return JSON.stringify({page:null!==(t=this.pageLabel)&&void 0!==t?t:this.id})}a()}catch(g){a(g)}}))},3510:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFThumbnailViewer:()=>p});i(1210),i(3352),i(4226),i(6180),i(895),i(1747),i(394),i(2374),i(5598),i(8806),i(9366),i(6678),i(5897),i(171),i(924),i(9593),i(7942),i(5776),i(2926),i(5666),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378);var o=i(4927),l=i(3346),u=t([l]);l=(u.then?(await u)():u)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _defineProperty(t,r,i){(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPropertyKey(t){var r=_toPrimitive(t,"string");return"symbol"===_typeof(r)?r:String(r)}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var c="selected",h=new WeakSet,d=new WeakSet,p=function(){function PDFThumbnailViewer(t){var r=t.container,i=t.eventBus,a=t.linkService,l=t.renderingQueue,u=t.pageColors;_classCallCheck(this,PDFThumbnailViewer);_classPrivateMethodInitSpec(this,d);_classPrivateMethodInitSpec(this,h);this.container=r;this.eventBus=i;this.linkService=a;this.renderingQueue=l;this.pageColors=u||null;this.scroll=(0,o.watchScroll)(this.container,this._scrollUpdated.bind(this));this._resetView()}_createClass(PDFThumbnailViewer,[{key:"_scrollUpdated",value:function _scrollUpdated(){this.renderingQueue.renderHighestPriority()}},{key:"getThumbnail",value:function getThumbnail(t){return this._thumbnails[t]}},{key:"_getVisibleThumbs",value:function _getVisibleThumbs(){return(0,o.getVisibleElements)({scrollEl:this.container,views:this._thumbnails})}},{key:"scrollThumbnailIntoView",value:function scrollThumbnailIntoView(t){if(this.pdfDocument){var r=this._thumbnails[t-1];if(r){if(t!==this._currentPageNumber){this._thumbnails[this._currentPageNumber-1].div.classList.remove(c);r.div.classList.add(c)}var i=this._getVisibleThumbs(),a=i.first,l=i.last,u=i.views;if(u.length>0){var h=!1;if(t<=a.id||t>=l.id)h=!0;else{var d,p=_createForOfIteratorHelper(u);try{for(p.s();!(d=p.n()).done;){var v=d.value,y=v.id,g=v.percent;if(y===t){h=g<100;break}}}catch(t){p.e(t)}finally{p.f()}}h&&(0,o.scrollIntoView)(r.div,{top:-19})}this._currentPageNumber=t}else globalThis.ngxConsole.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.')}}},{key:"pagesRotation",get:function get(){return this._pagesRotation},set:function set(t){if(!(0,o.isValidRotation)(t))throw new Error("Invalid thumbnails rotation angle.");if(this.pdfDocument&&this._pagesRotation!==t){this._pagesRotation=t;var r,i={rotation:t},a=_createForOfIteratorHelper(this._thumbnails);try{for(a.s();!(r=a.n()).done;){r.value.update(i)}}catch(t){a.e(t)}finally{a.f()}}}},{key:"cleanup",value:function cleanup(){var t,r=_createForOfIteratorHelper(this._thumbnails);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.renderingState!==o.RenderingStates.FINISHED&&i.reset()}}catch(t){r.e(t)}finally{r.f()}l.TempImageFactory.destroyCanvas()}},{key:"_resetView",value:function _resetView(){this._thumbnails=[];this._currentPageNumber=1;this._pageLabels=null;this._pagesRotation=0;this.container.textContent=""}},{key:"setDocument",value:function setDocument(t){var r=this;this.initialized=!1;if(this.pdfDocument){this._cancelRendering();this._resetView()}this.pdfDocument=t;if(t&&!this.initialized){this.initialized=!0;var i=t.getPage(1),a=t.getOptionalContentConfig();i.then((function(i){for(var o,u=t.numPages,h=i.getViewport({scale:1}),d=1;d<=u;++d){var p=new l.PDFThumbnailView(_defineProperty({container:r.container,eventBus:r.eventBus,id:d,defaultViewport:h.clone(),optionalContentConfigPromise:a,linkService:r.linkService,renderingQueue:r.renderingQueue,pageColors:r.pageColors},"eventBus",r.eventBus));r._thumbnails.push(p)}null===(o=r._thumbnails[0])||void 0===o||o.setPdfPage(i);r._thumbnails[r._currentPageNumber-1].div.classList.add(c)})).catch((function(t){globalThis.ngxConsole.error("Unable to initialize thumbnail viewer",t)}))}}},{key:"_cancelRendering",value:function _cancelRendering(){var t,r=_createForOfIteratorHelper(this._thumbnails);try{for(r.s();!(t=r.n()).done;){t.value.cancelRendering()}}catch(t){r.e(t)}finally{r.f()}}},{key:"setPageLabels",value:function setPageLabels(t){if(this.pdfDocument){if(t)if(Array.isArray(t)&&this.pdfDocument.numPages===t.length)this._pageLabels=t;else{this._pageLabels=null;globalThis.ngxConsole.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")}else this._pageLabels=null;for(var r=0,i=this._thumbnails.length;r<i;r++){var a,o;this._thumbnails[r].setPageLabel(null!==(a=null===(o=this._pageLabels)||void 0===o?void 0:o[r])&&void 0!==a?a:null)}}}},{key:"forceRendering",value:function forceRendering(){var t=this,r=this._getVisibleThumbs(),i=_classPrivateMethodGet(this,d,_getScrollAhead2).call(this,r),a=this.renderingQueue.getHighestPriority(r,this._thumbnails,i);if(a){_classPrivateMethodGet(this,h,_ensurePdfPageLoaded2).call(this,a).then((function(){t.renderingQueue.renderView(a)}));return!0}return!1}},{key:"stopRendering",value:function stopRendering(){this._cancelRendering()}}]);return PDFThumbnailViewer}();function _ensurePdfPageLoaded2(t){return _ensurePdfPageLoaded3.apply(this,arguments)}function _ensurePdfPageLoaded3(){_ensurePdfPageLoaded3=(t=_regeneratorRuntime().mark((function _callee(t){var r;return _regeneratorRuntime().wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!t.pdfPage){i.next=2;break}return i.abrupt("return",t.pdfPage);case 2:i.prev=2;i.next=5;return this.pdfDocument.getPage(t.id);case 5:r=i.sent;t.pdfPage||t.setPdfPage(r);return i.abrupt("return",r);case 10:i.prev=10;i.t0=i.catch(2);globalThis.ngxConsole.error("Unable to get page for thumb view",i.t0);return i.abrupt("return",null);case 14:case"end":return i.stop()}}),_callee,this,[[2,10]])})),function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))});var t;return _ensurePdfPageLoaded3.apply(this,arguments)}function _getScrollAhead2(t){var r,i;return 1===(null===(r=t.first)||void 0===r?void 0:r.id)||(null===(i=t.last)||void 0===i?void 0:i.id)!==this._thumbnails.length&&this.scroll.down}a()}catch(v){a(v)}}))},9290:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFViewer:()=>ee,PagesCountLimit:()=>g});i(2796),i(2613),i(9099),i(6180),i(895),i(2048),i(1747),i(5561),i(8587),i(3247),i(3302),i(9490),i(5438),i(7914),i(2374),i(3352),i(7874),i(7121),i(385),i(5897),i(1210),i(6770),i(1378),i(8518),i(275),i(5252),i(8649),i(4226),i(5666),i(6133),i(7942),i(4711),i(5136),i(7944),i(5548),i(7484),i(394),i(2926),i(9366),i(6678),i(4750),i(924),i(5598),i(8806),i(171),i(9593),i(5776),i(1133),i(2173),i(2630),i(1024),i(13),i(4668),i(1585),i(2993),i(7262),i(7335);var o,l=i(1869),u=i(4927),c=i(7910),h=i(658),d=i(6732),p=i(5119),v=i(3234),y=t([l,c,d,p]);[l,c,d,p]=y.then?(await y)():y;function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach((function(r){_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function _defineProperty(t,r,i){(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPropertyKey(t){var r=_toPrimitive(t,"string");return"symbol"===_typeof(r)?r:String(r)}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}var g={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};function isValidAnnotationEditorMode(t){return Object.values(l.AnnotationEditorType).includes(t)&&t!==l.AnnotationEditorType.DISABLE}var m=new WeakMap,_=new WeakMap,b=new WeakSet;o=Symbol.iterator;var w=function(){function PDFPageViewBuffer(t){_classCallCheck(this,PDFPageViewBuffer);_classPrivateMethodInitSpec(this,b);_classPrivateFieldInitSpec(this,m,{writable:!0,value:new Set});_classPrivateFieldInitSpec(this,_,{writable:!0,value:0});_classPrivateFieldSet(this,_,t)}_createClass(PDFPageViewBuffer,[{key:"push",value:function push(t){var r=_classPrivateFieldGet(this,m);r.has(t)&&r.delete(t);r.add(t);r.size>_classPrivateFieldGet(this,_)&&_classPrivateMethodGet(this,b,_destroyFirstView2).call(this)}},{key:"resize",value:function resize(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classPrivateFieldSet(this,_,t);var i=_classPrivateFieldGet(this,m);if(r){var a,o=i.size,l=1,u=_createForOfIteratorHelper(i);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(r.has(c.id)){i.delete(c);i.add(c)}if(++l>o)break}}catch(t){u.e(t)}finally{u.f()}}for(;i.size>_classPrivateFieldGet(this,_);)_classPrivateMethodGet(this,b,_destroyFirstView2).call(this)}},{key:"has",value:function has(t){return _classPrivateFieldGet(this,m).has(t)}},{key:o,value:function value(){return _classPrivateFieldGet(this,m).keys()}}]);return PDFPageViewBuffer}();function _destroyFirstView2(){var t=_classPrivateFieldGet(this,m).keys().next().value;null==t||t.destroy();_classPrivateFieldGet(this,m).delete(t)}var P=new WeakMap,A=new WeakMap,S=new WeakMap,E=new WeakMap,x=new WeakMap,k=new WeakMap,D=new WeakMap,C=new WeakMap,T=new WeakMap,I=new WeakMap,O=new WeakMap,M=new WeakMap,L=new WeakMap,G=new WeakMap,R=new WeakMap,j=new WeakMap,B=new WeakMap,N=new WeakSet,W=new WeakSet,V=new WeakSet,z=new WeakSet,H=new WeakSet,U=new WeakSet,q=new WeakSet,K=new WeakMap,Y=new WeakSet,X=new WeakSet,$=new WeakSet,Z=new WeakSet,Q=new WeakSet,J=new WeakSet,ee=function(){function PDFViewer(t){var r,i,a,o,h,d,y=this;_classCallCheck(this,PDFViewer);_classPrivateMethodInitSpec(this,J);_classPrivateMethodInitSpec(this,Q);_classPrivateMethodInitSpec(this,Z);_classPrivateMethodInitSpec(this,$);_classPrivateMethodInitSpec(this,X);_classPrivateMethodInitSpec(this,Y);_classPrivateFieldInitSpec(this,K,{get:_get_pageWidthScaleFactor,set:void 0});_classPrivateMethodInitSpec(this,q);_classPrivateMethodInitSpec(this,U);_classPrivateMethodInitSpec(this,H);_classPrivateMethodInitSpec(this,z);_classPrivateMethodInitSpec(this,V);_classPrivateMethodInitSpec(this,W);_classPrivateMethodInitSpec(this,N);_classPrivateFieldInitSpec(this,P,{writable:!0,value:null});_classPrivateFieldInitSpec(this,A,{writable:!0,value:null});_classPrivateFieldInitSpec(this,S,{writable:!0,value:l.AnnotationEditorType.NONE});_classPrivateFieldInitSpec(this,E,{writable:!0,value:null});_classPrivateFieldInitSpec(this,x,{writable:!0,value:l.AnnotationMode.ENABLE_FORMS});_classPrivateFieldInitSpec(this,k,{writable:!0,value:null});_classPrivateFieldInitSpec(this,D,{writable:!0,value:null});_classPrivateFieldInitSpec(this,C,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,T,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,I,{writable:!0,value:null});_classPrivateFieldInitSpec(this,O,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,M,{writable:!0,value:0});_classPrivateFieldInitSpec(this,L,{writable:!0,value:new ResizeObserver(_classPrivateMethodGet(this,J,_resizeObserverCallback2).bind(this))});_classPrivateFieldInitSpec(this,G,{writable:!0,value:null});_classPrivateFieldInitSpec(this,R,{writable:!0,value:null});_classPrivateFieldInitSpec(this,j,{writable:!0,value:null});_classPrivateFieldInitSpec(this,B,{writable:!0,value:u.TextLayerMode.ENABLE});var g="4.0.718";if(l.version!==g)throw new Error('The API version "'.concat(l.version,'" does not match the Viewer version "').concat(g,'".'));this.container=t.container;this.viewer=t.viewer||t.container.firstElementChild;this.pageViewMode=t.pageViewMode||"multiple";if("DIV"!==(null===(r=this.container)||void 0===r?void 0:r.tagName)||"DIV"!==(null===(i=this.viewer)||void 0===i?void 0:i.tagName))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");_classPrivateFieldGet(this,L).observe(this.container);this.eventBus=t.eventBus;this.linkService=t.linkService||new v.SimpleLinkService;this.downloadManager=t.downloadManager||null;this.findController=t.findController||null;_classPrivateFieldSet(this,A,t.altTextManager||null);this.findController&&(this.findController.onIsPageVisible=function(t){return y._getVisiblePages().ids.has(t)});this._scriptingManager=t.scriptingManager||null;_classPrivateFieldSet(this,B,null!==(a=t.textLayerMode)&&void 0!==a?a:u.TextLayerMode.ENABLE);_classPrivateFieldSet(this,x,null!==(o=t.annotationMode)&&void 0!==o?o:l.AnnotationMode.ENABLE_FORMS);_classPrivateFieldSet(this,S,null!==(h=t.annotationEditorMode)&&void 0!==h?h:l.AnnotationEditorType.NONE);this.imageResourcesPath=t.imageResourcesPath||"";this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1;this.removePageBorders=t.removePageBorders||!1;this.isOffscreenCanvasSupported=null===(d=t.isOffscreenCanvasSupported)||void 0===d||d;this.maxCanvasPixels=t.maxCanvasPixels;this.l10n=t.l10n||c.NullL10n;_classPrivateFieldSet(this,C,t.enablePermissions||!1);this.pageColors=t.pageColors||null;this.defaultRenderingQueue=!t.renderingQueue;if(this.defaultRenderingQueue){this.renderingQueue=new p.PDFRenderingQueue;this.renderingQueue.setViewer(this)}else this.renderingQueue=t.renderingQueue;this.scroll=(0,u.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=u.PresentationModeState.UNKNOWN;this._onBeforeDraw=this._onAfterDraw=null;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders");_classPrivateMethodGet(this,Q,_updateContainerHeightCss2).call(this);this.eventBus._on("thumbnailrendered",(function(t){var r=t.pageNumber,i=t.pdfPage,a=y._pages[r-1];_classPrivateFieldGet(y,P).has(a)||null==i||i.cleanup()}));this.l10n===c.NullL10n&&this.l10n.translate(this.container)}_createClass(PDFViewer,[{key:"pagesCount",get:function get(){return this._pages.length}},{key:"getPageView",value:function getPageView(t){return this._pages[t]}},{key:"getCachedPageViews",value:function getCachedPageViews(){return new Set(_classPrivateFieldGet(this,P))}},{key:"pageViewsReady",get:function get(){return this._pagesCapability.settled&&this._pages.every((function(t){return null==t?void 0:t.pdfPage}))}},{key:"renderForms",get:function get(){return _classPrivateFieldGet(this,x)===l.AnnotationMode.ENABLE_FORMS}},{key:"enableScripting",get:function get(){return!!this._scriptingManager}},{key:"currentPageNumber",get:function get(){return this._currentPageNumber},set:function set(t){if(!Number.isInteger(t))throw new Error("Invalid page number.");if(this.pdfDocument){var r=Math.abs(this._currentPageNumber-t)<=2;this._setCurrentPageNumber(t,!0)||globalThis.ngxConsole.error('currentPageNumber: "'.concat(t,'" is not a valid page.'));this.pageFlip&&(r?this.pageFlip.flip(t-1):this.pageFlip.turnToPage(t-1))}}},{key:"hidePagesDependingOnpageViewMode",value:function hidePagesDependingOnpageViewMode(){var t=this;"book"===this.pageViewMode&&(this.pageFlip||setTimeout((function(){if(!t.pageFlip){var r=t._pages[0].div,i=r.parentElement,a=i.parentElement;a.style.width=2*r.clientWidth+"px";a.style.overflow="hidden";a.style.marginLeft="auto";a.style.marginRight="auto";t.pageFlip=new h.PageFlip(i,{width:r.clientWidth,height:r.clientHeight,showCover:!0,size:"fixed"});t.pageFlip.loadFromHTML(document.querySelectorAll(".page"));t.ensureAdjecentPagesAreLoaded();t.pageFlip.on("flip",(function(r){t._currentPageNumber!==r.data+1&&t._setCurrentPageNumber(r.data+1,!1)}))}}),100))}},{key:"_setCurrentPageNumber",value:function _setCurrentPageNumber(t){var r,i,a=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===t){o&&_classPrivateMethodGet(this,X,_resetCurrentPageView2).call(this);return!0}if(!(0<t&&t<=this.pagesCount))return!1;var l=this._currentPageNumber;this._currentPageNumber=t;this.hidePagesDependingOnpageViewMode();if("book"===this.pageViewMode||"infinite-scroll"===this.pageViewMode){var u=this._pages[this.currentPageNumber-1];if(u.div.parentElement.classList.contains("spread"))u.div.parentElement.childNodes.forEach((function(t){var r=Number(t.getAttribute("data-page-number")),i=a._pages[r-1];_classPrivateMethodGet(a,$,_ensurePdfPageLoaded2).call(a,i).then((function(){a.renderingQueue.renderView(i)}));t.style.display="inline-block"}));else{_classPrivateMethodGet(this,$,_ensurePdfPageLoaded2).call(this,u).then((function(){a.renderingQueue.renderView(u)}));"book"===this.pageViewMode&&this.ensureAdjecentPagesAreLoaded()}}this.eventBus.dispatch("pagechanging",{source:this,pageNumber:t,pageLabel:null!==(r=null===(i=this._pageLabels)||void 0===i?void 0:i[t-1])&&void 0!==r?r:null,previous:l});o&&_classPrivateMethodGet(this,X,_resetCurrentPageView2).call(this);return!0}},{key:"addPageToRenderQueue",value:function addPageToRenderQueue(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(r>=0&&r<=this._pages.length-1){var i=this._pages[r];if(i.renderingState===u.RenderingStates.INITIAL){_classPrivateMethodGet(this,$,_ensurePdfPageLoaded2).call(this,i).then((function(){t.renderingQueue.renderView(i)}));return!0}}return!1}},{key:"ensureAdjecentPagesAreLoaded",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t,r,i,a,o,l,u=this;return _regeneratorRuntime().wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:t=0,r=[0,1,-1,2,-2];case 2:if(!(t<r.length)){c.next=12;break}i=r[t];if(!((a=this.currentPageNumber+i)>=0&&a<this._pages.length)){c.next=9;break}o=this._pages[a];c.next=9;return _classPrivateMethodGet(this,$,_ensurePdfPageLoaded2).call(this,o);case 9:t++;c.next=2;break;case 12:l=function loader(){return u.adjacentPagesLoader(loader)};this.eventBus._on("pagerendered",l);this.eventBus._on("thumbnailRendered",l);case 15:case"end":return c.stop()}}),_callee,this)}))),function ensureAdjecentPagesAreLoaded(){return r.apply(this,arguments)})},{key:"adjacentPagesLoader",value:function adjacentPagesLoader(t){var r=this._pages.some((function(t){return t.renderingState===u.RenderingStates.RUNNING}));if(!r){var i=this._pages.find((function(t){return t.renderingState===u.RenderingStates.PAUSED}));if(i)this.renderingQueue.renderView(i);else{for(var a=0,o=[0,1,-1,2,-2];a<o.length;a++){var l=o[a],c=this.currentPageNumber+l;if(c>=0&&c<this._pages.length){var h=this._pages[c];if(h.renderingState===u.RenderingStates.INITIAL){this.renderingQueue.renderView(h);return}}}this.eventBus._off("pagerendered",t);this.eventBus._off("thumbnailRendered",t)}}}},{key:"currentPageLabel",get:function get(){var t,r;return null!==(t=null===(r=this._pageLabels)||void 0===r?void 0:r[this._currentPageNumber-1])&&void 0!==t?t:null},set:function set(t){if(this.pdfDocument){var r=0|t;if(this._pageLabels){var i=this._pageLabels.indexOf(t);i>=0&&(r=i+1)}this._setCurrentPageNumber(r,!0)||globalThis.ngxConsole.error('currentPageLabel: "'.concat(t,'" is not a valid page.'))}}},{key:"currentScale",get:function get(){return this._currentScale!==u.UNKNOWN_SCALE?this._currentScale:u.DEFAULT_SCALE},set:function set(t){if(isNaN(t))throw new Error("Invalid numeric scale.");this.pdfDocument&&_classPrivateMethodGet(this,Y,_setScale2).call(this,t,{noScroll:!1})}},{key:"currentScaleValue",get:function get(){return this._currentScaleValue},set:function set(t){this.pdfDocument&&_classPrivateMethodGet(this,Y,_setScale2).call(this,t,{noScroll:!1})}},{key:"pagesRotation",get:function get(){return this._pagesRotation},set:function set(t){if(!(0,u.isValidRotation)(t))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument){(t%=360)<0&&(t+=360);if(this._pagesRotation!==t){this._pagesRotation=t;var r=this._currentPageNumber;this.refresh(!0,{rotation:t});this._currentScaleValue&&_classPrivateMethodGet(this,Y,_setScale2).call(this,this._currentScaleValue,{noScroll:!0});this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:t,pageNumber:r});this.defaultRenderingQueue&&this.update()}}}},{key:"firstPagePromise",get:function get(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function get(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function get(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_layerProperties",get:function get(){var t=this;return(0,l.shadow)(this,"_layerProperties",{get annotationEditorUIManager(){return _classPrivateFieldGet(t,E)},get annotationStorage(){var r;return null===(r=t.pdfDocument)||void 0===r?void 0:r.annotationStorage},get downloadManager(){return t.downloadManager},get enableScripting(){return!!t._scriptingManager},get fieldObjectsPromise(){var r;return null===(r=t.pdfDocument)||void 0===r?void 0:r.getFieldObjects()},get findController(){return t.findController},get hasJSActionsPromise(){var r;return null===(r=t.pdfDocument)||void 0===r?void 0:r.hasJSActions()},get linkService(){return t.linkService}})}},{key:"getAllText",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var t,r,i,a,o,l,c,h,d,p;return _regeneratorRuntime().wrap((function _callee2$(v){for(;;)switch(v.prev=v.next){case 0:t=[];r=[];i=1,a=this.pdfDocument.numPages;case 3:if(!(i<=a)){v.next=20;break}if(!_classPrivateFieldGet(this,O)){v.next=6;break}return v.abrupt("return",null);case 6:r.length=0;v.next=9;return this.pdfDocument.getPage(i);case 9:o=v.sent;v.next=12;return o.getTextContent();case 12:l=v.sent;c=l.items;h=_createForOfIteratorHelper(c);try{for(h.s();!(d=h.n()).done;){(p=d.value).str&&r.push(p.str);p.hasEOL&&r.push("\n")}}catch(t){h.e(t)}finally{h.f()}t.push((0,u.removeNullCharacters)(r.join("")));case 17:++i;v.next=3;break;case 20:return v.abrupt("return",t.join("\n"));case 21:case"end":return v.stop()}}),_callee2,this)}))),function getAllText(){return t.apply(this,arguments)})},{key:"setDocument",value:function setDocument(t){var r=this;if(this.pdfDocument){var i,a;this.eventBus.dispatch("pagesdestroy",{source:this});this._cancelRendering();this._resetView();null===(i=this.findController)||void 0===i||i.setDocument(null);null===(a=this._scriptingManager)||void 0===a||a.setDocument(null);if(_classPrivateFieldGet(this,E)){_classPrivateFieldGet(this,E).destroy();_classPrivateFieldSet(this,E,null)}}this.pdfDocument=t;if(t){var o=t.numPages,c=t.getPage(1),h=t.getOptionalContentConfig(),p=_classPrivateFieldGet(this,C)?t.getPermissions():Promise.resolve();if(o>g.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");var v=this._scrollMode=u.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:v})}this._pagesCapability.promise.then((function(){r.eventBus.dispatch("pagesloaded",{source:r,pagesCount:o})}),(function(){}));this._onBeforeDraw=function(t){var i=r._pages[t.pageNumber-1];i&&_classPrivateFieldGet(r,P).push(i)};this.eventBus._on("pagerender",this._onBeforeDraw);this._onAfterDraw=function(t){if(!t.cssTransform&&!r._onePageRenderedCapability.settled){r._onePageRenderedCapability.resolve({timestamp:t.timestamp});r.eventBus._off("pagerendered",r._onAfterDraw);r._onAfterDraw=null;if(_classPrivateFieldGet(r,R)){document.removeEventListener("visibilitychange",_classPrivateFieldGet(r,R));_classPrivateFieldSet(r,R,null)}}};this.eventBus._on("pagerendered",this._onAfterDraw);Promise.all([c,p]).then((function(i){var a,c,p,v,y=(v=2,_arrayWithHoles(p=i)||_iterableToArrayLimit(p,v)||_unsupportedIterableToArray(p,v)||_nonIterableRest()),m=y[0],_=y[1];if(t===r.pdfDocument){r._firstPageCapability.resolve(m);r._optionalContentConfigPromise=h;var b=_classPrivateMethodGet(r,N,_initializePermissions2).call(r,_),w=b.annotationEditorMode,P=b.annotationMode,x=b.textLayerMode;if(x!==u.TextLayerMode.DISABLE){var k=_classPrivateFieldSet(r,I,document.createElement("div"));k.id="hiddenCopyElement";r.viewer.before(k)}if(w!==l.AnnotationEditorType.DISABLE){var C=w;if(t.isPureXfa)console.warn("Warning: XFA-editing is not implemented.");else if(isValidAnnotationEditorMode(C)){_classPrivateFieldSet(r,E,new l.AnnotationEditorUIManager(r.container,r.viewer,_classPrivateFieldGet(r,A),r.eventBus,t,r.pageColors));C!==l.AnnotationEditorType.NONE&&_classPrivateFieldGet(r,E).updateMode(C)}else console.error("Invalid AnnotationEditor mode: ".concat(C))}var T=r._scrollMode===u.ScrollMode.PAGE?null:r.viewer,O=r.currentScale,M=m.getViewport({scale:O*l.PixelsPerInch.PDF_TO_CSS_UNITS});r.viewer.style.setProperty("--scale-factor",M.scale);"CanvasText"!==(null===(a=r.pageColors)||void 0===a?void 0:a.foreground)&&"Canvas"!==(null===(c=r.pageColors)||void 0===c?void 0:c.background)||r.viewer.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(var L=1;L<=o;++L){var G=new d.PDFPageView({container:T,eventBus:r.eventBus,id:L,scale:O,defaultViewport:M.clone(),optionalContentConfigPromise:h,renderingQueue:r.renderingQueue,textLayerMode:x,annotationMode:P,imageResourcesPath:r.imageResourcesPath,removePageBorders:r.removePageBorders,useOnlyCssZoom:r.useOnlyCssZoom,isOffscreenCanvasSupported:r.isOffscreenCanvasSupported,maxCanvasPixels:r.maxCanvasPixels,pageColors:r.pageColors,l10n:r.l10n,layerProperties:r._layerProperties});r._pages.push(G)}var R=r._pages[0];if(R){R.setPdfPage(m);r.linkService.cachePageRef(1,m.ref)}r._scrollMode===u.ScrollMode.PAGE?_classPrivateMethodGet(r,z,_ensurePageViewVisible2).call(r):r._spreadMode!==u.SpreadMode.NONE&&r._updateSpreadMode();_classPrivateMethodGet(r,W,_onePageRenderedOrForceFetch2).call(r).then(_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var i,a,l,u,c;return _regeneratorRuntime().wrap((function _callee3$(h){for(;;)switch(h.prev=h.next){case 0:null===(i=r.findController)||void 0===i||i.setDocument(t);null===(a=r._scriptingManager)||void 0===a||a.setDocument(t);if(_classPrivateFieldGet(r,I)){_classPrivateFieldSet(r,D,_classPrivateMethodGet(r,V,_copyCallback2).bind(r,x));document.addEventListener("copy",_classPrivateFieldGet(r,D))}_classPrivateFieldGet(r,E)&&r.eventBus.dispatch("annotationeditormodechanged",{source:r,mode:_classPrivateFieldGet(r,S)});if(!(t.loadingParams.disableAutoFetch||o>g.FORCE_LAZY_PAGE_INIT)){h.next=7;break}r._pagesCapability.resolve();return h.abrupt("return");case 7:if(!((l=o-1)<=0)){h.next=11;break}r._pagesCapability.resolve();return h.abrupt("return");case 11:u=_regeneratorRuntime().mark((function _loop(i){var a;return _regeneratorRuntime().wrap((function _loop$(o){for(;;)switch(o.prev=o.next){case 0:a=t.getPage(i).then((function(t){var a=r._pages[i-1];a.pdfPage||a.setPdfPage(t);r.linkService.cachePageRef(i,t.ref);0==--l&&r._pagesCapability.resolve()}),(function(t){console.error("Unable to get page ".concat(i," to initialize viewer"),t);0==--l&&r._pagesCapability.resolve()}));if(i%g.PAUSE_EAGER_PAGE_INIT!=0){o.next=4;break}o.next=4;return a;case 4:case"end":return o.stop()}}),_loop)}));c=2;case 13:if(!(c<=o)){h.next=18;break}return h.delegateYield(u(c),"t0",15);case 15:++c;h.next=13;break;case 18:case"end":return h.stop()}}),_callee3)}))));r.hidePagesDependingOnpageViewMode();r.eventBus.dispatch("pagesinit",{source:r});t.getMetadata().then((function(i){var a=i.info;t===r.pdfDocument&&a.Language&&(r.viewer.lang=a.Language)}));r.defaultRenderingQueue&&r.update()}})).catch((function(t){globalThis.ngxConsole.error("Unable to initialize viewer",t);r._pagesCapability.reject(t)}))}}},{key:"setPageLabels",value:function setPageLabels(t){if(this.pdfDocument){if(t)if(Array.isArray(t)&&this.pdfDocument.numPages===t.length)this._pageLabels=t;else{this._pageLabels=null;globalThis.ngxConsole.error("setPageLabels: Invalid page labels.")}else this._pageLabels=null;for(var r=0,i=this._pages.length;r<i;r++){var a,o;this._pages[r].setPageLabel(null!==(a=null===(o=this._pageLabels)||void 0===o?void 0:o[r])&&void 0!==a?a:null)}}}},{key:"_resetView",value:function _resetView(){this._pages=[];this._currentPageNumber=1;this._currentScale=u.UNKNOWN_SCALE;this._currentScaleValue=null;this._pageLabels=null;var t=Number(PDFViewerApplicationOptions.get("defaultCacheSize"))||10;_classPrivateFieldSet(this,P,new w(t));this._location=null;this._pagesRotation=0;this._optionalContentConfigPromise=null;this._firstPageCapability=new l.PromiseCapability;this._onePageRenderedCapability=new l.PromiseCapability;this._pagesCapability=new l.PromiseCapability;this._scrollMode=u.ScrollMode.VERTICAL;this._previousScrollMode=u.ScrollMode.UNKNOWN;this._spreadMode=u.SpreadMode.NONE;_classPrivateFieldSet(this,G,{previousPageNumber:1,scrollDown:!0,pages:[]});if(this._onBeforeDraw){this.eventBus._off("pagerender",this._onBeforeDraw);this._onBeforeDraw=null}if(this._onAfterDraw){this.eventBus._off("pagerendered",this._onAfterDraw);this._onAfterDraw=null}if(_classPrivateFieldGet(this,R)){document.removeEventListener("visibilitychange",_classPrivateFieldGet(this,R));_classPrivateFieldSet(this,R,null)}this.viewer.textContent="";this._updateScrollMode();this.viewer.removeAttribute("lang");if(_classPrivateFieldGet(this,I)){document.removeEventListener("copy",_classPrivateFieldGet(this,D));_classPrivateFieldSet(this,D,null);_classPrivateFieldGet(this,I).remove();_classPrivateFieldSet(this,I,null)}}},{key:"_scrollUpdate",value:function _scrollUpdate(){0!==this.pagesCount&&this.update()}},{key:"scrollPagePosIntoView",value:function scrollPagePosIntoView(t,r){var i=this._pages[t-1].div;if(r){var a=_objectSpread({},r);if("string"==typeof a.top&&a.top.endsWith("%")){var o,l=Number(a.top.replace("%","")),u=null===(o=this.viewer.querySelector(".page"))||void 0===o?void 0:o.clientHeight,c=i.clientHeight?i.clientHeight:u,h=this.viewer.parentElement.clientHeight;c=Math.max(0,c-h);a.top=l*c/100}if("string"==typeof a.left&&a.left.endsWith("%")){var d,p=Number(a.left.replace("%","")),v=null===(d=this.viewer.querySelector(".page"))||void 0===d?void 0:d.clientWidth,y=i.clientWidth?i.clientWidth:v;a.left=p*y/100}_classPrivateMethodGet(this,H,_scrollIntoView2).call(this,{div:i,id:t},a)}else _classPrivateMethodGet(this,H,_scrollIntoView2).call(this,{pageDiv:i,pageNumber:t})}},{key:"pageLabelToPageNumber",value:function pageLabelToPageNumber(t){if(!this._pageLabels)return null;var r=this._pageLabels.indexOf(t);return r<0?null:r+1}},{key:"scrollPageIntoView",value:function scrollPageIntoView(t){var r=this,i=t.pageNumber,a=t.destArray,o=void 0===a?null:a,c=t.allowNegativeOffset,h=void 0!==c&&c,d=t.ignoreDestinationZoom,p=void 0!==d&&d;if(this.pdfDocument){var v=Number.isInteger(i)&&this._pages[i-1];if(v)if(!this.isInPresentationMode&&o){var y,g,m=0,_=0,b=0,w=0,P=v.rotation%180!=0,A=(P?v.height:v.width)/v.scale/l.PixelsPerInch.PDF_TO_CSS_UNITS,S=(P?v.width:v.height)/v.scale/l.PixelsPerInch.PDF_TO_CSS_UNITS,E=0;switch(o[1].name){case"XYZ":m=o[2];_=o[3];E=o[4];m=null!==m?m:0;_=null!==_?_:S;break;case"Fit":case"FitB":E="page-fit";break;case"FitH":case"FitBH":E="page-width";if(null===(_=o[2])&&this._location){m=this._location.left;_=this._location.top}else("number"!=typeof _||_<0)&&(_=S);break;case"FitV":case"FitBV":m=o[2];b=A;w=S;E="page-height";break;case"FitR":m=o[2];_=o[3];b=o[4]-m;w=o[5]-_;var x=u.SCROLLBAR_PADDING,k=u.VERTICAL_PADDING;this.removePageBorders&&(x=k=0);y=(this.container.clientWidth-x)/b/l.PixelsPerInch.PDF_TO_CSS_UNITS;g=(this.container.clientHeight-k)/w/l.PixelsPerInch.PDF_TO_CSS_UNITS;E=Math.min(Math.abs(y),Math.abs(g));break;default:console.error('scrollPageIntoView: "'.concat(o[1].name,'" is not a valid destination type.'));return}p||(E&&E!==this._currentScale?this.currentScaleValue=E:this._currentScale===u.UNKNOWN_SCALE&&(this.currentScaleValue=u.DEFAULT_SCALE_VALUE));_classPrivateMethodGet(this,$,_ensurePdfPageLoaded2).call(this,v).then((function(){r.renderingQueue.renderView(v);"single"===r.pageViewMode&&r.currentPageNumber!==i&&(r.currentPageNumber=i)}));if("page-fit"!==E||o[4]){var D=[v.viewport.convertToViewportPoint(m,_),v.viewport.convertToViewportPoint(m+b,_+w)],C=Math.min(D[0][0],D[1][0]),T=Math.min(D[0][1],D[1][1]);if(!h){C=Math.max(C,0);T=Math.max(T,0)}_classPrivateMethodGet(this,H,_scrollIntoView2).call(this,v,{left:C,top:T})}else _classPrivateMethodGet(this,H,_scrollIntoView2).call(this,v)}else this._setCurrentPageNumber(i,!0);else console.error('scrollPageIntoView: "'.concat(i,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function _updateLocation(t){var r=this._currentScale,i=this._currentScaleValue,a=parseFloat(i)===r?Math.round(1e4*r)/100:i,o=t.id,l=this._pages[o-1],u=this.container,c=l.getPagePoint(u.scrollLeft-t.x,u.scrollTop-t.y),h=Math.round(c[0]),d=Math.round(c[1]),p="#page=".concat(o);this.isInPresentationMode||(p+="&zoom=".concat(a,",").concat(h,",").concat(d));this._location={pageNumber:o,scale:a,top:d,left:h,rotation:this._pagesRotation,pdfOpenParams:p}}},{key:"update",value:function update(){this.scrollMode===u.ScrollMode.PAGE?this.viewer.classList.add("singlePageView"):this.viewer.classList.remove("singlePageView");var t=this._getVisiblePages(),r=t.views,i=r.length;if(0!==i){var a=Number(PDFViewerApplicationOptions.get("defaultCacheSize"))||10,o=Math.max(a,2*i+1);_classPrivateFieldGet(this,P).resize(o,t.ids);this.renderingQueue.renderHighestPriority(t);var l,c=this._spreadMode===u.SpreadMode.NONE&&(this._scrollMode===u.ScrollMode.PAGE||this._scrollMode===u.ScrollMode.VERTICAL),h=this._currentPageNumber,d=!1,p=_createForOfIteratorHelper(r);try{for(p.s();!(l=p.n()).done;){var v=l.value;if(v.percent<100)break;if(v.id===h&&c){d=!0;break}}}catch(t){p.e(t)}finally{p.f()}if(this.scrollMode!==u.ScrollMode.PAGE){this._setCurrentPageNumber(d?h:r[0].id);this._updateLocation(t.first);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}this.hidePagesDependingOnpageViewMode()}}},{key:"containsElement",value:function containsElement(t){return this.container.contains(t)}},{key:"focus",value:function focus(){this.container.focus()}},{key:"_isContainerRtl",get:function get(){return"rtl"===getComputedStyle(this.container).direction}},{key:"isInPresentationMode",get:function get(){return this.presentationModeState===u.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function get(){return this.presentationModeState===u.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function get(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function get(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"_getVisiblePages",value:function _getVisiblePages(){var t=this._scrollMode===u.ScrollMode.PAGE?_classPrivateFieldGet(this,G).pages:this._pages,r=this._scrollMode===u.ScrollMode.HORIZONTAL,i=r&&this._isContainerRtl;return(0,u.getVisibleElements)({scrollEl:this.container,views:t,sortByVisibility:!0,horizontal:r,rtl:i})}},{key:"cleanup",value:function cleanup(){var t,r=_createForOfIteratorHelper(this._pages);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.renderingState!==u.RenderingStates.FINISHED&&i.reset()}}catch(t){r.e(t)}finally{r.f()}}},{key:"_cancelRendering",value:function _cancelRendering(){var t,r=_createForOfIteratorHelper(this._pages);try{for(r.s();!(t=r.n()).done;){t.value.cancelRendering()}}catch(t){r.e(t)}finally{r.f()}}},{key:"forceRendering",value:function forceRendering(t){var r=this,i=t||this._getVisiblePages(),a=_classPrivateMethodGet(this,Z,_getScrollAhead2).call(this,i),o=this._spreadMode!==u.SpreadMode.NONE&&this._scrollMode!==u.ScrollMode.HORIZONTAL,l=this.renderingQueue.getHighestPriority(i,this._pages,a,o);if(l){_classPrivateMethodGet(this,$,_ensurePdfPageLoaded2).call(this,l).then((function(){r.renderingQueue.renderView(l)}));return!0}return!1}},{key:"hasEqualPageSizes",get:function get(){for(var t=this._pages[0],r=1,i=this._pages.length;r<i;++r){var a=this._pages[r];if(a.width!==t.width||a.height!==t.height)return!1}return!0}},{key:"getPagesOverview",value:function getPagesOverview(){var t,r=this;return this._pages.map((function(i){var a=i.pdfPage.getViewport({scale:1}),o=(0,u.isPortraitOrientation)(a);if(void 0===t)t=o;else if(r.enablePrintAutoRotate&&o!==t)return{width:a.height,height:a.width,rotation:(a.rotation-90)%360};return{width:a.width,height:a.height,rotation:a.rotation}}))}},{key:"optionalContentConfigPromise",get:function get(){if(!this.pdfDocument)return Promise.resolve(null);if(!this._optionalContentConfigPromise){console.error("optionalContentConfigPromise: Not initialized yet.");return this.pdfDocument.getOptionalContentConfig()}return this._optionalContentConfigPromise},set:function set(t){if(!(t instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(t));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=t;this.refresh(!1,{optionalContentConfigPromise:t});this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:t})}}},{key:"scrollMode",get:function get(){return this._scrollMode},set:function set(t){if(this._scrollMode!==t){if(!(0,u.isValidScrollMode)(t))throw new Error("Invalid scroll mode: ".concat(t));if(!(this.pagesCount>g.FORCE_SCROLL_MODE_PAGE)){this._previousScrollMode=this._scrollMode;this._scrollMode=t;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:t});this._updateScrollMode(this._currentPageNumber)}}}},{key:"_updateScrollMode",value:function _updateScrollMode(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",r===u.ScrollMode.HORIZONTAL);i.classList.toggle("scrollWrapped",r===u.ScrollMode.WRAPPED);if(this.pdfDocument&&t){r===u.ScrollMode.PAGE?_classPrivateMethodGet(this,z,_ensurePageViewVisible2).call(this):this._previousScrollMode===u.ScrollMode.PAGE&&this._updateSpreadMode();this._currentScaleValue&&isNaN(this._currentScaleValue)&&_classPrivateMethodGet(this,Y,_setScale2).call(this,this._currentScaleValue,{noScroll:!0});this._setCurrentPageNumber(t,!0);this.update()}}},{key:"spreadMode",get:function get(){return this._spreadMode},set:function set(t){if(this._spreadMode!==t){if(!(0,u.isValidSpreadMode)(t))throw new Error("Invalid spread mode: ".concat(t));this._spreadMode=t;this.eventBus.dispatch("spreadmodechanged",{source:this,mode:t});this._updateSpreadMode(this._currentPageNumber)}}},{key:"_updateSpreadMode",value:function _updateSpreadMode(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var r=this.viewer,i=this._pages;if(this._scrollMode===u.ScrollMode.PAGE)_classPrivateMethodGet(this,z,_ensurePageViewVisible2).call(this);else{r.textContent="";if(this._spreadMode===u.SpreadMode.NONE){var a,o=_createForOfIteratorHelper(this._pages);try{for(o.s();!(a=o.n()).done;){var l=a.value;r.append(l.div)}}catch(t){o.e(t)}finally{o.f()}}else for(var c=this._spreadMode-1,h=null,d=0,p=i.length;d<p;++d){if(null===h){(h=document.createElement("div")).className="spread";r.append(h)}else if(d%2===c){h=h.cloneNode(!1);r.append(h)}h.append(i[d].div)}}this.hidePagesDependingOnpageViewMode();if(t){this._currentScaleValue&&isNaN(this._currentScaleValue)&&_classPrivateMethodGet(this,Y,_setScale2).call(this,this._currentScaleValue,{noScroll:!0});this._setCurrentPageNumber(t,!0);this.update()}}}},{key:"_getPageAdvance",value:function _getPageAdvance(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("book"===this.pageViewMode)return 2;switch(this._scrollMode){case u.ScrollMode.WRAPPED:var i,a=this._getVisiblePages().views,o=new Map,l=_createForOfIteratorHelper(a);try{for(l.s();!(i=l.n()).done;){var c=i.value,h=c.id,d=c.y,p=c.percent,v=c.widthPercent;if(!(0===p||v<100)){var y=o.get(d);y||o.set(d,y||(y=[]));y.push(h)}}}catch(t){l.e(t)}finally{l.f()}var g,m=_createForOfIteratorHelper(o.values());try{for(m.s();!(g=m.n()).done;){var _=g.value,b=_.indexOf(t);if(-1!==b){var w=_.length;if(1===w)break;if(r)for(var P=b-1;P>=0;P--){var A=_[P],S=_[P+1]-1;if(A<S)return t-S}else for(var E=b+1,x=w;E<x;E++){var k=_[E],D=_[E-1]+1;if(k>D)return D-t}if(r){var C=_[0];if(C<t)return t-C+1}else{var T=_[w-1];if(T>t)return T-t+1}break}}}catch(t){m.e(t)}finally{m.f()}break;case u.ScrollMode.HORIZONTAL:break;case u.ScrollMode.PAGE:case u.ScrollMode.VERTICAL:if(this._spreadMode===u.SpreadMode.NONE)break;var I=this._spreadMode-1;if(r&&t%2!==I)break;if(!r&&t%2===I)break;var O,M=r?t-1:t+1,L=_createForOfIteratorHelper(this._getVisiblePages().views);try{for(L.s();!(O=L.n()).done;){var G=O.value,R=G.id,j=G.percent,B=G.widthPercent;if(R===M){if(j>0&&100===B)return 2;break}}}catch(t){L.e(t)}finally{L.f()}}return 1}},{key:"nextPage",value:function nextPage(){var t=this._currentPageNumber,r=this.pagesCount;if(t>=r)return!1;var i=this._getPageAdvance(t,!1)||1;this.currentPageNumber=Math.min(t+i,r);return!0}},{key:"previousPage",value:function previousPage(){var t=this._currentPageNumber;if(t<=1)return!1;var r=this._getPageAdvance(t,!0)||1;this.currentPageNumber=Math.max(t-r,1);return!0}},{key:"increaseScale",value:function increaseScale(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.drawingDelay,i=t.scaleFactor,a=t.steps;if(this.pdfDocument){var o=this._currentScale;if(i>1)o=Math.round(o*i*100)/100;else{var l;null!==(l=a)&&void 0!==l||(a=1);do{o=Math.ceil(10*(o*u.DEFAULT_SCALE_DELTA).toFixed(2))/10}while(--a>0&&o<u.MAX_SCALE)}var c=Number(PDFViewerApplicationOptions.get("maxZoom"));c||(c=u.MAX_SCALE);_classPrivateMethodGet(this,Y,_setScale2).call(this,Math.min(c,o),{noScroll:!1,drawingDelay:r})}}},{key:"decreaseScale",value:function decreaseScale(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.drawingDelay,i=t.scaleFactor,a=t.steps;if(this.pdfDocument){var o=this._currentScale;if(i>0&&i<1)o=Math.round(o*i*100)/100;else{var l;null!==(l=a)&&void 0!==l||(a=1);do{o=Math.floor(10*(o/u.DEFAULT_SCALE_DELTA).toFixed(2))/10}while(--a>0&&o>u.MIN_SCALE)}var c=Number(PDFViewerApplicationOptions.get("minZoom"));c||(c=u.MIN_SCALE);_classPrivateMethodGet(this,Y,_setScale2).call(this,Math.max(c,o),{noScroll:!1,drawingDelay:r})}}},{key:"containerTopLeft",get:function get(){return _classPrivateFieldGet(this,k)||_classPrivateFieldSet(this,k,[this.container.offsetTop,this.container.offsetLeft])}},{key:"annotationEditorMode",get:function get(){return _classPrivateFieldGet(this,E)?_classPrivateFieldGet(this,S):l.AnnotationEditorType.DISABLE},set:function set(t){var r=t.mode,i=t.editId,a=void 0===i?null:i,o=t.isFromKeyboard,l=void 0!==o&&o;if(!_classPrivateFieldGet(this,E))throw new Error("The AnnotationEditor is not enabled.");if(_classPrivateFieldGet(this,S)!==r){if(!isValidAnnotationEditorMode(r))throw new Error("Invalid AnnotationEditor mode: ".concat(r));if(this.pdfDocument){_classPrivateFieldSet(this,S,r);this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:r});_classPrivateFieldGet(this,E).updateMode(r,a,l)}}}},{key:"annotationEditorParams",set:function set(t){var r=t.type,i=t.value;if(!_classPrivateFieldGet(this,E))throw new Error("The AnnotationEditor is not enabled.");_classPrivateFieldGet(this,E).updateParams(r,i)}},{key:"refresh",value:function refresh(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null);if(this.pdfDocument){var i,a=_createForOfIteratorHelper(this._pages);try{for(a.s();!(i=a.n()).done;){i.value.update(r)}}catch(t){a.e(t)}finally{a.f()}if(null!==_classPrivateFieldGet(this,j)){clearTimeout(_classPrivateFieldGet(this,j));_classPrivateFieldSet(this,j,null)}t||this.update()}}},{key:"getSerializedAnnotations",value:function getSerializedAnnotations(){var t=this.pdfDocument.annotationStorage.getAll();if(t){return Object.values(t).map((function(t){return t.serialize()}))}return null}},{key:"addEditorAnnotation",value:function addEditorAnnotation(t){Array.isArray(t)||(t=[t]);_classPrivateFieldGet(this,E).addSerializedEditor(t,!0,!0,!1)}},{key:"removeEditorAnnotations",value:function removeEditorAnnotations(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};_classPrivateFieldGet(this,E).removeEditors(t)}},{key:"destroyBookMode",value:function destroyBookMode(){if(this.pageFlip){this.pageFlip.destroy();this.pageFlip=null}}},{key:"stopRendering",value:function stopRendering(){this._cancelRendering()}}]);var t,r;return PDFViewer}();function _initializePermissions2(t){var r={annotationEditorMode:_classPrivateFieldGet(this,S),annotationMode:_classPrivateFieldGet(this,x),textLayerMode:_classPrivateFieldGet(this,B)};if(!t)return r;t.includes(l.PermissionFlag.COPY)||_classPrivateFieldGet(this,B)!==u.TextLayerMode.ENABLE||(r.textLayerMode=u.TextLayerMode.ENABLE_PERMISSIONS);t.includes(l.PermissionFlag.MODIFY_CONTENTS)||(r.annotationEditorMode=l.AnnotationEditorType.DISABLE);t.includes(l.PermissionFlag.MODIFY_ANNOTATIONS)||t.includes(l.PermissionFlag.FILL_INTERACTIVE_FORMS)||_classPrivateFieldGet(this,x)!==l.AnnotationMode.ENABLE_FORMS||(r.annotationMode=l.AnnotationMode.ENABLE);return r}function _onePageRenderedOrForceFetch2(){var t=this;if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();var r=new Promise((function(r){_classPrivateFieldSet(t,R,(function(){if("hidden"===document.visibilityState){r();document.removeEventListener("visibilitychange",_classPrivateFieldGet(t,R));_classPrivateFieldSet(t,R,null)}}));document.addEventListener("visibilitychange",_classPrivateFieldGet(t,R))}));return Promise.race([this._onePageRenderedCapability.promise,r])}function _copyCallback2(t,r){var i=this,a=document.getSelection(),o=a.focusNode;if(a.anchorNode&&o&&a.containsNode(_classPrivateFieldGet(this,I))){if(_classPrivateFieldGet(this,T)||t===u.TextLayerMode.ENABLE_PERMISSIONS){r.preventDefault();r.stopPropagation();return}_classPrivateFieldSet(this,T,!0);var l=this.container.style.cursor;this.container.style.cursor="wait";var c=function interruptCopy(t){return _classPrivateFieldSet(i,O,"Escape"===t.key)};window.addEventListener("keydown",c);this.getAllText().then(function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(t){return _regeneratorRuntime().wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:if(null===t){r.next=3;break}r.next=3;return navigator.clipboard.writeText(t);case 3:case"end":return r.stop()}}),_callee4)})));return function(r){return t.apply(this,arguments)}}()).catch((function(t){console.warn("Something goes wrong when extracting the text: ".concat(t.message))})).finally((function(){_classPrivateFieldSet(i,T,!1);_classPrivateFieldSet(i,O,!1);window.removeEventListener("keydown",c);i.container.style.cursor=l}));r.preventDefault();r.stopPropagation()}}function _ensurePageViewVisible2(){if(this._scrollMode!==u.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");var t=this._currentPageNumber,r=_classPrivateFieldGet(this,G),i=this.viewer;i.textContent="";r.pages.length=0;if(this._spreadMode!==u.SpreadMode.NONE||this.isInPresentationMode){var a=new Set,o=this._spreadMode-1;if(-1===o)a.add(t-1);else if(t%2!==o){a.add(t-1);a.add(t)}else{a.add(t-2);a.add(t-1)}var l=document.createElement("div");l.className="spread";if(this.isInPresentationMode){var c=document.createElement("div");c.className="dummyPage";l.append(c)}var h,d=_createForOfIteratorHelper(a);try{for(d.s();!(h=d.n()).done;){var p=h.value,v=this._pages[p];if(v){l.append(v.div);r.pages.push(v)}}}catch(t){d.e(t)}finally{d.f()}i.append(l)}else{var y=this._pages[t-1];i.append(y.div);r.pages.push(y)}r.scrollDown=t>=r.previousPageNumber;r.previousPageNumber=t}function _scrollIntoView2(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){var i=t.div,a=t.id;this._currentPageNumber!==a&&this._setCurrentPageNumber(a);if(this._scrollMode===u.ScrollMode.PAGE){_classPrivateMethodGet(this,z,_ensurePageViewVisible2).call(this);this.update()}if(!r&&!this.isInPresentationMode){var o=i.offsetLeft+i.clientLeft,l=o+i.clientWidth,c=this.container,h=c.scrollLeft,d=c.clientWidth;(this._scrollMode===u.ScrollMode.HORIZONTAL||o<h||l>h+d)&&(r={left:0,top:0})}(0,u.scrollIntoView)(i,r,!1,"infinite-scroll"===this.pageViewMode);!this._currentScaleValue&&this._location&&(this._location=null)}}function _isSameScale2(t){return t===this._currentScale||Math.abs(t-this._currentScale)<1e-15}function _setScaleUpdatePages2(t,r,i){var a=this,o=i.noScroll,u=void 0!==o&&o,c=i.preset,h=void 0!==c&&c,d=i.drawingDelay,p=void 0===d?-1:d,v=isNaN(Number(this.currentScale))?void 0:Number(this.currentScale),y=this.currentScaleValue;this._currentScaleValue=r.toString();if(_classPrivateMethodGet(this,U,_isSameScale2).call(this,t))h&&this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:r,previousScale:v,previousPresetValue:y});else{this.viewer.style.setProperty("--scale-factor",t*l.PixelsPerInch.PDF_TO_CSS_UNITS);var g=p>=0&&p<1e3;this.refresh(!0,{scale:t,drawingDelay:g?p:-1});g&&_classPrivateFieldSet(this,j,setTimeout((function(){_classPrivateFieldSet(a,j,null);a.refresh()}),p));this._currentScale=t;if(!u){var m,_=this._currentPageNumber;if(this._location&&!this.isInPresentationMode&&!this.isChangingPresentationMode){_=this._location.pageNumber;m=[null,{name:"XYZ"},this._location.left,this._location.top,null]}this.scrollPageIntoView({pageNumber:_,destArray:m,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:h?r:void 0,previousScale:v,previousPresetValue:y});this.defaultRenderingQueue&&this.update()}}function _get_pageWidthScaleFactor(){return this._spreadMode!==u.SpreadMode.NONE&&this._scrollMode!==u.ScrollMode.HORIZONTAL?2:1}function _setScale2(t,r){t||(t="auto");var i=parseFloat(t);if(this._currentScale!==i)if(i>0){r.preset=!1;_classPrivateMethodGet(this,q,_setScaleUpdatePages2).call(this,i,t,r)}else{var a=this._pages[this._currentPageNumber-1];if(!a)return;var o=u.SCROLLBAR_PADDING,l=u.VERTICAL_PADDING;if(this.isInPresentationMode){o=l=4;this._spreadMode!==u.SpreadMode.NONE&&(o*=2)}else if(this.removePageBorders)o=l=0;else if(this._scrollMode===u.ScrollMode.HORIZONTAL){var c=[l,o];o=c[0];l=c[1]}var h=(this.container.clientWidth-o)/a.width*a.scale/_classPrivateFieldGet(this,K),d=(this.container.clientHeight-l)/a.height*a.scale;switch(t){case"page-actual":i=1;break;case"page-width":i=h;break;case"page-height":i=d;break;case"page-fit":i=Math.min(h,d);break;case"auto":var p=(0,u.isPortraitOrientation)(a)?h:Math.min(d,h);i=Math.min(u.MAX_AUTO_SCALE,p);break;default:globalThis.ngxConsole.error('#setScale: "'.concat(t,'" is an unknown zoom value.'));return}r.preset=!0;_classPrivateMethodGet(this,q,_setScaleUpdatePages2).call(this,i,t,r)}}function _resetCurrentPageView2(){var t=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&_classPrivateMethodGet(this,Y,_setScale2).call(this,this._currentScaleValue,{noScroll:!0});_classPrivateMethodGet(this,H,_scrollIntoView2).call(this,t)}function _ensurePdfPageLoaded2(t){return _ensurePdfPageLoaded3.apply(this,arguments)}function _ensurePdfPageLoaded3(){return(_ensurePdfPageLoaded3=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(t){var r,i,a;return _regeneratorRuntime().wrap((function _callee5$(o){for(;;)switch(o.prev=o.next){case 0:if(!t.pdfPage){o.next=2;break}return o.abrupt("return",t.pdfPage);case 2:o.prev=2;o.next=5;return this.pdfDocument.getPage(t.id);case 5:a=o.sent;t.pdfPage||t.setPdfPage(a);null!==(r=(i=this.linkService)._cachedPageNumber)&&void 0!==r&&r.call(i,a.ref)||this.linkService.cachePageRef(t.id,a.ref);return o.abrupt("return",a);case 11:o.prev=11;o.t0=o.catch(2);console.error("Unable to get page for page view",o.t0);return o.abrupt("return",null);case 15:case"end":return o.stop()}}),_callee5,this,[[2,11]])})))).apply(this,arguments)}function _getScrollAhead2(t){var r,i;if(1===(null===(r=t.first)||void 0===r?void 0:r.id))return!0;if((null===(i=t.last)||void 0===i?void 0:i.id)===this.pagesCount)return!1;switch(this._scrollMode){case u.ScrollMode.PAGE:return _classPrivateFieldGet(this,G).scrollDown;case u.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function _updateContainerHeightCss2(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container.clientHeight;if(t!==_classPrivateFieldGet(this,M)){_classPrivateFieldSet(this,M,t);u.docStyle.setProperty("--viewer-container-height","".concat(t,"px"))}}function _resizeObserverCallback2(t){var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.target===this.container){_classPrivateMethodGet(this,Q,_updateContainerHeightCss2).call(this,Math.floor(a.borderBoxSize[0].blockSize));_classPrivateFieldSet(this,k,null);break}}}catch(t){i.e(t)}finally{i.f()}}a()}catch(te){a(te)}}))},1869:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{AbortException:()=>l,AnnotationEditorLayer:()=>u,AnnotationEditorParamsType:()=>c,AnnotationEditorType:()=>h,AnnotationEditorUIManager:()=>d,AnnotationLayer:()=>p,AnnotationMode:()=>v,DOMSVGFactory:()=>m,FeatureTest:()=>_,GlobalWorkerOptions:()=>E,InvalidPDFException:()=>x,MissingPDFException:()=>D,PDFDateString:()=>O,PDFWorker:()=>M,PasswordResponses:()=>I,PermissionFlag:()=>L,PixelsPerInch:()=>G,PromiseCapability:()=>R,RenderingCancelledException:()=>j,UnexpectedResponseException:()=>V,XfaLayer:()=>U,build:()=>y,createValidAbsoluteUrl:()=>g,fetchData:()=>b,getDocument:()=>w,getFilenameFromUrl:()=>P,getPdfFilenameFromUrl:()=>A,getXfaPageViewport:()=>S,isPdfFile:()=>k,noContextMenu:()=>C,normalizeUnicode:()=>T,renderTextLayer:()=>B,setLayerDimensions:()=>N,shadow:()=>W,updateTextLayer:()=>z,version:()=>H});i(1210);globalThis.pdfjsLib||await globalThis.pdfjsLibPromise;var o=globalThis.pdfjsLib,l=o.AbortException,u=o.AnnotationEditorLayer,c=o.AnnotationEditorParamsType,h=o.AnnotationEditorType,d=o.AnnotationEditorUIManager,p=o.AnnotationLayer,v=o.AnnotationMode,y=o.build,g=(o.CMapCompressionType,o.createValidAbsoluteUrl),m=o.DOMSVGFactory,_=(o.DrawLayer,o.FeatureTest),b=o.fetchData,w=o.getDocument,P=o.getFilenameFromUrl,A=o.getPdfFilenameFromUrl,S=o.getXfaPageViewport,E=o.GlobalWorkerOptions,x=(o.ImageKind,o.InvalidPDFException),k=(o.isDataScheme,o.isPdfFile),D=o.MissingPDFException,C=o.noContextMenu,T=o.normalizeUnicode,I=(o.OPS,o.Outliner,o.PasswordResponses),O=(o.PDFDataRangeTransport,o.PDFDateString),M=o.PDFWorker,L=o.PermissionFlag,G=o.PixelsPerInch,R=o.PromiseCapability,j=o.RenderingCancelledException,B=o.renderTextLayer,N=o.setLayerDimensions,W=o.shadow,V=o.UnexpectedResponseException,z=o.updateTextLayer,H=(o.Util,o.VerbosityLevel,o.version),U=o.XfaLayer;a()}catch(t){a(t)}}),1)},216:(t,r,i)=>{i.d(r,{BasePreferences:()=>c});i(4441),i(3352),i(2586),i(895),i(924),i(7874),i(5897),i(6180),i(1747),i(7484),i(2374),i(5598),i(8806),i(9366),i(6678),i(2926),i(4226),i(171),i(9593),i(7942),i(5776),i(5666),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378);var a=i(8961);function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _classPrivateFieldInitSpec(t,r,i){!function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r);r.set(t,i)}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var o=new WeakMap,l=new WeakMap,u=new WeakMap,c=function(){function BasePreferences(){var t=this;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,BasePreferences);_classPrivateFieldInitSpec(this,o,{writable:!0,value:Object.freeze({annotationEditorMode:0,annotationMode:2,cursorToolOnLoad:0,defaultZoomDelay:400,defaultZoomValue:"",disablePageLabels:!1,enablePermissions:!1,enablePrintAutoRotate:!0,enableScripting:!0,externalLinkTarget:0,historyUpdateUrl:!1,ignoreDestinationZoom:!1,forcePageColors:!1,pageColorsBackground:"Canvas",pageColorsForeground:"CanvasText",pdfBugEnabled:!1,removePageBorders:!1,sidebarViewOnLoad:-1,scrollModeOnLoad:-1,spreadModeOnLoad:-1,textLayerMode:1,viewOnLoad:0,disableAutoFetch:!1,disableFontFace:!1,disableRange:!1,disableStream:!1,enableXfa:!0,viewerCssTheme:0})});_classPrivateFieldInitSpec(this,l,{writable:!0,value:Object.create(null)});_classPrivateFieldInitSpec(this,u,{writable:!0,value:null});if(this.constructor===BasePreferences)throw new Error("Cannot initialize BasePreferences.");_classPrivateFieldSet(this,u,this._readFromStorage(_classPrivateFieldGet(this,o)).then((function(r){for(var i=r.browserPrefs,u=r.prefs,c=Object.create(null),h=0,d=Object.entries({canvasMaxAreaInBytes:-1,isInAutomation:!1,supportsDocumentFonts:!0,supportsIntegratedFind:!1,supportsMouseWheelZoomCtrlKey:!0,supportsMouseWheelZoomMetaKey:!0,supportsPinchToZoom:!0});h<d.length;h++){var p=_slicedToArray(d[h],2),v=p[0],y=p[1],g=null==i?void 0:i[v];c[v]=_typeof(g)===_typeof(y)?g:y}for(var m=0,_=Object.entries(_classPrivateFieldGet(t,o));m<_.length;m++){var b=_slicedToArray(_[m],2),w=b[0],P=b[1],A=null==u?void 0:u[w];c[w]=_classPrivateFieldGet(t,l)[w]=_typeof(A)===_typeof(P)?A:P}a.AppOptions.setAll(c,!0)})))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(BasePreferences,[{key:"_writeToStorage",value:(h=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(t){return _regeneratorRuntime().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: _writeToStorage");case 1:case"end":return t.stop()}}),_callee)}))),function _writeToStorage(t){return h.apply(this,arguments)})},{key:"_readFromStorage",value:(c=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(t){return _regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: _readFromStorage");case 1:case"end":return t.stop()}}),_callee2)}))),function _readFromStorage(t){return c.apply(this,arguments)})},{key:"reset",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var t,r=this;return _regeneratorRuntime().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return _classPrivateFieldGet(this,u);case 2:t=_classPrivateFieldGet(this,l);_classPrivateFieldSet(this,l,Object.create(null));return i.abrupt("return",this._writeToStorage(_classPrivateFieldGet(this,o)).catch((function(i){_classPrivateFieldSet(r,l,t);throw i})));case 5:case"end":return i.stop()}}),_callee3,this)}))),function reset(){return i.apply(this,arguments)})},{key:"set",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(t,r){var i,a,c,h,d=this;return _regeneratorRuntime().wrap((function _callee4$(p){for(;;)switch(p.prev=p.next){case 0:p.next=2;return _classPrivateFieldGet(this,u);case 2:i=_classPrivateFieldGet(this,o)[t],a=_classPrivateFieldGet(this,l);if(void 0!==i){p.next=7;break}throw new Error('Set preference: "'.concat(t,'" is undefined.'));case 7:if(void 0!==r){p.next=9;break}throw new Error("Set preference: no value is specified.");case 9:c=_typeof(r),h=_typeof(i);if(c===h){p.next=18;break}if("number"!==c||"string"!==h){p.next=15;break}r=r.toString();p.next=16;break;case 15:throw new Error('Set preference: "'.concat(r,'" is a ').concat(c,", expected a ").concat(h,"."));case 16:p.next=20;break;case 18:if("number"!==c||Number.isInteger(r)){p.next=20;break}throw new Error('Set preference: "'.concat(r,'" must be an integer.'));case 20:_classPrivateFieldGet(this,l)[t]=r;return p.abrupt("return",this._writeToStorage(_classPrivateFieldGet(this,l)).catch((function(t){_classPrivateFieldSet(d,l,a);throw t})));case 22:case"end":return p.stop()}}),_callee4,this)}))),function set(t,i){return r.apply(this,arguments)})},{key:"get",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(t){var r,i;return _regeneratorRuntime().wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return _classPrivateFieldGet(this,u);case 2:if(void 0!==(i=_classPrivateFieldGet(this,o)[t])){a.next=5;break}throw new Error('Get preference: "'.concat(t,'" is undefined.'));case 5:return a.abrupt("return",null!==(r=_classPrivateFieldGet(this,l)[t])&&void 0!==r?r:i);case 6:case"end":return a.stop()}}),_callee5,this)}))),function get(r){return t.apply(this,arguments)})},{key:"initializedPromise",get:function get(){return _classPrivateFieldGet(this,u)}}]);var t,r,i,c,h;return BasePreferences}()},4552:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{getXfaHtmlForPrinting:()=>getXfaHtmlForPrinting});i(171),i(895),i(924),i(9593),i(1747),i(7942),i(5776),i(9366),i(6678),i(2926),i(6180),i(2374),i(3352);var o=i(1869),l=i(3234),u=i(8012),c=t([o,u]);[o,u]=c.then?(await c)():c;function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function getXfaHtmlForPrinting(t,r){var i,a=r.allXfaHtml,c=new l.SimpleLinkService,h=Math.round(100*o.PixelsPerInch.PDF_TO_CSS_UNITS)/100,d=_createForOfIteratorHelper(a.children);try{for(d.s();!(i=d.n()).done;){var p=i.value,v=document.createElement("div");v.className="xfaPrintedPage";t.append(v);var y=new u.XfaLayerBuilder({pdfPage:null,annotationStorage:r.annotationStorage,linkService:c,xfaHtml:p}),g=(0,o.getXfaPageViewport)(p,{scale:h});y.render(g,"print");v.append(y.div)}}catch(t){d.e(t)}finally{d.f()}}a()}catch(h){a(h)}}))},1544:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{SecondaryToolbar:()=>y});i(4226),i(3352),i(6180),i(895),i(1747),i(394),i(2374),i(5598),i(8806),i(9366),i(6678),i(5897),i(171),i(924),i(9593),i(7942),i(5776),i(2926),i(4668),i(1585),i(7121),i(2993),i(7262),i(6770),i(1378),i(7335);var o=i(4927),l=i(9290),u=t([l]);l=(u.then?(await u)():u)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach((function(r){_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function _defineProperty(t,r,i){(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPropertyKey(t){var r=_toPrimitive(t,"string");return"symbol"===_typeof(r)?r:String(r)}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var c=new WeakSet,h=new WeakSet,d=new WeakSet,p=new WeakSet,v=new WeakSet,y=function(){function SecondaryToolbar(t,r){_classCallCheck(this,SecondaryToolbar);_classPrivateMethodInitSpec(this,v);_classPrivateMethodInitSpec(this,p);_classPrivateMethodInitSpec(this,d);_classPrivateMethodInitSpec(this,h);_classPrivateMethodInitSpec(this,c);this.toolbar=t.toolbar;this.toggleButton=t.toggleButton;this.buttons=[{element:t.presentationModeButton,eventName:"presentationmode",close:!0},{element:t.printButton,eventName:"print",close:!0},{element:t.downloadButton,eventName:"download",close:!0},{element:t.viewBookmarkButton,eventName:null,close:!0},{element:t.firstPageButton,eventName:"firstpage",close:!0},{element:t.lastPageButton,eventName:"lastpage",close:!0},{element:t.pageRotateCwButton,eventName:"rotatecw",close:!1},{element:t.pageRotateCcwButton,eventName:"rotateccw",close:!1},{element:t.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:o.CursorTool.SELECT},close:!0},{element:t.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:o.CursorTool.HAND},close:!0},{element:t.scrollPageButton,eventName:"switchscrollmode",eventDetails:{mode:o.ScrollMode.PAGE},close:!0},{element:t.scrollVerticalButton,eventName:"switchscrollmode",eventDetails:{mode:o.ScrollMode.VERTICAL},close:!0},{element:t.scrollHorizontalButton,eventName:"switchscrollmode",eventDetails:{mode:o.ScrollMode.HORIZONTAL},close:!0},{element:t.scrollWrappedButton,eventName:"switchscrollmode",eventDetails:{mode:o.ScrollMode.WRAPPED},close:!0},{element:t.spreadNoneButton,eventName:"switchspreadmode",eventDetails:{mode:o.SpreadMode.NONE},close:!0},{element:t.spreadOddButton,eventName:"switchspreadmode",eventDetails:{mode:o.SpreadMode.ODD},close:!0},{element:t.spreadEvenButton,eventName:"switchspreadmode",eventDetails:{mode:o.SpreadMode.EVEN},close:!0},{element:t.documentPropertiesButton,eventName:"documentproperties",close:!0}];this.buttons.push({element:t.openFileButton,eventName:"openfile",close:!0});this.items={firstPage:t.firstPageButton,lastPage:t.lastPageButton,pageRotateCw:t.pageRotateCwButton,pageRotateCcw:t.pageRotateCcwButton};this.eventBus=r;this.opened=!1;_classPrivateMethodGet(this,h,_bindClickListeners2).call(this);_classPrivateMethodGet(this,d,_bindCursorToolsListener2).call(this,t);_classPrivateMethodGet(this,p,_bindScrollModeListener2).call(this,t);_classPrivateMethodGet(this,v,_bindSpreadModeListener2).call(this,t);this.reset()}_createClass(SecondaryToolbar,[{key:"isOpen",get:function get(){return this.opened}},{key:"setPageNumber",value:function setPageNumber(t){this.pageNumber=t;_classPrivateMethodGet(this,c,_updateUIState2).call(this)}},{key:"setPagesCount",value:function setPagesCount(t){this.pagesCount=t;_classPrivateMethodGet(this,c,_updateUIState2).call(this)}},{key:"reset",value:function reset(){this.pageNumber=0;this.pagesCount=0;_classPrivateMethodGet(this,c,_updateUIState2).call(this);this.eventBus.dispatch("secondarytoolbarreset",{source:this})}},{key:"open",value:function open(){if(!this.opened){this.opened=!0;(0,o.toggleExpandedBtn)(this.toggleButton,!0,this.toolbar)}}},{key:"close",value:function close(){if(this.opened){this.opened=!1;(0,o.toggleExpandedBtn)(this.toggleButton,!1,this.toolbar)}}},{key:"toggle",value:function toggle(){this.opened?this.close():this.open()}}]);return SecondaryToolbar}();function _updateUIState2(){this.items.firstPage.disabled=this.pageNumber<=1;document.getElementById("previousPage")&&(document.getElementById("previousPage").disabled=this.pageNumber<=1);this.items.lastPage.disabled=this.pageNumber>=this.pagesCount;document.getElementById("nextPage")&&(document.getElementById("nextPage").disabled=this.pageNumber>=this.pagesCount);this.items.pageRotateCw.disabled=0===this.pagesCount;this.items.pageRotateCcw.disabled=0===this.pagesCount;this.eventBus.dispatch("updateuistate",{source:this,widget:"SecondaryToolbar",pageNumber:this.pageNumber,pagesCount:this.pagesCount})}function _bindClickListeners2(){var t=this;this.toggleButton.addEventListener("click",this.toggle.bind(this));var r,i=_createForOfIteratorHelper(this.buttons);try{var a=function _loop(){var i=r.value,a=i.element,o=i.eventName,l=i.close,u=i.eventDetails;null==a||a.addEventListener("click",(function(r){null!==o&&t.eventBus.dispatch(o,_objectSpread({source:t},u));l&&t.close();t.eventBus.dispatch("reporttelemetry",{source:t,details:{type:"buttons",data:{id:a.id}}})}))};for(i.s();!(r=i.n()).done;)a()}catch(t){i.e(t)}finally{i.f()}}function _bindCursorToolsListener2(t){var r=t.cursorSelectToolButton,i=t.cursorHandToolButton;this.eventBus._on("cursortoolchanged",(function(t){var a=t.tool;(0,o.toggleCheckedBtn)(r,a===o.CursorTool.SELECT);(0,o.toggleCheckedBtn)(i,a===o.CursorTool.HAND)}))}function _bindScrollModeListener2(t){var r=this,i=t.scrollPageButton,a=t.scrollVerticalButton,u=t.scrollHorizontalButton,c=t.scrollWrappedButton,h=t.spreadNoneButton,d=t.spreadOddButton,p=t.spreadEvenButton,v=function scrollModeChanged(t){var v=t.mode;(0,o.toggleCheckedBtn)(i,v===o.ScrollMode.PAGE);(0,o.toggleCheckedBtn)(a,v===o.ScrollMode.VERTICAL);(0,o.toggleCheckedBtn)(u,v===o.ScrollMode.HORIZONTAL);(0,o.toggleCheckedBtn)(c,v===o.ScrollMode.WRAPPED);var y=r.pagesCount>l.PagesCountLimit.FORCE_SCROLL_MODE_PAGE;i.disabled=y;a.disabled=y;u.disabled=y;c.disabled=y;var g=v===o.ScrollMode.HORIZONTAL;h.disabled=g;d.disabled=g;p.disabled=g};this.eventBus._on("scrollmodechanged",v);this.eventBus._on("secondarytoolbarreset",(function(t){t.source===r&&v({mode:o.ScrollMode.VERTICAL})}))}function _bindSpreadModeListener2(t){var r=this,i=t.spreadNoneButton,a=t.spreadOddButton,l=t.spreadEvenButton,u=function spreadModeChanged(t){var r=t.mode;(0,o.toggleCheckedBtn)(i,r===o.SpreadMode.NONE);(0,o.toggleCheckedBtn)(a,r===o.SpreadMode.ODD);(0,o.toggleCheckedBtn)(l,r===o.SpreadMode.EVEN)};this.eventBus._on("spreadmodechanged",u);this.eventBus._on("secondarytoolbarreset",(function(t){t.source===r&&u({mode:o.SpreadMode.NONE})}))}a()}catch(g){a(g)}}))},7498:(t,r,i)=>{i.d(r,{StructTreeLayerBuilder:()=>d});i(6180),i(895),i(1747),i(7484),i(2374),i(394),i(7942),i(469),i(3352),i(5598),i(8806),i(9366),i(6678),i(5897),i(171),i(924),i(9593),i(5776),i(2926);var a=i(4927);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var o={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},l=/^H(\d+)$/,u=new WeakMap,c=new WeakSet,h=new WeakSet,d=function(){function StructTreeLayerBuilder(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,StructTreeLayerBuilder);_classPrivateMethodInitSpec(this,h);_classPrivateMethodInitSpec(this,c);!function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}(this,u,{writable:!0,value:void 0})}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(StructTreeLayerBuilder,[{key:"renderingDone",get:function get(){return void 0!==_classPrivateFieldGet(this,u)}},{key:"render",value:function render(t){if(void 0!==_classPrivateFieldGet(this,u))return _classPrivateFieldGet(this,u);var r=_classPrivateMethodGet(this,h,_walk2).call(this,t);null==r||r.classList.add("structTree");return _classPrivateFieldSet(this,u,r)}},{key:"hide",value:function hide(){_classPrivateFieldGet(this,u)&&!_classPrivateFieldGet(this,u).hidden&&(_classPrivateFieldGet(this,u).hidden=!0)}},{key:"show",value:function show(){var t;null!==(t=_classPrivateFieldGet(this,u))&&void 0!==t&&t.hidden&&(_classPrivateFieldGet(this,u).hidden=!1)}}]);return StructTreeLayerBuilder}();function _setAttributes2(t,r){var i=t.alt,o=t.id,l=t.lang;void 0!==i&&r.setAttribute("aria-label",(0,a.removeNullCharacters)(i));void 0!==o&&r.setAttribute("aria-owns",o);void 0!==l&&r.setAttribute("lang",(0,a.removeNullCharacters)(l,!0))}function _walk2(t){if(!t)return null;var r=document.createElement("span");if("role"in t){var i=t.role,a=i.match(l);if(a){r.setAttribute("role","heading");r.setAttribute("aria-level",a[1])}else o[i]&&r.setAttribute("role",o[i])}_classPrivateMethodGet(this,c,_setAttributes2).call(this,t,r);if(t.children)if(1===t.children.length&&"id"in t.children[0])_classPrivateMethodGet(this,c,_setAttributes2).call(this,t.children[0],r);else{var u,d=_createForOfIteratorHelper(t.children);try{for(d.s();!(u=d.n()).done;){var p=u.value;r.append(_classPrivateMethodGet(this,h,_walk2).call(this,p))}}catch(t){d.e(t)}finally{d.f()}}return r}},4630:(t,r,i)=>{i.d(r,{TextAccessibilityManager:()=>d});i(6180),i(5548),i(895),i(1747),i(2374),i(3352),i(171),i(8301),i(2796),i(2613),i(1585),i(7121),i(2993),i(9593),i(7484),i(394),i(7874),i(5598),i(8806),i(9366),i(6678),i(5897),i(924),i(7942),i(5776),i(2926),i(4226);var a=i(4927);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classStaticPrivateMethodGet(t,r,i){!function _classCheckPrivateStaticAccess(t,r){if(t!==r)throw new TypeError("Private static access of wrong provenance")}(t,r);return i}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}var o=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,h=new WeakSet,d=function(){function TextAccessibilityManager(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,TextAccessibilityManager);!function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}(this,h);_classPrivateFieldInitSpec(this,o,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,l,{writable:!0,value:null});_classPrivateFieldInitSpec(this,u,{writable:!0,value:new Map});_classPrivateFieldInitSpec(this,c,{writable:!0,value:new Map})}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(TextAccessibilityManager,[{key:"setTextMapping",value:function setTextMapping(t){_classPrivateFieldSet(this,l,t)}},{key:"enable",value:function enable(){if(_classPrivateFieldGet(this,o))throw new Error("TextAccessibilityManager is already enabled.");if(!_classPrivateFieldGet(this,l))throw new Error("Text divs and strings have not been set.");_classPrivateFieldSet(this,o,!0);_classPrivateFieldSet(this,l,_classPrivateFieldGet(this,l).slice());_classPrivateFieldGet(this,l).sort(_classStaticPrivateMethodGet(TextAccessibilityManager,TextAccessibilityManager,_compareElementPositions));if(_classPrivateFieldGet(this,u).size>0){var t,r=_classPrivateFieldGet(this,l),i=_createForOfIteratorHelper(_classPrivateFieldGet(this,u));try{for(i.s();!(t=i.n()).done;){var a=_slicedToArray(t.value,2),d=a[0],p=a[1];document.getElementById(d)?_classPrivateMethodGet(this,h,_addIdToAriaOwns2).call(this,d,r[p]):_classPrivateFieldGet(this,u).delete(d)}}catch(t){i.e(t)}finally{i.f()}}var v,y=_createForOfIteratorHelper(_classPrivateFieldGet(this,c));try{for(y.s();!(v=y.n()).done;){var g=_slicedToArray(v.value,2),m=g[0],_=g[1];this.addPointerInTextLayer(m,_)}}catch(t){y.e(t)}finally{y.f()}_classPrivateFieldGet(this,c).clear()}},{key:"disable",value:function disable(){if(_classPrivateFieldGet(this,o)){_classPrivateFieldGet(this,c).clear();_classPrivateFieldSet(this,l,null);_classPrivateFieldSet(this,o,!1)}}},{key:"removePointerInTextLayer",value:function removePointerInTextLayer(t){var r;if(_classPrivateFieldGet(this,o)){var i=_classPrivateFieldGet(this,l);if(i&&0!==i.length){var a=t.id,h=_classPrivateFieldGet(this,u).get(a);if(void 0!==h){var d=i[h];_classPrivateFieldGet(this,u).delete(a);var p=d.getAttribute("aria-owns");if(null!==(r=p)&&void 0!==r&&r.includes(a))if(p=p.split(" ").filter((function(t){return t!==a})).join(" "))d.setAttribute("aria-owns",p);else{d.removeAttribute("aria-owns");d.setAttribute("role","presentation")}}}}else _classPrivateFieldGet(this,c).delete(t)}},{key:"addPointerInTextLayer",value:function addPointerInTextLayer(t,r){var i=t.id;if(!i)return null;if(!_classPrivateFieldGet(this,o)){_classPrivateFieldGet(this,c).set(t,r);return null}r&&this.removePointerInTextLayer(t);var d=_classPrivateFieldGet(this,l);if(!d||0===d.length)return null;var p=(0,a.binarySearchFirstItem)(d,(function(r){return _classStaticPrivateMethodGet(TextAccessibilityManager,TextAccessibilityManager,_compareElementPositions).call(TextAccessibilityManager,t,r)<0})),v=Math.max(0,p-1),y=d[v];_classPrivateMethodGet(this,h,_addIdToAriaOwns2).call(this,i,y);_classPrivateFieldGet(this,u).set(i,v);var g=y.parentNode;return null!=g&&g.classList.contains("markedContent")?g.id:null}},{key:"moveElementInDOM",value:function moveElementInDOM(t,r,i,o){var l=this.addPointerInTextLayer(i,o);if(!t.hasChildNodes()){t.append(r);return l}var u=Array.from(t.childNodes).filter((function(t){return t!==r}));if(0===u.length)return l;var c=i||r,h=(0,a.binarySearchFirstItem)(u,(function(t){return _classStaticPrivateMethodGet(TextAccessibilityManager,TextAccessibilityManager,_compareElementPositions).call(TextAccessibilityManager,c,t)<0}));0===h?u[0].before(r):u[h-1].after(r);return l}}]);return TextAccessibilityManager}();function _compareElementPositions(t,r){var i=t.getBoundingClientRect(),a=r.getBoundingClientRect();if(0===i.width&&0===i.height)return 1;if(0===a.width&&0===a.height)return-1;var o=i.y,l=i.y+i.height,u=i.y+i.height/2,c=a.y,h=a.y+a.height,d=a.y+a.height/2;return u<=c&&d>=l?-1:d<=o&&u>=h?1:i.x+i.width/2-(a.x+a.width/2)}function _addIdToAriaOwns2(t,r){var i=r.getAttribute("aria-owns");null!=i&&i.includes(t)||r.setAttribute("aria-owns",i?"".concat(i," ").concat(t):t);r.removeAttribute("role")}},4274:(t,r,i)=>{i.d(r,{TextHighlighter:()=>a});i(3352),i(1210),i(4226),i(2796),i(2613),i(5598),i(8806),i(9366),i(6678),i(895),i(5897),i(171),i(924),i(9593),i(1747),i(7942),i(5776),i(2926),i(6180),i(2374);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}var a=function(){function TextHighlighter(t){var r=t.findController,i=t.eventBus,a=t.pageIndex;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,TextHighlighter);this.findController=r;this.matches=[];this.eventBus=i;this.pageIdx=a;this._onUpdateTextLayerMatches=null;this.textDivs=null;this.textContentItemsStr=null;this.enabled=!1}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(TextHighlighter,[{key:"setTextMapping",value:function setTextMapping(t,r){this.textDivs=t;this.textContentItemsStr=r}},{key:"enable",value:function enable(){var t=this;if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(!this.enabled){this.enabled=!0;if(!this._onUpdateTextLayerMatches){this._onUpdateTextLayerMatches=function(r){r.pageIndex!==t.pageIdx&&-1!==r.pageIndex||t._updateMatches()};this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)}this._updateMatches()}}},{key:"disable",value:function disable(){if(this.enabled){this.enabled=!1;if(this._onUpdateTextLayerMatches){this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches);this._onUpdateTextLayerMatches=null}this._updateMatches(!0)}}},{key:"_convertMatches",value:function _convertMatches(t,r){if(!t)return[];for(var i=this.textContentItemsStr,a=0,o=0,l=i.length-1,u=[],c=0,h=t.length;c<h;c++){for(var d=t[c];a!==l&&d>=o+i[a].length;){o+=i[a].length;a++}a===i.length&&globalThis.ngxConsole.error("Could not find a matching mapping");var p={begin:{divIdx:a,offset:d-o}};d+=r[c];for(;a!==l&&d>o+i[a].length;){o+=i[a].length;a++}p.end={divIdx:a,offset:d-o};u.push(p)}return u}},{key:"_renderMatches",value:function _renderMatches(t){if(0!==t.length){var r=this.findController,i=this.pageIdx,a=this.textContentItemsStr,o=this.textDivs,l=i===r.selected.pageIdx,u=r.selected.matchIdx,c=null,h={divIdx:-1,offset:void 0},d=u,p=d+1;if(r.state.highlightAll){d=0;p=t.length}else if(!l)return;for(var v=-1,y=-1,g=d;g<p;g++){var m=t[g],_=m.begin;if(_.divIdx!==v||_.offset!==y){v=_.divIdx;y=_.offset;var b=m.end,w=l&&g===u,P=w?" selected":"",A=0;if(c&&_.divIdx===c.divIdx)appendTextToDiv(c.divIdx,c.offset,_.offset);else{null!==c&&appendTextToDiv(c.divIdx,c.offset,h.offset);beginText(_)}if(_.divIdx===b.divIdx)A=appendTextToDiv(_.divIdx,_.offset,b.offset,"highlight"+P);else{A=appendTextToDiv(_.divIdx,_.offset,h.offset,"highlight begin"+P);for(var S=_.divIdx+1,E=b.divIdx;S<E;S++)o[S].className="highlight middle"+P;beginText(b,"highlight end"+P)}c=b;w&&r.scrollMatchIntoView({element:o[_.divIdx],selectedLeft:A,pageIndex:i,matchIndex:u})}}c&&appendTextToDiv(c.divIdx,c.offset,h.offset)}function beginText(t,r){var i=t.divIdx;o[i].textContent="";return appendTextToDiv(i,0,t.offset,r)}function appendTextToDiv(t,r,i,l){var u=o[t];if(u.nodeType===Node.TEXT_NODE){var c=document.createElement("span");u.before(c);c.append(u);o[t]=c;u=c}var h=a[t].substring(r,i),d=document.createTextNode(h);if(l){var p=document.createElement("span");p.className="".concat(l," appended");p.append(d);u.append(p);return l.includes("selected")?p.offsetLeft:0}u.append(d);return 0}}},{key:"_updateMatches",value:function _updateMatches(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.enabled||t){var r,i=this.findController,a=this.matches,o=this.pageIdx,l=this.textContentItemsStr,u=this.textDivs,c=-1,h=_createForOfIteratorHelper(a);try{for(h.s();!(r=h.n()).done;){for(var d=r.value,p=Math.max(c,d.begin.divIdx),v=d.end.divIdx;p<=v;p++){var y=u[p];y.textContent=l[p];y.className=""}c=d.end.divIdx+1}}catch(t){h.e(t)}finally{h.f()}if(null!=i&&i.highlightMatches&&!t){var g=i.pageMatches[o]||null,m=i.pageMatchesLength[o]||null;this.matches=this._convertMatches(g,m);this._renderMatches(this.matches)}}}}]);return TextHighlighter}()},1013:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{TextLayerBuilder:()=>g});i(6180),i(895),i(1747),i(7484),i(2374),i(3352),i(1210),i(394),i(924),i(5598),i(8806),i(9366),i(6678),i(5897),i(5666),i(2926),i(1133),i(2173),i(2630),i(1024),i(13),i(4226),i(7121),i(6770),i(1378),i(171);var o=i(1869),l=i(4927),u=t([o]);o=(u.then?(await u)():u)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _classPrivateFieldInitSpec(t,r,i){_checkPrivateRedeclaration(t,r);r.set(t,i)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(t,r){return _classApplyDescriptorGet(t,_classExtractFieldDescriptor(t,r,"get"))}function _classApplyDescriptorGet(t,r){return r.get?r.get.call(t):r.value}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldSet(t,r,i){_classApplyDescriptorSet(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}var c=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,v=new WeakSet,y=new WeakSet,g=function(){function TextLayerBuilder(t){var r=t.highlighter,i=void 0===r?null:r,a=t.accessibilityManager,o=void 0===a?null:a,l=t.isOffscreenCanvasSupported,u=void 0===l||l,g=t.enablePermissions,m=void 0!==g&&g;_classCallCheck(this,TextLayerBuilder);_classPrivateMethodInitSpec(this,y);_classPrivateMethodInitSpec(this,v);_classPrivateFieldInitSpec(this,c,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,h,{writable:!0,value:0});_classPrivateFieldInitSpec(this,d,{writable:!0,value:0});_classPrivateFieldInitSpec(this,p,{writable:!0,value:null});this.textContentItemsStr=[];this.renderingDone=!1;this.textDivs=[];this.textDivProperties=new WeakMap;this.textLayerRenderTask=null;this.highlighter=i;this.accessibilityManager=o;this.isOffscreenCanvasSupported=u;_classPrivateFieldSet(this,c,!0===m);this.onAppend=null;this.div=document.createElement("div");this.div.className="textLayer"}_createClass(TextLayerBuilder,[{key:"numTextDivs",get:function get(){return this.textDivs.length}},{key:"render",value:(r=(t=_regeneratorRuntime().mark((function _callee(t){var r,i,a,l,u,c,y,g;return _regeneratorRuntime().wrap((function _callee$(m){for(;;)switch(m.prev=m.next){case 0:if(_classPrivateFieldGet(this,p)){m.next=2;break}throw new Error('No "textContentSource" parameter specified.');case 2:u=t.scale*(globalThis.devicePixelRatio||1);c=t.rotation;if(!this.renderingDone){m.next=10;break}y=c!==_classPrivateFieldGet(this,h);g=u!==_classPrivateFieldGet(this,d);if(y||g){this.hide();(0,o.updateTextLayer)({container:this.div,viewport:t,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:g,mustRotate:y});_classPrivateFieldSet(this,d,u);_classPrivateFieldSet(this,h,c)}this.show();return m.abrupt("return");case 10:this.cancel();null===(r=this.highlighter)||void 0===r||r.setTextMapping(this.textDivs,this.textContentItemsStr);null===(i=this.accessibilityManager)||void 0===i||i.setTextMapping(this.textDivs);this.textLayerRenderTask=(0,o.renderTextLayer)({textContentSource:_classPrivateFieldGet(this,p),container:this.div,viewport:t,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported});m.next=16;return this.textLayerRenderTask.promise;case 16:_classPrivateMethodGet(this,v,_finishRendering2).call(this);_classPrivateFieldSet(this,d,u);_classPrivateFieldSet(this,h,c);this.onAppend(this.div);null===(a=this.highlighter)||void 0===a||a.enable();null===(l=this.accessibilityManager)||void 0===l||l.enable();case 22:case"end":return m.stop()}}),_callee,this)})),function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}),function render(t){return r.apply(this,arguments)})},{key:"hide",value:function hide(){if(!this.div.hidden&&this.renderingDone){var t;null===(t=this.highlighter)||void 0===t||t.disable();this.div.hidden=!0}}},{key:"show",value:function show(){if(this.div.hidden&&this.renderingDone){var t;this.div.hidden=!1;null===(t=this.highlighter)||void 0===t||t.enable()}}},{key:"cancel",value:function cancel(){var t,r;if(this.textLayerRenderTask){this.textLayerRenderTask.cancel();this.textLayerRenderTask=null}null===(t=this.highlighter)||void 0===t||t.disable();null===(r=this.accessibilityManager)||void 0===r||r.disable();this.textContentItemsStr.length=0;this.textDivs.length=0;this.textDivProperties=new WeakMap}},{key:"setTextContentSource",value:function setTextContentSource(t){this.cancel();_classPrivateFieldSet(this,p,t)}}]);var t,r;return TextLayerBuilder}();function _finishRendering2(){this.renderingDone=!0;var t=document.createElement("div");t.className="endOfContent";this.div.append(t);_classPrivateMethodGet(this,y,_bindMouse2).call(this)}function _bindMouse2(){var t=this,r=this.div;r.addEventListener("mousedown",(function(t){var i=r.querySelector(".endOfContent");if(i){var a=t.target!==r;a&&(a="none"!==getComputedStyle(i).getPropertyValue("-moz-user-select"));if(a){var o=r.getBoundingClientRect(),l=Math.max(0,(t.pageY-o.top)/o.height);i.style.top=(100*l).toFixed(2)+"%"}i.classList.add("active")}}));r.addEventListener("mouseup",(function(){var t=r.querySelector(".endOfContent");if(t){t.style.top="";t.classList.remove("active")}}));r.addEventListener("copy",(function(r){if(!_classPrivateFieldGet(t,c)){var i=document.getSelection();r.clipboardData.setData("text/plain",(0,l.removeNullCharacters)((0,o.normalizeUnicode)(i.toString())))}r.preventDefault();r.stopPropagation()}))}a()}catch(m){a(m)}}))},276:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{Toolbar:()=>p});i(895),i(924),i(5897),i(3352),i(6180),i(1747),i(394),i(2374),i(7254),i(5598),i(8806),i(9366),i(6678),i(171),i(9593),i(7942),i(5776),i(2926),i(4668),i(1585),i(7121),i(2993),i(7262),i(4226),i(6770),i(1378),i(7335);var o=i(1869),l=i(4927),u=t([o]);o=(u.then?(await u)():u)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,a)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach((function(r){_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function _defineProperty(t,r,i){(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPropertyKey(t){var r=_toPrimitive(t,"string");return"symbol"===_typeof(r)?r:String(r)}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateMethodInitSpec(t,r){_checkPrivateRedeclaration(t,r);r.add(t)}function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(t,r,i){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var c=new WeakSet,h=new WeakSet,d=new WeakSet,p=function(){function Toolbar(t,r){_classCallCheck(this,Toolbar);_classPrivateMethodInitSpec(this,d);_classPrivateMethodInitSpec(this,h);_classPrivateMethodInitSpec(this,c);this.toolbar=t.container;this.eventBus=r;this.buttons=[{element:t.previous,eventName:"previouspage"},{element:t.next,eventName:"nextpage"},{element:t.zoomIn,eventName:"zoomin"},{element:t.zoomOut,eventName:"zoomout"},{element:t.print,eventName:"print"},{element:t.presentationModeButton,eventName:"presentationmode"},{element:t.download,eventName:"download"},{element:t.editorFreeTextButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){return t.editorFreeTextButton.classList.contains("toggled")?o.AnnotationEditorType.NONE:o.AnnotationEditorType.FREETEXT}}},{element:t.editorInkButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){return t.editorInkButton.classList.contains("toggled")?o.AnnotationEditorType.NONE:o.AnnotationEditorType.INK}}},{element:t.editorStampButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){return t.editorStampButton.classList.contains("toggled")?o.AnnotationEditorType.NONE:o.AnnotationEditorType.STAMP}}}];this.items={numPages:t.numPages,pageNumber:t.pageNumber,scaleSelect:t.scaleSelect,customScaleOption:t.customScaleOption,previous:t.previous,next:t.next,zoomIn:t.zoomIn,zoomOut:t.zoomOut};_classPrivateMethodGet(this,c,_bindListeners2).call(this,t);this.reset()}_createClass(Toolbar,[{key:"setPageNumber",value:function setPageNumber(t,r){this.pageNumber=t;this.pageLabel=r;_classPrivateMethodGet(this,d,_updateUIState2).call(this,!1)}},{key:"setPagesCount",value:function setPagesCount(t,r){this.pagesCount=t;this.hasPageLabels=r;_classPrivateMethodGet(this,d,_updateUIState2).call(this,!0)}},{key:"setPageScale",value:function setPageScale(t,r){this.pageScaleValue=(t||r).toString();this.pageScale=r;_classPrivateMethodGet(this,d,_updateUIState2).call(this,!1)}},{key:"reset",value:function reset(){this.pageNumber=0;this.pageLabel=null;this.hasPageLabels=!1;this.pagesCount=0;var t=PDFViewerApplicationOptions.get("defaultZoomValue");if(t){this.pageScaleValue=t;Number(t)&&(this.pageScale=Number(t))}else{this.pageScaleValue=l.DEFAULT_SCALE_VALUE;this.pageScale=l.DEFAULT_SCALE}_classPrivateMethodGet(this,d,_updateUIState2).call(this,!0);this.updateLoadingIndicatorState();this.eventBus.dispatch("toolbarreset",{source:this})}},{key:"updateLoadingIndicatorState",value:function updateLoadingIndicatorState(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.items.pageNumber.classList.toggle("loading",t)}}]);return Toolbar}();function _bindListeners2(t){var r,i=this,a=this.items,l=a.pageNumber,u=a.scaleSelect,c=this,d=_createForOfIteratorHelper(this.buttons);try{var p=function _loop(){var t=r.value,a=t.element,o=t.eventName,l=t.eventDetails;null==a||a.addEventListener("click",(function(t){null!==o&&i.eventBus.dispatch(o,_objectSpread(_objectSpread({source:i},l),{},{isFromKeyboard:0===t.detail}))}))};for(d.s();!(r=d.n()).done;)p()}catch(t){d.e(t)}finally{d.f()}l.addEventListener("click",(function(){this.select()}));l.addEventListener("change",(function(){c.eventBus.dispatch("pagenumberchanged",{source:c,value:this.value})}));u.addEventListener("change",(function(){"custom"!==this.value&&c.eventBus.dispatch("scalechanged",{source:c,value:this.value})}));u.addEventListener("click",(function(t){var r=t.target;this.value===c.pageScaleValue&&"OPTION"===r.tagName.toUpperCase()&&this.blur()}));u.oncontextmenu=o.noContextMenu;_classPrivateMethodGet(this,h,_bindEditorToolsListener2).call(this,t)}function _bindEditorToolsListener2(t){var r=this,i=t.editorFreeTextButton,a=t.editorFreeTextParamsToolbar,u=t.editorInkButton,c=t.editorInkParamsToolbar,h=t.editorStampButton,d=t.editorStampParamsToolbar,p=function editorModeChanged(t){var r=t.mode;(0,l.toggleCheckedBtn)(i,r===o.AnnotationEditorType.FREETEXT,a);(0,l.toggleCheckedBtn)(u,r===o.AnnotationEditorType.INK,c);(0,l.toggleCheckedBtn)(h,r===o.AnnotationEditorType.STAMP,d);var p=r===o.AnnotationEditorType.DISABLE;i.disabled=p;u.disabled=p;h.disabled=p};this.eventBus._on("annotationeditormodechanged",p);this.eventBus._on("toolbarreset",(function(t){t.source===r&&p({mode:o.AnnotationEditorType.DISABLE})}))}function _updateUIState2(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.pageNumber,i=this.pagesCount,a=this.pageScaleValue,o=this.pageScale,u=this.items;if(t){if(this.hasPageLabels){u.pageNumber.type="text";u.numPages.setAttribute("data-l10n-id","pdfjs-page-of-pages")}else{u.pageNumber.type="number";u.numPages.setAttribute("data-l10n-id","pdfjs-of-pages");u.numPages.setAttribute("data-l10n-args",JSON.stringify({pagesCount:i}))}u.pageNumber.max=i}if(this.hasPageLabels){u.pageNumber.value=this.pageLabel;u.numPages.setAttribute("data-l10n-args",JSON.stringify({pageNumber:r,pagesCount:i}))}else u.pageNumber.value=r;u.previous.disabled=r<=1;u.next.disabled=r>=i;u.zoomOut.disabled=o<=l.MIN_SCALE;u.zoomIn.disabled=o>=l.MAX_SCALE;var c=!1;if(u.scaleSelect.options){var h,d=_createForOfIteratorHelper(u.scaleSelect.options);try{for(d.s();!(h=d.n()).done;){var p=h.value;if(p.value===a){p.selected=!0;c=!0}else p.selected=!1}}catch(t){d.e(t)}finally{d.f()}}if(!c){u.customScaleOption.selected=!0;u.customScaleOption.setAttribute("data-l10n-args",JSON.stringify({scale:Math.round(1e4*o)/100}))}this.eventBus.dispatch("updateuistate",{source:this,widget:"Toolbar",pageNumber:r,pagesCount:i,pageScaleValue:a,pageScale:o})}a()}catch(v){a(v)}}))},4927:(t,r,i)=>{i.d(r,{AutoPrintRegExp:()=>A,CursorTool:()=>P,DEFAULT_SCALE:()=>o,DEFAULT_SCALE_DELTA:()=>l,DEFAULT_SCALE_VALUE:()=>a,MAX_AUTO_SCALE:()=>d,MAX_SCALE:()=>c,MIN_SCALE:()=>u,OutputScale:()=>S,PresentationModeState:()=>g,ProgressBar:()=>M,RenderingStates:()=>y,SCROLLBAR_PADDING:()=>p,ScrollMode:()=>b,SidebarView:()=>m,SpreadMode:()=>w,TextLayerMode:()=>_,UNKNOWN_SCALE:()=>h,VERTICAL_PADDING:()=>v,animationStarted:()=>x,apiPageLayoutToViewerModes:()=>apiPageLayoutToViewerModes,apiPageModeToSidebarView:()=>apiPageModeToSidebarView,approximateFraction:()=>approximateFraction,binarySearchFirstItem:()=>binarySearchFirstItem,docStyle:()=>k,getActiveOrFocusedElement:()=>getActiveOrFocusedElement,getPageSizeInches:()=>getPageSizeInches,getVisibleElements:()=>getVisibleElements,isPortraitOrientation:()=>isPortraitOrientation,isValidRotation:()=>isValidRotation,isValidScrollMode:()=>isValidScrollMode,isValidSpreadMode:()=>isValidSpreadMode,normalizeWheelEventDelta:()=>normalizeWheelEventDelta,normalizeWheelEventDirection:()=>normalizeWheelEventDirection,parseQueryString:()=>parseQueryString,removeNullCharacters:()=>removeNullCharacters,roundToDivide:()=>roundToDivide,scrollIntoView:()=>scrollIntoView,toggleCheckedBtn:()=>toggleCheckedBtn,toggleExpandedBtn:()=>toggleExpandedBtn,watchScroll:()=>watchScroll});i(5598),i(8806),i(9366),i(6678),i(895),i(3352),i(5897),i(1210),i(6180),i(5548),i(1747),i(2374),i(3757),i(3655),i(2555),i(2202),i(7942),i(5776),i(4711),i(7600),i(2048),i(5561),i(8587),i(3247),i(3302),i(9490),i(5438),i(7914),i(4226),i(6820),i(8301),i(3821),i(2796),i(2613),i(9099),i(5666),i(7484),i(2926),i(171),i(924),i(9593);function _classPrivateFieldInitSpec(t,r,i){!function _checkPrivateRedeclaration(t,r){if(r.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,r);r.set(t,i)}function _classPrivateFieldGet(t,r){return function _classApplyDescriptorGet(t,r){if(r.get)return r.get.call(t);return r.value}(t,_classExtractFieldDescriptor(t,r,"get"))}function _classPrivateFieldSet(t,r,i){!function _classApplyDescriptorSet(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(t,_classExtractFieldDescriptor(t,r,"set"),i);return i}function _classExtractFieldDescriptor(t,r,i){if(!r.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return r.get(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l,u,c=[],h=!0,d=!1;try{if(l=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;h=!1}else for(;!(h=(a=l.call(i)).done)&&(c.push(a.value),c.length!==r);h=!0);}catch(t){d=!0,o=t}finally{try{if(!h&&null!=i.return&&(u=i.return(),Object(u)!==u))return}finally{if(d)throw o}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}var a="auto",o=1,l=1.1,u=.1,c=10,h=0,d=1.25,p=40,v=5,y={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},g={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},m={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4},_={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},b={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},w={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2},P={SELECT:0,HAND:1,ZOOM:2},A=/\bprint\s*\(/,S=function(){function OutputScale(){_classCallCheck(this,OutputScale);var t=window.devicePixelRatio||1;this.sx=t;this.sy=t}_createClass(OutputScale,[{key:"scaled",get:function get(){return 1!==this.sx||1!==this.sy}}]);return OutputScale}();function scrollIntoView(t,r){var i,a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(t.classList.contains("stf__item")||null!==(i=t.parentElement)&&void 0!==i&&i.classList.contains("stf__item")||null!==(a=t.parentElement)&&void 0!==a&&null!==(a=a.parentElement)&&void 0!==a&&a.classList.contains("stf__item"))){var u=t.offsetParent;if(u){for(var c=t.offsetTop+t.clientTop,h=t.offsetLeft+t.clientLeft;u.clientHeight===u.scrollHeight&&u.clientWidth===u.scrollWidth||o&&(u.classList.contains("markedContent")||"hidden"===getComputedStyle(u).overflow);){c+=u.offsetTop;h+=u.offsetLeft;if(!(u=u.offsetParent)){if(l&&document.body.clientHeight>c){c-=32;window.scrollTo(window.scrollX,c)}return}}if(r){void 0!==r.top&&(c+=r.top);if(void 0!==r.left){h+=r.left;u.scrollLeft=h}}else if(function isDivInViewport(t){var r=t.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth)}(t))return;u.scrollTop=c}else globalThis.ngxConsole.error("offsetParent is not set -- cannot scroll")}}function watchScroll(t,r){var i=function debounceScroll(i){o||(o=window.requestAnimationFrame((function viewAreaElementScrolled(){o=null;var i=t.scrollLeft,l=a.lastX;i!==l&&(a.right=i>l);a.lastX=i;var u=t.scrollTop,c=a.lastY;u!==c&&(a.down=u>c);a.lastY=u;r(a)})))},a={right:!0,down:!0,lastX:t.scrollLeft,lastY:t.scrollTop,_eventHandler:i},o=null;t.addEventListener("scroll",i,!0);return a}function parseQueryString(t){var r,i=new Map,a=function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();u=t.done;return t},e:function e(t){c=!0;l=t},f:function f(){try{u||null==i.return||i.return()}finally{if(c)throw l}}}}(new URLSearchParams(t));try{for(a.s();!(r=a.n()).done;){var o=_slicedToArray(r.value,2),l=o[0],u=o[1];i.set(l.toLowerCase(),u)}}catch(t){a.e(t)}finally{a.f()}return i}var E=/[\x00-\x1F]/g;function removeNullCharacters(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return E.test(t)?r?t.replaceAll(E,(function(t){return"\0"===t?"":" "})):t.replaceAll("\0",""):t}function binarySearchFirstItem(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t.length-1;if(a<0||!r(t[a]))return t.length;if(r(t[i]))return i;for(;i<a;){var o=i+a>>1;r(t[o])?a=o:i=o+1}return i}function approximateFraction(t){if(Math.floor(t)===t)return[t,1];var r=1/t;if(r>8)return[1,8];if(Math.floor(r)===r)return[1,r];for(var i=t>1?r:t,a=0,o=1,l=1,u=1;;){var c=a+l,h=o+u;if(h>8)break;if(i<=c/h){l=c;u=h}else{a=c;o=h}}return i-a/o<l/u-i?i===t?[a,o]:[o,a]:i===t?[l,u]:[u,l]}function roundToDivide(t,r){var i=t%r;return 0===i?t:Math.round(t-i+r)}function getPageSizeInches(t){var r=t.view,i=t.userUnit,a=t.rotate,o=_slicedToArray(r,4),l=o[0],u=o[1],c=a%180!=0,h=(o[2]-l)/72*i,d=(o[3]-u)/72*i;return{width:c?d:h,height:c?h:d}}function getVisibleElements(t){var r=t.scrollEl,i=t.views,a=t.sortByVisibility,o=void 0!==a&&a,l=t.horizontal,u=void 0!==l&&l,c=t.rtl,h=void 0!==c&&c,d=r.scrollTop,p=d+r.clientHeight,v=r.scrollLeft,y=v+r.clientWidth;var g=[],m=new Set,_=i.length,b=binarySearchFirstItem(i,u?function isElementNextAfterViewHorizontally(t){var r=t.div,i=r.offsetLeft+r.clientLeft,a=i+r.clientWidth;return h?i<y:a>v}:function isElementBottomAfterViewTop(t){var r=t.div;return r.offsetTop+r.clientTop+r.clientHeight>d});b>0&&b<_&&!u&&(b=function backtrackBeforeAllVisibleElements(t,r,i){if(t<2)return t;var a=r[t].div,o=a.offsetTop+a.clientTop;o>=i&&(o=(a=r[t-1].div).offsetTop+a.clientTop);for(var l=t-2;l>=0&&!((a=r[l].div).offsetTop+a.clientTop+a.clientHeight<=o);--l)t=l;return t}(b,i,d));for(var w=u?y:-1,P=b;P<_;P++){var A=i[P],S=A.div,E=S.offsetLeft+S.clientLeft,x=S.offsetTop+S.clientTop,k=S.clientWidth,D=S.clientHeight,C=E+k,T=x+D;if(-1===w)T>=p&&(w=T);else if((u?E:x)>w)break;if(!(T<=d||x>=p||C<=v||E>=y)){var I=Math.max(0,d-x)+Math.max(0,T-p),O=(k-(Math.max(0,v-E)+Math.max(0,C-y)))/k,M=(D-I)/D*O*100|0;g.push({id:A.id,x:E,y:x,view:A,percent:M,widthPercent:100*O|0});m.add(A.id)}}var L=g[0],G=g.at(-1);o&&g.sort((function(t,r){var i=t.percent-r.percent;return Math.abs(i)>.001?-i:t.id-r.id}));return{first:L,last:G,views:g,ids:m}}function normalizeWheelEventDirection(t){var r=Math.hypot(t.deltaX,t.deltaY),i=Math.atan2(t.deltaY,t.deltaX);-.25*Math.PI<i&&i<.75*Math.PI&&(r=-r);return r}function normalizeWheelEventDelta(t){var r=t.deltaMode,i=normalizeWheelEventDirection(t);r===WheelEvent.DOM_DELTA_PIXEL?i/=900:r===WheelEvent.DOM_DELTA_LINE&&(i/=30);return i}function isValidRotation(t){return Number.isInteger(t)&&t%90==0}function isValidScrollMode(t){return Number.isInteger(t)&&Object.values(b).includes(t)&&t!==b.UNKNOWN}function isValidSpreadMode(t){return Number.isInteger(t)&&Object.values(w).includes(t)&&t!==w.UNKNOWN}function isPortraitOrientation(t){return t.width<=t.height}var x=new Promise((function(t){window.ngxZone.runOutsideAngular((function(){window.requestAnimationFrame(t)}))})),k=document.documentElement.style;var D=new WeakMap,C=new WeakMap,T=new WeakMap,I=new WeakMap,O=new WeakMap,M=function(){function ProgressBar(t){_classCallCheck(this,ProgressBar);_classPrivateFieldInitSpec(this,D,{writable:!0,value:null});_classPrivateFieldInitSpec(this,C,{writable:!0,value:null});_classPrivateFieldInitSpec(this,T,{writable:!0,value:0});_classPrivateFieldInitSpec(this,I,{writable:!0,value:null});_classPrivateFieldInitSpec(this,O,{writable:!0,value:!0});_classPrivateFieldSet(this,D,t.classList);_classPrivateFieldSet(this,I,t.style)}_createClass(ProgressBar,[{key:"percent",get:function get(){return _classPrivateFieldGet(this,T)},set:function set(t){_classPrivateFieldSet(this,T,function clamp(t,r,i){return Math.min(Math.max(t,r),i)}(t,0,100));if(isNaN(t))_classPrivateFieldGet(this,D).add("indeterminate");else{_classPrivateFieldGet(this,D).remove("indeterminate");_classPrivateFieldGet(this,I).setProperty("--progressBar-percent","".concat(_classPrivateFieldGet(this,T),"%"))}}},{key:"setWidth",value:function setWidth(t){if(t){var r=t.parentNode.offsetWidth-t.offsetWidth;r>0&&_classPrivateFieldGet(this,I).setProperty("--progressBar-end-offset","".concat(r,"px"))}}},{key:"setDisableAutoFetch",value:function setDisableAutoFetch(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;if(!isNaN(_classPrivateFieldGet(this,T))){_classPrivateFieldGet(this,C)&&clearTimeout(_classPrivateFieldGet(this,C));this.show();_classPrivateFieldSet(this,C,setTimeout((function(){_classPrivateFieldSet(t,C,null);t.hide()}),r))}}},{key:"hide",value:function hide(){if(_classPrivateFieldGet(this,O)){_classPrivateFieldSet(this,O,!1);_classPrivateFieldGet(this,D).add("hidden")}}},{key:"show",value:function show(){if(!_classPrivateFieldGet(this,O)){_classPrivateFieldSet(this,O,!0);_classPrivateFieldGet(this,D).remove("hidden")}}}]);return ProgressBar}();function getActiveOrFocusedElement(){for(var t=document,r=t.activeElement||t.querySelector(":focus");null!==(i=r)&&void 0!==i&&i.shadowRoot;){var i;r=(t=r.shadowRoot).activeElement||t.querySelector(":focus")}return r}function apiPageLayoutToViewerModes(t){var r=b.VERTICAL,i=w.NONE;switch(t){case"SinglePage":r=b.PAGE;break;case"OneColumn":break;case"TwoPageLeft":r=b.PAGE;case"TwoColumnLeft":i=w.ODD;break;case"TwoPageRight":r=b.PAGE;case"TwoColumnRight":i=w.EVEN}return{scrollMode:r,spreadMode:i}}function apiPageModeToSidebarView(t){switch(t){case"UseNone":return m.NONE;case"UseThumbs":return m.THUMBS;case"UseOutlines":return m.OUTLINE;case"UseAttachments":return m.ATTACHMENTS;case"UseOC":return m.LAYERS}return m.NONE}function toggleCheckedBtn(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.classList.toggle("toggled",r);t.setAttribute("aria-checked",r);null==i||i.classList.toggle("hidden",!r)}function toggleExpandedBtn(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.classList.toggle("toggled",r);t.setAttribute("aria-expanded",r);null==i||i.classList.toggle("hidden",!r)}},2033:(t,r,i)=>{i.d(r,{ViewHistory:()=>o});i(4668),i(2808),i(4226),i(7254),i(5598),i(8806),i(9366),i(6678),i(895),i(3352),i(5897),i(5666),i(2926),i(6180),i(1747),i(2374),i(1133),i(2173),i(2630),i(1024),i(13),i(7121),i(6770),i(1378),i(171);var a=i(8961);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,l=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(o,"string"),"symbol"===_typeof(l)?l:String(l)),a)}var o,l}var o=function(){function ViewHistory(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ViewHistory);this.fingerprint=t;this.cacheSize=i;this._initializedPromise=this._readFromStorage().then((function(t){var i=JSON.parse(t||"{}"),a=-1;if(Array.isArray(i.files)){for(;i.files.length>=r.cacheSize;)i.files.shift();for(var o=0,l=i.files.length;o<l;o++){if(i.files[o].fingerprint===r.fingerprint){a=o;break}}}else i.files=[];-1===a&&(a=i.files.push({fingerprint:r.fingerprint})-1);r.file=i.files[a];r.database=i}))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}(ViewHistory,[{key:"_writeToStorage",value:(u=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var t;return _regeneratorRuntime().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(!a.AppOptions.get("disableHistory")){r.next=2;break}return r.abrupt("return");case 2:t=JSON.stringify(this.database);try{localStorage.setItem("pdfjs.history",t)}catch(t){}case 4:case"end":return r.stop()}}),_callee,this)}))),function _writeToStorage(){return u.apply(this,arguments)})},{key:"_readFromStorage",value:(l=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){return _regeneratorRuntime().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(!a.AppOptions.get("disableHistory")){t.next=2;break}return t.abrupt("return",void 0);case 2:t.prev=2;return t.abrupt("return",localStorage.getItem("pdfjs.history"));case 6:t.prev=6;t.t0=t.catch(2);return t.abrupt("return",void 0);case 9:case"end":return t.stop()}}),_callee2,null,[[2,6]])}))),function _readFromStorage(){return l.apply(this,arguments)})},{key:"set",value:(o=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(t,r){return _regeneratorRuntime().wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._initializedPromise;case 2:this.file[t]=r;return i.abrupt("return",this._writeToStorage());case 4:case"end":return i.stop()}}),_callee3,this)}))),function set(t,r){return o.apply(this,arguments)})},{key:"setMultiple",value:(i=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(t){var r;return _regeneratorRuntime().wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._initializedPromise;case 2:for(r in t)this.file[r]=t[r];return i.abrupt("return",this._writeToStorage());case 4:case"end":return i.stop()}}),_callee4,this)}))),function setMultiple(t){return i.apply(this,arguments)})},{key:"get",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(t,r){var i;return _regeneratorRuntime().wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._initializedPromise;case 2:i=this.file[t];return a.abrupt("return",void 0!==i?i:r);case 4:case"end":return a.stop()}}),_callee5,this)}))),function get(t,i){return r.apply(this,arguments)})},{key:"getMultiple",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function _callee6(t){var r,i,a;return _regeneratorRuntime().wrap((function _callee6$(o){for(;;)switch(o.prev=o.next){case 0:o.next=2;return this._initializedPromise;case 2:r=Object.create(null);for(i in t){a=this.file[i];r[i]=void 0!==a?a:t[i]}return o.abrupt("return",r);case 5:case"end":return o.stop()}}),_callee6,this)}))),function getMultiple(r){return t.apply(this,arguments)})}]);var t,r,i,o,l,u;return ViewHistory}()},6400:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{PDFViewerApplication:()=>v.PDFViewerApplication,PDFViewerApplicationConstants:()=>g,PDFViewerApplicationOptions:()=>d.AppOptions});i(2926),i(6180),i(895),i(1747),i(2374),i(9366),i(6678);var o,l,u=i(1546),c=i(1834),h=i(4927),d=i(8961),p=i(3234),v=i(39),y=t([u,c,v]);[u,c,v]=y.then?(await y)():y;var g={LinkTarget:p.LinkTarget,RenderingStates:h.RenderingStates,ScrollMode:h.ScrollMode,SpreadMode:h.SpreadMode};window.PDFViewerApplication=v.PDFViewerApplication;window.PDFViewerApplicationConstants=g;window.PDFViewerApplicationOptions=d.AppOptions;HTMLCollection.prototype[Symbol.iterator]||(HTMLCollection.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]);"function"!=typeof window.CustomEvent&&(window.CustomEvent=function CustomEvent(t,r){r=r||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");i.initCustomEvent(t,r.bubbles,r.cancelable,r.detail);return i});function webViewerLoad(){var t={appContainer:document.body,mainContainer:document.getElementById("viewerContainer"),viewerContainer:document.getElementById("viewer"),toolbar:{container:document.getElementById("toolbarViewer"),numPages:document.getElementById("numPages"),pageNumber:document.getElementById("pageNumber"),scaleSelect:document.getElementById("scaleSelect"),customScaleOption:document.getElementById("customScaleOption"),previous:document.getElementById("previous"),next:document.getElementById("next"),zoomIn:document.getElementById("zoomIn"),zoomOut:document.getElementById("zoomOut"),viewFind:document.getElementById("viewFind"),print:document.getElementById("print"),editorFreeTextButton:document.getElementById("editorFreeText"),editorFreeTextParamsToolbar:document.getElementById("editorFreeTextParamsToolbar"),editorInkButton:document.getElementById("editorInk"),editorInkParamsToolbar:document.getElementById("editorInkParamsToolbar"),editorStampButton:document.getElementById("editorStamp"),presentationModeButton:document.getElementById("presentationMode"),editorStampParamsToolbar:document.getElementById("editorStampParamsToolbar"),download:document.getElementById("download")},secondaryToolbar:{toolbar:document.getElementById("secondaryToolbar"),toggleButton:document.getElementById("secondaryToolbarToggle"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFileButton:document.getElementById("secondaryOpenFile"),printButton:document.getElementById("secondaryPrint"),downloadButton:document.getElementById("secondaryDownload"),viewBookmarkButton:document.getElementById("viewBookmark"),firstPageButton:document.getElementById("firstPage"),lastPageButton:document.getElementById("lastPage"),pageRotateCwButton:document.getElementById("pageRotateCw"),pageRotateCcwButton:document.getElementById("pageRotateCcw"),cursorSelectToolButton:document.getElementById("cursorSelectTool"),cursorHandToolButton:document.getElementById("cursorHandTool"),scrollPageButton:document.getElementById("scrollPage"),scrollVerticalButton:document.getElementById("scrollVertical"),scrollHorizontalButton:document.getElementById("scrollHorizontal"),scrollWrappedButton:document.getElementById("scrollWrapped"),spreadNoneButton:document.getElementById("spreadNone"),spreadOddButton:document.getElementById("spreadOdd"),spreadEvenButton:document.getElementById("spreadEven"),documentPropertiesButton:document.getElementById("documentProperties")},sidebar:{outerContainer:document.getElementById("outerContainer"),sidebarContainer:document.getElementById("sidebarContainer"),toggleButton:document.getElementById("sidebarToggle"),resizer:document.getElementById("sidebarResizer"),thumbnailButton:document.getElementById("viewThumbnail"),outlineButton:document.getElementById("viewOutline"),attachmentsButton:document.getElementById("viewAttachments"),layersButton:document.getElementById("viewLayers"),thumbnailView:document.getElementById("thumbnailView"),outlineView:document.getElementById("outlineView"),attachmentsView:document.getElementById("attachmentsView"),layersView:document.getElementById("layersView"),outlineOptionsContainer:document.getElementById("outlineOptionsContainer"),currentOutlineItemButton:document.getElementById("currentOutlineItem")},findBar:{bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),matchDiacriticsCheckbox:document.getElementById("findMatchDiacritics"),entireWordCheckbox:document.getElementById("findEntireWord"),findMsg:document.getElementById("findMsg"),findResultsCount:document.getElementById("findResultsCount"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext")},passwordOverlay:{dialog:document.getElementById("passwordDialog"),label:document.getElementById("passwordText"),input:document.getElementById("password"),submitButton:document.getElementById("passwordSubmit"),cancelButton:document.getElementById("passwordCancel")},documentProperties:{dialog:document.getElementById("documentPropertiesDialog"),closeButton:document.getElementById("documentPropertiesClose"),fields:{fileName:document.getElementById("fileNameField"),fileSize:document.getElementById("fileSizeField"),title:document.getElementById("titleField"),author:document.getElementById("authorField"),subject:document.getElementById("subjectField"),keywords:document.getElementById("keywordsField"),creationDate:document.getElementById("creationDateField"),modificationDate:document.getElementById("modificationDateField"),creator:document.getElementById("creatorField"),producer:document.getElementById("producerField"),version:document.getElementById("versionField"),pageCount:document.getElementById("pageCountField"),pageSize:document.getElementById("pageSizeField"),linearized:document.getElementById("linearizedField")}},altTextDialog:{dialog:document.getElementById("altTextDialog"),optionDescription:document.getElementById("descriptionButton"),optionDecorative:document.getElementById("decorativeButton"),textarea:document.getElementById("descriptionTextarea"),cancelButton:document.getElementById("altTextCancel"),saveButton:document.getElementById("altTextSave")},annotationEditorParams:{editorFreeTextFontSize:document.getElementById("editorFreeTextFontSize"),editorFreeTextColor:document.getElementById("editorFreeTextColor"),editorInkColor:document.getElementById("editorInkColor"),editorInkThickness:document.getElementById("editorInkThickness"),editorInkOpacity:document.getElementById("editorInkOpacity"),editorStampAddImage:document.getElementById("editorStampAddImage")},printContainer:document.getElementById("printContainer"),openFileInput:document.getElementById("fileInput"),debuggerScriptPath:"./debugger.mjs"},r=new CustomEvent("webviewerloaded",{bubbles:!0,cancelable:!0,detail:{source:window}});try{parent.document.dispatchEvent(r)}catch(t){console.error("webviewerloaded: ".concat(t));document.dispatchEvent(r)}v.PDFViewerApplication.run(t)}null===(o=(l=document).blockUnblockOnload)||void 0===o||o.call(l,!0);window.webViewerLoad=webViewerLoad;a()}catch(m){a(m)}}))},8012:(t,r,i)=>{i.a(t,(async(t,a)=>{try{i.d(r,{XfaLayerBuilder:()=>u});i(5598),i(8806),i(9366),i(6678),i(895),i(3352),i(5897),i(5666),i(2926),i(6180),i(1747),i(2374),i(1133),i(2173),i(2630),i(1024),i(13),i(4226),i(7121),i(6770),i(1378),i(171);var o=i(1869),l=t([o]);o=(l.then?(await l)():l)[0];function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return r};var t,r={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,r,i){t[r]=i.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var l=r&&r.prototype instanceof Generator?r:Generator,u=Object.create(l.prototype),c=new Context(a||[]);return o(u,"_invoke",{value:makeInvokeMethod(t,i,c)}),u}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}r.wrap=wrap;var d="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var m={};define(m,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(values([])));b&&b!==i&&a.call(b,u)&&(m=b);var w=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var c=tryCatch(t[i],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"==_typeof(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function value(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(r,i,a){var o=d;return function(l,u){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===l)throw u;return{value:t,done:!0}}for(a.method=l,a.arg=u;;){var c=a.delegate;if(c){var h=maybeInvokeDelegate(c,a);if(h){if(h===g)continue;return h}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(o===d)throw o=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o=v;var m=tryCatch(r,i,a);if("normal"===m.type){if(o=a.done?y:p,m.arg===g)continue;return{value:m.arg,done:a.done}}"throw"===m.type&&(o=y,a.method="throw",a.arg=m.arg)}}}function maybeInvokeDelegate(r,i){var a=i.method,o=r.iterator[a];if(o===t)return i.delegate=null,"throw"===a&&r.iterator.return&&(i.method="return",i.arg=t,maybeInvokeDelegate(r,i),"throw"===i.method)||"return"!==a&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=tryCatch(o,r.iterator,i.arg);if("throw"===l.type)return i.method="throw",i.arg=l.arg,i.delegate=null,g;var u=l.arg;return u?u.done?(i[r.resultName]=u.value,i.next=r.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):u:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var i=r[u];if(i)return i.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,l=function next(){for(;++o<r.length;)if(a.call(r,o))return next.value=r[o],next.done=!1,next;return next.value=t,next.done=!0,next};return l.next=l}}throw new TypeError(_typeof(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(w,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),r.AsyncIterator=AsyncIterator,r.async=function(t,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(t,i,a,o),l);return r.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(w),define(w,h,"Generator"),define(w,u,(function(){return this})),define(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),i=[];for(var a in r)i.push(a);return i.reverse(),function next(){for(;i.length;){var t=i.pop();if(t in r)return next.value=t,next.done=!1,next}return next.done=!0,next}},r.values=values,Context.prototype={constructor:Context,reset:function reset(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!r)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(r){if(this.done)throw r;var i=this;function handle(a,o){return u.type="throw",u.arg=r,i.next=a,o&&(i.method="next",i.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(c&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),g}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(r,i,a){return this.delegate={iterator:values(r),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=t),g}},r}function asyncGeneratorStep(t,r,i,a,o,l,u){try{var c=t[l](u),h=c.value}catch(t){i(t);return}c.done?r(h):Promise.resolve(h).then(a,o)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,(o=a.key,l=void 0,"symbol"===_typeof(l=_toPrimitive(o,"string"))?l:String(l)),a)}var o,l}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);Object.defineProperty(t,"prototype",{writable:!1});return t}function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!==_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var u=function(){function XfaLayerBuilder(t){var r=t.pdfPage,i=t.annotationStorage,a=void 0===i?null:i,o=t.linkService,l=t.xfaHtml,u=void 0===l?null:l;_classCallCheck(this,XfaLayerBuilder);this.pdfPage=r;this.annotationStorage=a;this.linkService=o;this.xfaHtml=u;this.div=null;this._cancelled=!1}_createClass(XfaLayerBuilder,[{key:"render",value:(r=(t=_regeneratorRuntime().mark((function _callee(t){var r,i,a,l,u=arguments;return _regeneratorRuntime().wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if("print"!==(r=u.length>1&&void 0!==u[1]?u[1]:"display")){c.next=6;break}i={viewport:t.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r};this.div=document.createElement("div");i.div=this.div;return c.abrupt("return",o.XfaLayer.render(i));case 6:c.next=8;return this.pdfPage.getXfa();case 8:a=c.sent;if(!this._cancelled&&a){c.next=11;break}return c.abrupt("return",{textDivs:[]});case 11:l={viewport:t.clone({dontFlip:!0}),div:this.div,xfaHtml:a,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r};if(!this.div){c.next=14;break}return c.abrupt("return",o.XfaLayer.update(l));case 14:this.div=document.createElement("div");l.div=this.div;return c.abrupt("return",o.XfaLayer.render(l));case 17:case"end":return c.stop()}}),_callee,this)})),function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}),function render(t){return r.apply(this,arguments)})},{key:"cancel",value:function cancel(){this._cancelled=!0}},{key:"hide",value:function hide(){this.div&&(this.div.hidden=!0)}}]);var t,r;return XfaLayerBuilder}();a()}catch(c){a(c)}}))}},l={};function __webpack_require__(t){var r=l[t];if(void 0!==r)return r.exports;var i=l[t]={exports:{}};o[t].call(i.exports,i,i.exports,__webpack_require__);return i.exports}(()=>{var t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",r="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",i="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",resolveQueue=t=>{if(t&&t.d<1){t.d=1;t.forEach((t=>t.r--));t.forEach((t=>t.r--?t.r++:t()))}};__webpack_require__.a=(a,o,l)=>{var u;l&&((u=[]).d=-1);var c,h,d,p=new Set,v=a.exports,y=new Promise(((t,r)=>{d=r;h=t}));y[r]=v;y[t]=t=>(u&&t(u),p.forEach(t),y.catch((t=>{})));a.exports=y;o((a=>{c=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[t])return a;if(a.then){var o=[];o.d=0;a.then((t=>{l[r]=t;resolveQueue(o)}),(t=>{l[i]=t;resolveQueue(o)}));var l={};l[t]=t=>t(o);return l}}var u={};u[t]=t=>{};u[r]=a;return u})))(a);var o,getResult=()=>c.map((t=>{if(t[i])throw t[i];return t[r]})),l=new Promise((r=>{(o=()=>r(getResult)).r=0;var fnQueue=t=>t!==u&&!p.has(t)&&(p.add(t),t&&!t.d&&(o.r++,t.push(o)));c.map((r=>r[t](fnQueue)))}));return o.r?l:getResult()}),(t=>(t?d(y[i]=t):h(v),resolveQueue(u))));u&&u.d<0&&(u.d=0)}})();__webpack_require__.n=t=>{var r=t&&t.__esModule?()=>t.default:()=>t;__webpack_require__.d(r,{a:r});return r};__webpack_require__.d=(t,r)=>{for(var i in r)__webpack_require__.o(r,i)&&!__webpack_require__.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})};__webpack_require__.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);u=__webpack_require__(6400);var ne=(u=await u).PDFViewerApplication,ie=u.PDFViewerApplicationConstants,ae=u.PDFViewerApplicationOptions;export{ne as PDFViewerApplication,ie as PDFViewerApplicationConstants,ae as PDFViewerApplicationOptions};