/* Copyright 2022 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// @import url(draw_layer_builder.css); imported via compile-sass.ts
// @import url(toggle_button.css); imported via compile-sass.ts
// @import url(signature_manager.css); imported via compile-sass.ts

:root {
  --outline-width: 2px;
  --outline-color: #0060df;
  --outline-around-width: 1px;
  --outline-around-color: #f0f0f4;
  --hover-outline-around-color: var(--outline-around-color);
  --focus-outline: solid var(--outline-width) var(--outline-color);
  --unfocus-outline: solid var(--outline-width) transparent;
  --focus-outline-around: solid var(--outline-around-width) var(--outline-around-color);
  --hover-outline-color: #8f8f9d;
  --hover-outline: solid var(--outline-width) var(--hover-outline-color);
  --hover-outline-around: solid var(--outline-around-width) var(--hover-outline-around-color);
  --freetext-line-height: 1.35;
  --freetext-padding: 2px;
  --resizer-bg-color: var(--outline-color);
  --resizer-size: 6px;
  --resizer-shift: calc(0px - (var(--outline-width) + var(--resizer-size)) / 2 - var(--outline-around-width));
  --editorFreeText-editing-cursor: text;
  --editorInk-editing-cursor: url(data:image/svg+xml,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M0.0189877%2013.6645L0.612989%2010.4635C0.687989%2010.0545%200.884989%209.6805%201.18099%209.3825L9.98199%200.5805C10.756%20-0.1925%2012.015%20-0.1945%2012.792%200.5805L14.42%202.2085C15.194%202.9835%2015.194%204.2435%2014.42%205.0185L5.61599%2013.8215C5.31999%2014.1165%204.94599%2014.3125%204.53799%2014.3875L1.33599%2014.9815C1.26599%2014.9935%201.19799%2015.0005%201.12999%2015.0005C0.832989%2015.0005%200.544988%2014.8835%200.330988%2014.6695C0.0679874%2014.4055%20-0.0490122%2014.0305%200.0189877%2013.6645Z%22%20fill%3D%22white%22%2F%3E%3Cpath%20d%3D%22M0.0189877%2013.6645L0.612989%2010.4635C0.687989%2010.0545%200.884989%209.6805%201.18099%209.3825L9.98199%200.5805C10.756%20-0.1925%2012.015%20-0.1945%2012.792%200.5805L14.42%202.2085C15.194%202.9835%2015.194%204.2435%2014.42%205.0185L5.61599%2013.8215C5.31999%2014.1165%204.94599%2014.3125%204.53799%2014.3875L1.33599%2014.9815C1.26599%2014.9935%201.19799%2015.0005%201.12999%2015.0005C0.832989%2015.0005%200.544988%2014.8835%200.330988%2014.6695C0.0679874%2014.4055%20-0.0490122%2014.0305%200.0189877%2013.6645ZM12.472%205.1965L13.632%204.0365L13.631%203.1885L11.811%201.3675L10.963%201.3685L9.80299%202.5285L12.472%205.1965ZM4.31099%2013.1585C4.47099%2013.1285%204.61799%2013.0515%204.73399%2012.9345L11.587%206.0815L8.91899%203.4135L2.06599%2010.2655C1.94899%2010.3835%201.87199%2010.5305%201.84099%2010.6915L1.36699%2013.2485L1.75199%2013.6335L4.31099%2013.1585Z%22%20fill%3D%22black%22%2F%3E%3C%2Fsvg%3E) 0 16, pointer;
  --editorHighlight-editing-cursor:
    url(data:image/svg+xml,%3Csvg%20width%3D%2229%22%20height%3D%2232%22%20viewBox%3D%220%200%2029%2032%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M28%2016.75C28.2761%2016.75%2028.5%2016.5261%2028.5%2016.25V15C28.5%2014.7239%2028.2761%2014.5%2028%2014.5H26.358C25.9117%2014.5%2025.4773%2014.6257%2025.0999%2014.8604L25.0989%2014.8611L24%2015.5484L22.9%2014.861L22.8991%2014.8604C22.5218%2014.6257%2022.0875%2014.5%2021.642%2014.5H20C19.7239%2014.5%2019.5%2014.7239%2019.5%2015V16.25C19.5%2016.5261%2019.7239%2016.75%2020%2016.75H21.642C21.6648%2016.75%2021.6885%2016.7564%2021.7101%2016.7697C21.7102%2016.7698%2021.7104%2016.7699%2021.7105%2016.77L22.817%2017.461C22.817%2017.461%2022.8171%2017.4611%2022.8171%2017.4611C22.8171%2017.4611%2022.8171%2017.4611%2022.8171%2017.4611C22.8552%2017.4849%2022.876%2017.5229%2022.876%2017.567V22.625V27.683C22.876%2027.7271%2022.8552%2027.765%2022.8172%2027.7889C22.8171%2027.7889%2022.8171%2027.789%2022.817%2027.789L21.7095%2028.48C21.7094%2028.4801%2021.7093%2028.4802%2021.7092%2028.4803C21.6872%2028.4938%2021.6644%2028.5%2021.641%2028.5H20C19.7239%2028.5%2019.5%2028.7239%2019.5%2029V30.25C19.5%2030.5261%2019.7239%2030.75%2020%2030.75H21.642C22.0883%2030.75%2022.5227%2030.6243%2022.9001%2030.3896L22.9009%2030.3891L24%2029.7026L25.1%2030.39L25.1009%2030.3906C25.4783%2030.6253%2025.9127%2030.751%2026.359%2030.751H28C28.2761%2030.751%2028.5%2030.5271%2028.5%2030.251V29.001C28.5%2028.7249%2028.2761%2028.501%2028%2028.501H26.358C26.3352%2028.501%2026.3115%2028.4946%2026.2899%2028.4813C26.2897%2028.4812%2026.2896%2028.4811%2026.2895%2028.481L25.183%2027.79C25.183%2027.79%2025.183%2027.79%2025.1829%2027.79C25.1829%2027.7899%2025.1829%2027.7899%2025.1829%2027.7899C25.1462%2027.7669%2025.125%2027.7297%2025.125%2027.684V22.625V17.567C25.125%2017.5227%2025.146%2017.4844%2025.1836%2017.4606C25.1838%2017.4605%2025.1839%2017.4604%2025.184%2017.4603L26.2895%2016.77C26.2896%2016.7699%2026.2898%2016.7698%2026.2899%2016.7697C26.3119%2016.7562%2026.3346%2016.75%2026.358%2016.75H28Z%22%20fill%3D%22black%22%20stroke%3D%22%23FBFBFE%22%20stroke-linejoin%3D%22round%22%2F%3E%3Cpath%20d%3D%22M24.625%2017.567C24.625%2017.35%2024.735%2017.152%2024.918%2017.037L26.026%2016.345C26.126%2016.283%2026.24%2016.25%2026.358%2016.25H28V15H26.358C26.006%2015%2025.663%2015.099%2025.364%2015.285L24.256%2015.978C24.161%2016.037%2024.081%2016.113%2024%2016.187C23.918%2016.113%2023.839%2016.037%2023.744%2015.978L22.635%2015.285C22.336%2015.099%2021.993%2015%2021.642%2015H20V16.25H21.642C21.759%2016.25%2021.874%2016.283%2021.974%2016.345L23.082%2017.037C23.266%2017.152%2023.376%2017.35%2023.376%2017.567V22.625V27.683C23.376%2027.9%2023.266%2028.098%2023.082%2028.213L21.973%2028.905C21.873%2028.967%2021.759%2029%2021.641%2029H20V30.25H21.642C21.994%2030.25%2022.337%2030.151%2022.636%2029.965L23.744%2029.273C23.84%2029.213%2023.919%2029.137%2024%2029.064C24.081%2029.137%2024.161%2029.213%2024.256%2029.273L25.365%2029.966C25.664%2030.152%2026.007%2030.251%2026.359%2030.251H28V29.001H26.358C26.241%2029.001%2026.126%2028.968%2026.026%2028.906L24.918%2028.214C24.734%2028.099%2024.625%2027.901%2024.625%2027.684V22.625V17.567Z%22%20fill%3D%22black%22%2F%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M12.2%202.59C12.28%202.51%2012.43%202.5%2012.43%202.5C12.48%202.5%2012.58%202.52%2012.66%202.6L14.45%204.39C14.58%204.52%2014.58%204.72%2014.45%204.85L11.7713%207.52872L9.51628%205.27372L12.2%202.59ZM13.2658%204.62L11.7713%206.1145L10.9305%205.27372L12.425%203.77921L13.2658%204.62Z%22%20fill%3D%22%23FBFBFE%22%2F%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M5.98%208.82L8.23%2011.07L10.7106%208.58938L8.45562%206.33438L5.98%208.81V8.82ZM8.23%209.65579L9.29641%208.58938L8.45562%207.74859L7.38921%208.815L8.23%209.65579Z%22%20fill%3D%22%23FBFBFE%22%2F%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M10.1526%2012.6816L16.2125%206.6217C16.7576%206.08919%2017.05%205.3707%2017.05%204.62C17.05%203.86931%2016.7576%203.15084%2016.2126%202.61834L14.4317%200.837474C13.8992%200.29242%2013.1807%200%2012.43%200C11.6643%200%2010.9529%200.312929%2010.4329%200.832893L3.68289%207.58289C3.04127%208.22452%203.00459%209.25075%203.57288%209.93634L1.29187%2012.2239C1.09186%2012.4245%200.990263%2012.6957%201.0007%2012.9685L1%2014C0.447715%2014%200%2014.4477%200%2015V17C0%2017.5523%200.447715%2018%201%2018H16C16.5523%2018%2017%2017.5523%2017%2017V15C17%2014.4477%2016.5523%2014%2016%2014H10.2325C9.83594%2014%209.39953%2013.4347%2010.1526%2012.6816ZM4.39%209.35L4.9807%209.9407L2.39762%2012.5312H6.63877L7.10501%2012.065L7.57125%2012.5312H8.88875L15.51%205.91C15.86%205.57%2016.05%205.11%2016.05%204.62C16.05%204.13%2015.86%203.67%2015.51%203.33L13.72%201.54C13.38%201.19%2012.92%201%2012.43%201C11.94%201%2011.48%201.2%2011.14%201.54L4.39%208.29C4.1%208.58%204.1%209.06%204.39%209.35ZM16%2017V15H1V17H16Z%22%20fill%3D%22%23FBFBFE%22%2F%3E%3Cpath%20d%3D%22M15.1616%205.55136L15.1616%205.55132L15.1564%205.55645L8.40645%2012.3064C8.35915%2012.3537%208.29589%2012.38%208.23%2012.38C8.16411%2012.38%208.10085%2012.3537%208.05355%2012.3064L7.45857%2011.7115L7.10501%2011.3579L6.75146%2011.7115L6.03289%2012.43H3.20465L5.33477%2010.2937L5.6873%209.94019L5.33426%209.58715L4.74355%208.99645C4.64882%208.90171%204.64882%208.73829%204.74355%208.64355L11.4936%201.89355C11.7436%201.64354%2012.0779%201.5%2012.43%201.5C12.7883%201.5%2013.1179%201.63776%2013.3614%201.88839L13.3613%201.88843L13.3664%201.89355L15.1564%203.68355L15.1564%203.68359L15.1616%203.68864C15.4122%203.93211%2015.55%204.26166%2015.55%204.62C15.55%204.97834%2015.4122%205.30789%2015.1616%205.55136ZM5.48%208.82V9.02711L5.62645%209.17355L7.87645%2011.4236L8.23%2011.7771L8.58355%2011.4236L11.0642%208.94293L11.4177%208.58938L11.0642%208.23582L8.80918%205.98082L8.45562%205.62727L8.10207%205.98082L5.62645%208.45645L5.48%208.60289V8.81V8.82ZM11.4177%207.88227L11.7713%208.23582L12.1248%207.88227L14.8036%205.20355C15.1288%204.87829%2015.1288%204.36171%2014.8036%204.03645L13.0136%202.24645C12.8186%202.05146%2012.5792%202%2012.43%202H12.4134L12.3967%202.00111L12.43%202.5C12.3967%202.00111%2012.3966%202.00112%2012.3965%202.00112L12.3963%202.00114L12.3957%202.00117L12.3947%202.00125L12.3924%202.00142L12.387%202.00184L12.3732%202.00311C12.3628%202.00416%2012.3498%202.00567%2012.3346%202.00784C12.3049%202.01208%2012.2642%202.01925%2012.2178%202.03146C12.1396%202.05202%2011.9797%202.10317%2011.8464%202.23645L9.16273%204.92016L8.80918%205.27372L9.16273%205.62727L11.4177%207.88227ZM1.5%2016.5V15.5H15.5V16.5H1.5Z%22%20stroke%3D%22%2315141A%22%2F%3E%3C%2Fsvg%3E) 24 24, text;
  --editorFreeHighlight-editing-cursor:
    url(data:image/svg+xml,%3Csvg%20width%3D%2218%22%20height%3D%2219%22%20viewBox%3D%220%200%2018%2019%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M12.2%203.09C12.28%203.01%2012.43%203%2012.43%203C12.48%203%2012.58%203.02%2012.66%203.1L14.45%204.89C14.58%205.02%2014.58%205.22%2014.45%205.35L11.7713%208.02872L9.51628%205.77372L12.2%203.09ZM13.2658%205.12L11.7713%206.6145L10.9305%205.77372L12.425%204.27921L13.2658%205.12Z%22%20fill%3D%22%23FBFBFE%22%2F%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M5.98%209.32L8.23%2011.57L10.7106%209.08938L8.45562%206.83438L5.98%209.31V9.32ZM8.23%2010.1558L9.29641%209.08938L8.45562%208.24859L7.38921%209.315L8.23%2010.1558Z%22%20fill%3D%22%23FBFBFE%22%2F%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M10.1526%2013.1816L16.2125%207.1217C16.7576%206.58919%2017.05%205.8707%2017.05%205.12C17.05%204.36931%2016.7576%203.65084%2016.2126%203.11834L14.4317%201.33747C13.8992%200.79242%2013.1807%200.5%2012.43%200.5C11.6643%200.5%2010.9529%200.812929%2010.4329%201.33289L3.68289%208.08289C3.04127%208.72452%203.00459%209.75075%203.57288%2010.4363L1.29187%2012.7239C1.09186%2012.9245%200.990263%2013.1957%201.0007%2013.4685L1%2014.5C0.447715%2014.5%200%2014.9477%200%2015.5V17.5C0%2018.0523%200.447715%2018.5%201%2018.5H16C16.5523%2018.5%2017%2018.0523%2017%2017.5V15.5C17%2014.9477%2016.5523%2014.5%2016%2014.5H10.2325C9.83594%2014.5%209.39953%2013.9347%2010.1526%2013.1816ZM4.39%209.85L4.9807%2010.4407L2.39762%2013.0312H6.63877L7.10501%2012.565L7.57125%2013.0312H8.88875L15.51%206.41C15.86%206.07%2016.05%205.61%2016.05%205.12C16.05%204.63%2015.86%204.17%2015.51%203.83L13.72%202.04C13.38%201.69%2012.92%201.5%2012.43%201.5C11.94%201.5%2011.48%201.7%2011.14%202.04L4.39%208.79C4.1%209.08%204.1%209.56%204.39%209.85ZM16%2017.5V15.5H1V17.5H16Z%22%20fill%3D%22%23FBFBFE%22%2F%3E%3Cpath%20d%3D%22M15.1616%206.05136L15.1616%206.05132L15.1564%206.05645L8.40645%2012.8064C8.35915%2012.8537%208.29589%2012.88%208.23%2012.88C8.16411%2012.88%208.10085%2012.8537%208.05355%2012.8064L7.45857%2012.2115L7.10501%2011.8579L6.75146%2012.2115L6.03289%2012.93H3.20465L5.33477%2010.7937L5.6873%2010.4402L5.33426%2010.0871L4.74355%209.49645C4.64882%209.40171%204.64882%209.23829%204.74355%209.14355L11.4936%202.39355C11.7436%202.14354%2012.0779%202%2012.43%202C12.7883%202%2013.1179%202.13776%2013.3614%202.38839L13.3613%202.38843L13.3664%202.39355L15.1564%204.18355L15.1564%204.18359L15.1616%204.18864C15.4122%204.43211%2015.55%204.76166%2015.55%205.12C15.55%205.47834%2015.4122%205.80789%2015.1616%206.05136ZM7.87645%2011.9236L8.23%2012.2771L8.58355%2011.9236L11.0642%209.44293L11.4177%209.08938L11.0642%208.73582L8.80918%206.48082L8.45562%206.12727L8.10207%206.48082L5.62645%208.95645L5.48%209.10289V9.31V9.32V9.52711L5.62645%209.67355L7.87645%2011.9236ZM11.4177%208.38227L11.7713%208.73582L12.1248%208.38227L14.8036%205.70355C15.1288%205.37829%2015.1288%204.86171%2014.8036%204.53645L13.0136%202.74645C12.8186%202.55146%2012.5792%202.5%2012.43%202.5H12.4134L12.3967%202.50111L12.43%203C12.3967%202.50111%2012.3966%202.50112%2012.3965%202.50112L12.3963%202.50114L12.3957%202.50117L12.3947%202.50125L12.3924%202.50142L12.387%202.50184L12.3732%202.50311C12.3628%202.50416%2012.3498%202.50567%2012.3346%202.50784C12.3049%202.51208%2012.2642%202.51925%2012.2178%202.53146C12.1396%202.55202%2011.9797%202.60317%2011.8464%202.73645L9.16273%205.42016L8.80918%205.77372L9.16273%206.12727L11.4177%208.38227ZM1.5%2016H15.5V17H1.5V16Z%22%20stroke%3D%22%2315141A%22%2F%3E%3C%2Fsvg%3E) 1 18, pointer;

  --new-alt-text-warning-image: url('data:image/svg+xml;charset=UTF-8,<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.78182 2.63903C8.58882 2.28803 8.25782 2.25003 8.12482 2.25003C7.99019 2.24847 7.85771 2.28393 7.74185 2.35253C7.62599 2.42113 7.5312 2.52023 7.46782 2.63903L1.97082 12.639C1.90673 12.7528 1.87406 12.8816 1.87617 13.0122C1.87828 13.1427 1.91509 13.2704 1.98282 13.382C2.04798 13.4951 2.14207 13.5888 2.25543 13.6535C2.36879 13.7182 2.49732 13.7515 2.62782 13.75H13.6218C13.7523 13.7515 13.8809 13.7182 13.9942 13.6535C14.1076 13.5888 14.2017 13.4951 14.2668 13.382C14.3346 13.2704 14.3714 13.1427 14.3735 13.0122C14.3756 12.8816 14.3429 12.7528 14.2788 12.639L8.78182 2.63903ZM6.37282 2.03703C6.75182 1.34603 7.43882 1.00003 8.12482 1.00003C8.48341 0.997985 8.83583 1.09326 9.14454 1.2757C9.45325 1.45814 9.70668 1.72092 9.87782 2.03603L15.3748 12.036C16.1078 13.369 15.1438 15 13.6228 15H2.62782C1.10682 15 0.141823 13.37 0.875823 12.037L6.37282 2.03703ZM8.74982 9.06203C8.74982 9.22779 8.68397 9.38676 8.56676 9.50397C8.44955 9.62118 8.29058 9.68703 8.12482 9.68703C7.95906 9.68703 7.80009 9.62118 7.68288 9.50397C7.56566 9.38676 7.49982 9.22779 7.49982 9.06203V5.62503C7.49982 5.45927 7.56566 5.3003 7.68288 5.18309C7.80009 5.06588 7.95906 5.00003 8.12482 5.00003C8.29058 5.00003 8.44955 5.06588 8.56676 5.18309C8.68397 5.3003 8.74982 5.45927 8.74982 5.62503V9.06203ZM7.74982 12L7.49982 11.75V11L7.74982 10.75H8.49982L8.74982 11V11.75L8.49982 12H7.74982Z" fill="black"/></svg>');

}

ngx-extended-pdf-viewer {

  /* The following class is used to hide an element but keep it available to
 * for screen readers. */
  .visuallyHidden {
    position: absolute;
    top: 0;
    left: 0;
    border: 0;
    margin: 0;
    padding: 0;
    width: 0;
    height: 0;
    overflow: hidden;
    white-space: nowrap;
    font-size: 0;
  }

  .textLayer {
    &.highlighting {
      cursor: var(--editorFreeHighlight-editing-cursor);

      &:not(.free) span {
        cursor: var(--editorHighlight-editing-cursor);

        &[role="img"] {
          cursor: var(--editorFreeHighlight-editing-cursor);
        }
      }

      &.free span {
        cursor: var(--editorFreeHighlight-editing-cursor);
      }
    }
  }

  #viewerContainer.pdfPresentationMode:fullscreen,
  .annotationEditorLayer.disabled {
    .noAltTextBadge {
      display: none !important;
    }
  }

  @media (min-resolution: 1.1dppx) {
    :root {
      --editorFreeText-editing-cursor: url('data:image/svg+xml;charset=UTF-8,<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2.75H12.5V2.25V1V0.5H12H10.358C9.91165 0.5 9.47731 0.625661 9.09989 0.860442L9.09886 0.861087L8 1.54837L6.89997 0.860979L6.89911 0.860443C6.5218 0.625734 6.08748 0.5 5.642 0.5H4H3.5V1V2.25V2.75H4H5.642C5.66478 2.75 5.6885 2.75641 5.71008 2.76968C5.71023 2.76977 5.71038 2.76986 5.71053 2.76995L6.817 3.461C6.81704 3.46103 6.81709 3.46105 6.81713 3.46108C6.81713 3.46108 6.81713 3.46108 6.81714 3.46109C6.8552 3.48494 6.876 3.52285 6.876 3.567V8V12.433C6.876 12.4771 6.85523 12.515 6.81722 12.5389C6.81715 12.5389 6.81707 12.539 6.817 12.539L5.70953 13.23C5.70941 13.2301 5.70929 13.2302 5.70917 13.2303C5.68723 13.2438 5.6644 13.25 5.641 13.25H4H3.5V13.75V15V15.5H4H5.642C6.08835 15.5 6.52269 15.3743 6.90011 15.1396L6.90086 15.1391L8 14.4526L9.10003 15.14L9.10089 15.1406C9.47831 15.3753 9.91265 15.501 10.359 15.501H12H12.5V15.001V13.751V13.251H12H10.358C10.3352 13.251 10.3115 13.2446 10.2899 13.2313C10.2897 13.2312 10.2896 13.2311 10.2895 13.231L9.183 12.54C9.18298 12.54 9.18295 12.54 9.18293 12.54C9.18291 12.5399 9.18288 12.5399 9.18286 12.5399C9.14615 12.5169 9.125 12.4797 9.125 12.434V8V3.567C9.125 3.52266 9.14603 3.48441 9.18364 3.4606C9.18377 3.46052 9.1839 3.46043 9.18404 3.46035L10.2895 2.76995C10.2896 2.76985 10.2898 2.76975 10.2899 2.76966C10.3119 2.75619 10.3346 2.75 10.358 2.75H12Z" fill="black" stroke="white"/></svg>') 0 16,
        text;
    }
  }

  @media screen and (forced-colors: active) {
    :root {
      --outline-color: CanvasText;
      --outline-around-color: ButtonFace;
      --resizer-bg-color: ButtonText;
      --hover-outline-color: Highlight;
      --hover-outline-around-color: SelectedItemText;
    }
  }

  [data-editor-rotation="90"] {
    transform: rotate(90deg);
  }

  [data-editor-rotation="180"] {
    transform: rotate(180deg);
  }

  [data-editor-rotation="270"] {
    transform: rotate(270deg);
  }

  .annotationEditorLayer {
    background: transparent;
    position: absolute;
    inset: 0;
    font-size: calc(100px * var(--total-scale-factor));
    transform-origin: 0 0;
    cursor: auto;
    z-index: 4; // needed to edit annotations on top of the viewer

    .selectedEditor {
      z-index: 100000 !important;
    }

    &.drawing * {
      pointer-events: none !important;
    }

    &.getElements {
      pointer-events: auto !important;

      >div {
        pointer-events: auto !important;
      }
    }
  }

  .annotationEditorLayer.waiting {
    content: "";
    cursor: wait;
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
  }

  .annotationEditorLayer.disabled {
    pointer-events: none;

    &.highlightEditing :is(.freeTextEditor, .inkEditor, .stampEditor, .signatureEditor) {
      pointer-events: auto;
    }
  }

  .annotationEditorLayer.freetextEditing {
    cursor: var(--editorFreeText-editing-cursor);
  }

  .annotationEditorLayer.inkEditing {
    cursor: var(--editorInk-editing-cursor);
    touch-action: none;
  }

  .annotationEditorLayer .draw {
    box-sizing: border-box;
  }

  .annotationEditorLayer :is(.freeTextEditor, .inkEditor, .stampEditor, .signatureEditor) {
    position: absolute;
    background: transparent;
    z-index: 1;
    transform-origin: 0 0;
    cursor: auto;
    max-width: 100%;
    max-height: 100%;
    border: var(--unfocus-outline);

    &.draggable.selectedEditor {
      cursor: move;
    }

    &.moving {
      touch-action: none;
    }

    &.selectedEditor {
      border: var(--focus-outline);
      outline: var(--focus-outline-around);

      &::before {
        /*
        This is a workaround for the lack of support for stripes(...) (see
        https://drafts.csswg.org/css-images-4/#stripes).
        The outline should be composed of 1px white, 2px blue and 1px white.
        This could be achieved in different ways:
          - using a linear-gradient;
          - using a box-shadow;
          - using an outline on the selected element and an outline+border on
            the ::before pseudo-element.
        All these options lead to incorrect rendering likely due to rounding
        issues.
        That said it doesn't mean that the current is ideal, but it's the best
        we could come up with for the moment.
        One drawback of this approach is that we use a border on the selected
        element which means that we must take care of it when positioning the
        div in js (see AnnotationEditor._borderLineWidth in editor.js).
      */
        content: "";
        position: absolute;
        inset: 0;
        border: var(--focus-outline-around);
        pointer-events: none;
      }
    }

    &:hover:not(.selectedEditor) {
      border: var(--hover-outline);
      outline: var(--hover-outline-around);

      &::before {
        content: "";
        position: absolute;
        inset: 0;
        border: var(--focus-outline-around);
      }
    }
  }

  .annotationEditorLayer :is(.freeTextEditor,
    .inkEditor,
    .stampEditor,
    .highlightEditor,
    .signatureEditor),
  .textLayer {
    .editToolbar {
      --editor-toolbar-delete-image: url("data:image/svg+xml; utf8, <svg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M11 3H13.6C14 3 14.3 3.3 14.3 3.6C14.3 3.9 14 4.2 13.7 4.2H13.3V14C13.3 15.1 12.4 16 11.3 16H4.80005C3.70005 16 2.80005 15.1 2.80005 14V4.2H2.40005C2.00005 4.2 1.80005 4 1.80005 3.6C1.80005 3.2 2.00005 3 2.40005 3H5.00005V2C5.00005 0.9 5.90005 0 7.00005 0H9.00005C10.1 0 11 0.9 11 2V3ZM6.90005 1.2L6.30005 1.8V3H9.80005V1.8L9.20005 1.2H6.90005ZM11.4 14.7L12 14.1V4.2H4.00005V14.1L4.60005 14.7H11.4ZM7.00005 12.4C7.00005 12.7 6.70005 13 6.40005 13C6.10005 13 5.80005 12.7 5.80005 12.4V7.6C5.70005 7.3 6.00005 7 6.40005 7C6.80005 7 7.00005 7.3 7.00005 7.6V12.4ZM10.2001 12.4C10.2001 12.7 9.90006 13 9.60006 13C9.30006 13 9.00006 12.7 9.00006 12.4V7.6C9.00006 7.3 9.30006 7 9.60006 7C9.90006 7 10.2001 7.3 10.2001 7.6V12.4Z' fill='black' /></svg>");
      --new-alt-text-ai-disclaimer-icon: url("data:image/svg+xml; utf8, <svg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 12.5c-3 0-5.5-2.5-5.5-5.5S5 2.5 8 2.5s5.5 2.5 5.5 5.5-2.5 5.5-5.5 5.5z' fill='black'/><path d='M7 5h2v2H7V5zm0 3h2v5H7V8z' fill='black'/></svg>");
      --new-alt-text-spinner-icon: url("data:image/svg+xml; utf8, <svg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M8 1.5A6.5 6.5 0 0 1 14.5 8h1.5A8 8 0 0 0 8 0v1.5z' fill='black'><animateTransform attributeName='transform' attributeType='XML' type='rotate' from='0 8 8' to='360 8 8' dur='1s' repeatCount='indefinite'/></path></svg>");
      --editor-toolbar-bg-color: #f0f0f4;
      --editor-toolbar-highlight-image: url('data:image/svg+xml; utf8, <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g><path fill-rule="evenodd" clip-rule="evenodd" d="M7.10918 11.66C7.24918 11.8 7.43918 11.88 7.63918 11.88C7.83918 11.88 8.02918 11.8 8.16918 11.66L14.9192 4.91C15.2692 4.57 15.4592 4.11 15.4592 3.62C15.4592 3.13 15.2692 2.67 14.9192 2.33L13.1292 0.54C12.7892 0.19 12.3292 0 11.8392 0C11.3492 0 10.8892 0.2 10.5492 0.54L3.79918 7.29C3.50918 7.58 3.50918 8.06 3.79918 8.35L4.38988 8.9407L1.40918 11.93H5.64918L6.51419 11.065L7.10918 11.66ZM7.63918 10.07L5.38918 7.82V7.81L7.8648 5.33438L10.1198 7.58938L7.63918 10.07ZM11.1805 6.52872L13.8592 3.85C13.9892 3.72 13.9892 3.52 13.8592 3.39L12.0692 1.6C11.9892 1.52 11.8892 1.5 11.8392 1.5C11.8392 1.5 11.6892 1.51 11.6092 1.59L8.92546 4.27372L11.1805 6.52872Z" fill="#000"/><path d="M0.40918 14H15.4092V16H0.40918V14Z" fill="#000"/></g></svg>');
      --editor-toolbar-fg-color: #2e2e56;
      --editor-toolbar-border-color: #8f8f9d;
      --editor-toolbar-hover-border-color: var(--editor-toolbar-border-color);
      --editor-toolbar-hover-bg-color: #e0e0e6;
      --editor-toolbar-hover-fg-color: var(--editor-toolbar-fg-color);
      --editor-toolbar-hover-outline: none;
      --editor-toolbar-focus-outline-color: #0060df;
      --editor-toolbar-shadow: 0 2px 6px 0 rgb(58 57 68 / 0.2);
      --editor-toolbar-vert-offset: 6px;
      --editor-toolbar-height: 28px;
      --editor-toolbar-padding: 2px;
      --alt-text-done-color: #2ac3a2;
      --alt-text-warning-color: #0090ed;
      --alt-text-hover-done-color: var(--alt-text-done-color);
      --alt-text-hover-warning-color: var(--alt-text-warning-color);

      @media (prefers-color-scheme: dark) {
        --editor-toolbar-bg-color: #2b2a33;
        --editor-toolbar-fg-color: #fbfbfe;
        --editor-toolbar-hover-bg-color: #52525e;
        --editor-toolbar-focus-outline-color: #0df;
        --alt-text-done-color: #54ffbd;
        --alt-text-warning-color: #80ebff;
      }

      @media screen and (forced-colors: active) {
        --editor-toolbar-bg-color: ButtonFace;
        --editor-toolbar-fg-color: ButtonText;
        --editor-toolbar-border-color: ButtonText;
        --editor-toolbar-hover-border-color: AccentColor;
        --editor-toolbar-hover-bg-color: ButtonFace;
        --editor-toolbar-hover-fg-color: AccentColor;
        --editor-toolbar-hover-outline: 2px solid var(--editor-toolbar-hover-border-color);
        --editor-toolbar-focus-outline-color: ButtonBorder;
        --editor-toolbar-shadow: none;
        --alt-text-done-color: var(--editor-toolbar-fg-color);
        --alt-text-warning-color: var(--editor-toolbar-fg-color);
        --alt-text-hover-done-color: var(--editor-toolbar-hover-fg-color);
        --alt-text-hover-warning-color: var(--editor-toolbar-hover-fg-color);
      }

      & {
        display: flex;
        width: fit-content;
        height: var(--editor-toolbar-height);
        flex-direction: column;
        justify-content: center;
        align-items: center;
        cursor: default;
        pointer-events: auto;
        box-sizing: content-box;
        padding: var(--editor-toolbar-padding);

        position: absolute;
        inset-inline-end: 0;
        inset-block-start: calc(100% + var(--editor-toolbar-vert-offset));

        border-radius: 6px;
        background-color: var(--editor-toolbar-bg-color);
        border: 1px solid var(--editor-toolbar-border-color);
        box-shadow: var(--editor-toolbar-shadow);
      }

      &.hidden {
        display: none;
      }

      &:has(:focus-visible) {
        border-color: transparent;
      }

      &:dir(ltr) {
        transform-origin: 100% 0;
      }

      &:dir(rtl) {
        transform-origin: 0 0;
      }

      .buttons {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 0;
        height: 100%;

        button {
          padding: 0;
        }

        .divider {
          width: 0;
          height: calc(2 * var(--editor-toolbar-padding) + var(--editor-toolbar-height));
          border-left: 1px solid var(--editor-toolbar-border-color);
          border-right: none;
          display: inline-block;
          margin-inline: 2px;
        }

        .highlightButton {
          width: var(--editor-toolbar-height);

          &::before {
            content: "";
            mask-image: var(--editor-toolbar-highlight-image);
            mask-repeat: no-repeat;
            mask-position: center;
            display: inline-block;
            background-color: var(--editor-toolbar-fg-color);
            width: 100%;
            height: 100%;
          }

          &:hover::before {
            background-color: var(--editor-toolbar-hover-fg-color);
          }
        }

        .delete {
          width: var(--editor-toolbar-height);

          &::before {
            content: "";
            mask-image: var(--editor-toolbar-delete-image);
            mask-repeat: no-repeat;
            mask-position: center;
            display: inline-block;
            background-color: var(--editor-toolbar-fg-color);
            width: 100%;
            height: 100%;
          }

          &:hover::before {
            background-color: var(--editor-toolbar-hover-fg-color);
          }
        }

        .deleteButton {
          width: var(--editor-toolbar-height);

          &::before {
            content: "";
            mask-image: var(--editor-toolbar-delete-image);
            mask-repeat: no-repeat;
            mask-position: center;
            display: inline-block;
            background-color: var(--editor-toolbar-fg-color);
            width: 100%;
            height: 100%;
          }

          &:hover::before {
            background-color: var(--editor-toolbar-hover-fg-color);
          }
        }

        .commentButton, .comment {
          width: var(--editor-toolbar-height);

          &::before {
            content: "";
            mask-image: var(--comment-edit-button-icon);
            mask-repeat: no-repeat;
            mask-position: center;
            display: inline-block;
            background-color: var(--editor-toolbar-fg-color);
            width: 100%;
            height: 100%;
          }

          &:hover::before {
            background-color: var(--editor-toolbar-hover-fg-color);
          }
        }

        >* {
          height: var(--editor-toolbar-height);
        }

        > :not(.divider) {
          border: none;
          background-color: transparent;
          cursor: pointer;

          &:hover {
            border-radius: 2px;
            background-color: var(--editor-toolbar-hover-bg-color);
            color: var(--editor-toolbar-hover-fg-color);
            outline: var(--editor-toolbar-hover-outline);
            outline-offset: 1px;

            &:active {
              outline: none;
            }
          }

          &:focus-visible {
            border-radius: 2px;
            outline: 2px solid var(--editor-toolbar-focus-outline-color);
          }
        }

        .altText {
          --alt-text-add-image: url('data:image/svg+xml;charset=UTF-8,<svg width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.375 7.625V11.875C5.375 12.0408 5.44085 12.1997 5.55806 12.3169C5.67527 12.4342 5.83424 12.5 6 12.5C6.16576 12.5 6.32473 12.4342 6.44194 12.3169C6.55915 12.1997 6.625 12.0408 6.625 11.875V7.625L7.125 7.125H11.375C11.5408 7.125 11.6997 7.05915 11.8169 6.94194C11.9342 6.82473 12 6.66576 12 6.5C12 6.33424 11.9342 6.17527 11.8169 6.05806C11.6997 5.94085 11.5408 5.875 11.375 5.875H7.125L6.625 5.375V1.125C6.625 0.95924 6.55915 0.800269 6.44194 0.683058C6.32473 0.565848 6.16576 0.5 6 0.5C5.83424 0.5 5.67527 0.565848 5.55806 0.683058C5.44085 0.800269 5.375 0.95924 5.375 1.125V5.375L4.875 5.875H0.625C0.45924 5.875 0.300269 5.94085 0.183058 6.05806C0.065848 6.17527 0 6.33424 0 6.5C0 6.66576 0.065848 6.82473 0.183058 6.94194C0.300269 7.05915 0.45924 7.125 0.625 7.125H4.762L5.375 7.625Z" fill="black"/></svg>');
          --alt-text-done-image: url('data:image/svg+xml;charset=UTF-8,<svg width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 0.5C5.21207 0.5 4.43185 0.655195 3.7039 0.956723C2.97595 1.25825 2.31451 1.70021 1.75736 2.25736C1.20021 2.81451 0.758251 3.47595 0.456723 4.2039C0.155195 4.93185 0 5.71207 0 6.5C0 7.28793 0.155195 8.06815 0.456723 8.7961C0.758251 9.52405 1.20021 10.1855 1.75736 10.7426C2.31451 11.2998 2.97595 11.7417 3.7039 12.0433C4.43185 12.3448 5.21207 12.5 6 12.5C7.5913 12.5 9.11742 11.8679 10.2426 10.7426C11.3679 9.61742 12 8.0913 12 6.5C12 4.9087 11.3679 3.38258 10.2426 2.25736C9.11742 1.13214 7.5913 0.5 6 0.5ZM5.06 8.9L2.9464 6.7856C2.85273 6.69171 2.80018 6.56446 2.80033 6.43183C2.80048 6.29921 2.85331 6.17207 2.9472 6.0784C3.04109 5.98473 3.16834 5.93218 3.30097 5.93233C3.43359 5.93248 3.56073 5.98531 3.6544 6.0792L5.3112 7.7368L8.3464 4.7008C8.44109 4.6109 8.56715 4.56153 8.69771 4.56322C8.82827 4.56492 8.95301 4.61754 9.04534 4.70986C9.13766 4.80219 9.19028 4.92693 9.19198 5.05749C9.19367 5.18805 9.1443 5.31411 9.0544 5.4088L5.5624 8.9H5.06Z" fill="#FBFBFE"/></svg>');

          display: flex;
          align-items: center;
          justify-content: center;
          width: max-content;
          padding-inline: 8px;
          pointer-events: all;
          font: menu;
          font-weight: 590;
          font-size: 12px;
          color: var(--editor-toolbar-fg-color);

          &:disabled {
            pointer-events: none;
          }

          &::before {
            content: "";
            mask-image: var(--alt-text-add-image);
            mask-repeat: no-repeat;
            mask-position: center;
            display: inline-block;
            width: 12px;
            height: 13px;
            background-color: var(--editor-toolbar-fg-color);
            margin-inline-end: 4px;
          }

          &:hover::before {
            background-color: var(--editor-toolbar-hover-fg-color);
          }

          &.done::before {
            mask-image: var(--alt-text-done-image);
          }

          &.new {
            &::before {
              width: 16px;
              height: 16px;
              mask-image: var(--new-alt-text-warning-image);
              background-color: var(--alt-text-warning-color);
              mask-size: cover;
            }

            &:hover::before {
              background-color: var(--alt-text-hover-warning-color);
            }

            &.done {
              &::before {
                mask-image: var(--alt-text-done-image);
                background-color: var(--alt-text-done-color);
              }

              &:hover::before {
                background-color: var(--alt-text-hover-done-color);
              }
            }
          }

          .tooltip {
            display: none;
            word-wrap: anywhere;

            &.show {
              --alt-text-tooltip-bg: #f0f0f4;
              --alt-text-tooltip-fg: #15141a;
              --alt-text-tooltip-border: #8f8f9d;
              --alt-text-tooltip-shadow: 0px 2px 6px 0px rgb(58 57 68 / 0.2);

              @media (prefers-color-scheme: dark) {
                --alt-text-tooltip-bg: #1c1b22;
                --alt-text-tooltip-fg: #fbfbfe;
                --alt-text-tooltip-shadow: 0px 2px 6px 0px #15141a;
              }

              @media screen and (forced-colors: active) {
                --alt-text-tooltip-bg: Canvas;
                --alt-text-tooltip-fg: CanvasText;
                --alt-text-tooltip-border: CanvasText;
                --alt-text-tooltip-shadow: none;
              }

              & {
                display: inline-flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                position: absolute;
                top: calc(100% + 2px);
                inset-inline-start: 0;
                padding-block: 2px 3px;
                padding-inline: 3px;
                max-width: 300px;
                width: max-content;
                height: auto;
                font-size: 12px;

                border: 0.5px solid var(--alt-text-tooltip-border);
                background: var(--alt-text-tooltip-bg);
                box-shadow: var(--alt-text-tooltip-shadow);
                color: var(--alt-text-tooltip-fg);

                pointer-events: none;
              }
            }
          }
        }
      }
    }
  }

  .annotationEditorLayer .freeTextEditor {
    padding: calc(var(--freetext-padding) * var(--scale-factor));
    width: auto;
    height: auto;
    touch-action: none;
  }

  .annotationEditorLayer .freeTextEditor .internal {
    background: transparent;
    border: none;
    inset: 0;
    overflow: visible;
    white-space: nowrap;
    font: 10px sans-serif;
    line-height: var(--freetext-line-height);
    text-align: start;
    user-select: none;
  }

  .annotationEditorLayer .freeTextEditor .overlay {
    position: absolute;
    display: none;
    background: transparent;
    inset: 0;
    width: 100%;
    height: 100%;
  }

  .annotationEditorLayer .freeTextEditor .overlay.enabled {
    display: block;
  }

  .annotationEditorLayer .freeTextEditor .internal:empty::before {
    content: attr(default-content);
    color: gray;
  }

  .annotationEditorLayer .freeTextEditor .internal:focus {
    outline: none;
    user-select: auto;
  }

  .annotationEditorLayer .inkEditor {
    width: 100%;
    height: 100%;
  }

  .annotationEditorLayer .inkEditor.editing {
    cursor: inherit;
  }

  .annotationEditorLayer .inkEditor .inkEditorCanvas {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    touch-action: none;
  }

  .annotationEditorLayer .stampEditor {
    width: auto;
    height: auto;

    canvas {
      position: absolute;
      width: 100%;
      height: 100%;
      margin: 0;
      top: 0;
      left: 0;
    }

    .noAltTextBadge {
      --no-alt-text-badge-border-color: #f0f0f4;
      --no-alt-text-badge-bg-color: #cfcfd8;
      --no-alt-text-badge-fg-color: #5b5b66;

      @media (prefers-color-scheme: dark) {
        --no-alt-text-badge-border-color: #52525e;
        --no-alt-text-badge-bg-color: #fbfbfe;
        --no-alt-text-badge-fg-color: #15141a;
      }

      @media screen and (forced-colors: active) {
        --no-alt-text-badge-border-color: ButtonText;
        --no-alt-text-badge-bg-color: ButtonFace;
        --no-alt-text-badge-fg-color: ButtonText;
      }

      & {
        position: absolute;
        inset-inline-end: 5px;
        inset-block-end: 5px;
        display: inline-flex;
        width: 32px;
        height: 32px;
        padding: 3px;
        justify-content: center;
        align-items: center;
        pointer-events: none;
        z-index: 1;

        border-radius: 2px;
        border: 1px solid var(--no-alt-text-badge-border-color);
        background: var(--no-alt-text-badge-bg-color);
      }

      &::before {
        content: "";
        display: inline-block;
        width: 16px;
        height: 16px;
        mask-image: var(--new-alt-text-warning-image);
        mask-size: cover;
        background-color: var(--no-alt-text-badge-fg-color);
      }
    }
  }

  .annotationEditorLayer {
    :is(.freeTextEditor, .inkEditor, .stampEditor, .signatureEditor) {
      &>.resizers {
        position: absolute;
        inset: 0;

        &.hidden {
          display: none;
        }

        &>.resizer {
          width: var(--resizer-size);
          height: var(--resizer-size);
          background: content-box var(--resizer-bg-color);
          border: var(--focus-outline-around);
          border-radius: 2px;
          position: absolute;

          &.topLeft {
            top: var(--resizer-shift);
            left: var(--resizer-shift);
          }

          &.topMiddle {
            top: var(--resizer-shift);
            left: calc(50% + var(--resizer-shift));
          }

          &.topRight {
            top: var(--resizer-shift);
            right: var(--resizer-shift);
          }

          &.middleRight {
            top: calc(50% + var(--resizer-shift));
            right: var(--resizer-shift);
          }

          &.bottomRight {
            bottom: var(--resizer-shift);
            right: var(--resizer-shift);
          }

          &.bottomMiddle {
            bottom: var(--resizer-shift);
            left: calc(50% + var(--resizer-shift));
          }

          &.bottomLeft {
            bottom: var(--resizer-shift);
            left: var(--resizer-shift);
          }

          &.middleLeft {
            top: calc(50% + var(--resizer-shift));
            left: var(--resizer-shift);
          }
        }
      }
    }

    &[data-main-rotation="0"] :is([data-editor-rotation="0"], [data-editor-rotation="180"]),
    &[data-main-rotation="90"] :is([data-editor-rotation="270"], [data-editor-rotation="90"]),
    &[data-main-rotation="180"] :is([data-editor-rotation="180"], [data-editor-rotation="0"]),
    &[data-main-rotation="270"] :is([data-editor-rotation="90"], [data-editor-rotation="270"]) {
      &>.resizers>.resizer {

        &.topLeft,
        &.bottomRight {
          cursor: nwse-resize;
        }

        &.topMiddle,
        &.bottomMiddle {
          cursor: ns-resize;
        }

        &.topRight,
        &.bottomLeft {
          cursor: nesw-resize;
        }

        &.middleRight,
        &.middleLeft {
          cursor: ew-resize;
        }
      }
    }

    &[data-main-rotation="0"] :is([data-editor-rotation="90"], [data-editor-rotation="270"]),
    &[data-main-rotation="90"] :is([data-editor-rotation="0"], [data-editor-rotation="180"]),
    &[data-main-rotation="180"] :is([data-editor-rotation="270"], [data-editor-rotation="90"]),
    &[data-main-rotation="270"] :is([data-editor-rotation="180"], [data-editor-rotation="0"]) {
      &>.resizers>.resizer {

        &.topLeft,
        &.bottomRight {
          cursor: nesw-resize;
        }

        &.topMiddle,
        &.bottomMiddle {
          cursor: ew-resize;
        }

        &.topRight,
        &.bottomLeft {
          cursor: nwse-resize;
        }

        &.middleRight,
        &.middleLeft {
          cursor: ns-resize;
        }
      }
    }

    & :is([data-main-rotation="0"] [data-editor-rotation="90"],
      [data-main-rotation="90"] [data-editor-rotation="0"],
      [data-main-rotation="180"] [data-editor-rotation="270"],
      [data-main-rotation="270"] [data-editor-rotation="180"]) {
      .editToolbar {
        rotate: 270deg;

        &:dir(ltr) {
          inset-inline-end: calc(0px - var(--editor-toolbar-vert-offset));
          inset-block-start: 0;
        }

        &:dir(rtl) {
          inset-inline-end: calc(100% + var(--editor-toolbar-vert-offset));
          inset-block-start: 0;
        }
      }
    }

    & :is([data-main-rotation="0"] [data-editor-rotation="180"],
      [data-main-rotation="90"] [data-editor-rotation="90"],
      [data-main-rotation="180"] [data-editor-rotation="0"],
      [data-main-rotation="270"] [data-editor-rotation="270"]) {
      .editToolbar {
        rotate: 180deg;
        inset-inline-end: 100%;
        inset-block-start: calc(0pc - var(--editor-toolbar-vert-offset));
      }
    }

    & :is([data-main-rotation="0"] [data-editor-rotation="270"],
      [data-main-rotation="90"] [data-editor-rotation="180"],
      [data-main-rotation="180"] [data-editor-rotation="90"],
      [data-main-rotation="270"] [data-editor-rotation="0"]) {
      .editToolbar {
        rotate: 90deg;

        &:dir(ltr) {
          inset-inline-end: calc(100% + var(--editor-toolbar-vert-offset));
          inset-block-start: 100%;
        }

        &:dir(rtl) {
          inset-inline-start: calc(0px - var(--editor-toolbar-vert-offset));
          inset-block-start: 0;
        }
      }
    }
  }

  .dialog.altText {
    &::backdrop {
      /* This is needed to avoid to darken the image the user want to describe. */
      mask: url(#alttext-manager-mask);
    }

    /* See alt_text_manager.js */
    &.positioned {
      margin: 0;
    }

    & #altTextContainer {
      width: 300px;
      height: fit-content;
      display: inline-flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 16px;

      & #overallDescription {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 4px;
        align-self: stretch;

        & span {
          align-self: stretch;
        }

        & .title {
          font-size: 13px;
          font-style: normal;
          font-weight: 590;
        }
      }

      & #addDescription {
        display: flex;
        flex-direction: column;
        align-items: stretch;
        gap: 8px;

        & .descriptionArea {
          flex: 1;
          padding-inline: 24px 10px;

          textarea {
            width: 100%;
            min-height: 75px;
          }
        }
      }

      & #buttons {
        display: flex;
        justify-content: flex-end;
        align-items: flex-start;
        gap: 8px;
        align-self: stretch;
      }
    }
  }

  .dialog.newAltText {
    --new-alt-text-ai-disclaimer-icon: url('data:image/svg+xml;charset=UTF-8,<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.49073 1.3015L3.30873 2.1505C3.29349 2.22246 3.25769 2.28844 3.20568 2.34045C3.15368 2.39246 3.08769 2.42826 3.01573 2.4435L2.16673 2.6255C1.76473 2.7125 1.76473 3.2865 2.16673 3.3725L3.01573 3.5555C3.08769 3.57074 3.15368 3.60654 3.20568 3.65855C3.25769 3.71056 3.29349 3.77654 3.30873 3.8485L3.49073 4.6975C3.57773 5.0995 4.15173 5.0995 4.23773 4.6975L4.42073 3.8485C4.43598 3.77654 4.47177 3.71056 4.52378 3.65855C4.57579 3.60654 4.64178 3.57074 4.71373 3.5555L5.56173 3.3725C5.96373 3.2855 5.96373 2.7115 5.56173 2.6255L4.71273 2.4435C4.64083 2.42814 4.57491 2.3923 4.52292 2.34031C4.47093 2.28832 4.43509 2.2224 4.41973 2.1505L4.23773 1.3015C4.15073 0.8995 3.57673 0.8995 3.49073 1.3015ZM10.8647 13.9995C10.4853 14.0056 10.1158 13.8782 9.82067 13.6397C9.52553 13.4013 9.32347 13.0667 9.24973 12.6945L8.89273 11.0275C8.83676 10.7687 8.70738 10.5316 8.52009 10.3445C8.3328 10.1574 8.09554 10.0282 7.83673 9.9725L6.16973 9.6155C5.38873 9.4465 4.86473 8.7975 4.86473 7.9995C4.86473 7.2015 5.38873 6.5525 6.16973 6.3845L7.83673 6.0275C8.09551 5.97135 8.33267 5.84193 8.51992 5.65468C8.70716 5.46744 8.83658 5.23028 8.89273 4.9715L9.25073 3.3045C9.41773 2.5235 10.0667 1.9995 10.8647 1.9995C11.6627 1.9995 12.3117 2.5235 12.4797 3.3045L12.8367 4.9715C12.9507 5.4995 13.3647 5.9135 13.8927 6.0265L15.5597 6.3835C16.3407 6.5525 16.8647 7.2015 16.8647 7.9995C16.8647 8.7975 16.3407 9.4465 15.5597 9.6145L13.8927 9.9715C13.6337 10.0275 13.3963 10.157 13.209 10.3445C13.0217 10.5319 12.8925 10.7694 12.8367 11.0285L12.4787 12.6945C12.4054 13.0667 12.2036 13.4014 11.9086 13.6399C11.6135 13.8784 11.2441 14.0057 10.8647 13.9995ZM10.8647 3.2495C10.7667 3.2495 10.5337 3.2795 10.4727 3.5655L10.1147 5.2335C10.0081 5.72777 9.76116 6.18082 9.40361 6.53837C9.04606 6.89593 8.59301 7.14283 8.09873 7.2495L6.43173 7.6065C6.14573 7.6685 6.11473 7.9015 6.11473 7.9995C6.11473 8.0975 6.14573 8.3305 6.43173 8.3925L8.09873 8.7495C8.59301 8.85617 9.04606 9.10307 9.40361 9.46062C9.76116 9.81817 10.0081 10.2712 10.1147 10.7655L10.4727 12.4335C10.5337 12.7195 10.7667 12.7495 10.8647 12.7495C10.9627 12.7495 11.1957 12.7195 11.2567 12.4335L11.6147 10.7665C11.7212 10.272 11.9681 9.81878 12.3256 9.46103C12.6832 9.10329 13.1363 8.85624 13.6307 8.7495L15.2977 8.3925C15.5837 8.3305 15.6147 8.0975 15.6147 7.9995C15.6147 7.9015 15.5837 7.6685 15.2977 7.6065L13.6307 7.2495C13.1365 7.14283 12.6834 6.89593 12.3259 6.53837C11.9683 6.18082 11.7214 5.72777 11.6147 5.2335L11.2567 3.5655C11.1957 3.2795 10.9627 3.2495 10.8647 3.2495ZM3.30873 12.1505L3.49073 11.3015C3.57673 10.8995 4.15073 10.8995 4.23773 11.3015L4.41973 12.1505C4.43509 12.2224 4.47093 12.2883 4.52292 12.3403C4.57491 12.3923 4.64083 12.4281 4.71273 12.4435L5.56173 12.6255C5.96373 12.7115 5.96373 13.2855 5.56173 13.3725L4.71273 13.5545C4.64083 13.5699 4.57491 13.6057 4.52292 13.6577C4.47093 13.7097 4.43509 13.7756 4.41973 13.8475L4.23773 14.6965C4.15173 15.0985 3.57773 15.0985 3.49073 14.6965L3.30873 13.8475C3.29337 13.7756 3.25754 13.7097 3.20555 13.6577C3.15356 13.6057 3.08764 13.5699 3.01573 13.5545L2.16673 13.3725C1.76473 13.2865 1.76473 12.7125 2.16673 12.6255L3.01573 12.4435C3.08769 12.4283 3.15368 12.3925 3.20568 12.3405C3.25769 12.2884 3.29349 12.2225 3.30873 12.1505Z" fill="black"/></svg>');
    // copied the spinner from https://icon-sets.iconify.design/svg-spinners/270-ring-with-bg/
    // where it's licensed under MIT by Utkarsh Verma
    --new-alt-text-spinner-icon: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity="0.25"/><path fill="currentColor" d="M10.72,19.9a8,8,0,0,1-6.5-9.79A7.77,7.77,0,0,1,10.4,4.16a8,8,0,0,1,9.49,6.52A1.54,1.54,0,0,0,21.38,12h.13a1.37,1.37,0,0,0,1.38-1.54,11,11,0,1,0-12.7,12.39A1.54,1.54,0,0,0,12,21.34h0A1.47,1.47,0,0,0,10.72,19.9Z"><animateTransform attributeName="transform" dur="1.125s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></svg>');
    --preview-image-bg-color: #f0f0f4;
    --preview-image-border: none;

    @media (prefers-color-scheme: dark) {
      --preview-image-bg-color: #2b2a33;
    }

    @media screen and (forced-colors: active) {
      --preview-image-bg-color: ButtonFace;
      --preview-image-border: 1px solid ButtonText;
    }

    & {
      width: 80%;
      max-width: 570px;
      min-width: 300px;
      padding: 0;
    }

    &.noAi {

      #newAltTextDisclaimer,
      #newAltTextCreateAutomatically {
        display: none !important;
      }
    }

    &.aiInstalling {
      #newAltTextCreateAutomatically {
        display: none !important;
      }

      #newAltTextDownloadModel {
        display: flex !important;
      }
    }

    &.error {
      #newAltTextNotNow {
        display: none !important;
      }

      #newAltTextCancel {
        display: inline-block !important;
      }
    }

    &:not(.error) #newAltTextError {
      display: none !important;
    }

    #newAltTextContainer {
      display: flex;
      width: auto;
      padding: 16px;
      flex-direction: column;
      justify-content: flex-end;
      align-items: flex-start;
      gap: 12px;
      flex: 0 1 auto;
      line-height: normal;

      #mainContent {
        display: flex;
        justify-content: flex-end;
        align-items: flex-start;
        gap: 12px;
        align-self: stretch;
        flex: 1 1 auto;

        #descriptionAndSettings {
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          gap: 16px;
          flex: 1 0 0;
          align-self: stretch;
        }

        #descriptionInstruction {
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
          align-self: stretch;
          flex: 1 1 auto;

          #newAltTextDescriptionContainer {
            width: 100%;
            height: 70px;
            position: relative;

            textarea {
              width: 100%;
              height: 100%;
              padding: 8px;

              &::placeholder {
                color: var(--text-secondary-color);
              }
            }

            .altTextSpinner {
              display: none;
              position: absolute;
              width: 16px;
              height: 16px;
              inset-inline-start: 8px;
              inset-block-start: 8px;
              mask-size: cover;
              background-color: var(--text-secondary-color);
              pointer-events: none;
            }

            &.loading {
              textarea::placeholder {
                color: transparent;
              }

              .altTextSpinner {
                display: inline-block;
                mask-image: var(--new-alt-text-spinner-icon);
              }
            }
          }

          #newAltTextDescription {
            font-size: 11px;
          }

          #newAltTextDisclaimer {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            gap: 4px;
            font-size: 11px;

            &::before {
              content: "";
              display: inline-block;
              width: 17px;
              height: 16px;
              mask-image: var(--new-alt-text-ai-disclaimer-icon);
              mask-size: cover;
              background-color: var(--text-secondary-color);
              flex: 1 0 auto;
            }
          }
        }

        #newAltTextDownloadModel {
          display: flex;
          align-items: center;
          gap: 4px;
          align-self: stretch;

          &::before {
            content: "";
            display: inline-block;
            width: 16px;
            height: 16px;
            mask-image: var(--new-alt-text-spinner-icon);
            mask-size: cover;
            background-color: var(--text-secondary-color);
          }
        }

        #newAltTextImagePreview {
          width: 180px;
          aspect-ratio: 1;
          display: flex;
          justify-content: center;
          align-items: center;
          flex: 0 0 auto;
          background-color: var(--preview-image-bg-color);
          border: var(--preview-image-border);

          >canvas {
            max-width: 100%;
            max-height: 100%;
          }
        }
      }
    }
  }

  .colorPicker {
    --hover-outline-color: #0250bb;
    --selected-outline-color: #0060df;
    --swatch-border-color: #cfcfd8;

    @media (prefers-color-scheme: dark) {
      --hover-outline-color: #80ebff;
      --selected-outline-color: #aaf2ff;
      --swatch-border-color: #52525e;
    }

    @media screen and (forced-colors: active) {
      --hover-outline-color: Highlight;
      --selected-outline-color: var(--hover-outline-color);
      --swatch-border-color: ButtonText;
    }

    .swatch {
      width: 16px;
      height: 16px;
      border: 1px solid var(--swatch-border-color);
      border-radius: 100%;
      outline-offset: 2px;
      box-sizing: border-box !important; // #2343
      forced-color-adjust: none;
    }

    button:is(:hover, .selected)>.swatch {
      border: none;
    }
  }

  .annotationEditorLayer {
    &[data-main-rotation="0"] {
      .highlightEditor:not(.free)>.editToolbar {
        rotate: 0deg;
      }
    }

    &[data-main-rotation="90"] {
      .highlightEditor:not(.free)>.editToolbar {
        rotate: 270deg;
      }
    }

    &[data-main-rotation="180"] {
      .highlightEditor:not(.free)>.editToolbar {
        rotate: 180deg;
      }
    }

    &[data-main-rotation="270"] {
      .highlightEditor:not(.free)>.editToolbar {
        rotate: 90deg;
      }
    }

    .highlightEditor {
      position: absolute;
      background: transparent;
      z-index: 1;
      cursor: auto;
      max-width: 100%;
      max-height: 100%;
      border: none;
      outline: none;
      pointer-events: none;
      transform-origin: 0 0;

      &:not(.free) {
        transform: none;
      }

      .internal {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: auto;
      }

      &.disabled .internal {
        pointer-events: none;
      }

      &.selectedEditor {
        .internal {
          cursor: pointer;
        }
      }

      .editToolbar {
        --editor-toolbar-colorpicker-arrow-image: url('data:image/svg+xml;charset=UTF-8,<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.23336 10.4664L11.8474 6.85339C11.894 6.8071 11.931 6.75203 11.9563 6.69136C11.9816 6.63069 11.9946 6.56562 11.9946 6.49989C11.9946 6.43417 11.9816 6.3691 11.9563 6.30843C11.931 6.24776 11.894 6.19269 11.8474 6.14639C11.7536 6.05266 11.6264 6 11.4939 6C11.3613 6 11.2341 6.05266 11.1404 6.14639L7.99236 9.29339L4.84736 6.14739C4.75305 6.05631 4.62675 6.00592 4.49566 6.00706C4.36456 6.0082 4.23915 6.06078 4.14645 6.15348C4.05374 6.24619 4.00116 6.37159 4.00002 6.50269C3.99888 6.63379 4.04928 6.76009 4.14036 6.85439L7.75236 10.4674L8.23336 10.4664Z" fill="black"/></svg>');

        transform-origin: center !important;

        .buttons {
          .colorPicker {
            position: relative;
            width: auto;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 4px;
            padding: 4px;

            &::after {
              content: "";
              mask-image: var(--editor-toolbar-colorpicker-arrow-image);
              mask-repeat: no-repeat;
              mask-position: center;
              display: inline-block;
              background-color: var(--editor-toolbar-fg-color);
              width: 12px;
              height: 12px;
            }

            &:hover::after {
              background-color: var(--editor-toolbar-hover-fg-color);
            }

            &:has(.dropdown:not(.hidden)) {
              background-color: var(--editor-toolbar-hover-bg-color);

              &::after {
                scale: -1;
              }
            }

            .dropdown {
              position: absolute;
              display: flex;
              justify-content: center;
              align-items: center;
              flex-direction: column;
              gap: 11px;
              padding-block: 8px;
              border-radius: 6px;
              background-color: var(--editor-toolbar-bg-color);
              border: 1px solid var(--editor-toolbar-border-color);
              box-shadow: var(--editor-toolbar-shadow);
              inset-block-start: calc(100% + 4px);
              width: calc(100% + 2 * var(--editor-toolbar-padding));

              button {
                width: 100%;
                height: auto;
                border: none;
                cursor: pointer;
                display: flex;
                justify-content: center;
                align-items: center;
                background: none;

                &:is(:active, :focus-visible) {
                  outline: none;
                }

                >.swatch {
                  outline-offset: 2px;
                }

                &[aria-selected="true"]>.swatch {
                  outline: 2px solid var(--selected-outline-color);
                }

                &:is(:hover, :active, :focus-visible)>.swatch {
                  outline: 2px solid var(--hover-outline-color);
                }
              }
            }
          }
        }
      }
    }
  }

  .editorParamsToolbar:has(#highlightParamsToolbarContainer) {
    padding: unset;
  }

  #highlightParamsToolbarContainer {
    gap: 16px;
    padding-inline: 10px;
    padding-block-end: 12px;

    .colorPicker {
      display: flex;
      flex-direction: column;
      gap: 8px;

      .dropdown {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-direction: row;
        height: auto;

        button {
          width: auto;
          height: auto;
          border: none;
          cursor: pointer;
          display: flex;
          justify-content: center;
          align-items: center;
          background: none;
          flex: 0 0 auto;
          padding: 0;

          .swatch {
            width: 24px;
            height: 24px;
          }

          &:is(:active, :focus-visible) {
            outline: none;
          }

          &[aria-selected="true"]>.swatch {
            outline: 2px solid var(--selected-outline-color);
          }

          &:is(:hover, :active, :focus-visible)>.swatch {
            outline: 2px solid var(--hover-outline-color);
          }
        }
      }
    }

    #editorHighlightThickness {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      align-self: stretch;

      .editorParamsLabel {
        height: auto;
        align-self: stretch;
      }

      .thicknessPicker {
        display: flex;
        justify-content: space-between;
        align-items: center;
        align-self: stretch;

        --example-color: #bfbfc9;

        @media (prefers-color-scheme: dark) {
          --example-color: #80808e;
        }

        @media screen and (forced-colors: active) {
          --example-color: CanvasText;
        }

        :is(& > .editorParamsSlider[disabled]) {
          opacity: 0.4;
        }

        &::before,
        &::after {
          content: "";
          width: 8px;
          aspect-ratio: 1;
          display: block;
          border-radius: 100%;
          background-color: var(--example-color);
        }

        &::after {
          width: 24px;
        }

        .editorParamsSlider {
          width: unset;
          height: 14px;
        }
      }
    }

    #editorHighlightVisibility {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 8px;
      align-self: stretch;

      .divider {
        --divider-color: #d7d7db;

        @media (prefers-color-scheme: dark) {
          --divider-color: #8f8f9d;
        }

        @media screen and (forced-colors: active) {
          --divider-color: CanvasText;
        }

        & {
          margin-block: 4px;
          width: 100%;
          height: 1px;
          background-color: var(--divider-color);
        }
      }

      .toggler {
        display: flex;
        justify-content: space-between;
        align-items: center;
        align-self: stretch;
      }
    }
  }

  #altTextSettingsDialog {
    padding: 16px;

    #altTextSettingsContainer {
      display: flex;
      width: 573px;
      flex-direction: column;
      gap: 16px;

      .mainContainer {
        gap: 16px;
      }

      .description {
        color: var(--text-secondary-color);
      }

      #aiModelSettings {
        display: flex;
        flex-direction: column;
        gap: 12px;

        button {
          width: fit-content;
        }

        &.download {
          #deleteModelButton {
            display: none;
          }
        }

        &:not(.download) {
          #downloadModelButton {
            display: none;
          }
        }
      }

      #automaticAltText,
      #altTextEditor {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      #createModelDescription,
      #aiModelSettings,
      #showAltTextDialogDescription {
        padding-inline-start: 40px;
      }

      #automaticSettings {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }
    }
  }

  /* #2282 improved compatibility to ng-zorro-antd */
  .annotationEditorLayer button {
    font-size: 13px;
  }

  .page:has(.annotationEditorLayer.nonEditing)
  .annotationLayer
  .editorAnnotation {
    position: absolute;
    pointer-events: none;
  }
}
