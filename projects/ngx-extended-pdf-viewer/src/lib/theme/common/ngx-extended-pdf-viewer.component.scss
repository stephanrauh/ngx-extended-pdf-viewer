ngx-extended-pdf-viewer {
  .invisible {
    display: none !important;
  }

  // #3061 Prevent annotation popup from flashing during programmatic annotation addition
  .ngx-keep-hidden {
    display: none !important;
  }

  // Sidebar styles from PDF.js sidebar.css
  .sidebar {
    --sidebar-bg-color: light-dark(#fff, #23222b);
    --sidebar-border-color: light-dark(rgb(21 20 26 / 0.1),
        rgb(251 251 254 / 0.1));
    --sidebar-box-shadow:
      0 0.25px 0.75px light-dark(rgb(0 0 0 / 0.05), rgb(0 0 0 / 0.2)),
      0 2px 6px 0 light-dark(rgb(0 0 0 / 0.1), rgb(0 0 0 / 0.4));

    border-radius: 8px;
    box-shadow: var(--sidebar-box-shadow);
    border: 1px solid var(--sidebar-border-color);
    background-color: var(--sidebar-bg-color);
    inset-block-start: calc(100% + var(--doorhanger-height) - 2px);

    @media screen and (forced-colors: active) {
      --sidebar-bg-color: Canvas;
      --sidebar-border-color: CanvasText;
      --sidebar-box-shadow: none;
    }
  }
}

ngx-extended-pdf-viewer {
  #outerContainer {
    clip-path: inset(0 0 0 0);
  }
}

html[dir='ltr'] ngx-extended-pdf-viewer .dialogButton,
html[dir='ltr'] ngx-extended-pdf-viewer .toolbarButton {
  margin: 3px 0 4px 0;
}

html[dir='ltr'] ngx-extended-pdf-viewer .toolbarButton:last-child,
html[dir='rtl'] ngx-extended-pdf-viewer .toolbarButton:first-child {
  margin-right: 0;
  margin-left: 0;
}

pdf-toggle-secondary-toolbar {
  height: 25px;
}

html[dir='ltr'] ngx-extended-pdf-viewer #secondaryToolbarToggle {
  margin-right: 4px;
  margin-left: 0;
}

html[dir='rtl'] ngx-extended-pdf-viewer #secondaryToolbarToggle {
  margin-right: 0;
  margin-left: 4px;
}

ngx-extended-pdf-viewer {

  .toolbarButton,
  // .secondaryToolbarButton,
  .dialogButton {
    padding-left: 0;
    padding-right: 0;
  }

  .offscreen {
    position: fixed !important;
    left: -9999px !important;
    display: block !important;
    width: 3000px !important;
  }

  .offscreen #sidebarContainer {
    top: 1000px !important;
  }

  .toolbarButton {
    margin-left: -1px !important;
    margin-right: -2px !important;
  }

  #numPages {
    padding-right: 0;
    display: inline-block;
  }

  .pdf-viewer-template,
  .pdf-viewer-template * {
    display: none;
  }
}

ngx-extended-pdf-viewer {

  button.secondaryToolbarButton:focus,
  button:focus,
  a:focus,
  input:focus,
  select:focus {
    outline: none;
    border: 1px solid blue;
  }

  input[type="checkbox"]:focus {
    outline: 1px solid blue;
  }
}

// #2282 enforce the content-box model for the PDF viewer, so it works with ng-zorro-antd
ngx-extended-pdf-viewer div.zoom,
ngx-extended-pdf-viewer div.zoom * {
  box-sizing: content-box !important;
}

.hiddenCanvasElement {
  display: none;
}


/* #2943 modified by ngx-extended-pdf-viewer */
:root {
  --toolbarButton-pageUp-icon: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.35179 5.001L13.8178 10.466C13.876 10.524 13.9222 10.5929 13.9537 10.6688C13.9852 10.7447 14.0013 10.826 14.0012 10.9082C14.0011 10.9904 13.9848 11.0717 13.9531 11.1475C13.9215 11.2234 13.8751 11.2922 13.8168 11.35C13.6991 11.4668 13.5401 11.5324 13.3743 11.5324C13.2085 11.5324 13.0494 11.4668 12.9318 11.35L7.99879 6.416L3.06679 11.349C2.94842 11.4614 2.79085 11.5231 2.62765 11.521C2.46445 11.5189 2.30853 11.4531 2.19312 11.3377C2.07771 11.2223 2.01193 11.0663 2.00982 10.9031C2.0077 10.7399 2.06941 10.5824 2.18179 10.464L7.64779 5L8.35179 5.001Z' fill='black'/%3E%3C/svg%3E");
  --toolbarButton-pageDown-icon: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.35176 10.9989L13.8178 5.53391C13.876 5.47594 13.9222 5.40702 13.9537 5.33113C13.9851 5.25524 14.0013 5.17387 14.0012 5.0917C14.0011 5.00954 13.9848 4.9282 13.9531 4.85238C13.9215 4.77656 13.8751 4.70775 13.8168 4.64991C13.6991 4.53309 13.5401 4.46753 13.3743 4.46753C13.2085 4.46753 13.0494 4.53309 12.9318 4.64991L7.99776 9.58491L3.06776 4.65091C2.9494 4.53853 2.79183 4.47682 2.62863 4.47894C2.46542 4.48106 2.3095 4.54683 2.19409 4.66224C2.07868 4.77765 2.01291 4.93357 2.01079 5.09677C2.00868 5.25997 2.07039 5.41754 2.18276 5.53591L7.64776 10.9999L8.35176 10.9989Z' fill='black'/%3E%3C/svg%3E");
}

ngx-extended-pdf-viewer {
  #movePageUpButton::before {
    mask-image: var(--toolbarButton-pageUp-icon);
  }

  #movePageDownButton::before {
    mask-image: var(--toolbarButton-pageDown-icon);
  }

  /* #2943 modified by ngx-extended-pdf-viewer */
  .dotted-line {
    --dotted-line-margin-x: 6px;
    border-top: 2px dotted lightslategrey;
    margin: var(--dotted-line-margin-x) 0;
  }

  /* Comment editor styles */
  .annotationLayer.disabled .annotationCommentButton {
    display: none;
  }

  .annotationLayer,
  .annotationEditorLayer {
    .annotationCommentButton {
      --comment-button-bg: light-dark(white, #1c1b22);
      --comment-button-fg: light-dark(#5b5b66, #fbfbfe);
      --comment-button-active-bg: light-dark(#0041a4, #a6ecf4);
      --comment-button-active-fg: light-dark(white, #15141a);
      --comment-button-hover-bg: light-dark(#0053cb, #61dce9);
      --comment-button-hover-fg: light-dark(white, #15141a);
      --comment-button-selected-bg: light-dark(#0062fa, #00cadb);
      --comment-button-border-color: light-dark(#8f8f9d, #bfbfc9);
      --comment-button-active-border-color: var(--comment-button-active-bg);
      --comment-button-focus-border-color: light-dark(#cfcfd8, #3a3944);
      --comment-button-hover-border-color: var(--comment-button-hover-bg);
      --comment-button-selected-border-color: var(--comment-button-selected-bg);
      --comment-button-selected-fg: light-dark(white, #15141a);
      --comment-button-dim: 24px;
      --comment-button-box-shadow:
        0 0.25px 0.75px 0 light-dark(rgb(0 0 0 / 0.05), rgb(0 0 0 / 0.2)),
        0 2px 6px 0 light-dark(rgb(0 0 0 / 0.1), rgb(0 0 0 / 0.4));
      --comment-button-focus-outline-color: light-dark(#0062fa, #00cadb);

      background-color: var(--comment-button-bg);
      color: var(--comment-button-fg);
      border: 1px solid var(--comment-button-border-color);
      border-radius: calc(var(--comment-button-dim) / 2);
      box-shadow: var(--comment-button-box-shadow);
      cursor: pointer;
      inset-inline-end: calc(-1 * var(--comment-button-dim) / 2);
      inset-block-start: calc(-1 * var(--comment-button-dim) / 2);
      width: var(--comment-button-dim);
      height: var(--comment-button-dim);
      position: absolute;
      z-index: 1;

      @media screen and (forced-colors: active) {
        --comment-button-bg: Canvas;
        --comment-button-fg: CanvasText;
        --comment-button-active-bg: Highlight;
        --comment-button-active-fg: HighlightText;
        --comment-button-hover-bg: Highlight;
        --comment-button-hover-fg: HighlightText;
        --comment-button-selected-bg: Highlight;
        --comment-button-selected-fg: HighlightText;
        --comment-button-border-color: CanvasText;
        --comment-button-active-border-color: HighlightText;
        --comment-button-focus-border-color: CanvasText;
        --comment-button-hover-border-color: HighlightText;
        --comment-button-selected-border-color: HighlightText;
      }

      &:hover {
        background-color: var(--comment-button-hover-bg);
        color: var(--comment-button-hover-fg);
        border-color: var(--comment-button-hover-border-color);
      }

      &:active {
        background-color: var(--comment-button-active-bg);
        color: var(--comment-button-active-fg);
        border-color: var(--comment-button-active-border-color);
      }

      &:focus-visible {
        border-color: var(--comment-button-focus-border-color);
        outline: 2px solid var(--comment-button-focus-outline-color);
        outline-offset: 2px;
      }

      &.selected {
        background-color: var(--comment-button-selected-bg);
        color: var(--comment-button-selected-fg);
        border-color: var(--comment-button-selected-border-color);
      }
    }
  }

  /* Comment sidebar specific styling */
  #editorCommentParamsToolbar {
    --editor-toolbar-min-width: 220px;
    height: auto;
    min-width: var(--editor-toolbar-min-width);
    width: max-content;
    position: absolute;
    z-index: 30000;
    cursor: default;
  }

  #editorCommentsSidebar {
    .menuContainer {
      width: 100%;
      height: auto;
      display: flex;
      flex-direction: column;
      box-sizing: border-box;
      padding: 10px;
    }
  }

  #editorCommentsSidebarHeader {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--sidebar-border-color);
  }

  #editorCommentsSidebarTitle {
    font-weight: 600;
    font-size: 13px;
    color: var(--main-color, #000);
  }

  #editorCommentsSidebarCloseButton {
    background: none;
    border: none;
    padding: 8px;
    border-radius: 4px;
    cursor: pointer;
    color: var(--main-color, #000);
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;

    svg {
      width: 16px;
      height: 16px;
    }

    .visually-hidden {
      position: absolute !important;
      width: 1px !important;
      height: 1px !important;
      padding: 0 !important;
      margin: -1px !important;
      overflow: hidden !important;
      clip: rect(0, 0, 0, 0) !important;
      white-space: nowrap !important;
      border: 0 !important;
    }

    &:hover {
      background-color: light-dark(#e0e0e6, #52525e);
    }
  }

  #editorCommentsSidebarList {
    list-style: none;
    margin: 0;
    padding: 0;
    max-height: 300px;
    overflow-y: auto;
  }

  /* Comment manager dialog styles (for individual comment editing) */
  #commentManagerDialog {
    --comment-dialog-bg: light-dark(#fff, #23222b);
    --comment-dialog-border: light-dark(rgb(21 20 26 / 0.1),
        rgb(251 251 254 / 0.1));
    --comment-dialog-text: light-dark(#15141a, #fbfbfe);
    --comment-dialog-header-bg: light-dark(#f0f0f4, #2b2a33);
    --comment-button-hover-bg-dialog: light-dark(#e0e0e6, #52525e);
    background-color: var(--comment-dialog-bg);
    border: 1px solid var(--comment-dialog-border);
    color: var(--comment-dialog-text);
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    max-width: 400px;
    min-width: 300px;

    @media screen and (forced-colors: active) {
      --comment-dialog-bg: Canvas;
      --comment-dialog-border: CanvasText;
      --comment-dialog-text: CanvasText;
      --comment-dialog-header-bg: Canvas;
      --comment-button-hover-bg-dialog: Highlight;
    }
  }

  .commentManagerHeader {
    background-color: var(--comment-dialog-header-bg);
    padding: 12px 16px;
    border-bottom: 1px solid var(--comment-dialog-border);
    border-radius: 8px 8px 0 0;
  }

  .commentManagerContent {
    padding: 16px;
  }

  .commentManagerActions {
    padding: 12px 16px;
    border-top: 1px solid var(--comment-dialog-border);
    display: flex;
    gap: 8px;
    justify-content: flex-end;
  }

  .commentManagerActions button {
    background: none;
    border: 1px solid var(--comment-dialog-border);
    padding: 6px 12px;
    border-radius: 4px;
    cursor: pointer;
    color: var(--comment-dialog-text);

    &:hover {
      background-color: var(--comment-button-hover-bg-dialog);
    }
  }

  /* #2943 end of modification by ngx-extended-pdf-viewer */

  /* #2943 end of modification by ngx-extended-pdf-viewer */
}