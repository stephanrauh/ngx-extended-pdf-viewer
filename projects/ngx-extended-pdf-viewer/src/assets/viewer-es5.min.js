/**
 * @licstart The following is the entire license notice for the
 * Javascript code in this page
 *
 * Copyright 2020 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * Javascript code in this page
 */
!function webpackUniversalModuleDefinition(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],r):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=r():t["pdfjs-dist/build/pdf"]=t.pdfjsLib=r()}(this,(function(){return function(t){var r={};function __w_pdfjs_require__(i){if(r[i])return r[i].exports;var a=r[i]={i:i,l:!1,exports:{}};t[i].call(a.exports,a,a.exports,__w_pdfjs_require__);a.l=!0;return a.exports}__w_pdfjs_require__.m=t;__w_pdfjs_require__.c=r;__w_pdfjs_require__.d=function(t,r,i){__w_pdfjs_require__.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})};__w_pdfjs_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})};__w_pdfjs_require__.t=function(t,r){1&r&&(t=__w_pdfjs_require__(t));if(8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);__w_pdfjs_require__.r(i);Object.defineProperty(i,"default",{enumerable:!0,value:t});if(2&r&&"string"!=typeof t)for(var a in t)__w_pdfjs_require__.d(i,a,function(r){return t[r]}.bind(null,a));return i};__w_pdfjs_require__.n=function(t){var r=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};__w_pdfjs_require__.d(r,"a",r);return r};__w_pdfjs_require__.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)};__w_pdfjs_require__.p="";return __w_pdfjs_require__(__w_pdfjs_require__.s=0)}([function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});Object.defineProperty(r,"addLinkAttributes",{enumerable:!0,get:function get(){return o.addLinkAttributes}});Object.defineProperty(r,"getFilenameFromUrl",{enumerable:!0,get:function get(){return o.getFilenameFromUrl}});Object.defineProperty(r,"LinkTarget",{enumerable:!0,get:function get(){return o.LinkTarget}});Object.defineProperty(r,"loadScript",{enumerable:!0,get:function get(){return o.loadScript}});Object.defineProperty(r,"PDFDateString",{enumerable:!0,get:function get(){return o.PDFDateString}});Object.defineProperty(r,"RenderingCancelledException",{enumerable:!0,get:function get(){return o.RenderingCancelledException}});Object.defineProperty(r,"build",{enumerable:!0,get:function get(){return l.build}});Object.defineProperty(r,"getDocument",{enumerable:!0,get:function get(){return l.getDocument}});Object.defineProperty(r,"LoopbackPort",{enumerable:!0,get:function get(){return l.LoopbackPort}});Object.defineProperty(r,"PDFDataRangeTransport",{enumerable:!0,get:function get(){return l.PDFDataRangeTransport}});Object.defineProperty(r,"PDFWorker",{enumerable:!0,get:function get(){return l.PDFWorker}});Object.defineProperty(r,"version",{enumerable:!0,get:function get(){return l.version}});Object.defineProperty(r,"CMapCompressionType",{enumerable:!0,get:function get(){return c.CMapCompressionType}});Object.defineProperty(r,"createObjectURL",{enumerable:!0,get:function get(){return c.createObjectURL}});Object.defineProperty(r,"createPromiseCapability",{enumerable:!0,get:function get(){return c.createPromiseCapability}});Object.defineProperty(r,"createValidAbsoluteUrl",{enumerable:!0,get:function get(){return c.createValidAbsoluteUrl}});Object.defineProperty(r,"InvalidPDFException",{enumerable:!0,get:function get(){return c.InvalidPDFException}});Object.defineProperty(r,"MissingPDFException",{enumerable:!0,get:function get(){return c.MissingPDFException}});Object.defineProperty(r,"OPS",{enumerable:!0,get:function get(){return c.OPS}});Object.defineProperty(r,"PasswordResponses",{enumerable:!0,get:function get(){return c.PasswordResponses}});Object.defineProperty(r,"PermissionFlag",{enumerable:!0,get:function get(){return c.PermissionFlag}});Object.defineProperty(r,"removeNullCharacters",{enumerable:!0,get:function get(){return c.removeNullCharacters}});Object.defineProperty(r,"shadow",{enumerable:!0,get:function get(){return c.shadow}});Object.defineProperty(r,"UnexpectedResponseException",{enumerable:!0,get:function get(){return c.UnexpectedResponseException}});Object.defineProperty(r,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function get(){return c.UNSUPPORTED_FEATURES}});Object.defineProperty(r,"Util",{enumerable:!0,get:function get(){return c.Util}});Object.defineProperty(r,"VerbosityLevel",{enumerable:!0,get:function get(){return c.VerbosityLevel}});Object.defineProperty(r,"AnnotationLayer",{enumerable:!0,get:function get(){return u.AnnotationLayer}});Object.defineProperty(r,"GlobalWorkerOptions",{enumerable:!0,get:function get(){return d.GlobalWorkerOptions}});Object.defineProperty(r,"renderTextLayer",{enumerable:!0,get:function get(){return h.renderTextLayer}});Object.defineProperty(r,"SVGGraphics",{enumerable:!0,get:function get(){return p.SVGGraphics}});var a,o=i(1),l=i(201),c=i(5),u=i(216),d=i(209),h=i(217),p=i(218),g=i(219).PDFNetworkStream;(0,o.isFetchSupported)()&&(a=i(222).PDFFetchStream);(0,l.setPDFNetworkStreamFactory)((function(t){return a&&(0,o.isValidFetchUrl)(t.url)?new a(t):new g(t)}))},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.addLinkAttributes=function addLinkAttributes(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.url,a=r.target,l=r.rel,c=r.enabled,u=void 0===c||c;(0,o.assert)(i&&"string"==typeof i,'addLinkAttributes: A valid "url" parameter must provided.');var d=(0,o.removeNullCharacters)(i);if(u)t.href=t.title=d;else{t.href="";t.title="Disabled: ".concat(d);t.onclick=function(){return!1}}var h="";switch(a){case m.NONE:break;case m.SELF:h="_self";break;case m.BLANK:h="_blank";break;case m.PARENT:h="_parent";break;case m.TOP:h="_top"}t.target=h;t.rel="string"==typeof l?l:"noopener noreferrer nofollow"};r.getFilenameFromUrl=function getFilenameFromUrl(t){var r=t.indexOf("#"),i=t.indexOf("?"),a=Math.min(r>0?r:t.length,i>0?i:t.length);return t.substring(t.lastIndexOf("/",a)+1,a)};r.isFetchSupported=isFetchSupported;r.isValidFetchUrl=isValidFetchUrl;r.loadScript=function loadScript(t){return new Promise((function(r,i){var a=document.createElement("script");a.src=t;a.onload=r;a.onerror=function(){i(new Error("Cannot load script at: ".concat(a.src)))};(document.head||document.documentElement).appendChild(a)}))};r.deprecated=function deprecated(t){console.log("Deprecated API usage: "+t)};r.PDFDateString=r.StatTimer=r.DOMSVGFactory=r.DOMCMapReaderFactory=r.BaseCMapReaderFactory=r.DOMCanvasFactory=r.BaseCanvasFactory=r.DEFAULT_LINK_REL=r.LinkTarget=r.RenderingCancelledException=r.PageViewport=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(5);function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}r.DEFAULT_LINK_REL="noopener noreferrer nofollow";var l="http://www.w3.org/2000/svg",c=function(){function BaseCanvasFactory(){_classCallCheck(this,BaseCanvasFactory);this.constructor===BaseCanvasFactory&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}_createClass(BaseCanvasFactory,[{key:"create",value:function create(t,r){(0,o.unreachable)("Abstract method `create` called.")}},{key:"reset",value:function reset(t,r,i){if(!t.canvas)throw new Error("Canvas is not specified");if(r<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=r;t.canvas.height=i}},{key:"destroy",value:function destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0;t.canvas.height=0;t.canvas=null;t.context=null}}]);return BaseCanvasFactory}();r.BaseCanvasFactory=c;var u=function(t){_inherits(DOMCanvasFactory,t);var r=_createSuper(DOMCanvasFactory);function DOMCanvasFactory(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=i.ownerDocument,o=void 0===a?globalThis.document:a;_classCallCheck(this,DOMCanvasFactory);(t=r.call(this))._document=o;return t}_createClass(DOMCanvasFactory,[{key:"create",value:function create(t,r){if(t<=0||r<=0)throw new Error("Invalid canvas size");var i=this._document.createElement("canvas"),a=i.getContext("2d");i.width=t;i.height=r;return{canvas:i,context:a}}}]);return DOMCanvasFactory}(c);r.DOMCanvasFactory=u;var d=function(){function BaseCMapReaderFactory(t){var r=t.baseUrl,i=void 0===r?null:r,a=t.isCompressed,l=void 0!==a&&a;_classCallCheck(this,BaseCMapReaderFactory);this.constructor===BaseCMapReaderFactory&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory.");this.baseUrl=i;this.isCompressed=l}_createClass(BaseCMapReaderFactory,[{key:"fetch",value:(t=_asyncToGenerator(a.default.mark((function _callee(t){var r,i,l,c=this;return a.default.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:r=t.name;if(this.baseUrl){a.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(r){a.next=5;break}throw new Error("CMap name must be specified.");case 5:i=this.baseUrl+r+(this.isCompressed?".bcmap":"");l=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return a.abrupt("return",this._fetchData(i,l).catch((function(t){throw new Error("Unable to load ".concat(c.isCompressed?"binary ":"","CMap at: ").concat(i))})));case 8:case"end":return a.stop()}}),_callee,this)}))),function fetch(r){return t.apply(this,arguments)})},{key:"_fetchData",value:function _fetchData(t,r){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]);var t;return BaseCMapReaderFactory}();r.BaseCMapReaderFactory=d;var h=function(t){_inherits(DOMCMapReaderFactory,t);var r=_createSuper(DOMCMapReaderFactory);function DOMCMapReaderFactory(){_classCallCheck(this,DOMCMapReaderFactory);return r.apply(this,arguments)}_createClass(DOMCMapReaderFactory,[{key:"_fetchData",value:function _fetchData(t,r){var i=this;return isFetchSupported()&&isValidFetchUrl(t,document.baseURI)?fetch(t).then(function(){var t=_asyncToGenerator(a.default.mark((function _callee2(t){var l;return a.default.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(t.ok){a.next=2;break}throw new Error(t.statusText);case 2:if(!i.isCompressed){a.next=10;break}a.t0=Uint8Array;a.next=6;return t.arrayBuffer();case 6:a.t1=a.sent;l=new a.t0(a.t1);a.next=15;break;case 10:a.t2=o.stringToBytes;a.next=13;return t.text();case 13:a.t3=a.sent;l=(0,a.t2)(a.t3);case 15:return a.abrupt("return",{cMapData:l,compressionType:r});case 16:case"end":return a.stop()}}),_callee2)})));return function(r){return t.apply(this,arguments)}}()):new Promise((function(a,l){var c=new XMLHttpRequest;c.open("GET",t,!0);i.isCompressed&&(c.responseType="arraybuffer");c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE){if(200===c.status||0===c.status){var t;i.isCompressed&&c.response?t=new Uint8Array(c.response):!i.isCompressed&&c.responseText&&(t=(0,o.stringToBytes)(c.responseText));if(t){a({cMapData:t,compressionType:r});return}}l(new Error(c.statusText))}};c.send(null)}))}}]);return DOMCMapReaderFactory}(d);r.DOMCMapReaderFactory=h;var p=function(){function DOMSVGFactory(){_classCallCheck(this,DOMSVGFactory)}_createClass(DOMSVGFactory,[{key:"create",value:function create(t,r){(0,o.assert)(t>0&&r>0,"Invalid SVG dimensions");var i=document.createElementNS(l,"svg:svg");i.setAttribute("version","1.1");i.setAttribute("width",t+"px");i.setAttribute("height",r+"px");i.setAttribute("preserveAspectRatio","none");i.setAttribute("viewBox","0 0 "+t+" "+r);return i}},{key:"createElement",value:function createElement(t){(0,o.assert)("string"==typeof t,"Invalid SVG element type");return document.createElementNS(l,t)}}]);return DOMSVGFactory}();r.DOMSVGFactory=p;var g=function(){function PageViewport(t){var r=t.viewBox,i=t.scale,a=t.rotation,o=t.offsetX,l=void 0===o?0:o,c=t.offsetY,u=void 0===c?0:c,d=t.dontFlip,h=void 0!==d&&d;_classCallCheck(this,PageViewport);this.viewBox=r;this.scale=i;this.rotation=a;this.offsetX=l;this.offsetY=u;var p,g,v,m,y,b,w,S,C=(r[2]+r[0])/2,P=(r[3]+r[1])/2;switch(a=(a%=360)<0?a+360:a){case 180:p=-1;g=0;v=0;m=1;break;case 90:p=0;g=1;v=1;m=0;break;case 270:p=0;g=-1;v=-1;m=0;break;case 0:p=1;g=0;v=0;m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}if(h){v=-v;m=-m}if(0===p){y=Math.abs(P-r[1])*i+l;b=Math.abs(C-r[0])*i+u;w=Math.abs(r[3]-r[1])*i;S=Math.abs(r[2]-r[0])*i}else{y=Math.abs(C-r[0])*i+l;b=Math.abs(P-r[1])*i+u;w=Math.abs(r[2]-r[0])*i;S=Math.abs(r[3]-r[1])*i}this.transform=[p*i,g*i,v*i,m*i,y-p*i*C-v*i*P,b-g*i*C-m*i*P];this.width=w;this.height=S}_createClass(PageViewport,[{key:"clone",value:function clone(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.scale,i=void 0===r?this.scale:r,a=t.rotation,o=void 0===a?this.rotation:a,l=t.offsetX,c=void 0===l?this.offsetX:l,u=t.offsetY,d=void 0===u?this.offsetY:u,h=t.dontFlip,p=void 0!==h&&h;return new PageViewport({viewBox:this.viewBox.slice(),scale:i,rotation:o,offsetX:c,offsetY:d,dontFlip:p})}},{key:"convertToViewportPoint",value:function convertToViewportPoint(t,r){return o.Util.applyTransform([t,r],this.transform)}},{key:"convertToViewportRectangle",value:function convertToViewportRectangle(t){var r=o.Util.applyTransform([t[0],t[1]],this.transform),i=o.Util.applyTransform([t[2],t[3]],this.transform);return[r[0],r[1],i[0],i[1]]}},{key:"convertToPdfPoint",value:function convertToPdfPoint(t,r){return o.Util.applyInverseTransform([t,r],this.transform)}}]);return PageViewport}();r.PageViewport=g;var v=function(t){_inherits(RenderingCancelledException,t);var r=_createSuper(RenderingCancelledException);function RenderingCancelledException(t,i){var a;_classCallCheck(this,RenderingCancelledException);(a=r.call(this,t)).type=i;return a}return RenderingCancelledException}(o.BaseException);r.RenderingCancelledException=v;var m={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};r.LinkTarget=m;var y,b=function(){function StatTimer(){_classCallCheck(this,StatTimer);this.started=Object.create(null);this.times=[]}_createClass(StatTimer,[{key:"time",value:function time(t){t in this.started&&(0,o.warn)("Timer is already running for ".concat(t));this.started[t]=Date.now()}},{key:"timeEnd",value:function timeEnd(t){t in this.started||(0,o.warn)("Timer has not been started for ".concat(t));this.times.push({name:t,start:this.started[t],end:Date.now()});delete this.started[t]}},{key:"toString",value:function toString(){var t,r=[],i=0,a=_createForOfIteratorHelper(this.times);try{for(a.s();!(t=a.n()).done;){var o=t.value.name;o.length>i&&(i=o.length)}}catch(t){a.e(t)}finally{a.f()}var l,c=_createForOfIteratorHelper(this.times);try{for(c.s();!(l=c.n()).done;){var u=l.value,d=u.end-u.start;r.push("".concat(u.name.padEnd(i)," ").concat(d,"ms\n"))}}catch(t){c.e(t)}finally{c.f()}return r.join("")}}]);return StatTimer}();r.StatTimer=b;function isFetchSupported(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function isValidFetchUrl(t,r){try{var i=(r?new URL(t,r):new URL(t)).protocol;return"http:"===i||"https:"===i}catch(t){return!1}}var w=function(){function PDFDateString(){_classCallCheck(this,PDFDateString)}_createClass(PDFDateString,null,[{key:"toDateObject",value:function toDateObject(t){if(!t||!(0,o.isString)(t))return null;y||(y=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var r=y.exec(t);if(!r)return null;var i=parseInt(r[1],10),a=parseInt(r[2],10);a=a>=1&&a<=12?a-1:0;var l=parseInt(r[3],10);l=l>=1&&l<=31?l:1;var c=parseInt(r[4],10);c=c>=0&&c<=23?c:0;var u=parseInt(r[5],10);u=u>=0&&u<=59?u:0;var d=parseInt(r[6],10);d=d>=0&&d<=59?d:0;var h=r[7]||"Z",p=parseInt(r[8],10);p=p>=0&&p<=23?p:0;var g=parseInt(r[9],10)||0;g=g>=0&&g<=59?g:0;if("-"===h){c+=p;u+=g}else if("+"===h){c-=p;u-=g}return new Date(Date.UTC(i,a,l,c,u,d))}}]);return PDFDateString}();r.PDFDateString=w},function(t,r,i){"use strict";t.exports=i(3)},function(t,r,i){"use strict";(function(t){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t){var r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,r,i){Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0});return t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var o=r&&r.prototype instanceof Generator?r:Generator,l=Object.create(o.prototype),c=new Context(a||[]);l._invoke=function makeInvokeMethod(t,r,i){var a="suspendedStart";return function invoke(o,l){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===o)throw l;return doneResult()}i.method=o;i.arg=l;for(;;){var c=i.delegate;if(c){var d=maybeInvokeDelegate(c,i);if(d){if(d===u)continue;return d}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a){a="completed";throw i.arg}i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";var h=tryCatch(t,r,i);if("normal"===h.type){a=i.done?"completed":"suspendedYield";if(h.arg===u)continue;return{value:h.arg,done:i.done}}if("throw"===h.type){a="completed";i.method="throw";i.arg=h.arg}}}}(t,i,c);return l}t.wrap=wrap;function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}var u={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};d[o]=function(){return this};var h=Object.getPrototypeOf,p=h&&h(h(values([])));p&&p!==r&&i.call(p,o)&&(d=p);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);GeneratorFunction.prototype=g.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=GeneratorFunction;GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction");function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))};t.mark=function(t){if(Object.setPrototypeOf)Object.setPrototypeOf(t,GeneratorFunctionPrototype);else{t.__proto__=GeneratorFunctionPrototype;define(t,c,"GeneratorFunction")}t.prototype=Object.create(g);return t};t.awrap=function(t){return{__await:t}};function AsyncIterator(t,r){var a;this._invoke=function enqueue(o,l){function callInvokeWithMethodAndArg(){return new r((function(a,c){!function invoke(a,o,l,c){var u=tryCatch(t[a],t,o);if("throw"!==u.type){var d=u.arg,h=d.value;return h&&"object"===_typeof(h)&&i.call(h,"__await")?r.resolve(h.__await).then((function(t){invoke("next",t,l,c)}),(function(t){invoke("throw",t,l,c)})):r.resolve(h).then((function(t){d.value=t;l(d)}),(function(t){return invoke("throw",t,l,c)}))}c(u.arg)}(o,l,a,c)}))}return a=a?a.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}defineIteratorMethods(AsyncIterator.prototype);AsyncIterator.prototype[l]=function(){return this};t.AsyncIterator=AsyncIterator;t.async=function(r,i,a,o,l){void 0===l&&(l=Promise);var c=new AsyncIterator(wrap(r,i,a,o),l);return t.isGeneratorFunction(i)?c:c.next().then((function(t){return t.done?t.value:c.next()}))};function maybeInvokeDelegate(t,r){var i=t.iterator[r.method];if(void 0===i){r.delegate=null;if("throw"===r.method){if(t.iterator.return){r.method="return";r.arg=void 0;maybeInvokeDelegate(t,r);if("throw"===r.method)return u}r.method="throw";r.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=tryCatch(i,t.iterator,r.arg);if("throw"===a.type){r.method="throw";r.arg=a.arg;r.delegate=null;return u}var o=a.arg;if(!o){r.method="throw";r.arg=new TypeError("iterator result is not an object");r.delegate=null;return u}if(!o.done)return o;r[t.resultName]=o.value;r.next=t.nextLoc;if("return"!==r.method){r.method="next";r.arg=void 0}r.delegate=null;return u}defineIteratorMethods(g);define(g,c,"Generator");g[o]=function(){return this};g.toString=function(){return"[object Generator]"};function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]);if(2 in t){r.finallyLoc=t[2];r.afterLoc=t[3]}this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal";delete r.arg;t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}];t.forEach(pushTryEntry,this);this.reset(!0)}t.keys=function(t){var r=[];for(var i in t)r.push(i);r.reverse();return function next(){for(;r.length;){var i=r.pop();if(i in t){next.value=i;next.done=!1;return next}}next.done=!0;return next}};function values(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,l=function next(){for(;++a<t.length;)if(i.call(t,a)){next.value=t[a];next.done=!1;return next}next.value=void 0;next.done=!0;return next};return l.next=l}}return{next:doneResult}}t.values=values;function doneResult(){return{value:void 0,done:!0}}Context.prototype={constructor:Context,reset:function reset(t){this.prev=0;this.next=0;this.sent=this._sent=void 0;this.done=!1;this.delegate=null;this.method="next";this.arg=void 0;this.tryEntries.forEach(resetTryEntry);if(!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var r=this;function handle(i,a){l.type="throw";l.arg=t;r.next=i;if(a){r.method="next";r.arg=void 0}return!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var c=l?l.completion:{};c.type=t;c.arg=r;if(l){this.method="next";this.next=l.finallyLoc;return u}return this.complete(c)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;if("break"===t.type||"continue"===t.type)this.next=t.arg;else if("return"===t.type){this.rval=this.arg=t.arg;this.method="return";this.next="end"}else"normal"===t.type&&r&&(this.next=r);return u},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t){this.complete(i.completion,i.afterLoc);resetTryEntry(i);return u}}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,r,i){this.delegate={iterator:values(t),resultName:r,nextLoc:i};"next"===this.method&&(this.arg=void 0);return u}};return t}("object"===_typeof(t)?t.exports:{});try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}}).call(this,i(4)(t))},function(t,r,i){"use strict";t.exports=function(t){if(!t.webpackPolyfill){t.deprecate=function(){};t.paths=[];t.children||(t.children=[]);Object.defineProperty(t,"loaded",{enumerable:!0,get:function get(){return t.l}});Object.defineProperty(t,"id",{enumerable:!0,get:function get(){return t.i}});t.webpackPolyfill=1}return t}},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.arrayByteLength=arrayByteLength;r.arraysToBytes=function arraysToBytes(t){var r=t.length;if(1===r&&t[0]instanceof Uint8Array)return t[0];for(var i=0,a=0;a<r;a++)i+=arrayByteLength(t[a]);for(var o=0,l=new Uint8Array(i),c=0;c<r;c++){var u=t[c];u instanceof Uint8Array||(u="string"==typeof u?stringToBytes(u):new Uint8Array(u));var d=u.byteLength;l.set(u,o);o+=d}return l};r.assert=assert;r.bytesToString=function bytesToString(t){assert(null!==t&&"object"===_typeof(t)&&void 0!==t.length,"Invalid argument for bytesToString");var r=t.length;if(r<8192)return String.fromCharCode.apply(null,t);for(var i=[],a=0;a<r;a+=8192){var o=Math.min(a+8192,r),l=t.subarray(a,o);i.push(String.fromCharCode.apply(null,l))}return i.join("")};r.createPromiseCapability=function createPromiseCapability(){var t=Object.create(null),r=!1;Object.defineProperty(t,"settled",{get:function get(){return r}});t.promise=new Promise((function(i,a){t.resolve=function(t){r=!0;i(t)};t.reject=function(t){r=!0;a(t)}}));return t};r.escapeString=function escapeString(t){return t.replace(/([\(\)\\])/g,"\\$1")};r.getModificationDate=function getModificationDate(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(Date.now()),r=[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),(t.getUTCDate()+1).toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")];return r.join("")};r.getVerbosityLevel=function getVerbosityLevel(){return o};r.info=function info(t){o>=a.INFOS&&console.log("Info: ".concat(t))};r.isArrayBuffer=function isArrayBuffer(t){return"object"===_typeof(t)&&null!==t&&void 0!==t.byteLength};r.isArrayEqual=function isArrayEqual(t,r){if(t.length!==r.length)return!1;return t.every((function(t,i){return t===r[i]}))};r.isBool=function isBool(t){return"boolean"==typeof t};r.isNum=function isNum(t){return"number"==typeof t};r.isString=function isString(t){return"string"==typeof t};r.isSameOrigin=function isSameOrigin(t,r){var i;try{if(!(i=new URL(t)).origin||"null"===i.origin)return!1}catch(t){return!1}var a=new URL(r,i);return i.origin===a.origin};r.createValidAbsoluteUrl=function createValidAbsoluteUrl(t,r){if(!t)return null;try{var i=r?new URL(t,r):new URL(t);if(function _isValidProtocol(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(t){}return null};r.removeNullCharacters=function removeNullCharacters(t){if("string"!=typeof t){warn("The argument for removeNullCharacters must be a string.");return t}return t.replace(m,"")};r.setVerbosityLevel=function setVerbosityLevel(t){Number.isInteger(t)&&(o=t)};r.shadow=shadow;r.string32=function string32(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)};r.stringToBytes=stringToBytes;r.stringToPDFString=function stringToPDFString(t){var r=t.length,i=[];if("þ"===t[0]&&"ÿ"===t[1])for(var a=2;a<r;a+=2)i.push(String.fromCharCode(t.charCodeAt(a)<<8|t.charCodeAt(a+1)));else if("ÿ"===t[0]&&"þ"===t[1])for(var o=2;o<r;o+=2)i.push(String.fromCharCode(t.charCodeAt(o+1)<<8|t.charCodeAt(o)));else for(var l=0;l<r;++l){var c=C[t.charCodeAt(l)];i.push(c?String.fromCharCode(c):t.charAt(l))}return i.join("")};r.stringToUTF8String=function stringToUTF8String(t){return decodeURIComponent(escape(t))};r.utf8StringToString=function utf8StringToString(t){return unescape(encodeURIComponent(t))};r.warn=warn;r.unreachable=unreachable;r.IsEvalSupportedCached=r.IsLittleEndianCached=r.createObjectURL=r.FormatError=r.Util=r.UnknownErrorException=r.UnexpectedResponseException=r.TextRenderingMode=r.StreamType=r.PermissionFlag=r.PasswordResponses=r.PasswordException=r.MissingPDFException=r.InvalidPDFException=r.AbortException=r.CMapCompressionType=r.ImageKind=r.FontType=r.AnnotationType=r.AnnotationStateModelType=r.AnnotationReviewState=r.AnnotationReplyType=r.AnnotationMarkedState=r.AnnotationFlag=r.AnnotationFieldFlag=r.AnnotationBorderStyleType=r.UNSUPPORTED_FEATURES=r.VerbosityLevel=r.OPS=r.IDENTITY_MATRIX=r.FONT_IDENTITY_MATRIX=r.BaseException=void 0;i(6);function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.IDENTITY_MATRIX=[1,0,0,1,0,0];r.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];r.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};r.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};r.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};r.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};r.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"};r.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"};r.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};r.AnnotationReplyType={GROUP:"Group",REPLY:"R"};r.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};r.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};r.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};r.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};r.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var a={ERRORS:0,WARNINGS:1,INFOS:5};r.VerbosityLevel=a;r.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};r.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};r.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"};r.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var o=a.WARNINGS;function warn(t){o>=a.WARNINGS&&console.log("Warning: ".concat(t))}function unreachable(t){throw new Error(t)}function assert(t,r){t||unreachable(r)}function shadow(t,r,i){Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!1});return i}var l=function BaseExceptionClosure(){function BaseException(t){this.constructor===BaseException&&unreachable("Cannot initialize BaseException.");this.message=t;this.name=this.constructor.name}BaseException.prototype=new Error;BaseException.constructor=BaseException;return BaseException}();r.BaseException=l;var c=function(t){_inherits(PasswordException,t);var r=_createSuper(PasswordException);function PasswordException(t,i){var a;_classCallCheck(this,PasswordException);(a=r.call(this,t)).code=i;return a}return PasswordException}(l);r.PasswordException=c;var u=function(t){_inherits(UnknownErrorException,t);var r=_createSuper(UnknownErrorException);function UnknownErrorException(t,i){var a;_classCallCheck(this,UnknownErrorException);(a=r.call(this,t)).details=i;return a}return UnknownErrorException}(l);r.UnknownErrorException=u;var d=function(t){_inherits(InvalidPDFException,t);var r=_createSuper(InvalidPDFException);function InvalidPDFException(){_classCallCheck(this,InvalidPDFException);return r.apply(this,arguments)}return InvalidPDFException}(l);r.InvalidPDFException=d;var h=function(t){_inherits(MissingPDFException,t);var r=_createSuper(MissingPDFException);function MissingPDFException(){_classCallCheck(this,MissingPDFException);return r.apply(this,arguments)}return MissingPDFException}(l);r.MissingPDFException=h;var p=function(t){_inherits(UnexpectedResponseException,t);var r=_createSuper(UnexpectedResponseException);function UnexpectedResponseException(t,i){var a;_classCallCheck(this,UnexpectedResponseException);(a=r.call(this,t)).status=i;return a}return UnexpectedResponseException}(l);r.UnexpectedResponseException=p;var g=function(t){_inherits(FormatError,t);var r=_createSuper(FormatError);function FormatError(){_classCallCheck(this,FormatError);return r.apply(this,arguments)}return FormatError}(l);r.FormatError=g;var v=function(t){_inherits(AbortException,t);var r=_createSuper(AbortException);function AbortException(){_classCallCheck(this,AbortException);return r.apply(this,arguments)}return AbortException}(l);r.AbortException=v;var m=/\x00/g;function stringToBytes(t){assert("string"==typeof t,"Invalid argument for stringToBytes");for(var r=t.length,i=new Uint8Array(r),a=0;a<r;++a)i[a]=255&t.charCodeAt(a);return i}function arrayByteLength(t){if(void 0!==t.length)return t.length;assert(void 0!==t.byteLength,"arrayByteLength - invalid argument.");return t.byteLength}var y={get value(){return shadow(this,"value",function isLittleEndian(){var t=new Uint8Array(4);t[0]=1;return 1===new Uint32Array(t.buffer,0,1)[0]}())}};r.IsLittleEndianCached=y;var b={get value(){return shadow(this,"value",function isEvalSupported(){try{new Function("");return!0}catch(t){return!1}}())}};r.IsEvalSupportedCached=b;var w=["rgb(",0,",",0,",",0,")"],S=function(){function Util(){_classCallCheck(this,Util)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(Util,null,[{key:"makeCssRgb",value:function makeCssRgb(t,r,i){w[1]=t;w[3]=r;w[5]=i;return w.join("")}},{key:"transform",value:function transform(t,r){return[t[0]*r[0]+t[2]*r[1],t[1]*r[0]+t[3]*r[1],t[0]*r[2]+t[2]*r[3],t[1]*r[2]+t[3]*r[3],t[0]*r[4]+t[2]*r[5]+t[4],t[1]*r[4]+t[3]*r[5]+t[5]]}},{key:"applyTransform",value:function applyTransform(t,r){return[t[0]*r[0]+t[1]*r[2]+r[4],t[0]*r[1]+t[1]*r[3]+r[5]]}},{key:"applyInverseTransform",value:function applyInverseTransform(t,r){var i=r[0]*r[3]-r[1]*r[2];return[(t[0]*r[3]-t[1]*r[2]+r[2]*r[5]-r[4]*r[3])/i,(-t[0]*r[1]+t[1]*r[0]+r[4]*r[1]-r[5]*r[0])/i]}},{key:"getAxialAlignedBoundingBox",value:function getAxialAlignedBoundingBox(t,r){var i=Util.applyTransform(t,r),a=Util.applyTransform(t.slice(2,4),r),o=Util.applyTransform([t[0],t[3]],r),l=Util.applyTransform([t[2],t[1]],r);return[Math.min(i[0],a[0],o[0],l[0]),Math.min(i[1],a[1],o[1],l[1]),Math.max(i[0],a[0],o[0],l[0]),Math.max(i[1],a[1],o[1],l[1])]}},{key:"inverseTransform",value:function inverseTransform(t){var r=t[0]*t[3]-t[1]*t[2];return[t[3]/r,-t[1]/r,-t[2]/r,t[0]/r,(t[2]*t[5]-t[4]*t[3])/r,(t[4]*t[1]-t[5]*t[0])/r]}},{key:"apply3dTransform",value:function apply3dTransform(t,r){return[t[0]*r[0]+t[1]*r[1]+t[2]*r[2],t[3]*r[0]+t[4]*r[1]+t[5]*r[2],t[6]*r[0]+t[7]*r[1]+t[8]*r[2]]}},{key:"singularValueDecompose2dScale",value:function singularValueDecompose2dScale(t){var r=[t[0],t[2],t[1],t[3]],i=t[0]*r[0]+t[1]*r[2],a=t[0]*r[1]+t[1]*r[3],o=t[2]*r[0]+t[3]*r[2],l=t[2]*r[1]+t[3]*r[3],c=(i+l)/2,u=Math.sqrt((i+l)*(i+l)-4*(i*l-o*a))/2,d=c+u||1,h=c-u||1;return[Math.sqrt(d),Math.sqrt(h)]}},{key:"normalizeRect",value:function normalizeRect(t){var r=t.slice(0);if(t[0]>t[2]){r[0]=t[2];r[2]=t[0]}if(t[1]>t[3]){r[1]=t[3];r[3]=t[1]}return r}},{key:"intersect",value:function intersect(t,r){function compare(t,r){return t-r}var i=[t[0],t[2],r[0],r[2]].sort(compare),a=[t[1],t[3],r[1],r[3]].sort(compare),o=[];t=Util.normalizeRect(t);r=Util.normalizeRect(r);if(!(i[0]===t[0]&&i[1]===r[0]||i[0]===r[0]&&i[1]===t[0]))return null;o[0]=i[1];o[2]=i[2];if(!(a[0]===t[1]&&a[1]===r[1]||a[0]===r[1]&&a[1]===t[1]))return null;o[1]=a[1];o[3]=a[2];return o}}]);return Util}();r.Util=S;var C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];var P=function createObjectURLClosure(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function createObjectURL(r,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!a&&URL.createObjectURL){var o=new Blob([r],{type:i});return URL.createObjectURL(o)}for(var l="data:".concat(i,";base64,"),c=0,u=r.length;c<u;c+=3){var d=255&r[c],h=255&r[c+1],p=255&r[c+2],g=d>>2,v=(3&d)<<4|h>>4,m=c+1<u?(15&h)<<2|p>>6:64,y=c+2<u?63&p:64;l+=t[g]+t[v]+t[m]+t[y]}return l}}();r.createObjectURL=P},function(t,r,i){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}if("undefined"==typeof globalThis||!globalThis._pdfjsCompatibilityChecked){"undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=i(7));globalThis._pdfjsCompatibilityChecked=!0;var a="object"===("undefined"==typeof window?"undefined":_typeof(window))&&"object"===("undefined"==typeof document?"undefined":_typeof(document)),o="undefined"!=typeof navigator&&navigator.userAgent||"",l=/Trident/.test(o);!function checkChildNodeRemove(){a&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}();!function checkDOMTokenListAddRemove(){if(a){var t=document.createElement("div");t.classList.add("testOne","testTwo");if(!0!==t.classList.contains("testOne")||!0!==t.classList.contains("testTwo")){var r=DOMTokenList.prototype.add,i=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];for(var o=0,l=i;o<l.length;o++){var c=l[o];r.call(this,c)}};DOMTokenList.prototype.remove=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];for(var o=0,l=r;o<l.length;o++){var c=l[o];i.call(this,c)}}}}}();!function checkDOMTokenListToggle(){if(a){!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(t){var r=arguments.length>1?!!arguments[1]:!this.contains(t);return this[r?"add":"remove"](t),r})}}();!function checkWindowHistoryPushStateReplaceState(){if(a&&l){var t=window.history.pushState,r=window.history.replaceState;window.history.pushState=function(r,i,a){var o=void 0===a?[r,i]:[r,i,a];t.apply(this,o)};window.history.replaceState=function(t,i,a){var o=void 0===a?[t,i]:[t,i,a];r.apply(this,o)}}}();!function checkStringStartsWith(){String.prototype.startsWith||i(52)}();!function checkStringEndsWith(){String.prototype.endsWith||i(63)}();!function checkStringIncludes(){String.prototype.includes||i(65)}();!function checkArrayIncludes(){Array.prototype.includes||i(67)}();!function checkArrayFrom(){Array.from||i(75)}();!function checkObjectAssign(){Object.assign||i(97)}();!function checkObjectFromEntries(){Object.fromEntries||i(100)}();!function checkMathLog2(){Math.log2||(Math.log2=i(104))}();!function checkNumberIsNaN(){Number.isNaN||(Number.isNaN=i(106))}();!function checkNumberIsInteger(){Number.isInteger||(Number.isInteger=i(108))}();!function checkTypedArraySlice(){Uint8Array.prototype.slice||i(111)}();!function checkPromise(){globalThis.Promise&&globalThis.Promise.allSettled||(globalThis.Promise=i(116))}();!function checkURL(){globalThis.URL=i(137)}();!function checkReadableStream(){var t=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function start(t){t.close()}});t=!0}catch(t){}t||(globalThis.ReadableStream=i(144).ReadableStream)}();!function checkMapEntries(){globalThis.Map&&globalThis.Map.prototype.entries||(globalThis.Map=i(145))}();!function checkSetEntries(){globalThis.Set&&globalThis.Set.prototype.entries||(globalThis.Set=i(152))}();!function checkWeakMap(){globalThis.WeakMap||(globalThis.WeakMap=i(154))}();!function checkWeakSet(){globalThis.WeakSet||(globalThis.WeakSet=i(160))}();!function checkStringCodePointAt(){String.prototype.codePointAt||i(162)}();!function checkStringFromCodePoint(){String.fromCodePoint||(String.fromCodePoint=i(164))}();!function checkSymbol(){globalThis.Symbol||i(166)}();!function checkStringPadStart(){String.prototype.padStart||i(189)}();!function checkStringPadEnd(){String.prototype.padEnd||i(194)}();!function checkObjectValues(){Object.values||(Object.values=i(196))}();!function checkObjectEntries(){Object.entries||(Object.entries=i(199))}()}},function(t,r,i){i(8);t.exports=i(10)},function(t,r,i){i(9)({global:!0},{globalThis:i(10)})},function(t,r,i){var a=i(10),o=i(11).f,l=i(25),c=i(28),u=i(29),d=i(39),h=i(51);t.exports=function(t,r){var i,p,g,v,m,y=t.target,b=t.global,w=t.stat;if(i=b?a:w?a[y]||u(y,{}):(a[y]||{}).prototype)for(p in r){v=r[p];g=t.noTargetGet?(m=o(i,p))&&m.value:i[p];if(!h(b?p:y+(w?".":"#")+p,t.forced)&&void 0!==g){if(typeof v==typeof g)continue;d(v,g)}(t.sham||g&&g.sham)&&l(v,"sham",!0);c(i,p,v,t)}}},function(t,r){var check=function(t){return t&&t.Math==Math&&t};t.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||Function("return this")()},function(t,r,i){var a=i(12),o=i(14),l=i(15),c=i(16),u=i(20),d=i(22),h=i(23),p=Object.getOwnPropertyDescriptor;r.f=a?p:function getOwnPropertyDescriptor(t,r){t=c(t);r=u(r,!0);if(h)try{return p(t,r)}catch(t){}if(d(t,r))return l(!o.f.call(t,r),t[r])}},function(t,r,i){var a=i(13);t.exports=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,r){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,r,i){"use strict";var a={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,l=o&&!a.call({1:2},1);r.f=l?function propertyIsEnumerable(t){var r=o(this,t);return!!r&&r.enumerable}:a},function(t,r){t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},function(t,r,i){var a=i(17),o=i(19);t.exports=function(t){return a(o(t))}},function(t,r,i){var a=i(13),o=i(18),l="".split;t.exports=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?l.call(t,""):Object(t)}:Object},function(t,r){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,r){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,r,i){var a=i(21);t.exports=function(t,r){if(!a(t))return t;var i,o;if(r&&"function"==typeof(i=t.toString)&&!a(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!a(o=i.call(t)))return o;if(!r&&"function"==typeof(i=t.toString)&&!a(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,r){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,r){var i={}.hasOwnProperty;t.exports=function(t,r){return i.call(t,r)}},function(t,r,i){var a=i(12),o=i(13),l=i(24);t.exports=!a&&!o((function(){return 7!=Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}))},function(t,r,i){var a=i(10),o=i(21),l=a.document,c=o(l)&&o(l.createElement);t.exports=function(t){return c?l.createElement(t):{}}},function(t,r,i){var a=i(12),o=i(26),l=i(15);t.exports=a?function(t,r,i){return o.f(t,r,l(1,i))}:function(t,r,i){t[r]=i;return t}},function(t,r,i){var a=i(12),o=i(23),l=i(27),c=i(20),u=Object.defineProperty;r.f=a?u:function defineProperty(t,r,i){l(t);r=c(r,!0);l(i);if(o)try{return u(t,r,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");"value"in i&&(t[r]=i.value);return t}},function(t,r,i){var a=i(21);t.exports=function(t){if(!a(t))throw TypeError(String(t)+" is not an object");return t}},function(t,r,i){var a=i(10),o=i(25),l=i(22),c=i(29),u=i(30),d=i(32),h=d.get,p=d.enforce,g=String(String).split("String");(t.exports=function(t,r,i,u){var d=!!u&&!!u.unsafe,h=!!u&&!!u.enumerable,v=!!u&&!!u.noTargetGet;if("function"==typeof i){"string"!=typeof r||l(i,"name")||o(i,"name",r);p(i).source=g.join("string"==typeof r?r:"")}if(t!==a){d?!v&&t[r]&&(h=!0):delete t[r];h?t[r]=i:o(t,r,i)}else h?t[r]=i:c(r,i)})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&h(this).source||u(this)}))},function(t,r,i){var a=i(10),o=i(25);t.exports=function(t,r){try{o(a,t,r)}catch(i){a[t]=r}return r}},function(t,r,i){var a=i(31),o=Function.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(t){return o.call(t)});t.exports=a.inspectSource},function(t,r,i){var a=i(10),o=i(29),l=a["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=l},function(t,r,i){var a,o,l,c=i(33),u=i(10),d=i(21),h=i(25),p=i(22),g=i(34),v=i(38),m=u.WeakMap;if(c){var y=new m,b=y.get,w=y.has,S=y.set;a=function(t,r){S.call(y,t,r);return r};o=function(t){return b.call(y,t)||{}};l=function(t){return w.call(y,t)}}else{var C=g("state");v[C]=!0;a=function(t,r){h(t,C,r);return r};o=function(t){return p(t,C)?t[C]:{}};l=function(t){return p(t,C)}}t.exports={set:a,get:o,has:l,enforce:function(t){return l(t)?o(t):a(t,{})},getterFor:function(t){return function(r){var i;if(!d(r)||(i=o(r)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},function(t,r,i){var a=i(10),o=i(30),l=a.WeakMap;t.exports="function"==typeof l&&/native code/.test(o(l))},function(t,r,i){var a=i(35),o=i(37),l=a("keys");t.exports=function(t){return l[t]||(l[t]=o(t))}},function(t,r,i){var a=i(36),o=i(31);(t.exports=function(t,r){return o[t]||(o[t]=void 0!==r?r:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,r){t.exports=!1},function(t,r){var i=0,a=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+a).toString(36)}},function(t,r){t.exports={}},function(t,r,i){var a=i(22),o=i(40),l=i(11),c=i(26);t.exports=function(t,r){for(var i=o(r),u=c.f,d=l.f,h=0;h<i.length;h++){var p=i[h];a(t,p)||u(t,p,d(r,p))}}},function(t,r,i){var a=i(41),o=i(43),l=i(50),c=i(27);t.exports=a("Reflect","ownKeys")||function ownKeys(t){var r=o.f(c(t)),i=l.f;return i?r.concat(i(t)):r}},function(t,r,i){var a=i(42),o=i(10),aFunction=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,r){return arguments.length<2?aFunction(a[t])||aFunction(o[t]):a[t]&&a[t][r]||o[t]&&o[t][r]}},function(t,r,i){var a=i(10);t.exports=a},function(t,r,i){var a=i(44),o=i(49).concat("length","prototype");r.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return a(t,o)}},function(t,r,i){var a=i(22),o=i(16),l=i(45).indexOf,c=i(38);t.exports=function(t,r){var i,u=o(t),d=0,h=[];for(i in u)!a(c,i)&&a(u,i)&&h.push(i);for(;r.length>d;)a(u,i=r[d++])&&(~l(h,i)||h.push(i));return h}},function(t,r,i){var a=i(16),o=i(46),l=i(48),createMethod=function(t){return function(r,i,c){var u,d=a(r),h=o(d.length),p=l(c,h);if(t&&i!=i){for(;h>p;)if((u=d[p++])!=u)return!0}else for(;h>p;p++)if((t||p in d)&&d[p]===i)return t||p||0;return!t&&-1}};t.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(t,r,i){var a=i(47),o=Math.min;t.exports=function(t){return t>0?o(a(t),9007199254740991):0}},function(t,r){var i=Math.ceil,a=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?a:i)(t)}},function(t,r,i){var a=i(47),o=Math.max,l=Math.min;t.exports=function(t,r){var i=a(t);return i<0?o(i+r,0):l(i,r)}},function(t,r){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,r){r.f=Object.getOwnPropertySymbols},function(t,r,i){var a=i(13),o=/#|\.prototype\./,isForced=function(t,r){var i=c[l(t)];return i==d||i!=u&&("function"==typeof r?a(r):!!r)},l=isForced.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=isForced.data={},u=isForced.NATIVE="N",d=isForced.POLYFILL="P";t.exports=isForced},function(t,r,i){i(53);var a=i(60);t.exports=a("String","startsWith")},function(t,r,i){"use strict";var a,o=i(9),l=i(11).f,c=i(46),u=i(54),d=i(19),h=i(59),p=i(36),g="".startsWith,v=Math.min,m=h("startsWith");o({target:"String",proto:!0,forced:!(!p&&!m&&!!(a=l(String.prototype,"startsWith"),a&&!a.writable))&&!m},{startsWith:function startsWith(t){var r=String(d(this));u(t);var i=c(v(arguments.length>1?arguments[1]:void 0,r.length)),a=String(t);return g?g.call(r,a,i):r.slice(i,i+a.length)===a}})},function(t,r,i){var a=i(55);t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,r,i){var a=i(21),o=i(18),l=i(56)("match");t.exports=function(t){var r;return a(t)&&(void 0!==(r=t[l])?!!r:"RegExp"==o(t))}},function(t,r,i){var a=i(10),o=i(35),l=i(22),c=i(37),u=i(57),d=i(58),h=o("wks"),p=a.Symbol,g=d?p:p&&p.withoutSetter||c;t.exports=function(t){l(h,t)||(u&&l(p,t)?h[t]=p[t]:h[t]=g("Symbol."+t));return h[t]}},function(t,r,i){var a=i(13);t.exports=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())}))},function(t,r,i){var a=i(57);t.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,r,i){var a=i(56)("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(i){try{r[a]=!1;return"/./"[t](r)}catch(t){}}return!1}},function(t,r,i){var a=i(10),o=i(61),l=Function.call;t.exports=function(t,r,i){return o(l,a[t].prototype[r],i)}},function(t,r,i){var a=i(62);t.exports=function(t,r,i){a(t);if(void 0===r)return t;switch(i){case 0:return function(){return t.call(r)};case 1:return function(i){return t.call(r,i)};case 2:return function(i,a){return t.call(r,i,a)};case 3:return function(i,a,o){return t.call(r,i,a,o)}}return function(){return t.apply(r,arguments)}}},function(t,r){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,r,i){i(64);var a=i(60);t.exports=a("String","endsWith")},function(t,r,i){"use strict";var a,o=i(9),l=i(11).f,c=i(46),u=i(54),d=i(19),h=i(59),p=i(36),g="".endsWith,v=Math.min,m=h("endsWith");o({target:"String",proto:!0,forced:!(!p&&!m&&!!(a=l(String.prototype,"endsWith"),a&&!a.writable))&&!m},{endsWith:function endsWith(t){var r=String(d(this));u(t);var i=arguments.length>1?arguments[1]:void 0,a=c(r.length),o=void 0===i?a:v(c(i),a),l=String(t);return g?g.call(r,l,o):r.slice(o-l.length,o)===l}})},function(t,r,i){i(66);var a=i(60);t.exports=a("String","includes")},function(t,r,i){"use strict";var a=i(9),o=i(54),l=i(19);a({target:"String",proto:!0,forced:!i(59)("includes")},{includes:function includes(t){return!!~String(l(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},function(t,r,i){i(68);var a=i(60);t.exports=a("Array","includes")},function(t,r,i){"use strict";var a=i(9),o=i(45).includes,l=i(69);a({target:"Array",proto:!0,forced:!i(74)("indexOf",{ACCESSORS:!0,1:0})},{includes:function includes(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}});l("includes")},function(t,r,i){var a=i(56),o=i(70),l=i(26),c=a("unscopables"),u=Array.prototype;null==u[c]&&l.f(u,c,{configurable:!0,value:o(null)});t.exports=function(t){u[c][t]=!0}},function(t,r,i){var a,o=i(27),l=i(71),c=i(49),u=i(38),d=i(73),h=i(24),p=i(34),g=p("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return"<script>"+t+"<\/script>"},NullProtoObject=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch(t){}NullProtoObject=a?function(t){t.write(scriptTag(""));t.close();var r=t.parentWindow.Object;t=null;return r}(a):function(){var t,r=h("iframe");r.style.display="none";d.appendChild(r);r.src=String("javascript:");(t=r.contentWindow.document).open();t.write(scriptTag("document.F=Object"));t.close();return t.F}();for(var t=c.length;t--;)delete NullProtoObject.prototype[c[t]];return NullProtoObject()};u[g]=!0;t.exports=Object.create||function create(t,r){var i;if(null!==t){EmptyConstructor.prototype=o(t);i=new EmptyConstructor;EmptyConstructor.prototype=null;i[g]=t}else i=NullProtoObject();return void 0===r?i:l(i,r)}},function(t,r,i){var a=i(12),o=i(26),l=i(27),c=i(72);t.exports=a?Object.defineProperties:function defineProperties(t,r){l(t);for(var i,a=c(r),u=a.length,d=0;u>d;)o.f(t,i=a[d++],r[i]);return t}},function(t,r,i){var a=i(44),o=i(49);t.exports=Object.keys||function keys(t){return a(t,o)}},function(t,r,i){var a=i(41);t.exports=a("document","documentElement")},function(t,r,i){var a=i(12),o=i(13),l=i(22),c=Object.defineProperty,u={},thrower=function(t){throw t};t.exports=function(t,r){if(l(u,t))return u[t];r||(r={});var i=[][t],d=!!l(r,"ACCESSORS")&&r.ACCESSORS,h=l(r,0)?r[0]:thrower,p=l(r,1)?r[1]:void 0;return u[t]=!!i&&!o((function(){if(d&&!a)return!0;var t={length:-1};d?c(t,1,{enumerable:!0,get:thrower}):t[1]=1;i.call(t,h,p)}))}},function(t,r,i){i(76);i(88);var a=i(42);t.exports=a.Array.from},function(t,r,i){"use strict";var a=i(77).charAt,o=i(32),l=i(78),c=o.set,u=o.getterFor("String Iterator");l(String,"String",(function(t){c(this,{type:"String Iterator",string:String(t),index:0})}),(function next(){var t,r=u(this),i=r.string,o=r.index;if(o>=i.length)return{value:void 0,done:!0};t=a(i,o);r.index+=t.length;return{value:t,done:!1}}))},function(t,r,i){var a=i(47),o=i(19),createMethod=function(t){return function(r,i){var l,c,u=String(o(r)),d=a(i),h=u.length;return d<0||d>=h?t?"":void 0:(l=u.charCodeAt(d))<55296||l>56319||d+1===h||(c=u.charCodeAt(d+1))<56320||c>57343?t?u.charAt(d):l:t?u.slice(d,d+2):c-56320+(l-55296<<10)+65536}};t.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},function(t,r,i){"use strict";var a=i(9),o=i(79),l=i(81),c=i(86),u=i(84),d=i(25),h=i(28),p=i(56),g=i(36),v=i(85),m=i(80),y=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),returnThis=function(){return this};t.exports=function(t,r,i,p,m,S,C){o(i,r,p);var P,k,A,getIterationMethod=function(t){if(t===m&&I)return I;if(!b&&t in T)return T[t];switch(t){case"keys":return function keys(){return new i(this,t)};case"values":return function values(){return new i(this,t)};case"entries":return function entries(){return new i(this,t)}}return function(){return new i(this)}},R=r+" Iterator",x=!1,T=t.prototype,E=T[w]||T["@@iterator"]||m&&T[m],I=!b&&E||getIterationMethod(m),L="Array"==r&&T.entries||E;if(L){P=l(L.call(new t));if(y!==Object.prototype&&P.next){g||l(P)===y||(c?c(P,y):"function"!=typeof P[w]&&d(P,w,returnThis));u(P,R,!0,!0);g&&(v[R]=returnThis)}}if("values"==m&&E&&"values"!==E.name){x=!0;I=function values(){return E.call(this)}}g&&!C||T[w]===I||d(T,w,I);v[r]=I;if(m){k={values:getIterationMethod("values"),keys:S?I:getIterationMethod("keys"),entries:getIterationMethod("entries")};if(C)for(A in k)(b||x||!(A in T))&&h(T,A,k[A]);else a({target:r,proto:!0,forced:b||x},k)}return k}},function(t,r,i){"use strict";var a=i(80).IteratorPrototype,o=i(70),l=i(15),c=i(84),u=i(85),returnThis=function(){return this};t.exports=function(t,r,i){var d=r+" Iterator";t.prototype=o(a,{next:l(1,i)});c(t,d,!1,!0);u[d]=returnThis;return t}},function(t,r,i){"use strict";var a,o,l,c=i(81),u=i(25),d=i(22),h=i(56),p=i(36),g=h("iterator"),v=!1;[].keys&&("next"in(l=[].keys())?(o=c(c(l)))!==Object.prototype&&(a=o):v=!0);null==a&&(a={});p||d(a,g)||u(a,g,(function(){return this}));t.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:v}},function(t,r,i){var a=i(22),o=i(82),l=i(34),c=i(83),u=l("IE_PROTO"),d=Object.prototype;t.exports=c?Object.getPrototypeOf:function(t){t=o(t);return a(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?d:null}},function(t,r,i){var a=i(19);t.exports=function(t){return Object(a(t))}},function(t,r,i){var a=i(13);t.exports=!a((function(){function F(){}F.prototype.constructor=null;return Object.getPrototypeOf(new F)!==F.prototype}))},function(t,r,i){var a=i(26).f,o=i(22),l=i(56)("toStringTag");t.exports=function(t,r,i){t&&!o(t=i?t:t.prototype,l)&&a(t,l,{configurable:!0,value:r})}},function(t,r){t.exports={}},function(t,r,i){var a=i(27),o=i(87);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]);r=i instanceof Array}catch(t){}return function setPrototypeOf(i,l){a(i);o(l);r?t.call(i,l):i.__proto__=l;return i}}():void 0)},function(t,r,i){var a=i(21);t.exports=function(t){if(!a(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,r,i){var a=i(9),o=i(89);a({target:"Array",stat:!0,forced:!i(96)((function(t){Array.from(t)}))},{from:o})},function(t,r,i){"use strict";var a=i(61),o=i(82),l=i(90),c=i(91),u=i(46),d=i(92),h=i(93);t.exports=function from(t){var r,i,p,g,v,m,y=o(t),b="function"==typeof this?this:Array,w=arguments.length,S=w>1?arguments[1]:void 0,C=void 0!==S,P=h(y),k=0;C&&(S=a(S,w>2?arguments[2]:void 0,2));if(null==P||b==Array&&c(P)){i=new b(r=u(y.length));for(;r>k;k++){m=C?S(y[k],k):y[k];d(i,k,m)}}else{v=(g=P.call(y)).next;i=new b;for(;!(p=v.call(g)).done;k++){m=C?l(g,S,[p.value,k],!0):p.value;d(i,k,m)}}i.length=k;return i}},function(t,r,i){var a=i(27);t.exports=function(t,r,i,o){try{return o?r(a(i)[0],i[1]):r(i)}catch(r){var l=t.return;void 0!==l&&a(l.call(t));throw r}}},function(t,r,i){var a=i(56),o=i(85),l=a("iterator"),c=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||c[l]===t)}},function(t,r,i){"use strict";var a=i(20),o=i(26),l=i(15);t.exports=function(t,r,i){var c=a(r);c in t?o.f(t,c,l(0,i)):t[c]=i}},function(t,r,i){var a=i(94),o=i(85),l=i(56)("iterator");t.exports=function(t){if(null!=t)return t[l]||t["@@iterator"]||o[a(t)]}},function(t,r,i){var a=i(95),o=i(18),l=i(56)("toStringTag"),c="Arguments"==o(function(){return arguments}());t.exports=a?o:function(t){var r,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,r){try{return t[r]}catch(t){}}(r=Object(t),l))?i:c?o(r):"Object"==(a=o(r))&&"function"==typeof r.callee?"Arguments":a}},function(t,r,i){var a={};a[i(56)("toStringTag")]="z";t.exports="[object z]"===String(a)},function(t,r,i){var a=i(56)("iterator"),o=!1;try{var l=0,c={next:function(){return{done:!!l++}},return:function(){o=!0}};c[a]=function(){return this};Array.from(c,(function(){throw 2}))}catch(t){}t.exports=function(t,r){if(!r&&!o)return!1;var i=!1;try{var l={};l[a]=function(){return{next:function(){return{done:i=!0}}}};t(l)}catch(t){}return i}},function(t,r,i){i(98);var a=i(42);t.exports=a.Object.assign},function(t,r,i){var a=i(9),o=i(99);a({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,r,i){"use strict";var a=i(12),o=i(13),l=i(72),c=i(50),u=i(14),d=i(82),h=i(17),p=Object.assign,g=Object.defineProperty;t.exports=!p||o((function(){if(a&&1!==p({b:1},p(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},r={},i=Symbol();t[i]=7;"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t}));return 7!=p({},t)[i]||"abcdefghijklmnopqrst"!=l(p({},r)).join("")}))?function assign(t,r){for(var i=d(t),o=arguments.length,p=1,g=c.f,v=u.f;o>p;)for(var m,y=h(arguments[p++]),b=g?l(y).concat(g(y)):l(y),w=b.length,S=0;w>S;){m=b[S++];a&&!v.call(y,m)||(i[m]=y[m])}return i}:p},function(t,r,i){i(101);i(102);var a=i(42);t.exports=a.Object.fromEntries},function(t,r,i){"use strict";var a=i(16),o=i(69),l=i(85),c=i(32),u=i(78),d=c.set,h=c.getterFor("Array Iterator");t.exports=u(Array,"Array",(function(t,r){d(this,{type:"Array Iterator",target:a(t),index:0,kind:r})}),(function(){var t=h(this),r=t.target,i=t.kind,a=t.index++;if(!r||a>=r.length){t.target=void 0;return{value:void 0,done:!0}}return"keys"==i?{value:a,done:!1}:"values"==i?{value:r[a],done:!1}:{value:[a,r[a]],done:!1}}),"values");l.Arguments=l.Array;o("keys");o("values");o("entries")},function(t,r,i){var a=i(9),o=i(103),l=i(92);a({target:"Object",stat:!0},{fromEntries:function fromEntries(t){var r={};o(t,(function(t,i){l(r,t,i)}),void 0,!0);return r}})},function(t,r,i){var a=i(27),o=i(91),l=i(46),c=i(61),u=i(93),d=i(90),Result=function(t,r){this.stopped=t;this.result=r};(t.exports=function(t,r,i,h,p){var g,v,m,y,b,w,S,C=c(r,i,h?2:1);if(p)g=t;else{if("function"!=typeof(v=u(t)))throw TypeError("Target is not iterable");if(o(v)){for(m=0,y=l(t.length);y>m;m++)if((b=h?C(a(S=t[m])[0],S[1]):C(t[m]))&&b instanceof Result)return b;return new Result(!1)}g=v.call(t)}w=g.next;for(;!(S=w.call(g)).done;)if("object"==typeof(b=d(g,C,S.value,h))&&b&&b instanceof Result)return b;return new Result(!1)}).stop=function(t){return new Result(!0,t)}},function(t,r,i){i(105);var a=i(42);t.exports=a.Math.log2},function(t,r,i){var a=i(9),o=Math.log,l=Math.LN2;a({target:"Math",stat:!0},{log2:function log2(t){return o(t)/l}})},function(t,r,i){i(107);var a=i(42);t.exports=a.Number.isNaN},function(t,r,i){i(9)({target:"Number",stat:!0},{isNaN:function isNaN(t){return t!=t}})},function(t,r,i){i(109);var a=i(42);t.exports=a.Number.isInteger},function(t,r,i){i(9)({target:"Number",stat:!0},{isInteger:i(110)})},function(t,r,i){var a=i(21),o=Math.floor;t.exports=function isInteger(t){return!a(t)&&isFinite(t)&&o(t)===t}},function(t,r,i){i(112)},function(t,r,i){"use strict";var a=i(113),o=i(115),l=i(13),c=a.aTypedArray,u=a.aTypedArrayConstructor,d=a.exportTypedArrayMethod,h=[].slice;d("slice",(function slice(t,r){for(var i=h.call(c(this),t,r),a=o(this,this.constructor),l=0,d=i.length,p=new(u(a))(d);d>l;)p[l]=i[l++];return p}),l((function(){new Int8Array(1).slice()})))},function(t,r,i){"use strict";var a,o=i(114),l=i(12),c=i(10),u=i(21),d=i(22),h=i(94),p=i(25),g=i(28),v=i(26).f,m=i(81),y=i(86),b=i(56),w=i(37),S=c.Int8Array,C=S&&S.prototype,P=c.Uint8ClampedArray,k=P&&P.prototype,A=S&&m(S),R=C&&m(C),x=Object.prototype,T=x.isPrototypeOf,E=b("toStringTag"),I=w("TYPED_ARRAY_TAG"),L=o&&!!y&&"Opera"!==h(c.opera),O=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},isTypedArray=function(t){return u(t)&&d(D,h(t))};for(a in D)c[a]||(L=!1);if(!L||"function"!=typeof A||A===Function.prototype){A=function TypedArray(){throw TypeError("Incorrect invocation")};if(L)for(a in D)c[a]&&y(c[a],A)}if(!L||!R||R===x){R=A.prototype;if(L)for(a in D)c[a]&&y(c[a].prototype,R)}L&&m(k)!==R&&y(k,R);if(l&&!d(R,E)){O=!0;v(R,E,{get:function(){return u(this)?this[I]:void 0}});for(a in D)c[a]&&p(c[a],I,a)}t.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:O&&I,aTypedArray:function(t){if(isTypedArray(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(y){if(T.call(A,t))return t}else for(var r in D)if(d(D,a)){var i=c[r];if(i&&(t===i||T.call(i,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,r,i){if(l){if(i)for(var a in D){var o=c[a];o&&d(o.prototype,t)&&delete o.prototype[t]}R[t]&&!i||g(R,t,i?r:L&&C[t]||r)}},exportTypedArrayStaticMethod:function(t,r,i){var a,o;if(l){if(y){if(i)for(a in D)(o=c[a])&&d(o,t)&&delete o[t];if(A[t]&&!i)return;try{return g(A,t,i?r:L&&S[t]||r)}catch(t){}}for(a in D)!(o=c[a])||o[t]&&!i||g(o,t,r)}},isView:function isView(t){var r=h(t);return"DataView"===r||d(D,r)},isTypedArray:isTypedArray,TypedArray:A,TypedArrayPrototype:R}},function(t,r){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,r,i){var a=i(27),o=i(62),l=i(56)("species");t.exports=function(t,r){var i,c=a(t).constructor;return void 0===c||null==(i=a(c)[l])?r:o(i)}},function(t,r,i){i(117);i(76);i(119);i(121);i(135);i(136);var a=i(42);t.exports=a.Promise},function(t,r,i){var a=i(95),o=i(28),l=i(118);a||o(Object.prototype,"toString",l,{unsafe:!0})},function(t,r,i){"use strict";var a=i(95),o=i(94);t.exports=a?{}.toString:function toString(){return"[object "+o(this)+"]"}},function(t,r,i){var a=i(10),o=i(120),l=i(101),c=i(25),u=i(56),d=u("iterator"),h=u("toStringTag"),p=l.values;for(var g in o){var v=a[g],m=v&&v.prototype;if(m){if(m[d]!==p)try{c(m,d,p)}catch(t){m[d]=p}m[h]||c(m,h,g);if(o[g])for(var y in l)if(m[y]!==l[y])try{c(m,y,l[y])}catch(t){m[y]=l[y]}}}},function(t,r){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,r,i){"use strict";var a,o,l,c,u=i(9),d=i(36),h=i(10),p=i(41),g=i(122),v=i(28),m=i(123),y=i(84),b=i(124),w=i(21),S=i(62),C=i(125),P=i(18),k=i(30),A=i(103),R=i(96),x=i(115),T=i(126).set,E=i(129),I=i(130),L=i(132),O=i(131),D=i(133),M=i(32),N=i(51),B=i(56),j=i(134),W=B("species"),V="Promise",U=M.get,G=M.set,z=M.getterFor(V),q=g,H=h.TypeError,Y=h.document,X=h.process,Q=p("fetch"),K=O.f,$=K,Z="process"==P(X),J=!!(Y&&Y.createEvent&&h.dispatchEvent),ee=N(V,(function(){if(!(k(q)!==String(q))){if(66===j)return!0;if(!Z&&"function"!=typeof PromiseRejectionEvent)return!0}if(d&&!q.prototype.finally)return!0;if(j>=51&&/native code/.test(q))return!1;var t=q.resolve(1),FakePromise=function(t){t((function(){}),(function(){}))};(t.constructor={})[W]=FakePromise;return!(t.then((function(){}))instanceof FakePromise)})),te=ee||!R((function(t){q.all(t).catch((function(){}))})),isThenable=function(t){var r;return!(!w(t)||"function"!=typeof(r=t.then))&&r},notify=function(t,r,i){if(!r.notified){r.notified=!0;var a=r.reactions;E((function(){for(var o=r.value,l=1==r.state,c=0;a.length>c;){var u,d,h,p=a[c++],g=l?p.ok:p.fail,v=p.resolve,m=p.reject,y=p.domain;try{if(g){if(!l){2===r.rejection&&onHandleUnhandled(t,r);r.rejection=1}if(!0===g)u=o;else{y&&y.enter();u=g(o);if(y){y.exit();h=!0}}u===p.promise?m(H("Promise-chain cycle")):(d=isThenable(u))?d.call(u,v,m):v(u)}else m(o)}catch(t){y&&!h&&y.exit();m(t)}}r.reactions=[];r.notified=!1;i&&!r.rejection&&onUnhandled(t,r)}))}},dispatchEvent=function(t,r,i){var a,o;if(J){(a=Y.createEvent("Event")).promise=r;a.reason=i;a.initEvent(t,!1,!0);h.dispatchEvent(a)}else a={promise:r,reason:i};(o=h["on"+t])?o(a):"unhandledrejection"===t&&L("Unhandled promise rejection",i)},onUnhandled=function(t,r){T.call(h,(function(){var i,a=r.value;if(isUnhandled(r)){i=D((function(){Z?X.emit("unhandledRejection",a,t):dispatchEvent("unhandledrejection",t,a)}));r.rejection=Z||isUnhandled(r)?2:1;if(i.error)throw i.value}}))},isUnhandled=function(t){return 1!==t.rejection&&!t.parent},onHandleUnhandled=function(t,r){T.call(h,(function(){Z?X.emit("rejectionHandled",t):dispatchEvent("rejectionhandled",t,r.value)}))},bind=function(t,r,i,a){return function(o){t(r,i,o,a)}},internalReject=function(t,r,i,a){if(!r.done){r.done=!0;a&&(r=a);r.value=i;r.state=2;notify(t,r,!0)}},internalResolve=function(t,r,i,a){if(!r.done){r.done=!0;a&&(r=a);try{if(t===i)throw H("Promise can't be resolved itself");var o=isThenable(i);if(o)E((function(){var a={done:!1};try{o.call(i,bind(internalResolve,t,a,r),bind(internalReject,t,a,r))}catch(i){internalReject(t,a,i,r)}}));else{r.value=i;r.state=1;notify(t,r,!1)}}catch(i){internalReject(t,{done:!1},i,r)}}};if(ee){q=function Promise(t){C(this,q,V);S(t);a.call(this);var r=U(this);try{t(bind(internalResolve,this,r),bind(internalReject,this,r))}catch(t){internalReject(this,r,t)}};(a=function Promise(t){G(this,{type:V,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=m(q.prototype,{then:function then(t,r){var i=z(this),a=K(x(this,q));a.ok="function"!=typeof t||t;a.fail="function"==typeof r&&r;a.domain=Z?X.domain:void 0;i.parent=!0;i.reactions.push(a);0!=i.state&&notify(this,i,!1);return a.promise},catch:function(t){return this.then(void 0,t)}});o=function(){var t=new a,r=U(t);this.promise=t;this.resolve=bind(internalResolve,t,r);this.reject=bind(internalReject,t,r)};O.f=K=function(t){return t===q||t===l?new o(t):$(t)};if(!d&&"function"==typeof g){c=g.prototype.then;v(g.prototype,"then",(function then(t,r){var i=this;return new q((function(t,r){c.call(i,t,r)})).then(t,r)}),{unsafe:!0});"function"==typeof Q&&u({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(t){return I(q,Q.apply(h,arguments))}})}}u({global:!0,wrap:!0,forced:ee},{Promise:q});y(q,V,!1,!0);b(V);l=p(V);u({target:V,stat:!0,forced:ee},{reject:function reject(t){var r=K(this);r.reject.call(void 0,t);return r.promise}});u({target:V,stat:!0,forced:d||ee},{resolve:function resolve(t){return I(d&&this===l?q:this,t)}});u({target:V,stat:!0,forced:te},{all:function all(t){var r=this,i=K(r),a=i.resolve,o=i.reject,l=D((function(){var i=S(r.resolve),l=[],c=0,u=1;A(t,(function(t){var d=c++,h=!1;l.push(void 0);u++;i.call(r,t).then((function(t){if(!h){h=!0;l[d]=t;--u||a(l)}}),o)}));--u||a(l)}));l.error&&o(l.value);return i.promise},race:function race(t){var r=this,i=K(r),a=i.reject,o=D((function(){var o=S(r.resolve);A(t,(function(t){o.call(r,t).then(i.resolve,a)}))}));o.error&&a(o.value);return i.promise}})},function(t,r,i){var a=i(10);t.exports=a.Promise},function(t,r,i){var a=i(28);t.exports=function(t,r,i){for(var o in r)a(t,o,r[o],i);return t}},function(t,r,i){"use strict";var a=i(41),o=i(26),l=i(56),c=i(12),u=l("species");t.exports=function(t){var r=a(t),i=o.f;c&&r&&!r[u]&&i(r,u,{configurable:!0,get:function(){return this}})}},function(t,r){t.exports=function(t,r,i){if(!(t instanceof r))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t}},function(t,r,i){var a,o,l,c=i(10),u=i(13),d=i(18),h=i(61),p=i(73),g=i(24),v=i(127),m=c.location,y=c.setImmediate,b=c.clearImmediate,w=c.process,S=c.MessageChannel,C=c.Dispatch,P=0,k={},run=function(t){if(k.hasOwnProperty(t)){var r=k[t];delete k[t];r()}},runner=function(t){return function(){run(t)}},listener=function(t){run(t.data)},post=function(t){c.postMessage(t+"",m.protocol+"//"+m.host)};if(!y||!b){y=function setImmediate(t){for(var r=[],i=1;arguments.length>i;)r.push(arguments[i++]);k[++P]=function(){("function"==typeof t?t:Function(t)).apply(void 0,r)};a(P);return P};b=function clearImmediate(t){delete k[t]};if("process"==d(w))a=function(t){w.nextTick(runner(t))};else if(C&&C.now)a=function(t){C.now(runner(t))};else if(S&&!v){l=(o=new S).port2;o.port1.onmessage=listener;a=h(l.postMessage,l,1)}else if(!c.addEventListener||"function"!=typeof postMessage||c.importScripts||u(post)||"file:"===m.protocol)a="onreadystatechange"in g("script")?function(t){p.appendChild(g("script")).onreadystatechange=function(){p.removeChild(this);run(t)}}:function(t){setTimeout(runner(t),0)};else{a=post;c.addEventListener("message",listener,!1)}}t.exports={set:y,clear:b}},function(t,r,i){var a=i(128);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(a)},function(t,r,i){var a=i(41);t.exports=a("navigator","userAgent")||""},function(t,r,i){var a,o,l,c,u,d,h,p,g=i(10),v=i(11).f,m=i(18),y=i(126).set,b=i(127),w=g.MutationObserver||g.WebKitMutationObserver,S=g.process,C=g.Promise,P="process"==m(S),k=v(g,"queueMicrotask"),A=k&&k.value;if(!A){a=function(){var t,r;P&&(t=S.domain)&&t.exit();for(;o;){r=o.fn;o=o.next;try{r()}catch(t){o?c():l=void 0;throw t}}l=void 0;t&&t.enter()};if(P)c=function(){S.nextTick(a)};else if(w&&!b){u=!0;d=document.createTextNode("");new w(a).observe(d,{characterData:!0});c=function(){d.data=u=!u}}else if(C&&C.resolve){h=C.resolve(void 0);p=h.then;c=function(){p.call(h,a)}}else c=function(){y.call(g,a)}}t.exports=A||function(t){var r={fn:t,next:void 0};l&&(l.next=r);if(!o){o=r;c()}l=r}},function(t,r,i){var a=i(27),o=i(21),l=i(131);t.exports=function(t,r){a(t);if(o(r)&&r.constructor===t)return r;var i=l.f(t);(0,i.resolve)(r);return i.promise}},function(t,r,i){"use strict";var a=i(62),PromiseCapability=function(t){var r,i;this.promise=new t((function(t,a){if(void 0!==r||void 0!==i)throw TypeError("Bad Promise constructor");r=t;i=a}));this.resolve=a(r);this.reject=a(i)};t.exports.f=function(t){return new PromiseCapability(t)}},function(t,r,i){var a=i(10);t.exports=function(t,r){var i=a.console;i&&i.error&&(1===arguments.length?i.error(t):i.error(t,r))}},function(t,r){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,r,i){var a,o,l=i(10),c=i(128),u=l.process,d=u&&u.versions,h=d&&d.v8;h?o=(a=h.split("."))[0]+a[1]:c&&(!(a=c.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=c.match(/Chrome\/(\d+)/))&&(o=a[1]);t.exports=o&&+o},function(t,r,i){"use strict";var a=i(9),o=i(62),l=i(131),c=i(133),u=i(103);a({target:"Promise",stat:!0},{allSettled:function allSettled(t){var r=this,i=l.f(r),a=i.resolve,d=i.reject,h=c((function(){var i=o(r.resolve),l=[],c=0,d=1;u(t,(function(t){var o=c++,u=!1;l.push(void 0);d++;i.call(r,t).then((function(t){if(!u){u=!0;l[o]={status:"fulfilled",value:t};--d||a(l)}}),(function(t){if(!u){u=!0;l[o]={status:"rejected",reason:t};--d||a(l)}}))}));--d||a(l)}));h.error&&d(h.value);return i.promise}})},function(t,r,i){"use strict";var a=i(9),o=i(36),l=i(122),c=i(13),u=i(41),d=i(115),h=i(130),p=i(28);a({target:"Promise",proto:!0,real:!0,forced:!!l&&c((function(){l.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var r=d(this,u("Promise")),i="function"==typeof t;return this.then(i?function(i){return h(r,t()).then((function(){return i}))}:t,i?function(i){return h(r,t()).then((function(){throw i}))}:t)}});o||"function"!=typeof l||l.prototype.finally||p(l.prototype,"finally",u("Promise").prototype.finally)},function(t,r,i){i(138);i(143);i(141);var a=i(42);t.exports=a.URL},function(t,r,i){"use strict";i(76);var a,o=i(9),l=i(12),c=i(139),u=i(10),d=i(71),h=i(28),p=i(125),g=i(22),v=i(99),m=i(89),y=i(77).codeAt,b=i(140),w=i(84),S=i(141),C=i(32),P=u.URL,k=S.URLSearchParams,A=S.getState,R=C.set,x=C.getterFor("URL"),T=Math.floor,E=Math.pow,I=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,O=/\d/,D=/^(0x|0X)/,M=/^[0-7]+$/,N=/^\d+$/,B=/^[\dA-Fa-f]+$/,j=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,W=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,V=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,U=/[\u0009\u000A\u000D]/g,parseHost=function(t,r){var i,a,o;if("["==r.charAt(0)){if("]"!=r.charAt(r.length-1))return"Invalid host";if(!(i=parseIPv6(r.slice(1,-1))))return"Invalid host";t.host=i}else if(isSpecial(t)){r=b(r);if(j.test(r))return"Invalid host";if(null===(i=parseIPv4(r)))return"Invalid host";t.host=i}else{if(W.test(r))return"Invalid host";i="";a=m(r);for(o=0;o<a.length;o++)i+=percentEncode(a[o],G);t.host=i}},parseIPv4=function(t){var r,i,a,o,l,c,u,d=t.split(".");d.length&&""==d[d.length-1]&&d.pop();if((r=d.length)>4)return t;i=[];for(a=0;a<r;a++){if(""==(o=d[a]))return t;l=10;if(o.length>1&&"0"==o.charAt(0)){l=D.test(o)?16:8;o=o.slice(8==l?1:2)}if(""===o)c=0;else{if(!(10==l?N:8==l?M:B).test(o))return t;c=parseInt(o,l)}i.push(c)}for(a=0;a<r;a++){c=i[a];if(a==r-1){if(c>=E(256,5-r))return null}else if(c>255)return null}u=i.pop();for(a=0;a<i.length;a++)u+=i[a]*E(256,3-a);return u},parseIPv6=function(t){var r,i,a,o,l,c,u,d=[0,0,0,0,0,0,0,0],h=0,p=null,g=0,char=function(){return t.charAt(g)};if(":"==char()){if(":"!=t.charAt(1))return;g+=2;p=++h}for(;char();){if(8==h)return;if(":"!=char()){r=i=0;for(;i<4&&B.test(char());){r=16*r+parseInt(char(),16);g++;i++}if("."==char()){if(0==i)return;g-=i;if(h>6)return;a=0;for(;char();){o=null;if(a>0){if(!("."==char()&&a<4))return;g++}if(!O.test(char()))return;for(;O.test(char());){l=parseInt(char(),10);if(null===o)o=l;else{if(0==o)return;o=10*o+l}if(o>255)return;g++}d[h]=256*d[h]+o;2!=++a&&4!=a||h++}if(4!=a)return;break}if(":"==char()){g++;if(!char())return}else if(char())return;d[h++]=r}else{if(null!==p)return;g++;p=++h}}if(null!==p){c=h-p;h=7;for(;0!=h&&c>0;){u=d[h];d[h--]=d[p+c-1];d[p+--c]=u}}else if(8!=h)return;return d},serializeHost=function(t){var r,i,a,o;if("number"==typeof t){r=[];for(i=0;i<4;i++){r.unshift(t%256);t=T(t/256)}return r.join(".")}if("object"==typeof t){r="";a=function(t){for(var r=null,i=1,a=null,o=0,l=0;l<8;l++)if(0!==t[l]){if(o>i){r=a;i=o}a=null;o=0}else{null===a&&(a=l);++o}if(o>i){r=a;i=o}return r}(t);for(i=0;i<8;i++)if(!o||0!==t[i]){o&&(o=!1);if(a===i){r+=i?":":"::";o=!0}else{r+=t[i].toString(16);i<7&&(r+=":")}}return"["+r+"]"}return t},G={},z=v({},G,{" ":1,'"':1,"<":1,">":1,"`":1}),q=v({},z,{"#":1,"?":1,"{":1,"}":1}),H=v({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(t,r){var i=y(t,0);return i>32&&i<127&&!g(r,t)?t:encodeURIComponent(t)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isSpecial=function(t){return g(Y,t.scheme)},includesCredentials=function(t){return""!=t.username||""!=t.password},cannotHaveUsernamePasswordPort=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},isWindowsDriveLetter=function(t,r){var i;return 2==t.length&&I.test(t.charAt(0))&&(":"==(i=t.charAt(1))||!r&&"|"==i)},startsWithWindowsDriveLetter=function(t){var r;return t.length>1&&isWindowsDriveLetter(t.slice(0,2))&&(2==t.length||"/"===(r=t.charAt(2))||"\\"===r||"?"===r||"#"===r)},shortenURLsPath=function(t){var r=t.path,i=r.length;!i||"file"==t.scheme&&1==i&&isWindowsDriveLetter(r[0],!0)||r.pop()},isSingleDot=function(t){return"."===t||"%2e"===t.toLowerCase()},X={},Q={},K={},$={},Z={},J={},ee={},te={},re={},ne={},ie={},ae={},oe={},se={},le={},ce={},ue={},de={},fe={},he={},pe={},parseURL=function(t,r,i,o){var l,c,u,d,h,p=i||X,v=0,y="",b=!1,w=!1,S=!1;if(!i){t.scheme="";t.username="";t.password="";t.host=null;t.port=null;t.path=[];t.query=null;t.fragment=null;t.cannotBeABaseURL=!1;r=r.replace(V,"")}r=r.replace(U,"");l=m(r);for(;v<=l.length;){c=l[v];switch(p){case X:if(!c||!I.test(c)){if(i)return"Invalid scheme";p=K;continue}y+=c.toLowerCase();p=Q;break;case Q:if(c&&(L.test(c)||"+"==c||"-"==c||"."==c))y+=c.toLowerCase();else{if(":"!=c){if(i)return"Invalid scheme";y="";p=K;v=0;continue}if(i&&(isSpecial(t)!=g(Y,y)||"file"==y&&(includesCredentials(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;t.scheme=y;if(i){isSpecial(t)&&Y[t.scheme]==t.port&&(t.port=null);return}y="";if("file"==t.scheme)p=se;else if(isSpecial(t)&&o&&o.scheme==t.scheme)p=$;else if(isSpecial(t))p=te;else if("/"==l[v+1]){p=Z;v++}else{t.cannotBeABaseURL=!0;t.path.push("");p=fe}}break;case K:if(!o||o.cannotBeABaseURL&&"#"!=c)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==c){t.scheme=o.scheme;t.path=o.path.slice();t.query=o.query;t.fragment="";t.cannotBeABaseURL=!0;p=pe;break}p="file"==o.scheme?se:J;continue;case $:if("/"!=c||"/"!=l[v+1]){p=J;continue}p=re;v++;break;case Z:if("/"==c){p=ne;break}p=de;continue;case J:t.scheme=o.scheme;if(c==a){t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;t.path=o.path.slice();t.query=o.query}else if("/"==c||"\\"==c&&isSpecial(t))p=ee;else if("?"==c){t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;t.path=o.path.slice();t.query="";p=he}else{if("#"!=c){t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;t.path=o.path.slice();t.path.pop();p=de;continue}t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;t.path=o.path.slice();t.query=o.query;t.fragment="";p=pe}break;case ee:if(!isSpecial(t)||"/"!=c&&"\\"!=c){if("/"!=c){t.username=o.username;t.password=o.password;t.host=o.host;t.port=o.port;p=de;continue}p=ne}else p=re;break;case te:p=re;if("/"!=c||"/"!=y.charAt(v+1))continue;v++;break;case re:if("/"!=c&&"\\"!=c){p=ne;continue}break;case ne:if("@"==c){b&&(y="%40"+y);b=!0;u=m(y);for(var C=0;C<u.length;C++){var P=u[C];if(":"!=P||S){var k=percentEncode(P,H);S?t.password+=k:t.username+=k}else S=!0}y=""}else if(c==a||"/"==c||"?"==c||"#"==c||"\\"==c&&isSpecial(t)){if(b&&""==y)return"Invalid authority";v-=m(y).length+1;y="";p=ie}else y+=c;break;case ie:case ae:if(i&&"file"==t.scheme){p=ce;continue}if(":"!=c||w){if(c==a||"/"==c||"?"==c||"#"==c||"\\"==c&&isSpecial(t)){if(isSpecial(t)&&""==y)return"Invalid host";if(i&&""==y&&(includesCredentials(t)||null!==t.port))return;if(d=parseHost(t,y))return d;y="";p=ue;if(i)return;continue}"["==c?w=!0:"]"==c&&(w=!1);y+=c}else{if(""==y)return"Invalid host";if(d=parseHost(t,y))return d;y="";p=oe;if(i==ae)return}break;case oe:if(!O.test(c)){if(c==a||"/"==c||"?"==c||"#"==c||"\\"==c&&isSpecial(t)||i){if(""!=y){var A=parseInt(y,10);if(A>65535)return"Invalid port";t.port=isSpecial(t)&&A===Y[t.scheme]?null:A;y=""}if(i)return;p=ue;continue}return"Invalid port"}y+=c;break;case se:t.scheme="file";if("/"==c||"\\"==c)p=le;else{if(!o||"file"!=o.scheme){p=de;continue}if(c==a){t.host=o.host;t.path=o.path.slice();t.query=o.query}else if("?"==c){t.host=o.host;t.path=o.path.slice();t.query="";p=he}else{if("#"!=c){if(!startsWithWindowsDriveLetter(l.slice(v).join(""))){t.host=o.host;t.path=o.path.slice();shortenURLsPath(t)}p=de;continue}t.host=o.host;t.path=o.path.slice();t.query=o.query;t.fragment="";p=pe}}break;case le:if("/"==c||"\\"==c){p=ce;break}o&&"file"==o.scheme&&!startsWithWindowsDriveLetter(l.slice(v).join(""))&&(isWindowsDriveLetter(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host);p=de;continue;case ce:if(c==a||"/"==c||"\\"==c||"?"==c||"#"==c){if(!i&&isWindowsDriveLetter(y))p=de;else if(""==y){t.host="";if(i)return;p=ue}else{if(d=parseHost(t,y))return d;"localhost"==t.host&&(t.host="");if(i)return;y="";p=ue}continue}y+=c;break;case ue:if(isSpecial(t)){p=de;if("/"!=c&&"\\"!=c)continue}else if(i||"?"!=c)if(i||"#"!=c){if(c!=a){p=de;if("/"!=c)continue}}else{t.fragment="";p=pe}else{t.query="";p=he}break;case de:if(c==a||"/"==c||"\\"==c&&isSpecial(t)||!i&&("?"==c||"#"==c)){if(".."===(h=(h=y).toLowerCase())||"%2e."===h||".%2e"===h||"%2e%2e"===h){shortenURLsPath(t);"/"==c||"\\"==c&&isSpecial(t)||t.path.push("")}else if(isSingleDot(y))"/"==c||"\\"==c&&isSpecial(t)||t.path.push("");else{if("file"==t.scheme&&!t.path.length&&isWindowsDriveLetter(y)){t.host&&(t.host="");y=y.charAt(0)+":"}t.path.push(y)}y="";if("file"==t.scheme&&(c==a||"?"==c||"#"==c))for(;t.path.length>1&&""===t.path[0];)t.path.shift();if("?"==c){t.query="";p=he}else if("#"==c){t.fragment="";p=pe}}else y+=percentEncode(c,q);break;case fe:if("?"==c){t.query="";p=he}else if("#"==c){t.fragment="";p=pe}else c!=a&&(t.path[0]+=percentEncode(c,G));break;case he:if(i||"#"!=c)c!=a&&("'"==c&&isSpecial(t)?t.query+="%27":t.query+="#"==c?"%23":percentEncode(c,G));else{t.fragment="";p=pe}break;case pe:c!=a&&(t.fragment+=percentEncode(c,z))}v++}},ge=function URL(t){var r,i,a=p(this,ge,"URL"),o=arguments.length>1?arguments[1]:void 0,c=String(t),u=R(a,{type:"URL"});if(void 0!==o)if(o instanceof ge)r=x(o);else if(i=parseURL(r={},String(o)))throw TypeError(i);if(i=parseURL(u,c,null,r))throw TypeError(i);var d=u.searchParams=new k,h=A(d);h.updateSearchParams(u.query);h.updateURL=function(){u.query=String(d)||null};if(!l){a.href=serializeURL.call(a);a.origin=getOrigin.call(a);a.protocol=getProtocol.call(a);a.username=getUsername.call(a);a.password=getPassword.call(a);a.host=getHost.call(a);a.hostname=getHostname.call(a);a.port=getPort.call(a);a.pathname=getPathname.call(a);a.search=getSearch.call(a);a.searchParams=getSearchParams.call(a);a.hash=getHash.call(a)}},ve=ge.prototype,serializeURL=function(){var t=x(this),r=t.scheme,i=t.username,a=t.password,o=t.host,l=t.port,c=t.path,u=t.query,d=t.fragment,h=r+":";if(null!==o){h+="//";includesCredentials(t)&&(h+=i+(a?":"+a:"")+"@");h+=serializeHost(o);null!==l&&(h+=":"+l)}else"file"==r&&(h+="//");h+=t.cannotBeABaseURL?c[0]:c.length?"/"+c.join("/"):"";null!==u&&(h+="?"+u);null!==d&&(h+="#"+d);return h},getOrigin=function(){var t=x(this),r=t.scheme,i=t.port;if("blob"==r)try{return new URL(r.path[0]).origin}catch(t){return"null"}return"file"!=r&&isSpecial(t)?r+"://"+serializeHost(t.host)+(null!==i?":"+i:""):"null"},getProtocol=function(){return x(this).scheme+":"},getUsername=function(){return x(this).username},getPassword=function(){return x(this).password},getHost=function(){var t=x(this),r=t.host,i=t.port;return null===r?"":null===i?serializeHost(r):serializeHost(r)+":"+i},getHostname=function(){var t=x(this).host;return null===t?"":serializeHost(t)},getPort=function(){var t=x(this).port;return null===t?"":String(t)},getPathname=function(){var t=x(this),r=t.path;return t.cannotBeABaseURL?r[0]:r.length?"/"+r.join("/"):""},getSearch=function(){var t=x(this).query;return t?"?"+t:""},getSearchParams=function(){return x(this).searchParams},getHash=function(){var t=x(this).fragment;return t?"#"+t:""},accessorDescriptor=function(t,r){return{get:t,set:r,configurable:!0,enumerable:!0}};l&&d(ve,{href:accessorDescriptor(serializeURL,(function(t){var r=x(this),i=String(t),a=parseURL(r,i);if(a)throw TypeError(a);A(r.searchParams).updateSearchParams(r.query)})),origin:accessorDescriptor(getOrigin),protocol:accessorDescriptor(getProtocol,(function(t){var r=x(this);parseURL(r,String(t)+":",X)})),username:accessorDescriptor(getUsername,(function(t){var r=x(this),i=m(String(t));if(!cannotHaveUsernamePasswordPort(r)){r.username="";for(var a=0;a<i.length;a++)r.username+=percentEncode(i[a],H)}})),password:accessorDescriptor(getPassword,(function(t){var r=x(this),i=m(String(t));if(!cannotHaveUsernamePasswordPort(r)){r.password="";for(var a=0;a<i.length;a++)r.password+=percentEncode(i[a],H)}})),host:accessorDescriptor(getHost,(function(t){var r=x(this);r.cannotBeABaseURL||parseURL(r,String(t),ie)})),hostname:accessorDescriptor(getHostname,(function(t){var r=x(this);r.cannotBeABaseURL||parseURL(r,String(t),ae)})),port:accessorDescriptor(getPort,(function(t){var r=x(this);cannotHaveUsernamePasswordPort(r)||(""==(t=String(t))?r.port=null:parseURL(r,t,oe))})),pathname:accessorDescriptor(getPathname,(function(t){var r=x(this);if(!r.cannotBeABaseURL){r.path=[];parseURL(r,t+"",ue)}})),search:accessorDescriptor(getSearch,(function(t){var r=x(this);if(""==(t=String(t)))r.query=null;else{"?"==t.charAt(0)&&(t=t.slice(1));r.query="";parseURL(r,t,he)}A(r.searchParams).updateSearchParams(r.query)})),searchParams:accessorDescriptor(getSearchParams),hash:accessorDescriptor(getHash,(function(t){var r=x(this);if(""!=(t=String(t))){"#"==t.charAt(0)&&(t=t.slice(1));r.fragment="";parseURL(r,t,pe)}else r.fragment=null}))});h(ve,"toJSON",(function toJSON(){return serializeURL.call(this)}),{enumerable:!0});h(ve,"toString",(function toString(){return serializeURL.call(this)}),{enumerable:!0});if(P){var me=P.createObjectURL,ye=P.revokeObjectURL;me&&h(ge,"createObjectURL",(function createObjectURL(t){return me.apply(P,arguments)}));ye&&h(ge,"revokeObjectURL",(function revokeObjectURL(t){return ye.apply(P,arguments)}))}w(ge,"URL");o({global:!0,forced:!c,sham:!l},{URL:ge})},function(t,r,i){var a=i(13),o=i(56),l=i(36),c=o("iterator");t.exports=!a((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),r=t.searchParams,i="";t.pathname="c%20d";r.forEach((function(t,a){r.delete("b");i+=a+t}));return l&&!t.toJSON||!r.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==r.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!r[c]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host}))},function(t,r,i){"use strict";var a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,l="Overflow: input needs wider integers to process",c=Math.floor,u=String.fromCharCode,digitToBasic=function(t){return t+22+75*(t<26)},adapt=function(t,r,i){var a=0;t=i?c(t/700):t>>1;t+=c(t/r);for(;t>455;a+=36)t=c(t/35);return c(a+36*t/(t+38))},encode=function(t){var r,i,a=[],o=(t=function(t){for(var r=[],i=0,a=t.length;i<a;){var o=t.charCodeAt(i++);if(o>=55296&&o<=56319&&i<a){var l=t.charCodeAt(i++);if(56320==(64512&l))r.push(((1023&o)<<10)+(1023&l)+65536);else{r.push(o);i--}}else r.push(o)}return r}(t)).length,d=128,h=0,p=72;for(r=0;r<t.length;r++)(i=t[r])<128&&a.push(u(i));var g=a.length,v=g;g&&a.push("-");for(;v<o;){var m=2147483647;for(r=0;r<t.length;r++)(i=t[r])>=d&&i<m&&(m=i);var y=v+1;if(m-d>c((2147483647-h)/y))throw RangeError(l);h+=(m-d)*y;d=m;for(r=0;r<t.length;r++){if((i=t[r])<d&&++h>2147483647)throw RangeError(l);if(i==d){for(var b=h,w=36;;w+=36){var S=w<=p?1:w>=p+26?26:w-p;if(b<S)break;var C=b-S,P=36-S;a.push(u(digitToBasic(S+C%P)));b=c(C/P)}a.push(u(digitToBasic(b)));p=adapt(h,y,v==g);h=0;++v}}++h;++d}return a.join("")};t.exports=function(t){var r,i,l=[],c=t.toLowerCase().replace(o,".").split(".");for(r=0;r<c.length;r++){i=c[r];l.push(a.test(i)?"xn--"+encode(i):i)}return l.join(".")}},function(t,r,i){"use strict";i(101);var a=i(9),o=i(41),l=i(139),c=i(28),u=i(123),d=i(84),h=i(79),p=i(32),g=i(125),v=i(22),m=i(61),y=i(94),b=i(27),w=i(21),S=i(70),C=i(15),P=i(142),k=i(93),A=i(56),R=o("fetch"),x=o("Headers"),T=A("iterator"),E=p.set,I=p.getterFor("URLSearchParams"),L=p.getterFor("URLSearchParamsIterator"),O=/\+/g,D=Array(4),percentSequence=function(t){return D[t-1]||(D[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},percentDecode=function(t){try{return decodeURIComponent(t)}catch(r){return t}},deserialize=function(t){var r=t.replace(O," "),i=4;try{return decodeURIComponent(r)}catch(t){for(;i;)r=r.replace(percentSequence(i--),percentDecode);return r}},M=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(t){return N[t]},serialize=function(t){return encodeURIComponent(t).replace(M,replacer)},parseSearchParams=function(t,r){if(r)for(var i,a,o=r.split("&"),l=0;l<o.length;)if((i=o[l++]).length){a=i.split("=");t.push({key:deserialize(a.shift()),value:deserialize(a.join("="))})}},updateSearchParams=function(t){this.entries.length=0;parseSearchParams(this.entries,t)},validateArgumentsLength=function(t,r){if(t<r)throw TypeError("Not enough arguments")},B=h((function Iterator(t,r){E(this,{type:"URLSearchParamsIterator",iterator:P(I(t).entries),kind:r})}),"Iterator",(function next(){var t=L(this),r=t.kind,i=t.iterator.next(),a=i.value;i.done||(i.value="keys"===r?a.key:"values"===r?a.value:[a.key,a.value]);return i})),j=function URLSearchParams(){g(this,j,"URLSearchParams");var t,r,i,a,o,l,c,u,d,h=arguments.length>0?arguments[0]:void 0,p=this,m=[];E(p,{type:"URLSearchParams",entries:m,updateURL:function(){},updateSearchParams:updateSearchParams});if(void 0!==h)if(w(h))if("function"==typeof(t=k(h))){i=(r=t.call(h)).next;for(;!(a=i.call(r)).done;){if((c=(l=(o=P(b(a.value))).next).call(o)).done||(u=l.call(o)).done||!l.call(o).done)throw TypeError("Expected sequence with length 2");m.push({key:c.value+"",value:u.value+""})}}else for(d in h)v(h,d)&&m.push({key:d,value:h[d]+""});else parseSearchParams(m,"string"==typeof h?"?"===h.charAt(0)?h.slice(1):h:h+"")},W=j.prototype;u(W,{append:function append(t,r){validateArgumentsLength(arguments.length,2);var i=I(this);i.entries.push({key:t+"",value:r+""});i.updateURL()},delete:function(t){validateArgumentsLength(arguments.length,1);for(var r=I(this),i=r.entries,a=t+"",o=0;o<i.length;)i[o].key===a?i.splice(o,1):o++;r.updateURL()},get:function get(t){validateArgumentsLength(arguments.length,1);for(var r=I(this).entries,i=t+"",a=0;a<r.length;a++)if(r[a].key===i)return r[a].value;return null},getAll:function getAll(t){validateArgumentsLength(arguments.length,1);for(var r=I(this).entries,i=t+"",a=[],o=0;o<r.length;o++)r[o].key===i&&a.push(r[o].value);return a},has:function has(t){validateArgumentsLength(arguments.length,1);for(var r=I(this).entries,i=t+"",a=0;a<r.length;)if(r[a++].key===i)return!0;return!1},set:function set(t,r){validateArgumentsLength(arguments.length,1);for(var i,a=I(this),o=a.entries,l=!1,c=t+"",u=r+"",d=0;d<o.length;d++)if((i=o[d]).key===c)if(l)o.splice(d--,1);else{l=!0;i.value=u}l||o.push({key:c,value:u});a.updateURL()},sort:function sort(){var t,r,i,a=I(this),o=a.entries,l=o.slice();o.length=0;for(i=0;i<l.length;i++){t=l[i];for(r=0;r<i;r++)if(o[r].key>t.key){o.splice(r,0,t);break}r===i&&o.push(t)}a.updateURL()},forEach:function forEach(t){for(var r,i=I(this).entries,a=m(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<i.length;)a((r=i[o++]).value,r.key,this)},keys:function keys(){return new B(this,"keys")},values:function values(){return new B(this,"values")},entries:function entries(){return new B(this,"entries")}},{enumerable:!0});c(W,T,W.entries);c(W,"toString",(function toString(){for(var t,r=I(this).entries,i=[],a=0;a<r.length;){t=r[a++];i.push(serialize(t.key)+"="+serialize(t.value))}return i.join("&")}),{enumerable:!0});d(j,"URLSearchParams");a({global:!0,forced:!l},{URLSearchParams:j});l||"function"!=typeof R||"function"!=typeof x||a({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(t){var r,i,a,o=[t];if(arguments.length>1){if(w(r=arguments[1])){i=r.body;if("URLSearchParams"===y(i)){(a=r.headers?new x(r.headers):new x).has("content-type")||a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8");r=S(r,{body:C(0,String(i)),headers:C(0,a)})}}o.push(r)}return R.apply(this,o)}});t.exports={URLSearchParams:j,getState:I}},function(t,r,i){var a=i(27),o=i(93);t.exports=function(t){var r=o(t);if("function"!=typeof r)throw TypeError(String(t)+" is not iterable");return a(r.call(t))}},function(t,r,i){"use strict";i(9)({target:"URL",proto:!0,enumerable:!0},{toJSON:function toJSON(){return URL.prototype.toString.call(this)}})},function(t,r,i){!function(t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function noop(){}var i=Number.isNaN||function(t){return t!=t},a=noop;function typeIsObject(t){return"object"==typeof t&&null!==t||"function"==typeof t}function createArrayFromList(t){return t.slice()}function IsFiniteNonNegativeNumber(t){return!1!==function IsNonNegativeNumber(t){return"number"==typeof t&&(!i(t)&&!(t<0))}(t)&&t!==1/0}function Call(t,r,i){if("function"!=typeof t)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,r,i)}function CreateAlgorithmFromUnderlyingMethod(t,r,i,a){var o=t[r];if(void 0!==o){if("function"!=typeof o)throw new TypeError(o+" is not a method");switch(i){case 0:return function(){return PromiseCall(o,t,a)};case 1:return function(r){var i=[r].concat(a);return PromiseCall(o,t,i)}}}return function(){return promiseResolvedWith(void 0)}}function InvokeOrNoop(t,r,i){var a=t[r];if(void 0!==a)return Call(a,t,i)}function PromiseCall(t,r,i){try{return promiseResolvedWith(Call(t,r,i))}catch(t){return promiseRejectedWith(t)}}function ValidateAndNormalizeHighWaterMark(t){t=Number(t);if(i(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function MakeSizeAlgorithmFromSizeFunction(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new TypeError("size property of a queuing strategy must be a function");return function(r){return t(r)}}var o=Promise,l=Promise.prototype.then,c=Promise.resolve.bind(o),u=Promise.reject.bind(o);function newPromise(t){return new o(t)}function promiseResolvedWith(t){return c(t)}function promiseRejectedWith(t){return u(t)}function PerformPromiseThen(t,r,i){return l.call(t,r,i)}function uponPromise(t,r,i){PerformPromiseThen(PerformPromiseThen(t,r,i),void 0,a)}function uponFulfillment(t,r){uponPromise(t,r)}function uponRejection(t,r){uponPromise(t,void 0,r)}function transformPromiseWith(t,r,i){return PerformPromiseThen(t,r,i)}function setPromiseIsHandledToTrue(t){PerformPromiseThen(t,void 0,a)}var d=function(){function SimpleQueue(){this._cursor=0;this._size=0;this._front={_elements:[],_next:void 0};this._back=this._front;this._cursor=0;this._size=0}Object.defineProperty(SimpleQueue.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0});SimpleQueue.prototype.push=function(t){var r=this._back,i=r;16383===r._elements.length&&(i={_elements:[],_next:void 0});r._elements.push(t);if(i!==r){this._back=i;r._next=i}++this._size};SimpleQueue.prototype.shift=function(){var t=this._front,r=t,i=this._cursor,a=i+1,o=t._elements,l=o[i];if(16384===a){r=t._next;a=0}--this._size;this._cursor=a;t!==r&&(this._front=r);o[i]=void 0;return l};SimpleQueue.prototype.forEach=function(t){for(var r=this._cursor,i=this._front,a=i._elements;r!==a.length||void 0!==i._next;){if(r===a.length){r=0;if(0===(a=(i=i._next)._elements).length)break}t(a[r]);++r}};SimpleQueue.prototype.peek=function(){var t=this._front,r=this._cursor;return t._elements[r]};return SimpleQueue}();function ReadableStreamCreateReadResult(t,r,i){var a=null;!0===i&&(a=Object.prototype);var o=Object.create(a);o.value=t;o.done=r;return o}function ReadableStreamReaderGenericInitialize(t,r){t._forAuthorCode=!0;t._ownerReadableStream=r;r._reader=t;"readable"===r._state?defaultReaderClosedPromiseInitialize(t):"closed"===r._state?function defaultReaderClosedPromiseInitializeAsResolved(t){defaultReaderClosedPromiseInitialize(t);defaultReaderClosedPromiseResolve(t)}(t):defaultReaderClosedPromiseInitializeAsRejected(t,r._storedError)}function ReadableStreamReaderGenericCancel(t,r){return ReadableStreamCancel(t._ownerReadableStream,r)}function ReadableStreamReaderGenericRelease(t){"readable"===t._ownerReadableStream._state?defaultReaderClosedPromiseReject(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function defaultReaderClosedPromiseResetToRejected(t,r){defaultReaderClosedPromiseInitializeAsRejected(t,r)}(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));t._ownerReadableStream._reader=void 0;t._ownerReadableStream=void 0}function readerLockException(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function defaultReaderClosedPromiseInitialize(t){t._closedPromise=newPromise((function(r,i){t._closedPromise_resolve=r;t._closedPromise_reject=i}))}function defaultReaderClosedPromiseInitializeAsRejected(t,r){defaultReaderClosedPromiseInitialize(t);defaultReaderClosedPromiseReject(t,r)}function defaultReaderClosedPromiseReject(t,r){setPromiseIsHandledToTrue(t._closedPromise);t._closedPromise_reject(r);t._closedPromise_resolve=void 0;t._closedPromise_reject=void 0}function defaultReaderClosedPromiseResolve(t){t._closedPromise_resolve(void 0);t._closedPromise_resolve=void 0;t._closedPromise_reject=void 0}var h=r("[[CancelSteps]]"),p=r("[[PullSteps]]");function AcquireReadableStreamDefaultReader(t,r){void 0===r&&(r=!1);var i=new m(t);i._forAuthorCode=r;return i}function ReadableStreamAddReadRequest(t){return newPromise((function(r,i){var a={_resolve:r,_reject:i};t._reader._readRequests.push(a)}))}function ReadableStreamFulfillReadRequest(t,r,i){var a=t._reader;a._readRequests.shift()._resolve(ReadableStreamCreateReadResult(r,i,a._forAuthorCode))}function ReadableStreamGetNumReadRequests(t){return t._reader._readRequests.length}function ReadableStreamHasDefaultReader(t){var r=t._reader;return void 0!==r&&!!IsReadableStreamDefaultReader(r)}var g,v,m=function(){function ReadableStreamDefaultReader(t){if(!1===IsReadableStream(t))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===IsReadableStreamLocked(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ReadableStreamReaderGenericInitialize(this,t);this._readRequests=new d}Object.defineProperty(ReadableStreamDefaultReader.prototype,"closed",{get:function(){return IsReadableStreamDefaultReader(this)?this._closedPromise:promiseRejectedWith(defaultReaderBrandCheckException("closed"))},enumerable:!0,configurable:!0});ReadableStreamDefaultReader.prototype.cancel=function(t){return IsReadableStreamDefaultReader(this)?void 0===this._ownerReadableStream?promiseRejectedWith(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,t):promiseRejectedWith(defaultReaderBrandCheckException("cancel"))};ReadableStreamDefaultReader.prototype.read=function(){return IsReadableStreamDefaultReader(this)?void 0===this._ownerReadableStream?promiseRejectedWith(readerLockException("read from")):ReadableStreamDefaultReaderRead(this):promiseRejectedWith(defaultReaderBrandCheckException("read"))};ReadableStreamDefaultReader.prototype.releaseLock=function(){if(!IsReadableStreamDefaultReader(this))throw defaultReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}};return ReadableStreamDefaultReader}();function IsReadableStreamDefaultReader(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")}function ReadableStreamDefaultReaderRead(t){var r=t._ownerReadableStream;r._disturbed=!0;return"closed"===r._state?promiseResolvedWith(ReadableStreamCreateReadResult(void 0,!0,t._forAuthorCode)):"errored"===r._state?promiseRejectedWith(r._storedError):r._readableStreamController[p]()}function defaultReaderBrandCheckException(t){return new TypeError("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}if("symbol"==typeof r.asyncIterator){v=((g={})[r.asyncIterator]=function(){return this},g);Object.defineProperty(v,r.asyncIterator,{enumerable:!1})}var y={next:function(){if(!1===IsReadableStreamAsyncIterator(this))return promiseRejectedWith(streamAsyncIteratorBrandCheckException("next"));var t=this._asyncIteratorReader;return void 0===t._ownerReadableStream?promiseRejectedWith(readerLockException("iterate")):transformPromiseWith(ReadableStreamDefaultReaderRead(t),(function(r){var i=r.done;i&&ReadableStreamReaderGenericRelease(t);return ReadableStreamCreateReadResult(r.value,i,!0)}))},return:function(t){if(!1===IsReadableStreamAsyncIterator(this))return promiseRejectedWith(streamAsyncIteratorBrandCheckException("next"));var r=this._asyncIteratorReader;if(void 0===r._ownerReadableStream)return promiseRejectedWith(readerLockException("finish iterating"));if(r._readRequests.length>0)return promiseRejectedWith(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this._preventCancel){var i=ReadableStreamReaderGenericCancel(r,t);ReadableStreamReaderGenericRelease(r);return transformPromiseWith(i,(function(){return ReadableStreamCreateReadResult(t,!0,!0)}))}ReadableStreamReaderGenericRelease(r);return promiseResolvedWith(ReadableStreamCreateReadResult(t,!0,!0))}};void 0!==v&&Object.setPrototypeOf(y,v);Object.defineProperty(y,"next",{enumerable:!1});Object.defineProperty(y,"return",{enumerable:!1});function IsReadableStreamAsyncIterator(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorReader")}function streamAsyncIteratorBrandCheckException(t){return new TypeError("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function DequeueValue(t){var r=t._queue.shift();t._queueTotalSize-=r.size;t._queueTotalSize<0&&(t._queueTotalSize=0);return r.value}function EnqueueValueWithSize(t,r,i){if(!IsFiniteNonNegativeNumber(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:r,size:i});t._queueTotalSize+=i}function ResetQueue(t){t._queue=new d;t._queueTotalSize=0}var b=r("[[AbortSteps]]"),w=r("[[ErrorSteps]]"),S=function(){function WritableStream(t,r){void 0===t&&(t={});void 0===r&&(r={});InitializeWritableStream(this);var i=r.size,a=r.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var o=MakeSizeAlgorithmFromSizeFunction(i);void 0===a&&(a=1);!function SetUpWritableStreamDefaultControllerFromUnderlyingSink(t,r,i,a){var o=Object.create(P.prototype),l=CreateAlgorithmFromUnderlyingMethod(r,"write",1,[o]),c=CreateAlgorithmFromUnderlyingMethod(r,"close",0,[]),u=CreateAlgorithmFromUnderlyingMethod(r,"abort",1,[]);SetUpWritableStreamDefaultController(t,o,(function startAlgorithm(){return InvokeOrNoop(r,"start",[o])}),l,c,u,i,a)}(this,t,a=ValidateAndNormalizeHighWaterMark(a),o)}Object.defineProperty(WritableStream.prototype,"locked",{get:function(){if(!1===IsWritableStream(this))throw streamBrandCheckException("locked");return IsWritableStreamLocked(this)},enumerable:!0,configurable:!0});WritableStream.prototype.abort=function(t){return!1===IsWritableStream(this)?promiseRejectedWith(streamBrandCheckException("abort")):!0===IsWritableStreamLocked(this)?promiseRejectedWith(new TypeError("Cannot abort a stream that already has a writer")):WritableStreamAbort(this,t)};WritableStream.prototype.close=function(){return!1===IsWritableStream(this)?promiseRejectedWith(streamBrandCheckException("close")):!0===IsWritableStreamLocked(this)?promiseRejectedWith(new TypeError("Cannot close a stream that already has a writer")):!0===WritableStreamCloseQueuedOrInFlight(this)?promiseRejectedWith(new TypeError("Cannot close an already-closing stream")):WritableStreamClose(this)};WritableStream.prototype.getWriter=function(){if(!1===IsWritableStream(this))throw streamBrandCheckException("getWriter");return AcquireWritableStreamDefaultWriter(this)};return WritableStream}();function AcquireWritableStreamDefaultWriter(t){return new C(t)}function InitializeWritableStream(t){t._state="writable";t._storedError=void 0;t._writer=void 0;t._writableStreamController=void 0;t._writeRequests=new d;t._inFlightWriteRequest=void 0;t._closeRequest=void 0;t._inFlightCloseRequest=void 0;t._pendingAbortRequest=void 0;t._backpressure=!1}function IsWritableStream(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")}function IsWritableStreamLocked(t){return void 0!==t._writer}function WritableStreamAbort(t,r){var i=t._state;if("closed"===i||"errored"===i)return promiseResolvedWith(void 0);if(void 0!==t._pendingAbortRequest)return t._pendingAbortRequest._promise;var a=!1;if("erroring"===i){a=!0;r=void 0}var o=newPromise((function(i,o){t._pendingAbortRequest={_promise:void 0,_resolve:i,_reject:o,_reason:r,_wasAlreadyErroring:a}}));t._pendingAbortRequest._promise=o;!1===a&&WritableStreamStartErroring(t,r);return o}function WritableStreamClose(t){var r=t._state;if("closed"===r||"errored"===r)return promiseRejectedWith(new TypeError("The stream (in "+r+" state) is not in the writable state and cannot be closed"));var i=newPromise((function(r,i){var a={_resolve:r,_reject:i};t._closeRequest=a})),a=t._writer;void 0!==a&&!0===t._backpressure&&"writable"===r&&defaultWriterReadyPromiseResolve(a);!function WritableStreamDefaultControllerClose(t){EnqueueValueWithSize(t,"close",0);WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)}(t._writableStreamController);return i}function WritableStreamDealWithRejection(t,r){"writable"!==t._state?WritableStreamFinishErroring(t):WritableStreamStartErroring(t,r)}function WritableStreamStartErroring(t,r){var i=t._writableStreamController;t._state="erroring";t._storedError=r;var a=t._writer;void 0!==a&&WritableStreamDefaultWriterEnsureReadyPromiseRejected(a,r);!1===function WritableStreamHasOperationMarkedInFlight(t){return void 0!==t._inFlightWriteRequest||void 0!==t._inFlightCloseRequest}(t)&&!0===i._started&&WritableStreamFinishErroring(t)}function WritableStreamFinishErroring(t){t._state="errored";t._writableStreamController[w]();var r=t._storedError;t._writeRequests.forEach((function(t){t._reject(r)}));t._writeRequests=new d;if(void 0!==t._pendingAbortRequest){var i=t._pendingAbortRequest;t._pendingAbortRequest=void 0;if(!0!==i._wasAlreadyErroring)uponPromise(t._writableStreamController[b](i._reason),(function(){i._resolve();WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)}),(function(r){i._reject(r);WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)}));else{i._reject(r);WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)}}else WritableStreamRejectCloseAndClosedPromiseIfNeeded(t)}function WritableStreamCloseQueuedOrInFlight(t){return void 0!==t._closeRequest||void 0!==t._inFlightCloseRequest}function WritableStreamRejectCloseAndClosedPromiseIfNeeded(t){if(void 0!==t._closeRequest){t._closeRequest._reject(t._storedError);t._closeRequest=void 0}var r=t._writer;void 0!==r&&defaultWriterClosedPromiseReject(r,t._storedError)}function WritableStreamUpdateBackpressure(t,r){var i=t._writer;void 0!==i&&r!==t._backpressure&&(!0===r?function defaultWriterReadyPromiseReset(t){defaultWriterReadyPromiseInitialize(t)}(i):defaultWriterReadyPromiseResolve(i));t._backpressure=r}var C=function(){function WritableStreamDefaultWriter(t){if(!1===IsWritableStream(t))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===IsWritableStreamLocked(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t;t._writer=this;var r=t._state;if("writable"===r){!1===WritableStreamCloseQueuedOrInFlight(t)&&!0===t._backpressure?defaultWriterReadyPromiseInitialize(this):defaultWriterReadyPromiseInitializeAsResolved(this);defaultWriterClosedPromiseInitialize(this)}else if("erroring"===r){defaultWriterReadyPromiseInitializeAsRejected(this,t._storedError);defaultWriterClosedPromiseInitialize(this)}else if("closed"===r){defaultWriterReadyPromiseInitializeAsResolved(this);!function defaultWriterClosedPromiseInitializeAsResolved(t){defaultWriterClosedPromiseInitialize(t);defaultWriterClosedPromiseResolve(t)}(this)}else{var i=t._storedError;defaultWriterReadyPromiseInitializeAsRejected(this,i);defaultWriterClosedPromiseInitializeAsRejected(this,i)}}Object.defineProperty(WritableStreamDefaultWriter.prototype,"closed",{get:function(){return!1===IsWritableStreamDefaultWriter(this)?promiseRejectedWith(defaultWriterBrandCheckException("closed")):this._closedPromise},enumerable:!0,configurable:!0});Object.defineProperty(WritableStreamDefaultWriter.prototype,"desiredSize",{get:function(){if(!1===IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("desiredSize");if(void 0===this._ownerWritableStream)throw defaultWriterLockException("desiredSize");return function WritableStreamDefaultWriterGetDesiredSize(t){var r=t._ownerWritableStream,i=r._state;return"errored"===i||"erroring"===i?null:"closed"===i?0:WritableStreamDefaultControllerGetDesiredSize(r._writableStreamController)}(this)},enumerable:!0,configurable:!0});Object.defineProperty(WritableStreamDefaultWriter.prototype,"ready",{get:function(){return!1===IsWritableStreamDefaultWriter(this)?promiseRejectedWith(defaultWriterBrandCheckException("ready")):this._readyPromise},enumerable:!0,configurable:!0});WritableStreamDefaultWriter.prototype.abort=function(t){return!1===IsWritableStreamDefaultWriter(this)?promiseRejectedWith(defaultWriterBrandCheckException("abort")):void 0===this._ownerWritableStream?promiseRejectedWith(defaultWriterLockException("abort")):function WritableStreamDefaultWriterAbort(t,r){return WritableStreamAbort(t._ownerWritableStream,r)}(this,t)};WritableStreamDefaultWriter.prototype.close=function(){if(!1===IsWritableStreamDefaultWriter(this))return promiseRejectedWith(defaultWriterBrandCheckException("close"));var t=this._ownerWritableStream;return void 0===t?promiseRejectedWith(defaultWriterLockException("close")):!0===WritableStreamCloseQueuedOrInFlight(t)?promiseRejectedWith(new TypeError("Cannot close an already-closing stream")):WritableStreamDefaultWriterClose(this)};WritableStreamDefaultWriter.prototype.releaseLock=function(){if(!1===IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("releaseLock");void 0!==this._ownerWritableStream&&WritableStreamDefaultWriterRelease(this)};WritableStreamDefaultWriter.prototype.write=function(t){return!1===IsWritableStreamDefaultWriter(this)?promiseRejectedWith(defaultWriterBrandCheckException("write")):void 0===this._ownerWritableStream?promiseRejectedWith(defaultWriterLockException("write to")):WritableStreamDefaultWriterWrite(this,t)};return WritableStreamDefaultWriter}();function IsWritableStreamDefaultWriter(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")}function WritableStreamDefaultWriterClose(t){return WritableStreamClose(t._ownerWritableStream)}function WritableStreamDefaultWriterEnsureClosedPromiseRejected(t,r){"pending"===t._closedPromiseState?defaultWriterClosedPromiseReject(t,r):function defaultWriterClosedPromiseResetToRejected(t,r){defaultWriterClosedPromiseInitializeAsRejected(t,r)}(t,r)}function WritableStreamDefaultWriterEnsureReadyPromiseRejected(t,r){"pending"===t._readyPromiseState?defaultWriterReadyPromiseReject(t,r):function defaultWriterReadyPromiseResetToRejected(t,r){defaultWriterReadyPromiseInitializeAsRejected(t,r)}(t,r)}function WritableStreamDefaultWriterRelease(t){var r=t._ownerWritableStream,i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");WritableStreamDefaultWriterEnsureReadyPromiseRejected(t,i);WritableStreamDefaultWriterEnsureClosedPromiseRejected(t,i);r._writer=void 0;t._ownerWritableStream=void 0}function WritableStreamDefaultWriterWrite(t,r){var i=t._ownerWritableStream,a=i._writableStreamController,o=function WritableStreamDefaultControllerGetChunkSize(t,r){try{return t._strategySizeAlgorithm(r)}catch(r){WritableStreamDefaultControllerErrorIfNeeded(t,r);return 1}}(a,r);if(i!==t._ownerWritableStream)return promiseRejectedWith(defaultWriterLockException("write to"));var l=i._state;if("errored"===l)return promiseRejectedWith(i._storedError);if(!0===WritableStreamCloseQueuedOrInFlight(i)||"closed"===l)return promiseRejectedWith(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===l)return promiseRejectedWith(i._storedError);var c=function WritableStreamAddWriteRequest(t){return newPromise((function(r,i){var a={_resolve:r,_reject:i};t._writeRequests.push(a)}))}(i);!function WritableStreamDefaultControllerWrite(t,r,i){var a={chunk:r};try{EnqueueValueWithSize(t,a,i)}catch(r){WritableStreamDefaultControllerErrorIfNeeded(t,r);return}var o=t._controlledWritableStream;if(!1===WritableStreamCloseQueuedOrInFlight(o)&&"writable"===o._state){var l=WritableStreamDefaultControllerGetBackpressure(t);WritableStreamUpdateBackpressure(o,l)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)}(a,r,o);return c}var P=function(){function WritableStreamDefaultController(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}WritableStreamDefaultController.prototype.error=function(t){if(!1===function IsWritableStreamDefaultController(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&WritableStreamDefaultControllerError(this,t)};WritableStreamDefaultController.prototype[b]=function(t){var r=this._abortAlgorithm(t);WritableStreamDefaultControllerClearAlgorithms(this);return r};WritableStreamDefaultController.prototype[w]=function(){ResetQueue(this)};return WritableStreamDefaultController}();function SetUpWritableStreamDefaultController(t,r,i,a,o,l,c,u){r._controlledWritableStream=t;t._writableStreamController=r;r._queue=void 0;r._queueTotalSize=void 0;ResetQueue(r);r._started=!1;r._strategySizeAlgorithm=u;r._strategyHWM=c;r._writeAlgorithm=a;r._closeAlgorithm=o;r._abortAlgorithm=l;var d=WritableStreamDefaultControllerGetBackpressure(r);WritableStreamUpdateBackpressure(t,d);uponPromise(promiseResolvedWith(i()),(function(){r._started=!0;WritableStreamDefaultControllerAdvanceQueueIfNeeded(r)}),(function(i){r._started=!0;WritableStreamDealWithRejection(t,i)}))}function WritableStreamDefaultControllerClearAlgorithms(t){t._writeAlgorithm=void 0;t._closeAlgorithm=void 0;t._abortAlgorithm=void 0;t._strategySizeAlgorithm=void 0}function WritableStreamDefaultControllerGetDesiredSize(t){return t._strategyHWM-t._queueTotalSize}function WritableStreamDefaultControllerAdvanceQueueIfNeeded(t){var r=t._controlledWritableStream;if(!1!==t._started&&void 0===r._inFlightWriteRequest)if("erroring"!==r._state){if(0!==t._queue.length){var i=function PeekQueueValue(t){return t._queue.peek().value}(t);"close"===i?function WritableStreamDefaultControllerProcessClose(t){var r=t._controlledWritableStream;!function WritableStreamMarkCloseRequestInFlight(t){t._inFlightCloseRequest=t._closeRequest;t._closeRequest=void 0}(r);DequeueValue(t);var i=t._closeAlgorithm();WritableStreamDefaultControllerClearAlgorithms(t);uponPromise(i,(function(){!function WritableStreamFinishInFlightClose(t){t._inFlightCloseRequest._resolve(void 0);t._inFlightCloseRequest=void 0;if("erroring"===t._state){t._storedError=void 0;if(void 0!==t._pendingAbortRequest){t._pendingAbortRequest._resolve();t._pendingAbortRequest=void 0}}t._state="closed";var r=t._writer;void 0!==r&&defaultWriterClosedPromiseResolve(r)}(r)}),(function(t){!function WritableStreamFinishInFlightCloseWithError(t,r){t._inFlightCloseRequest._reject(r);t._inFlightCloseRequest=void 0;if(void 0!==t._pendingAbortRequest){t._pendingAbortRequest._reject(r);t._pendingAbortRequest=void 0}WritableStreamDealWithRejection(t,r)}(r,t)}))}(t):function WritableStreamDefaultControllerProcessWrite(t,r){var i=t._controlledWritableStream;!function WritableStreamMarkFirstWriteRequestInFlight(t){t._inFlightWriteRequest=t._writeRequests.shift()}(i);uponPromise(t._writeAlgorithm(r),(function(){!function WritableStreamFinishInFlightWrite(t){t._inFlightWriteRequest._resolve(void 0);t._inFlightWriteRequest=void 0}(i);var r=i._state;DequeueValue(t);if(!1===WritableStreamCloseQueuedOrInFlight(i)&&"writable"===r){var a=WritableStreamDefaultControllerGetBackpressure(t);WritableStreamUpdateBackpressure(i,a)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)}),(function(r){"writable"===i._state&&WritableStreamDefaultControllerClearAlgorithms(t);!function WritableStreamFinishInFlightWriteWithError(t,r){t._inFlightWriteRequest._reject(r);t._inFlightWriteRequest=void 0;WritableStreamDealWithRejection(t,r)}(i,r)}))}(t,i.chunk)}}else WritableStreamFinishErroring(r)}function WritableStreamDefaultControllerErrorIfNeeded(t,r){"writable"===t._controlledWritableStream._state&&WritableStreamDefaultControllerError(t,r)}function WritableStreamDefaultControllerGetBackpressure(t){return WritableStreamDefaultControllerGetDesiredSize(t)<=0}function WritableStreamDefaultControllerError(t,r){var i=t._controlledWritableStream;WritableStreamDefaultControllerClearAlgorithms(t);WritableStreamStartErroring(i,r)}function streamBrandCheckException(t){return new TypeError("WritableStream.prototype."+t+" can only be used on a WritableStream")}function defaultWriterBrandCheckException(t){return new TypeError("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function defaultWriterLockException(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function defaultWriterClosedPromiseInitialize(t){t._closedPromise=newPromise((function(r,i){t._closedPromise_resolve=r;t._closedPromise_reject=i;t._closedPromiseState="pending"}))}function defaultWriterClosedPromiseInitializeAsRejected(t,r){defaultWriterClosedPromiseInitialize(t);defaultWriterClosedPromiseReject(t,r)}function defaultWriterClosedPromiseReject(t,r){setPromiseIsHandledToTrue(t._closedPromise);t._closedPromise_reject(r);t._closedPromise_resolve=void 0;t._closedPromise_reject=void 0;t._closedPromiseState="rejected"}function defaultWriterClosedPromiseResolve(t){t._closedPromise_resolve(void 0);t._closedPromise_resolve=void 0;t._closedPromise_reject=void 0;t._closedPromiseState="resolved"}function defaultWriterReadyPromiseInitialize(t){t._readyPromise=newPromise((function(r,i){t._readyPromise_resolve=r;t._readyPromise_reject=i}));t._readyPromiseState="pending"}function defaultWriterReadyPromiseInitializeAsRejected(t,r){defaultWriterReadyPromiseInitialize(t);defaultWriterReadyPromiseReject(t,r)}function defaultWriterReadyPromiseInitializeAsResolved(t){defaultWriterReadyPromiseInitialize(t);defaultWriterReadyPromiseResolve(t)}function defaultWriterReadyPromiseReject(t,r){setPromiseIsHandledToTrue(t._readyPromise);t._readyPromise_reject(r);t._readyPromise_resolve=void 0;t._readyPromise_reject=void 0;t._readyPromiseState="rejected"}function defaultWriterReadyPromiseResolve(t){t._readyPromise_resolve(void 0);t._readyPromise_resolve=void 0;t._readyPromise_reject=void 0;t._readyPromiseState="fulfilled"}function isAbortSignal(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var k="undefined"!=typeof DOMException?DOMException:void 0,A=function isDOMExceptionConstructor(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{new t;return!0}catch(t){return!1}}(k)?k:function createDOMExceptionPolyfill(){var t=function DOMException(t,r){this.message=t||"";this.name=r||"Error";Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};t.prototype=Object.create(Error.prototype);Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0});return t}();function ReadableStreamPipeTo(t,r,i,a,o,l){var c=AcquireReadableStreamDefaultReader(t),u=AcquireWritableStreamDefaultWriter(r);t._disturbed=!0;var d=!1,h=promiseResolvedWith(void 0);return newPromise((function(p,g){var v;if(void 0!==l){v=function(){var i=new A("Aborted","AbortError"),l=[];!1===a&&l.push((function(){return"writable"===r._state?WritableStreamAbort(r,i):promiseResolvedWith(void 0)}));!1===o&&l.push((function(){return"readable"===t._state?ReadableStreamCancel(t,i):promiseResolvedWith(void 0)}));shutdownWithAction((function(){return Promise.all(l.map((function(t){return t()})))}),!0,i)};if(!0===l.aborted){v();return}l.addEventListener("abort",v)}isOrBecomesErrored(t,c._closedPromise,(function(t){!1===a?shutdownWithAction((function(){return WritableStreamAbort(r,t)}),!0,t):shutdown(!0,t)}));isOrBecomesErrored(r,u._closedPromise,(function(r){!1===o?shutdownWithAction((function(){return ReadableStreamCancel(t,r)}),!0,r):shutdown(!0,r)}));!function isOrBecomesClosed(t,r,i){"closed"===t._state?i():uponFulfillment(r,i)}(t,c._closedPromise,(function(){!1===i?shutdownWithAction((function(){return function WritableStreamDefaultWriterCloseWithErrorPropagation(t){var r=t._ownerWritableStream,i=r._state;return!0===WritableStreamCloseQueuedOrInFlight(r)||"closed"===i?promiseResolvedWith(void 0):"errored"===i?promiseRejectedWith(r._storedError):WritableStreamDefaultWriterClose(t)}(u)})):shutdown()}));if(!0===WritableStreamCloseQueuedOrInFlight(r)||"closed"===r._state){var m=new TypeError("the destination writable stream closed before all data could be piped to it");!1===o?shutdownWithAction((function(){return ReadableStreamCancel(t,m)}),!0,m):shutdown(!0,m)}setPromiseIsHandledToTrue(function pipeLoop(){return newPromise((function(t,r){!function next(i){i?t():PerformPromiseThen(function pipeStep(){return!0===d?promiseResolvedWith(!0):PerformPromiseThen(u._readyPromise,(function(){return PerformPromiseThen(ReadableStreamDefaultReaderRead(c),(function(t){if(!0===t.done)return!0;h=PerformPromiseThen(WritableStreamDefaultWriterWrite(u,t.value),void 0,noop);return!1}))}))}(),next,r)}(!1)}))}());function waitForWritesToFinish(){var t=h;return PerformPromiseThen(h,(function(){return t!==h?waitForWritesToFinish():void 0}))}function isOrBecomesErrored(t,r,i){"errored"===t._state?i(t._storedError):uponRejection(r,i)}function shutdownWithAction(t,i,a){if(!0!==d){d=!0;"writable"===r._state&&!1===WritableStreamCloseQueuedOrInFlight(r)?uponFulfillment(waitForWritesToFinish(),doTheRest):doTheRest()}function doTheRest(){uponPromise(t(),(function(){return finalize(i,a)}),(function(t){return finalize(!0,t)}))}}function shutdown(t,i){if(!0!==d){d=!0;"writable"===r._state&&!1===WritableStreamCloseQueuedOrInFlight(r)?uponFulfillment(waitForWritesToFinish(),(function(){return finalize(t,i)})):finalize(t,i)}}function finalize(t,r){WritableStreamDefaultWriterRelease(u);ReadableStreamReaderGenericRelease(c);void 0!==l&&l.removeEventListener("abort",v);t?g(r):p(void 0)}}))}var R=function(){function ReadableStreamDefaultController(){throw new TypeError}Object.defineProperty(ReadableStreamDefaultController.prototype,"desiredSize",{get:function(){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("desiredSize");return ReadableStreamDefaultControllerGetDesiredSize(this)},enumerable:!0,configurable:!0});ReadableStreamDefaultController.prototype.close=function(){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("close");if(!1===ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw new TypeError("The stream is not in a state that permits close");ReadableStreamDefaultControllerClose(this)};ReadableStreamDefaultController.prototype.enqueue=function(t){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("enqueue");if(!1===ReadableStreamDefaultControllerCanCloseOrEnqueue(this))throw new TypeError("The stream is not in a state that permits enqueue");return ReadableStreamDefaultControllerEnqueue(this,t)};ReadableStreamDefaultController.prototype.error=function(t){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("error");ReadableStreamDefaultControllerError(this,t)};ReadableStreamDefaultController.prototype[h]=function(t){ResetQueue(this);var r=this._cancelAlgorithm(t);ReadableStreamDefaultControllerClearAlgorithms(this);return r};ReadableStreamDefaultController.prototype[p]=function(){var t=this._controlledReadableStream;if(this._queue.length>0){var r=DequeueValue(this);if(!0===this._closeRequested&&0===this._queue.length){ReadableStreamDefaultControllerClearAlgorithms(this);ReadableStreamClose(t)}else ReadableStreamDefaultControllerCallPullIfNeeded(this);return promiseResolvedWith(ReadableStreamCreateReadResult(r,!1,t._reader._forAuthorCode))}var i=ReadableStreamAddReadRequest(t);ReadableStreamDefaultControllerCallPullIfNeeded(this);return i};return ReadableStreamDefaultController}();function IsReadableStreamDefaultController(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")}function ReadableStreamDefaultControllerCallPullIfNeeded(t){if(!1!==ReadableStreamDefaultControllerShouldCallPull(t))if(!0!==t._pulling){t._pulling=!0;uponPromise(t._pullAlgorithm(),(function(){t._pulling=!1;if(!0===t._pullAgain){t._pullAgain=!1;ReadableStreamDefaultControllerCallPullIfNeeded(t)}}),(function(r){ReadableStreamDefaultControllerError(t,r)}))}else t._pullAgain=!0}function ReadableStreamDefaultControllerShouldCallPull(t){var r=t._controlledReadableStream;return!1!==ReadableStreamDefaultControllerCanCloseOrEnqueue(t)&&!1!==t._started&&(!0===IsReadableStreamLocked(r)&&ReadableStreamGetNumReadRequests(r)>0||ReadableStreamDefaultControllerGetDesiredSize(t)>0)}function ReadableStreamDefaultControllerClearAlgorithms(t){t._pullAlgorithm=void 0;t._cancelAlgorithm=void 0;t._strategySizeAlgorithm=void 0}function ReadableStreamDefaultControllerClose(t){var r=t._controlledReadableStream;t._closeRequested=!0;if(0===t._queue.length){ReadableStreamDefaultControllerClearAlgorithms(t);ReadableStreamClose(r)}}function ReadableStreamDefaultControllerEnqueue(t,r){var i=t._controlledReadableStream;if(!0===IsReadableStreamLocked(i)&&ReadableStreamGetNumReadRequests(i)>0)ReadableStreamFulfillReadRequest(i,r,!1);else{var a=void 0;try{a=t._strategySizeAlgorithm(r)}catch(r){ReadableStreamDefaultControllerError(t,r);throw r}try{EnqueueValueWithSize(t,r,a)}catch(r){ReadableStreamDefaultControllerError(t,r);throw r}}ReadableStreamDefaultControllerCallPullIfNeeded(t)}function ReadableStreamDefaultControllerError(t,r){var i=t._controlledReadableStream;if("readable"===i._state){ResetQueue(t);ReadableStreamDefaultControllerClearAlgorithms(t);ReadableStreamError(i,r)}}function ReadableStreamDefaultControllerGetDesiredSize(t){var r=t._controlledReadableStream._state;return"errored"===r?null:"closed"===r?0:t._strategyHWM-t._queueTotalSize}function ReadableStreamDefaultControllerCanCloseOrEnqueue(t){var r=t._controlledReadableStream._state;return!1===t._closeRequested&&"readable"===r}function SetUpReadableStreamDefaultController(t,r,i,a,o,l,c){r._controlledReadableStream=t;r._queue=void 0;r._queueTotalSize=void 0;ResetQueue(r);r._started=!1;r._closeRequested=!1;r._pullAgain=!1;r._pulling=!1;r._strategySizeAlgorithm=c;r._strategyHWM=l;r._pullAlgorithm=a;r._cancelAlgorithm=o;t._readableStreamController=r;uponPromise(promiseResolvedWith(i()),(function(){r._started=!0;ReadableStreamDefaultControllerCallPullIfNeeded(r)}),(function(t){ReadableStreamDefaultControllerError(r,t)}))}function defaultControllerBrandCheckException(t){return new TypeError("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var x=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},T=function(){function ReadableStreamBYOBRequest(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}Object.defineProperty(ReadableStreamBYOBRequest.prototype,"view",{get:function(){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("view");return this._view},enumerable:!0,configurable:!0});ReadableStreamBYOBRequest.prototype.respond=function(t){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer;!function ReadableByteStreamControllerRespond(t,r){if(!1===IsFiniteNonNegativeNumber(r=Number(r)))throw new RangeError("bytesWritten must be a finite");ReadableByteStreamControllerRespondInternal(t,r)}(this._associatedReadableByteStreamController,t)};ReadableStreamBYOBRequest.prototype.respondWithNewView=function(t){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");t.buffer;!function ReadableByteStreamControllerRespondWithNewView(t,r){var i=t._pendingPullIntos.peek();if(i.byteOffset+i.bytesFilled!==r.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==r.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=r.buffer;ReadableByteStreamControllerRespondInternal(t,r.byteLength)}(this._associatedReadableByteStreamController,t)};return ReadableStreamBYOBRequest}(),E=function(){function ReadableByteStreamController(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}Object.defineProperty(ReadableByteStreamController.prototype,"byobRequest",{get:function(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var t=this._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=Object.create(T.prototype);!function SetUpReadableStreamBYOBRequest(t,r,i){t._associatedReadableByteStreamController=r;t._view=i}(i,this,r);this._byobRequest=i}return this._byobRequest},enumerable:!0,configurable:!0});Object.defineProperty(ReadableByteStreamController.prototype,"desiredSize",{get:function(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("desiredSize");return ReadableByteStreamControllerGetDesiredSize(this)},enumerable:!0,configurable:!0});ReadableByteStreamController.prototype.close=function(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function ReadableByteStreamControllerClose(t){var r=t._controlledReadableByteStream;if(t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){var i=new TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(t,i);throw i}ReadableByteStreamControllerClearAlgorithms(t);ReadableStreamClose(r)}}(this)};ReadableByteStreamController.prototype.enqueue=function(t){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var r=this._controlledReadableByteStream._state;if("readable"!==r)throw new TypeError("The stream (in "+r+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer;!function ReadableByteStreamControllerEnqueue(t,r){var i=t._controlledReadableByteStream,a=r.buffer,o=r.byteOffset,l=r.byteLength,c=a;if(!0===ReadableStreamHasDefaultReader(i))if(0===ReadableStreamGetNumReadRequests(i))ReadableByteStreamControllerEnqueueChunkToQueue(t,c,o,l);else{var u=new Uint8Array(c,o,l);ReadableStreamFulfillReadRequest(i,u,!1)}else if(!0===ReadableStreamHasBYOBReader(i)){ReadableByteStreamControllerEnqueueChunkToQueue(t,c,o,l);ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t)}else ReadableByteStreamControllerEnqueueChunkToQueue(t,c,o,l);ReadableByteStreamControllerCallPullIfNeeded(t)}(this,t)};ReadableByteStreamController.prototype.error=function(t){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("error");ReadableByteStreamControllerError(this,t)};ReadableByteStreamController.prototype[h]=function(t){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0);ResetQueue(this);var r=this._cancelAlgorithm(t);ReadableByteStreamControllerClearAlgorithms(this);return r};ReadableByteStreamController.prototype[p]=function(){var t=this._controlledReadableByteStream;if(this._queueTotalSize>0){var r=this._queue.shift();this._queueTotalSize-=r.byteLength;ReadableByteStreamControllerHandleQueueDrain(this);var i=void 0;try{i=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}catch(t){return promiseRejectedWith(t)}return promiseResolvedWith(ReadableStreamCreateReadResult(i,!1,t._reader._forAuthorCode))}var a=this._autoAllocateChunkSize;if(void 0!==a){var o=void 0;try{o=new ArrayBuffer(a)}catch(t){return promiseRejectedWith(t)}var l={buffer:o,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(l)}var c=ReadableStreamAddReadRequest(t);ReadableByteStreamControllerCallPullIfNeeded(this);return c};return ReadableByteStreamController}();function IsReadableByteStreamController(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")}function IsReadableStreamBYOBRequest(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")}function ReadableByteStreamControllerCallPullIfNeeded(t){if(!1!==function ReadableByteStreamControllerShouldCallPull(t){var r=t._controlledReadableByteStream;return"readable"===r._state&&(!0!==t._closeRequested&&(!1!==t._started&&(!0===ReadableStreamHasDefaultReader(r)&&ReadableStreamGetNumReadRequests(r)>0||(!0===ReadableStreamHasBYOBReader(r)&&ReadableStreamGetNumReadIntoRequests(r)>0||ReadableByteStreamControllerGetDesiredSize(t)>0))))}(t))if(!0!==t._pulling){t._pulling=!0;uponPromise(t._pullAlgorithm(),(function(){t._pulling=!1;if(!0===t._pullAgain){t._pullAgain=!1;ReadableByteStreamControllerCallPullIfNeeded(t)}}),(function(r){ReadableByteStreamControllerError(t,r)}))}else t._pullAgain=!0}function ReadableByteStreamControllerCommitPullIntoDescriptor(t,r){var i=!1;"closed"===t._state&&(i=!0);var a=ReadableByteStreamControllerConvertPullIntoDescriptor(r);"default"===r.readerType?ReadableStreamFulfillReadRequest(t,a,i):function ReadableStreamFulfillReadIntoRequest(t,r,i){var a=t._reader;a._readIntoRequests.shift()._resolve(ReadableStreamCreateReadResult(r,i,a._forAuthorCode))}(t,a,i)}function ReadableByteStreamControllerConvertPullIntoDescriptor(t){var r=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,r/i)}function ReadableByteStreamControllerEnqueueChunkToQueue(t,r,i,a){t._queue.push({buffer:r,byteOffset:i,byteLength:a});t._queueTotalSize+=a}function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(t,r){var i=r.elementSize,a=r.bytesFilled-r.bytesFilled%i,o=Math.min(t._queueTotalSize,r.byteLength-r.bytesFilled),l=r.bytesFilled+o,c=l-l%i,u=o,d=!1;if(c>a){u=c-r.bytesFilled;d=!0}for(var h,p,g,v,m,y=t._queue;u>0;){var b=y.peek(),w=Math.min(u,b.byteLength),S=r.byteOffset+r.bytesFilled;h=r.buffer,p=S,g=b.buffer,v=b.byteOffset,m=w,new Uint8Array(h).set(new Uint8Array(g,v,m),p);if(b.byteLength===w)y.shift();else{b.byteOffset+=w;b.byteLength-=w}t._queueTotalSize-=w;ReadableByteStreamControllerFillHeadPullIntoDescriptor(t,w,r);u-=w}return d}function ReadableByteStreamControllerFillHeadPullIntoDescriptor(t,r,i){ReadableByteStreamControllerInvalidateBYOBRequest(t);i.bytesFilled+=r}function ReadableByteStreamControllerHandleQueueDrain(t){if(0===t._queueTotalSize&&!0===t._closeRequested){ReadableByteStreamControllerClearAlgorithms(t);ReadableStreamClose(t._controlledReadableByteStream)}else ReadableByteStreamControllerCallPullIfNeeded(t)}function ReadableByteStreamControllerInvalidateBYOBRequest(t){if(void 0!==t._byobRequest){t._byobRequest._associatedReadableByteStreamController=void 0;t._byobRequest._view=void 0;t._byobRequest=void 0}}function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t){for(;t._pendingPullIntos.length>0;){if(0===t._queueTotalSize)return;var r=t._pendingPullIntos.peek();if(!0===ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(t,r)){ReadableByteStreamControllerShiftPendingPullInto(t);ReadableByteStreamControllerCommitPullIntoDescriptor(t._controlledReadableByteStream,r)}}}function ReadableByteStreamControllerRespondInternal(t,r){var i=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==r)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function ReadableByteStreamControllerRespondInClosedState(t,r){r.buffer=r.buffer;var i=t._controlledReadableByteStream;if(!0===ReadableStreamHasBYOBReader(i))for(;ReadableStreamGetNumReadIntoRequests(i)>0;)ReadableByteStreamControllerCommitPullIntoDescriptor(i,ReadableByteStreamControllerShiftPendingPullInto(t))}(t,i)}else!function ReadableByteStreamControllerRespondInReadableState(t,r,i){if(i.bytesFilled+r>i.byteLength)throw new RangeError("bytesWritten out of range");ReadableByteStreamControllerFillHeadPullIntoDescriptor(t,r,i);if(!(i.bytesFilled<i.elementSize)){ReadableByteStreamControllerShiftPendingPullInto(t);var a=i.bytesFilled%i.elementSize;if(a>0){var o=i.byteOffset+i.bytesFilled,l=i.buffer.slice(o-a,o);ReadableByteStreamControllerEnqueueChunkToQueue(t,l,0,l.byteLength)}i.buffer=i.buffer;i.bytesFilled-=a;ReadableByteStreamControllerCommitPullIntoDescriptor(t._controlledReadableByteStream,i);ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(t)}}(t,r,i);ReadableByteStreamControllerCallPullIfNeeded(t)}function ReadableByteStreamControllerShiftPendingPullInto(t){var r=t._pendingPullIntos.shift();ReadableByteStreamControllerInvalidateBYOBRequest(t);return r}function ReadableByteStreamControllerClearAlgorithms(t){t._pullAlgorithm=void 0;t._cancelAlgorithm=void 0}function ReadableByteStreamControllerError(t,r){var i=t._controlledReadableByteStream;if("readable"===i._state){!function ReadableByteStreamControllerClearPendingPullIntos(t){ReadableByteStreamControllerInvalidateBYOBRequest(t);t._pendingPullIntos=new d}(t);ResetQueue(t);ReadableByteStreamControllerClearAlgorithms(t);ReadableStreamError(i,r)}}function ReadableByteStreamControllerGetDesiredSize(t){var r=t._controlledReadableByteStream._state;return"errored"===r?null:"closed"===r?0:t._strategyHWM-t._queueTotalSize}function SetUpReadableByteStreamControllerFromUnderlyingSource(t,r,i){var a=Object.create(E.prototype),o=CreateAlgorithmFromUnderlyingMethod(r,"pull",0,[a]),l=CreateAlgorithmFromUnderlyingMethod(r,"cancel",1,[]),c=r.autoAllocateChunkSize;if(void 0!==c){c=Number(c);if(!1===x(c)||c<=0)throw new RangeError("autoAllocateChunkSize must be a positive integer")}!function SetUpReadableByteStreamController(t,r,i,a,o,l,c){r._controlledReadableByteStream=t;r._pullAgain=!1;r._pulling=!1;r._byobRequest=void 0;r._queue=r._queueTotalSize=void 0;ResetQueue(r);r._closeRequested=!1;r._started=!1;r._strategyHWM=ValidateAndNormalizeHighWaterMark(l);r._pullAlgorithm=a;r._cancelAlgorithm=o;r._autoAllocateChunkSize=c;r._pendingPullIntos=new d;t._readableStreamController=r;uponPromise(promiseResolvedWith(i()),(function(){r._started=!0;ReadableByteStreamControllerCallPullIfNeeded(r)}),(function(t){ReadableByteStreamControllerError(r,t)}))}(t,a,(function startAlgorithm(){return InvokeOrNoop(r,"start",[a])}),o,l,i,c)}function byobRequestBrandCheckException(t){return new TypeError("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function byteStreamControllerBrandCheckException(t){return new TypeError("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function ReadableStreamAddReadIntoRequest(t){return newPromise((function(r,i){var a={_resolve:r,_reject:i};t._reader._readIntoRequests.push(a)}))}function ReadableStreamGetNumReadIntoRequests(t){return t._reader._readIntoRequests.length}function ReadableStreamHasBYOBReader(t){var r=t._reader;return void 0!==r&&!!IsReadableStreamBYOBReader(r)}var I=function(){function ReadableStreamBYOBReader(t){if(!IsReadableStream(t))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===IsReadableByteStreamController(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(IsReadableStreamLocked(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ReadableStreamReaderGenericInitialize(this,t);this._readIntoRequests=new d}Object.defineProperty(ReadableStreamBYOBReader.prototype,"closed",{get:function(){return IsReadableStreamBYOBReader(this)?this._closedPromise:promiseRejectedWith(byobReaderBrandCheckException("closed"))},enumerable:!0,configurable:!0});ReadableStreamBYOBReader.prototype.cancel=function(t){return IsReadableStreamBYOBReader(this)?void 0===this._ownerReadableStream?promiseRejectedWith(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,t):promiseRejectedWith(byobReaderBrandCheckException("cancel"))};ReadableStreamBYOBReader.prototype.read=function(t){if(!IsReadableStreamBYOBReader(this))return promiseRejectedWith(byobReaderBrandCheckException("read"));if(void 0===this._ownerReadableStream)return promiseRejectedWith(readerLockException("read from"));if(!ArrayBuffer.isView(t))return promiseRejectedWith(new TypeError("view must be an array buffer view"));t.buffer;return 0===t.byteLength?promiseRejectedWith(new TypeError("view must have non-zero byteLength")):function ReadableStreamBYOBReaderRead(t,r){var i=t._ownerReadableStream;i._disturbed=!0;return"errored"===i._state?promiseRejectedWith(i._storedError):function ReadableByteStreamControllerPullInto(t,r){var i=t._controlledReadableByteStream,a=1;r.constructor!==DataView&&(a=r.constructor.BYTES_PER_ELEMENT);var o=r.constructor,l={buffer:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength,bytesFilled:0,elementSize:a,ctor:o,readerType:"byob"};if(t._pendingPullIntos.length>0){t._pendingPullIntos.push(l);return ReadableStreamAddReadIntoRequest(i)}if("closed"===i._state)return promiseResolvedWith(ReadableStreamCreateReadResult(new o(l.buffer,l.byteOffset,0),!0,i._reader._forAuthorCode));if(t._queueTotalSize>0){if(!0===ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(t,l)){var c=ReadableByteStreamControllerConvertPullIntoDescriptor(l);ReadableByteStreamControllerHandleQueueDrain(t);return promiseResolvedWith(ReadableStreamCreateReadResult(c,!1,i._reader._forAuthorCode))}if(!0===t._closeRequested){var u=new TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(t,u);return promiseRejectedWith(u)}}t._pendingPullIntos.push(l);var d=ReadableStreamAddReadIntoRequest(i);ReadableByteStreamControllerCallPullIfNeeded(t);return d}(i._readableStreamController,r)}(this,t)};ReadableStreamBYOBReader.prototype.releaseLock=function(){if(!IsReadableStreamBYOBReader(this))throw byobReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}};return ReadableStreamBYOBReader}();function IsReadableStreamBYOBReader(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")}function byobReaderBrandCheckException(t){return new TypeError("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var L=function(){function ReadableStream(t,r){void 0===t&&(t={});void 0===r&&(r={});InitializeReadableStream(this);var i=r.size,a=r.highWaterMark,o=t.type;if("bytes"===String(o)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===a&&(a=0);SetUpReadableByteStreamControllerFromUnderlyingSource(this,t,a=ValidateAndNormalizeHighWaterMark(a))}else{if(void 0!==o)throw new RangeError("Invalid type is specified");var l=MakeSizeAlgorithmFromSizeFunction(i);void 0===a&&(a=1);!function SetUpReadableStreamDefaultControllerFromUnderlyingSource(t,r,i,a){var o=Object.create(R.prototype),l=CreateAlgorithmFromUnderlyingMethod(r,"pull",0,[o]),c=CreateAlgorithmFromUnderlyingMethod(r,"cancel",1,[]);SetUpReadableStreamDefaultController(t,o,(function startAlgorithm(){return InvokeOrNoop(r,"start",[o])}),l,c,i,a)}(this,t,a=ValidateAndNormalizeHighWaterMark(a),l)}}Object.defineProperty(ReadableStream.prototype,"locked",{get:function(){if(!1===IsReadableStream(this))throw streamBrandCheckException$1("locked");return IsReadableStreamLocked(this)},enumerable:!0,configurable:!0});ReadableStream.prototype.cancel=function(t){return!1===IsReadableStream(this)?promiseRejectedWith(streamBrandCheckException$1("cancel")):!0===IsReadableStreamLocked(this)?promiseRejectedWith(new TypeError("Cannot cancel a stream that already has a reader")):ReadableStreamCancel(this,t)};ReadableStream.prototype.getReader=function(t){var r=(void 0===t?{}:t).mode;if(!1===IsReadableStream(this))throw streamBrandCheckException$1("getReader");if(void 0===r)return AcquireReadableStreamDefaultReader(this,!0);if("byob"===(r=String(r)))return function AcquireReadableStreamBYOBReader(t,r){void 0===r&&(r=!1);var i=new I(t);i._forAuthorCode=r;return i}(this,!0);throw new RangeError("Invalid mode is specified")};ReadableStream.prototype.pipeThrough=function(t,r){var i=t.writable,a=t.readable,o=void 0===r?{}:r,l=o.preventClose,c=o.preventAbort,u=o.preventCancel,d=o.signal;if(!1===IsReadableStream(this))throw streamBrandCheckException$1("pipeThrough");if(!1===IsWritableStream(i))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===IsReadableStream(a))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");l=Boolean(l);c=Boolean(c);u=Boolean(u);if(void 0!==d&&!isAbortSignal(d))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===IsReadableStreamLocked(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===IsWritableStreamLocked(i))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");setPromiseIsHandledToTrue(ReadableStreamPipeTo(this,i,l,c,u,d));return a};ReadableStream.prototype.pipeTo=function(t,r){var i=void 0===r?{}:r,a=i.preventClose,o=i.preventAbort,l=i.preventCancel,c=i.signal;if(!1===IsReadableStream(this))return promiseRejectedWith(streamBrandCheckException$1("pipeTo"));if(!1===IsWritableStream(t))return promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));a=Boolean(a);o=Boolean(o);l=Boolean(l);return void 0===c||isAbortSignal(c)?!0===IsReadableStreamLocked(this)?promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===IsWritableStreamLocked(t)?promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ReadableStreamPipeTo(this,t,a,o,l,c):promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal"))};ReadableStream.prototype.tee=function(){if(!1===IsReadableStream(this))throw streamBrandCheckException$1("tee");var t=function ReadableStreamTee(t,r){var i,a,o,l,c,u=AcquireReadableStreamDefaultReader(t),d=!1,h=!1,p=!1,g=newPromise((function(t){c=t}));function pullAlgorithm(){if(!0===d)return promiseResolvedWith(void 0);d=!0;setPromiseIsHandledToTrue(transformPromiseWith(ReadableStreamDefaultReaderRead(u),(function(t){d=!1;if(!0!==t.done){var r=t.value,i=r,a=r;!1===h&&ReadableStreamDefaultControllerEnqueue(o._readableStreamController,i);!1===p&&ReadableStreamDefaultControllerEnqueue(l._readableStreamController,a)}else{!1===h&&ReadableStreamDefaultControllerClose(o._readableStreamController);!1===p&&ReadableStreamDefaultControllerClose(l._readableStreamController)}})));return promiseResolvedWith(void 0)}function startAlgorithm(){}o=CreateReadableStream(startAlgorithm,pullAlgorithm,(function cancel1Algorithm(r){h=!0;i=r;if(!0===p){var o=createArrayFromList([i,a]),l=ReadableStreamCancel(t,o);c(l)}return g}));l=CreateReadableStream(startAlgorithm,pullAlgorithm,(function cancel2Algorithm(r){p=!0;a=r;if(!0===h){var o=createArrayFromList([i,a]),l=ReadableStreamCancel(t,o);c(l)}return g}));uponRejection(u._closedPromise,(function(t){ReadableStreamDefaultControllerError(o._readableStreamController,t);ReadableStreamDefaultControllerError(l._readableStreamController,t)}));return[o,l]}(this);return createArrayFromList(t)};ReadableStream.prototype.getIterator=function(t){var r=(void 0===t?{}:t).preventCancel,i=void 0!==r&&r;if(!1===IsReadableStream(this))throw streamBrandCheckException$1("getIterator");return function AcquireReadableStreamAsyncIterator(t,r){void 0===r&&(r=!1);var i=AcquireReadableStreamDefaultReader(t),a=Object.create(y);a._asyncIteratorReader=i;a._preventCancel=Boolean(r);return a}(this,i)};return ReadableStream}();"symbol"==typeof r.asyncIterator&&Object.defineProperty(L.prototype,r.asyncIterator,{value:L.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});function CreateReadableStream(t,r,i,a,o){void 0===a&&(a=1);void 0===o&&(o=function(){return 1});var l=Object.create(L.prototype);InitializeReadableStream(l);SetUpReadableStreamDefaultController(l,Object.create(R.prototype),t,r,i,a,o);return l}function InitializeReadableStream(t){t._state="readable";t._reader=void 0;t._storedError=void 0;t._disturbed=!1}function IsReadableStream(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")}function IsReadableStreamLocked(t){return void 0!==t._reader}function ReadableStreamCancel(t,r){t._disturbed=!0;if("closed"===t._state)return promiseResolvedWith(void 0);if("errored"===t._state)return promiseRejectedWith(t._storedError);ReadableStreamClose(t);return transformPromiseWith(t._readableStreamController[h](r),noop)}function ReadableStreamClose(t){t._state="closed";var r=t._reader;if(void 0!==r){if(IsReadableStreamDefaultReader(r)){r._readRequests.forEach((function(t){t._resolve(ReadableStreamCreateReadResult(void 0,!0,r._forAuthorCode))}));r._readRequests=new d}defaultReaderClosedPromiseResolve(r)}}function ReadableStreamError(t,r){t._state="errored";t._storedError=r;var i=t._reader;if(void 0!==i){if(IsReadableStreamDefaultReader(i)){i._readRequests.forEach((function(t){t._reject(r)}));i._readRequests=new d}else{i._readIntoRequests.forEach((function(t){t._reject(r)}));i._readIntoRequests=new d}defaultReaderClosedPromiseReject(i,r)}}function streamBrandCheckException$1(t){return new TypeError("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}var O=function(){function ByteLengthQueuingStrategy(t){var r=t.highWaterMark;this.highWaterMark=r}ByteLengthQueuingStrategy.prototype.size=function(t){return t.byteLength};return ByteLengthQueuingStrategy}(),D=function(){function CountQueuingStrategy(t){var r=t.highWaterMark;this.highWaterMark=r}CountQueuingStrategy.prototype.size=function(){return 1};return CountQueuingStrategy}(),M=function(){function TransformStream(t,r,i){void 0===t&&(t={});void 0===r&&(r={});void 0===i&&(i={});var a=r.size,o=r.highWaterMark,l=i.size,c=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var u=MakeSizeAlgorithmFromSizeFunction(a);void 0===o&&(o=1);o=ValidateAndNormalizeHighWaterMark(o);if(void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var d,h=MakeSizeAlgorithmFromSizeFunction(l);void 0===c&&(c=0);c=ValidateAndNormalizeHighWaterMark(c);!function InitializeTransformStream(t,r,i,a,o,l){function startAlgorithm(){return r}t._writable=function CreateWritableStream(t,r,i,a,o,l){void 0===o&&(o=1);void 0===l&&(l=function(){return 1});var c=Object.create(S.prototype);InitializeWritableStream(c);SetUpWritableStreamDefaultController(c,Object.create(P.prototype),t,r,i,a,o,l);return c}(startAlgorithm,(function writeAlgorithm(r){return function TransformStreamDefaultSinkWriteAlgorithm(t,r){var i=t._transformStreamController;return!0===t._backpressure?transformPromiseWith(t._backpressureChangePromise,(function(){var a=t._writable;if("erroring"===a._state)throw a._storedError;return TransformStreamDefaultControllerPerformTransform(i,r)})):TransformStreamDefaultControllerPerformTransform(i,r)}(t,r)}),(function closeAlgorithm(){return function TransformStreamDefaultSinkCloseAlgorithm(t){var r=t._readable,i=t._transformStreamController,a=i._flushAlgorithm();TransformStreamDefaultControllerClearAlgorithms(i);return transformPromiseWith(a,(function(){if("errored"===r._state)throw r._storedError;var t=r._readableStreamController;!0===ReadableStreamDefaultControllerCanCloseOrEnqueue(t)&&ReadableStreamDefaultControllerClose(t)}),(function(i){TransformStreamError(t,i);throw r._storedError}))}(t)}),(function abortAlgorithm(r){return function TransformStreamDefaultSinkAbortAlgorithm(t,r){TransformStreamError(t,r);return promiseResolvedWith(void 0)}(t,r)}),i,a);t._readable=CreateReadableStream(startAlgorithm,(function pullAlgorithm(){return function TransformStreamDefaultSourcePullAlgorithm(t){TransformStreamSetBackpressure(t,!1);return t._backpressureChangePromise}(t)}),(function cancelAlgorithm(r){TransformStreamErrorWritableAndUnblockWrite(t,r);return promiseResolvedWith(void 0)}),o,l);t._backpressure=void 0;t._backpressureChangePromise=void 0;t._backpressureChangePromise_resolve=void 0;TransformStreamSetBackpressure(t,!0);t._transformStreamController=void 0}(this,newPromise((function(t){d=t})),o,u,c,h);!function SetUpTransformStreamDefaultControllerFromTransformer(t,r){var i=Object.create(N.prototype),transformAlgorithm=function(t){try{TransformStreamDefaultControllerEnqueue(i,t);return promiseResolvedWith(void 0)}catch(t){return promiseRejectedWith(t)}},a=r.transform;if(void 0!==a){if("function"!=typeof a)throw new TypeError("transform is not a method");transformAlgorithm=function(t){return PromiseCall(a,r,[t,i])}}var o=CreateAlgorithmFromUnderlyingMethod(r,"flush",0,[i]);!function SetUpTransformStreamDefaultController(t,r,i,a){r._controlledTransformStream=t;t._transformStreamController=r;r._transformAlgorithm=i;r._flushAlgorithm=a}(t,i,transformAlgorithm,o)}(this,t);var p=InvokeOrNoop(t,"start",[this._transformStreamController]);d(p)}Object.defineProperty(TransformStream.prototype,"readable",{get:function(){if(!1===IsTransformStream(this))throw streamBrandCheckException$2("readable");return this._readable},enumerable:!0,configurable:!0});Object.defineProperty(TransformStream.prototype,"writable",{get:function(){if(!1===IsTransformStream(this))throw streamBrandCheckException$2("writable");return this._writable},enumerable:!0,configurable:!0});return TransformStream}();function IsTransformStream(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")}function TransformStreamError(t,r){ReadableStreamDefaultControllerError(t._readable._readableStreamController,r);TransformStreamErrorWritableAndUnblockWrite(t,r)}function TransformStreamErrorWritableAndUnblockWrite(t,r){TransformStreamDefaultControllerClearAlgorithms(t._transformStreamController);WritableStreamDefaultControllerErrorIfNeeded(t._writable._writableStreamController,r);!0===t._backpressure&&TransformStreamSetBackpressure(t,!1)}function TransformStreamSetBackpressure(t,r){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve();t._backpressureChangePromise=newPromise((function(r){t._backpressureChangePromise_resolve=r}));t._backpressure=r}var N=function(){function TransformStreamDefaultController(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}Object.defineProperty(TransformStreamDefaultController.prototype,"desiredSize",{get:function(){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("desiredSize");return ReadableStreamDefaultControllerGetDesiredSize(this._controlledTransformStream._readable._readableStreamController)},enumerable:!0,configurable:!0});TransformStreamDefaultController.prototype.enqueue=function(t){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("enqueue");TransformStreamDefaultControllerEnqueue(this,t)};TransformStreamDefaultController.prototype.error=function(t){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("error");!function TransformStreamDefaultControllerError(t,r){TransformStreamError(t._controlledTransformStream,r)}(this,t)};TransformStreamDefaultController.prototype.terminate=function(){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException$1("terminate");!function TransformStreamDefaultControllerTerminate(t){var r=t._controlledTransformStream,i=r._readable._readableStreamController;!0===ReadableStreamDefaultControllerCanCloseOrEnqueue(i)&&ReadableStreamDefaultControllerClose(i);var a=new TypeError("TransformStream terminated");TransformStreamErrorWritableAndUnblockWrite(r,a)}(this)};return TransformStreamDefaultController}();function IsTransformStreamDefaultController(t){return!!typeIsObject(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")}function TransformStreamDefaultControllerClearAlgorithms(t){t._transformAlgorithm=void 0;t._flushAlgorithm=void 0}function TransformStreamDefaultControllerEnqueue(t,r){var i=t._controlledTransformStream,a=i._readable._readableStreamController;if(!1===ReadableStreamDefaultControllerCanCloseOrEnqueue(a))throw new TypeError("Readable side is not in a state that permits enqueue");try{ReadableStreamDefaultControllerEnqueue(a,r)}catch(t){TransformStreamErrorWritableAndUnblockWrite(i,t);throw i._readable._storedError}(function ReadableStreamDefaultControllerHasBackpressure(t){return!0!==ReadableStreamDefaultControllerShouldCallPull(t)})(a)!==i._backpressure&&TransformStreamSetBackpressure(i,!0)}function TransformStreamDefaultControllerPerformTransform(t,r){return transformPromiseWith(t._transformAlgorithm(r),void 0,(function(r){TransformStreamError(t._controlledTransformStream,r);throw r}))}function defaultControllerBrandCheckException$1(t){return new TypeError("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function streamBrandCheckException$2(t){return new TypeError("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=O;t.CountQueuingStrategy=D;t.ReadableStream=L;t.TransformStream=M;t.WritableStream=S;Object.defineProperty(t,"__esModule",{value:!0})}(r)},function(t,r,i){i(146);i(117);i(76);i(119);var a=i(42);t.exports=a.Map},function(t,r,i){"use strict";var a=i(147),o=i(151);t.exports=a("Map",(function(t){return function Map(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,r,i){"use strict";var a=i(9),o=i(10),l=i(51),c=i(28),u=i(148),d=i(103),h=i(125),p=i(21),g=i(13),v=i(96),m=i(84),y=i(150);t.exports=function(t,r,i){var b=-1!==t.indexOf("Map"),w=-1!==t.indexOf("Weak"),S=b?"set":"add",C=o[t],P=C&&C.prototype,k=C,A={},fixMethod=function(t){var r=P[t];c(P,t,"add"==t?function add(t){r.call(this,0===t?0:t);return this}:"delete"==t?function(t){return!(w&&!p(t))&&r.call(this,0===t?0:t)}:"get"==t?function get(t){return w&&!p(t)?void 0:r.call(this,0===t?0:t)}:"has"==t?function has(t){return!(w&&!p(t))&&r.call(this,0===t?0:t)}:function set(t,i){r.call(this,0===t?0:t,i);return this})};if(l(t,"function"!=typeof C||!(w||P.forEach&&!g((function(){(new C).entries().next()}))))){k=i.getConstructor(r,t,b,S);u.REQUIRED=!0}else if(l(t,!0)){var R=new k,x=R[S](w?{}:-0,1)!=R,T=g((function(){R.has(1)})),E=v((function(t){new C(t)})),I=!w&&g((function(){for(var t=new C,r=5;r--;)t[S](r,r);return!t.has(-0)}));if(!E){(k=r((function(r,i){h(r,k,t);var a=y(new C,r,k);null!=i&&d(i,a[S],a,b);return a}))).prototype=P;P.constructor=k}if(T||I){fixMethod("delete");fixMethod("has");b&&fixMethod("get")}(I||x)&&fixMethod(S);w&&P.clear&&delete P.clear}A[t]=k;a({global:!0,forced:k!=C},A);m(k,t);w||i.setStrong(k,t,b);return k}},function(t,r,i){var a=i(38),o=i(21),l=i(22),c=i(26).f,u=i(37),d=i(149),h=u("meta"),p=0,g=Object.isExtensible||function(){return!0},setMetadata=function(t){c(t,h,{value:{objectID:"O"+ ++p,weakData:{}}})},v=t.exports={REQUIRED:!1,fastKey:function(t,r){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!l(t,h)){if(!g(t))return"F";if(!r)return"E";setMetadata(t)}return t[h].objectID},getWeakData:function(t,r){if(!l(t,h)){if(!g(t))return!0;if(!r)return!1;setMetadata(t)}return t[h].weakData},onFreeze:function(t){d&&v.REQUIRED&&g(t)&&!l(t,h)&&setMetadata(t);return t}};a[h]=!0},function(t,r,i){var a=i(13);t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,r,i){var a=i(21),o=i(86);t.exports=function(t,r,i){var l,c;o&&"function"==typeof(l=r.constructor)&&l!==i&&a(c=l.prototype)&&c!==i.prototype&&o(t,c);return t}},function(t,r,i){"use strict";var a=i(26).f,o=i(70),l=i(123),c=i(61),u=i(125),d=i(103),h=i(78),p=i(124),g=i(12),v=i(148).fastKey,m=i(32),y=m.set,b=m.getterFor;t.exports={getConstructor:function(t,r,i,h){var p=t((function(t,a){u(t,p,r);y(t,{type:r,index:o(null),first:void 0,last:void 0,size:0});g||(t.size=0);null!=a&&d(a,t[h],t,i)})),m=b(r),define=function(t,r,i){var a,o,l=m(t),c=getEntry(t,r);if(c)c.value=i;else{l.last=c={index:o=v(r,!0),key:r,value:i,previous:a=l.last,next:void 0,removed:!1};l.first||(l.first=c);a&&(a.next=c);g?l.size++:t.size++;"F"!==o&&(l.index[o]=c)}return t},getEntry=function(t,r){var i,a=m(t),o=v(r);if("F"!==o)return a.index[o];for(i=a.first;i;i=i.next)if(i.key==r)return i};l(p.prototype,{clear:function clear(){for(var t=m(this),r=t.index,i=t.first;i;){i.removed=!0;i.previous&&(i.previous=i.previous.next=void 0);delete r[i.index];i=i.next}t.first=t.last=void 0;g?t.size=0:this.size=0},delete:function(t){var r=m(this),i=getEntry(this,t);if(i){var a=i.next,o=i.previous;delete r.index[i.index];i.removed=!0;o&&(o.next=a);a&&(a.previous=o);r.first==i&&(r.first=a);r.last==i&&(r.last=o);g?r.size--:this.size--}return!!i},forEach:function forEach(t){for(var r,i=m(this),a=c(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.next:i.first;){a(r.value,r.key,this);for(;r&&r.removed;)r=r.previous}},has:function has(t){return!!getEntry(this,t)}});l(p.prototype,i?{get:function get(t){var r=getEntry(this,t);return r&&r.value},set:function set(t,r){return define(this,0===t?0:t,r)}}:{add:function add(t){return define(this,t=0===t?0:t,t)}});g&&a(p.prototype,"size",{get:function(){return m(this).size}});return p},setStrong:function(t,r,i){var a=r+" Iterator",o=b(r),l=b(a);h(t,r,(function(t,r){y(this,{type:a,target:t,state:o(t),kind:r,last:void 0})}),(function(){for(var t=l(this),r=t.kind,i=t.last;i&&i.removed;)i=i.previous;if(!t.target||!(t.last=i=i?i.next:t.state.first)){t.target=void 0;return{value:void 0,done:!0}}return"keys"==r?{value:i.key,done:!1}:"values"==r?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}}),i?"entries":"values",!i,!0);p(r)}}},function(t,r,i){i(153);i(117);i(76);i(119);var a=i(42);t.exports=a.Set},function(t,r,i){"use strict";var a=i(147),o=i(151);t.exports=a("Set",(function(t){return function Set(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,r,i){i(117);i(155);i(119);var a=i(42);t.exports=a.WeakMap},function(t,r,i){"use strict";var a,o=i(10),l=i(123),c=i(148),u=i(147),d=i(156),h=i(21),p=i(32).enforce,g=i(33),v=!o.ActiveXObject&&"ActiveXObject"in o,m=Object.isExtensible,wrapper=function(t){return function WeakMap(){return t(this,arguments.length?arguments[0]:void 0)}},y=t.exports=u("WeakMap",wrapper,d);if(g&&v){a=d.getConstructor(wrapper,"WeakMap",!0);c.REQUIRED=!0;var b=y.prototype,w=b.delete,S=b.has,C=b.get,P=b.set;l(b,{delete:function(t){if(h(t)&&!m(t)){var r=p(this);r.frozen||(r.frozen=new a);return w.call(this,t)||r.frozen.delete(t)}return w.call(this,t)},has:function has(t){if(h(t)&&!m(t)){var r=p(this);r.frozen||(r.frozen=new a);return S.call(this,t)||r.frozen.has(t)}return S.call(this,t)},get:function get(t){if(h(t)&&!m(t)){var r=p(this);r.frozen||(r.frozen=new a);return S.call(this,t)?C.call(this,t):r.frozen.get(t)}return C.call(this,t)},set:function set(t,r){if(h(t)&&!m(t)){var i=p(this);i.frozen||(i.frozen=new a);S.call(this,t)?P.call(this,t,r):i.frozen.set(t,r)}else P.call(this,t,r);return this}})}},function(t,r,i){"use strict";var a=i(123),o=i(148).getWeakData,l=i(27),c=i(21),u=i(125),d=i(103),h=i(157),p=i(22),g=i(32),v=g.set,m=g.getterFor,y=h.find,b=h.findIndex,w=0,uncaughtFrozenStore=function(t){return t.frozen||(t.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(t,r){return y(t.entries,(function(t){return t[0]===r}))};UncaughtFrozenStore.prototype={get:function(t){var r=findUncaughtFrozen(this,t);if(r)return r[1]},has:function(t){return!!findUncaughtFrozen(this,t)},set:function(t,r){var i=findUncaughtFrozen(this,t);i?i[1]=r:this.entries.push([t,r])},delete:function(t){var r=b(this.entries,(function(r){return r[0]===t}));~r&&this.entries.splice(r,1);return!!~r}};t.exports={getConstructor:function(t,r,i,h){var g=t((function(t,a){u(t,g,r);v(t,{type:r,id:w++,frozen:void 0});null!=a&&d(a,t[h],t,i)})),y=m(r),define=function(t,r,i){var a=y(t),c=o(l(r),!0);!0===c?uncaughtFrozenStore(a).set(r,i):c[a.id]=i;return t};a(g.prototype,{delete:function(t){var r=y(this);if(!c(t))return!1;var i=o(t);return!0===i?uncaughtFrozenStore(r).delete(t):i&&p(i,r.id)&&delete i[r.id]},has:function has(t){var r=y(this);if(!c(t))return!1;var i=o(t);return!0===i?uncaughtFrozenStore(r).has(t):i&&p(i,r.id)}});a(g.prototype,i?{get:function get(t){var r=y(this);if(c(t)){var i=o(t);return!0===i?uncaughtFrozenStore(r).get(t):i?i[r.id]:void 0}},set:function set(t,r){return define(this,t,r)}}:{add:function add(t){return define(this,t,!0)}});return g}}},function(t,r,i){var a=i(61),o=i(17),l=i(82),c=i(46),u=i(158),d=[].push,createMethod=function(t){var r=1==t,i=2==t,h=3==t,p=4==t,g=6==t,v=5==t||g;return function(m,y,b,w){for(var S,C,P=l(m),k=o(P),A=a(y,b,3),R=c(k.length),x=0,T=w||u,E=r?T(m,R):i?T(m,0):void 0;R>x;x++)if(v||x in k){C=A(S=k[x],x,P);if(t)if(r)E[x]=C;else if(C)switch(t){case 3:return!0;case 5:return S;case 6:return x;case 2:d.call(E,S)}else if(p)return!1}return g?-1:h||p?p:E}};t.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6)}},function(t,r,i){var a=i(21),o=i(159),l=i(56)("species");t.exports=function(t,r){var i;o(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!o(i.prototype)?a(i)&&null===(i=i[l])&&(i=void 0):i=void 0);return new(void 0===i?Array:i)(0===r?0:r)}},function(t,r,i){var a=i(18);t.exports=Array.isArray||function isArray(t){return"Array"==a(t)}},function(t,r,i){i(117);i(161);i(119);var a=i(42);t.exports=a.WeakSet},function(t,r,i){"use strict";i(147)("WeakSet",(function(t){return function WeakSet(){return t(this,arguments.length?arguments[0]:void 0)}}),i(156))},function(t,r,i){i(163);var a=i(60);t.exports=a("String","codePointAt")},function(t,r,i){"use strict";var a=i(9),o=i(77).codeAt;a({target:"String",proto:!0},{codePointAt:function codePointAt(t){return o(this,t)}})},function(t,r,i){i(165);var a=i(42);t.exports=a.String.fromCodePoint},function(t,r,i){var a=i(9),o=i(48),l=String.fromCharCode,c=String.fromCodePoint;a({target:"String",stat:!0,forced:!!c&&1!=c.length},{fromCodePoint:function fromCodePoint(t){for(var r,i=[],a=arguments.length,c=0;a>c;){r=+arguments[c++];if(o(r,1114111)!==r)throw RangeError(r+" is not a valid code point");i.push(r<65536?l(r):l(55296+((r-=65536)>>10),r%1024+56320))}return i.join("")}})},function(t,r,i){i(167);i(117);i(169);i(173);i(174);i(175);i(176);i(177);i(178);i(179);i(180);i(181);i(182);i(183);i(184);i(185);i(186);i(187);i(188);var a=i(42);t.exports=a.Symbol},function(t,r,i){"use strict";var a=i(9),o=i(13),l=i(159),c=i(21),u=i(82),d=i(46),h=i(92),p=i(158),g=i(168),v=i(56),m=i(134),y=v("isConcatSpreadable"),b=m>=51||!o((function(){var t=[];t[y]=!1;return t.concat()[0]!==t})),w=g("concat"),isConcatSpreadable=function(t){if(!c(t))return!1;var r=t[y];return void 0!==r?!!r:l(t)};a({target:"Array",proto:!0,forced:!b||!w},{concat:function concat(t){var r,i,a,o,l,c=u(this),g=p(c,0),v=0;for(r=-1,a=arguments.length;r<a;r++)if(isConcatSpreadable(l=-1===r?c:arguments[r])){if(v+(o=d(l.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<o;i++,v++)i in l&&h(g,v,l[i])}else{if(v>=9007199254740991)throw TypeError("Maximum allowed index exceeded");h(g,v++,l)}g.length=v;return g}})},function(t,r,i){var a=i(13),o=i(56),l=i(134),c=o("species");t.exports=function(t){return l>=51||!a((function(){var r=[];(r.constructor={})[c]=function(){return{foo:1}};return 1!==r[t](Boolean).foo}))}},function(t,r,i){"use strict";var a=i(9),o=i(10),l=i(41),c=i(36),u=i(12),d=i(57),h=i(58),p=i(13),g=i(22),v=i(159),m=i(21),y=i(27),b=i(82),w=i(16),S=i(20),C=i(15),P=i(70),k=i(72),A=i(43),R=i(170),x=i(50),T=i(11),E=i(26),I=i(14),L=i(25),O=i(28),D=i(35),M=i(34),N=i(38),B=i(37),j=i(56),W=i(171),V=i(172),U=i(84),G=i(32),z=i(157).forEach,q=M("hidden"),H=j("toPrimitive"),Y=G.set,X=G.getterFor("Symbol"),Q=Object.prototype,K=o.Symbol,$=l("JSON","stringify"),Z=T.f,J=E.f,ee=R.f,te=I.f,re=D("symbols"),ne=D("op-symbols"),ie=D("string-to-symbol-registry"),ae=D("symbol-to-string-registry"),oe=D("wks"),se=o.QObject,le=!se||!se.prototype||!se.prototype.findChild,ce=u&&p((function(){return 7!=P(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(t,r,i){var a=Z(Q,r);a&&delete Q[r];J(t,r,i);a&&t!==Q&&J(Q,r,a)}:J,wrap=function(t,r){var i=re[t]=P(K.prototype);Y(i,{type:"Symbol",tag:t,description:r});u||(i.description=r);return i},ue=h?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof K},de=function defineProperty(t,r,i){t===Q&&de(ne,r,i);y(t);var a=S(r,!0);y(i);if(g(re,a)){if(i.enumerable){g(t,q)&&t[q][a]&&(t[q][a]=!1);i=P(i,{enumerable:C(0,!1)})}else{g(t,q)||J(t,q,C(1,{}));t[q][a]=!0}return ce(t,a,i)}return J(t,a,i)},fe=function defineProperties(t,r){y(t);var i=w(r),a=k(i).concat(ve(i));z(a,(function(r){u&&!he.call(i,r)||de(t,r,i[r])}));return t},he=function propertyIsEnumerable(t){var r=S(t,!0),i=te.call(this,r);return!(this===Q&&g(re,r)&&!g(ne,r))&&(!(i||!g(this,r)||!g(re,r)||g(this,q)&&this[q][r])||i)},pe=function getOwnPropertyDescriptor(t,r){var i=w(t),a=S(r,!0);if(i!==Q||!g(re,a)||g(ne,a)){var o=Z(i,a);!o||!g(re,a)||g(i,q)&&i[q][a]||(o.enumerable=!0);return o}},ge=function getOwnPropertyNames(t){var r=ee(w(t)),i=[];z(r,(function(t){g(re,t)||g(N,t)||i.push(t)}));return i},ve=function getOwnPropertySymbols(t){var r=t===Q,i=ee(r?ne:w(t)),a=[];z(i,(function(t){!g(re,t)||r&&!g(Q,t)||a.push(re[t])}));return a};if(!d){O((K=function Symbol(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,r=B(t),setter=function(t){this===Q&&setter.call(ne,t);g(this,q)&&g(this[q],r)&&(this[q][r]=!1);ce(this,r,C(1,t))};u&&le&&ce(Q,r,{configurable:!0,set:setter});return wrap(r,t)}).prototype,"toString",(function toString(){return X(this).tag}));O(K,"withoutSetter",(function(t){return wrap(B(t),t)}));I.f=he;E.f=de;T.f=pe;A.f=R.f=ge;x.f=ve;W.f=function(t){return wrap(j(t),t)};if(u){J(K.prototype,"description",{configurable:!0,get:function description(){return X(this).description}});c||O(Q,"propertyIsEnumerable",he,{unsafe:!0})}}a({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:K});z(k(oe),(function(t){V(t)}));a({target:"Symbol",stat:!0,forced:!d},{for:function(t){var r=String(t);if(g(ie,r))return ie[r];var i=K(r);ie[r]=i;ae[i]=r;return i},keyFor:function keyFor(t){if(!ue(t))throw TypeError(t+" is not a symbol");if(g(ae,t))return ae[t]},useSetter:function(){le=!0},useSimple:function(){le=!1}});a({target:"Object",stat:!0,forced:!d,sham:!u},{create:function create(t,r){return void 0===r?P(t):fe(P(t),r)},defineProperty:de,defineProperties:fe,getOwnPropertyDescriptor:pe});a({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:ge,getOwnPropertySymbols:ve});a({target:"Object",stat:!0,forced:p((function(){x.f(1)}))},{getOwnPropertySymbols:function getOwnPropertySymbols(t){return x.f(b(t))}});if($){a({target:"JSON",stat:!0,forced:!d||p((function(){var t=K();return"[null]"!=$([t])||"{}"!=$({a:t})||"{}"!=$(Object(t))}))},{stringify:function stringify(t,r,i){for(var a,o=[t],l=1;arguments.length>l;)o.push(arguments[l++]);a=r;if((m(r)||void 0!==t)&&!ue(t)){v(r)||(r=function(t,r){"function"==typeof a&&(r=a.call(this,t,r));if(!ue(r))return r});o[1]=r;return $.apply(null,o)}}})}K.prototype[H]||L(K.prototype,H,K.prototype.valueOf);U(K,"Symbol");N[q]=!0},function(t,r,i){var a=i(16),o=i(43).f,l={}.toString,c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function getOwnPropertyNames(t){return c&&"[object Window]"==l.call(t)?function(t){try{return o(t)}catch(t){return c.slice()}}(t):o(a(t))}},function(t,r,i){var a=i(56);r.f=a},function(t,r,i){var a=i(42),o=i(22),l=i(171),c=i(26).f;t.exports=function(t){var r=a.Symbol||(a.Symbol={});o(r,t)||c(r,t,{value:l.f(t)})}},function(t,r,i){i(172)("asyncIterator")},function(t,r,i){"use strict";var a=i(9),o=i(12),l=i(10),c=i(22),u=i(21),d=i(26).f,h=i(39),p=l.Symbol;if(o&&"function"==typeof p&&(!("description"in p.prototype)||void 0!==p().description)){var g={},v=function Symbol(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),r=this instanceof v?new p(t):void 0===t?p():p(t);""===t&&(g[r]=!0);return r};h(v,p);var m=v.prototype=p.prototype;m.constructor=v;var y=m.toString,b="Symbol(test)"==String(p("test")),w=/^Symbol\((.*)\)[^)]+$/;d(m,"description",{configurable:!0,get:function description(){var t=u(this)?this.valueOf():this,r=y.call(t);if(c(g,t))return"";var i=b?r.slice(7,-1):r.replace(w,"$1");return""===i?void 0:i}});a({global:!0,forced:!0},{Symbol:v})}},function(t,r,i){i(172)("hasInstance")},function(t,r,i){i(172)("isConcatSpreadable")},function(t,r,i){i(172)("iterator")},function(t,r,i){i(172)("match")},function(t,r,i){i(172)("matchAll")},function(t,r,i){i(172)("replace")},function(t,r,i){i(172)("search")},function(t,r,i){i(172)("species")},function(t,r,i){i(172)("split")},function(t,r,i){i(172)("toPrimitive")},function(t,r,i){i(172)("toStringTag")},function(t,r,i){i(172)("unscopables")},function(t,r,i){i(84)(Math,"Math",!0)},function(t,r,i){var a=i(10);i(84)(a.JSON,"JSON",!0)},function(t,r,i){i(190);var a=i(60);t.exports=a("String","padStart")},function(t,r,i){"use strict";var a=i(9),o=i(191).start;a({target:"String",proto:!0,forced:i(193)},{padStart:function padStart(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,r,i){var a=i(46),o=i(192),l=i(19),c=Math.ceil,createMethod=function(t){return function(r,i,u){var d,h,p=String(l(r)),g=p.length,v=void 0===u?" ":String(u),m=a(i);if(m<=g||""==v)return p;d=m-g;(h=o.call(v,c(d/v.length))).length>d&&(h=h.slice(0,d));return t?p+h:h+p}};t.exports={start:createMethod(!1),end:createMethod(!0)}},function(t,r,i){"use strict";var a=i(47),o=i(19);t.exports="".repeat||function repeat(t){var r=String(o(this)),i="",l=a(t);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(r+=r))1&l&&(i+=r);return i}},function(t,r,i){var a=i(128);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},function(t,r,i){i(195);var a=i(60);t.exports=a("String","padEnd")},function(t,r,i){"use strict";var a=i(9),o=i(191).end;a({target:"String",proto:!0,forced:i(193)},{padEnd:function padEnd(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,r,i){i(197);var a=i(42);t.exports=a.Object.values},function(t,r,i){var a=i(9),o=i(198).values;a({target:"Object",stat:!0},{values:function values(t){return o(t)}})},function(t,r,i){var a=i(12),o=i(72),l=i(16),c=i(14).f,createMethod=function(t){return function(r){for(var i,u=l(r),d=o(u),h=d.length,p=0,g=[];h>p;){i=d[p++];a&&!c.call(u,i)||g.push(t?[i,u[i]]:u[i])}return g}};t.exports={entries:createMethod(!0),values:createMethod(!1)}},function(t,r,i){i(200);var a=i(42);t.exports=a.Object.entries},function(t,r,i){var a=i(9),o=i(198).entries;a({target:"Object",stat:!0},{entries:function entries(t){return o(t)}})},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.getDocument=getDocument;exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory;exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(202),_node_utils=__w_pdfjs_require__(203),_annotation_storage=__w_pdfjs_require__(205),_api_compatibility=__w_pdfjs_require__(206),_canvas=__w_pdfjs_require__(207),_worker_options=__w_pdfjs_require__(209),_is_node=__w_pdfjs_require__(204),_message_handler=__w_pdfjs_require__(210),_metadata=__w_pdfjs_require__(211),_optional_content_config=__w_pdfjs_require__(213),_transport_stream=__w_pdfjs_require__(214),_webgl=__w_pdfjs_require__(215);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_unsupportedIterableToArray(t,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _iterableToArrayLimit(t,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],a=!0,o=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){i.push(c.value);if(r&&i.length===r)break}}catch(t){o=!0;l=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw l}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,ServiceWorkerOptions={showUnverifiedSignatures:!1};window.ServiceWorkerOptions=ServiceWorkerOptions;var DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory,DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){var r,i=new PDFDocumentLoadingTask;if("string"==typeof t)r={url:t};else if((0,_util.isArrayBuffer)(t))r={data:t};else if(t instanceof PDFDataRangeTransport)r={range:t};else{if("object"!==_typeof(t))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=t}var a=Object.create(null),o=null,l=null;for(var c in r)if("url"!==c||"undefined"==typeof window)if("range"!==c)if("worker"!==c)if("data"!==c||r[c]instanceof Uint8Array)a[c]=r[c];else{var u=r[c];if("string"==typeof u)a[c]=(0,_util.stringToBytes)(u);else if("object"!==_typeof(u)||null===u||isNaN(u.length)){if(!(0,_util.isArrayBuffer)(u))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");a[c]=new Uint8Array(u)}else a[c]=new Uint8Array(u)}else l=r[c];else o=r[c];else a[c]=new URL(r[c],window.location).href;a.rangeChunkSize=a.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE;a.CMapReaderFactory=a.CMapReaderFactory||DefaultCMapReaderFactory;a.ignoreErrors=!0!==a.stopAtErrors;a.fontExtraProperties=!0===a.fontExtraProperties;a.pdfBug=!0===a.pdfBug;Number.isInteger(a.maxImageSize)||(a.maxImageSize=-1);"boolean"!=typeof a.isEvalSupported&&(a.isEvalSupported=!0);"boolean"!=typeof a.disableFontFace&&(a.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1);void 0===a.ownerDocument&&(a.ownerDocument=globalThis.document);"boolean"!=typeof a.disableRange&&(a.disableRange=!1);"boolean"!=typeof a.disableStream&&(a.disableStream=!1);"boolean"!=typeof a.disableAutoFetch&&(a.disableAutoFetch=!1);(0,_util.setVerbosityLevel)(a.verbosity);if(!l){var d={verbosity:a.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};l=d.port?PDFWorker.fromPort(d):new PDFWorker(d);i._worker=l}var h=i.docId;l.promise.then((function(){if(i.destroyed)throw new Error("Loading aborted");var t=_fetchDocument(l,a,o,h),r=new Promise((function(t){var r;o?r=new _transport_stream.PDFDataTransportStream({length:a.length,initialData:a.initialData,progressiveDone:a.progressiveDone,disableRange:a.disableRange,disableStream:a.disableStream},o):a.data||(r=createPDFNetworkStream({url:a.url,length:a.length,httpHeaders:a.httpHeaders,withCredentials:a.withCredentials,rangeChunkSize:a.rangeChunkSize,disableRange:a.disableRange,disableStream:a.disableStream}));t(r)}));return Promise.all([t,r]).then((function(t){var r=_slicedToArray(t,2),o=r[0],c=r[1];if(i.destroyed)throw new Error("Loading aborted");var u=new _message_handler.MessageHandler(h,o,l.port);u.postMessageTransfers=l.postMessageTransfers;var d=new WorkerTransport(u,i,c,a);i._transport=d;u.send("showUnverifiedSignatures",window.ServiceWorkerOptions.showUnverifiedSignatures);u.send("Ready",null)}))})).catch(i._capability.reject);return i}function _fetchDocument(t,r,i,a){if(t.destroyed)return Promise.reject(new Error("Worker was destroyed"));if(i){r.length=i.length;r.initialData=i.initialData;r.progressiveDone=i.progressiveDone}return t.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.6.403",source:{data:r.data,url:r.url,password:r.password,disableAutoFetch:r.disableAutoFetch,rangeChunkSize:r.rangeChunkSize,length:r.length},maxImageSize:r.maxImageSize,disableFontFace:r.disableFontFace,postMessageTransfers:t.postMessageTransfers,docBaseUrl:r.docBaseUrl,ignoreErrors:r.ignoreErrors,isEvalSupported:r.isEvalSupported,fontExtraProperties:r.fontExtraProperties}).then((function(r){if(t.destroyed)throw new Error("Worker was destroyed");return r}))}var PDFDocumentLoadingTask=function PDFDocumentLoadingTaskClosure(){var t=0;return function(){function PDFDocumentLoadingTask(){_classCallCheck(this,PDFDocumentLoadingTask);this._capability=(0,_util.createPromiseCapability)();this._transport=null;this._worker=null;this.docId="d"+t++;this.destroyed=!1;this.onPassword=null;this.onProgress=null;this.onUnsupportedFeature=null}_createClass(PDFDocumentLoadingTask,[{key:"destroy",value:function destroy(){var t=this;this.destroyed=!0;return(this._transport?this._transport.destroy():Promise.resolve()).then((function(){t._transport=null;if(t._worker){t._worker.destroy();t._worker=null}}))}},{key:"promise",get:function get(){return this._capability.promise}}]);return PDFDocumentLoadingTask}()}(),PDFDataRangeTransport=function(){function PDFDataRangeTransport(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,PDFDataRangeTransport);this.length=t;this.initialData=r;this.progressiveDone=i;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._progressiveDoneListeners=[];this._readyCapability=(0,_util.createPromiseCapability)()}_createClass(PDFDataRangeTransport,[{key:"addRangeListener",value:function addRangeListener(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function addProgressListener(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function onDataRange(t,r){var i,a=_createForOfIteratorHelper(this._rangeListeners);try{for(a.s();!(i=a.n()).done;){(0,i.value)(t,r)}}catch(t){a.e(t)}finally{a.f()}}},{key:"onDataProgress",value:function onDataProgress(t,r){var i=this;this._readyCapability.promise.then((function(){var a,o=_createForOfIteratorHelper(i._progressListeners);try{for(o.s();!(a=o.n()).done;){(0,a.value)(t,r)}}catch(t){o.e(t)}finally{o.f()}}))}},{key:"onDataProgressiveRead",value:function onDataProgressiveRead(t){var r=this;this._readyCapability.promise.then((function(){var i,a=_createForOfIteratorHelper(r._progressiveReadListeners);try{for(a.s();!(i=a.n()).done;){(0,i.value)(t)}}catch(t){a.e(t)}finally{a.f()}}))}},{key:"onDataProgressiveDone",value:function onDataProgressiveDone(){var t=this;this._readyCapability.promise.then((function(){var r,i=_createForOfIteratorHelper(t._progressiveDoneListeners);try{for(i.s();!(r=i.n()).done;){(0,r.value)()}}catch(t){i.e(t)}finally{i.f()}}))}},{key:"transportReady",value:function transportReady(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function requestDataRange(t,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function abort(){}}]);return PDFDataRangeTransport}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function PDFDocumentProxy(t,r){_classCallCheck(this,PDFDocumentProxy);this._pdfInfo=t;this._transport=r}_createClass(PDFDocumentProxy,[{key:"getPage",value:function getPage(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function getPageIndex(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function getDestinations(){return this._transport.getDestinations()}},{key:"getDestination",value:function getDestination(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function getPageLabels(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function getPageLayout(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function getPageMode(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function getViewerPreferences(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function getOpenAction(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function getAttachments(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function getJavaScript(){return this._transport.getJavaScript()}},{key:"getOutline",value:function getOutline(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function getPermissions(){return this._transport.getPermissions()}},{key:"getMetadata",value:function getMetadata(){return this._transport.getMetadata()}},{key:"getData",value:function getData(){return this._transport.getData()}},{key:"getDownloadInfo",value:function getDownloadInfo(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function getStats(){return this._transport.getStats()}},{key:"cleanup",value:function cleanup(){return this._transport.startCleanup()}},{key:"destroy",value:function destroy(){return this.loadingTask.destroy()}},{key:"saveDocument",value:function saveDocument(t){return this._transport.saveDocument(t)}},{key:"annotationStorage",get:function get(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"numPages",get:function get(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function get(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function get(){return this._transport.loadingParams}},{key:"loadingTask",get:function get(){return this._transport.loadingTask}}]);return PDFDocumentProxy}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function PDFPageProxy(t,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,PDFPageProxy);this._pageIndex=t;this._pageInfo=r;this._ownerDocument=a;this._transport=i;this._stats=o?new _display_utils.StatTimer:null;this._pdfBug=o;this.commonObjs=i.commonObjs;this.objs=new PDFObjects;this.cleanupAfterRender=!1;this.pendingCleanup=!1;this._intentStates=new Map;this.destroyed=!1}_createClass(PDFPageProxy,[{key:"getViewport",value:function getViewport(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.scale,i=t.rotation,a=void 0===i?this.rotate:i,o=t.offsetX,l=void 0===o?0:o,c=t.offsetY,u=void 0===c?0:c,d=t.dontFlip,h=void 0!==d&&d;return new _display_utils.PageViewport({viewBox:this.view,scale:r,rotation:a,offsetX:l,offsetY:u,dontFlip:h})}},{key:"getAnnotations",value:function getAnnotations(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.intent,i=void 0===r?null:r;if(!this.annotationsPromise||this.annotationsIntent!==i){this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,i);this.annotationsIntent=i}return this.annotationsPromise}},{key:"render",value:function render(t){var r=this,i=t.canvasContext,a=t.viewport,o=t.intent,l=void 0===o?"display":o,c=t.enableWebGL,u=void 0!==c&&c,d=t.renderInteractiveForms,h=void 0!==d&&d,p=t.transform,g=void 0===p?null:p,v=t.imageLayer,m=void 0===v?null:v,y=t.canvasFactory,b=void 0===y?null:y,w=t.background,S=void 0===w?null:w,C=t.annotationStorage,P=void 0===C?null:C,k=t.optionalContentConfigPromise,A=void 0===k?null:k;this._stats&&this._stats.time("Overall");var R="print"===l?"print":"display";this.pendingCleanup=!1;A||(A=this._transport.getOptionalContentConfig());var x=this._intentStates.get(R);if(!x){x=Object.create(null);this._intentStates.set(R,x)}if(x.streamReaderCancelTimeout){clearTimeout(x.streamReaderCancelTimeout);x.streamReaderCancelTimeout=null}var T=b||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),E=new _webgl.WebGLContext({enable:u});if(!x.displayReadyCapability){x.displayReadyCapability=(0,_util.createPromiseCapability)();x.operatorList={fnArray:[],argsArray:[],lastChunk:!1};this._stats&&this._stats.time("Page Request");this._pumpOperatorList({pageIndex:this._pageIndex,intent:R,renderInteractiveForms:!0===h,annotationStorage:P&&P.getAll()||null})}var I=function complete(t){var i=x.renderTasks.indexOf(L);i>=0&&x.renderTasks.splice(i,1);(r.cleanupAfterRender||"print"===R)&&(r.pendingCleanup=!0);r._tryCleanup();if(t){L.capability.reject(t);r._abortOperatorList({intentState:x,reason:t})}else L.capability.resolve();if(r._stats){r._stats.timeEnd("Rendering");r._stats.timeEnd("Overall")}},L=new InternalRenderTask({callback:I,params:{canvasContext:i,viewport:a,transform:g,imageLayer:m,background:S},objs:this.objs,commonObjs:this.commonObjs,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:T,webGLContext:E,useRequestAnimationFrame:"print"!==R,pdfBug:this._pdfBug});x.renderTasks||(x.renderTasks=[]);x.renderTasks.push(L);var O=L.task;Promise.all([x.displayReadyCapability.promise,A]).then((function(t){var i=_slicedToArray(t,2),a=i[0],o=i[1];if(r.pendingCleanup)I();else{r._stats&&r._stats.time("Rendering");L.initializeGraphics({transparency:a,optionalContentConfig:o});L.operatorListChanged()}})).catch(I);return O}},{key:"getOperatorList",value:function getOperatorList(){var t,r=this._intentStates.get("oplist");if(!r){r=Object.create(null);this._intentStates.set("oplist",r)}if(!r.opListReadCapability){(t=Object.create(null)).operatorListChanged=function operatorListChanged(){if(r.operatorList.lastChunk){r.opListReadCapability.resolve(r.operatorList);var i=r.renderTasks.indexOf(t);i>=0&&r.renderTasks.splice(i,1)}};r.opListReadCapability=(0,_util.createPromiseCapability)();r.renderTasks=[];r.renderTasks.push(t);r.operatorList={fnArray:[],argsArray:[],lastChunk:!1};this._stats&&this._stats.time("Page Request");this._pumpOperatorList({pageIndex:this._pageIndex,intent:"oplist"})}return r.opListReadCapability.promise}},{key:"streamTextContent",value:function streamTextContent(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.normalizeWhitespace,i=void 0!==r&&r,a=t.disableCombineTextItems,o=void 0!==a&&a,l=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===i,combineTextItems:!0!==o},{highWaterMark:l,size:function size(t){return t.items.length}})}},{key:"getTextContent",value:function getTextContent(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.streamTextContent(t);return new Promise((function(t,i){var a=r.getReader(),o={items:[],styles:Object.create(null)};!function pump(){a.read().then((function(r){var i,a=r.value;if(r.done)t(o);else{Object.assign(o.styles,a.styles);(i=o.items).push.apply(i,_toConsumableArray(a.items));pump()}}),i)}()}))}},{key:"_destroy",value:function _destroy(){this.destroyed=!0;this._transport.pageCache[this._pageIndex]=null;var t,r=[],i=_createForOfIteratorHelper(this._intentStates);try{for(i.s();!(t=i.n()).done;){var a=_slicedToArray(t.value,2),o=a[0],l=a[1];this._abortOperatorList({intentState:l,reason:new Error("Page was destroyed."),force:!0});if("oplist"!==o){var c,u=_createForOfIteratorHelper(l.renderTasks);try{for(u.s();!(c=u.n()).done;){var d=c.value;r.push(d.completed);d.cancel()}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){i.e(t)}finally{i.f()}this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=!1;return Promise.all(r)}},{key:"cleanup",value:function cleanup(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup=!0;return this._tryCleanup(t)}},{key:"_tryCleanup",value:function _tryCleanup(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var r,i=_createForOfIteratorHelper(this._intentStates.values());try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.renderTasks,l=a.operatorList;if(0!==o.length||!l.lastChunk)return!1}}catch(t){i.e(t)}finally{i.f()}this._intentStates.clear();this.objs.clear();this.annotationsPromise=null;t&&this._stats&&(this._stats=new _display_utils.StatTimer);this.pendingCleanup=!1;return!0}},{key:"_startRenderPage",value:function _startRenderPage(t,r){var i=this._intentStates.get(r);if(i){this._stats&&this._stats.timeEnd("Page Request");i.displayReadyCapability&&i.displayReadyCapability.resolve(t)}}},{key:"_renderPageChunk",value:function _renderPageChunk(t,r){for(var i=0,a=t.length;i<a;i++){r.operatorList.fnArray.push(t.fnArray[i]);r.operatorList.argsArray.push(t.argsArray[i])}r.operatorList.lastChunk=t.lastChunk;for(var o=0;o<r.renderTasks.length;o++)r.renderTasks[o].operatorListChanged();t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function _pumpOperatorList(t){var r=this;(0,_util.assert)(t.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var i=this._transport.messageHandler.sendWithStream("GetOperatorList",t).getReader(),a=this._intentStates.get(t.intent);a.streamReader=i;!function pump(){i.read().then((function(t){var i=t.value;if(t.done)a.streamReader=null;else if(!r._transport.destroyed){r._renderPageChunk(i,a);pump()}}),(function(t){a.streamReader=null;if(!r._transport.destroyed){if(a.operatorList){a.operatorList.lastChunk=!0;for(var i=0;i<a.renderTasks.length;i++)a.renderTasks[i].operatorListChanged();r._tryCleanup()}if(a.displayReadyCapability)a.displayReadyCapability.reject(t);else{if(!a.opListReadCapability)throw t;a.opListReadCapability.reject(t)}}}))}()}},{key:"_abortOperatorList",value:function _abortOperatorList(t){var r=this,i=t.intentState,a=t.reason,o=t.force,l=void 0!==o&&o;(0,_util.assert)(a instanceof Error||"object"===_typeof(a)&&null!==a,'PDFPageProxy._abortOperatorList: Expected "reason" argument.');if(i.streamReader){if(!l){if(0!==i.renderTasks.length)return;if(a instanceof _display_utils.RenderingCancelledException){i.streamReaderCancelTimeout=setTimeout((function(){r._abortOperatorList({intentState:i,reason:a,force:!0});i.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT);return}}i.streamReader.cancel(new _util.AbortException(a&&a.message));i.streamReader=null;if(!this._transport.destroyed){var c,u=_createForOfIteratorHelper(this._intentStates);try{for(u.s();!(c=u.n()).done;){var d=_slicedToArray(c.value,2),h=d[0];if(d[1]===i){this._intentStates.delete(h);break}}}catch(t){u.e(t)}finally{u.f()}this.cleanup()}}}},{key:"pageNumber",get:function get(){return this._pageIndex+1}},{key:"rotate",get:function get(){return this._pageInfo.rotate}},{key:"ref",get:function get(){return this._pageInfo.ref}},{key:"userUnit",get:function get(){return this._pageInfo.userUnit}},{key:"view",get:function get(){return this._pageInfo.view}},{key:"stats",get:function get(){return this._stats}}]);return PDFPageProxy}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function LoopbackPort(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,LoopbackPort);this._listeners=[];this._defer=t;this._deferred=Promise.resolve(void 0)}_createClass(LoopbackPort,[{key:"postMessage",value:function postMessage(t,r){var i=this;if(this._defer){var a=new WeakMap,o={data:function cloneValue(t){if("object"!==_typeof(t)||null===t)return t;if(a.has(t))return a.get(t);var i,o;if((i=t.buffer)&&(0,_util.isArrayBuffer)(i)){o=r&&r.includes(i)?new t.constructor(i,t.byteOffset,t.byteLength):new t.constructor(t);a.set(t,o);return o}o=Array.isArray(t)?[]:{};a.set(t,o);for(var l in t){for(var c=void 0,u=t;!(c=Object.getOwnPropertyDescriptor(u,l));)u=Object.getPrototypeOf(u);if(void 0!==c.value)if("function"!=typeof c.value)o[l]=cloneValue(c.value);else if(t.hasOwnProperty&&t.hasOwnProperty(l))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(t[l]))}return o}(t)};this._deferred.then((function(){i._listeners.forEach((function(t){t.call(i,o)}))}))}else this._listeners.forEach((function(r){r.call(i,{data:t})}))}},{key:"addEventListener",value:function addEventListener(t,r){this._listeners.push(r)}},{key:"removeEventListener",value:function removeEventListener(t,r){var i=this._listeners.indexOf(r);this._listeners.splice(i,1)}},{key:"terminate",value:function terminate(){this._listeners.length=0}}]);return LoopbackPort}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS&&"function"==typeof require){isWorkerDisabled=!0;fallbackWorkerSrc="./pdf.worker.js"}else if("object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return"Function"===_worker_options.GlobalWorkerOptions.workerSrc.constructor.name?_worker_options.GlobalWorkerOptions.workerSrc():_worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc){_is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.');return fallbackWorkerSrc}throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var t;try{t=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(t){}return t||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref12=_asyncToGenerator(_regenerator.default.mark((function _callee(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();if(!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS||"function"!=typeof require){_context.next=6;break}worker=eval("require")(_getWorkerSrc());return _context.abrupt("return",worker.WorkerMessageHandler);case 6:_context.next=8;return(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}}),_callee)})));return function loader(){return _ref12.apply(this,arguments)}}();loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject);return fakeWorkerCapability.promise}function createCDNWrapper(t){var r="importScripts('"+t+"');";return URL.createObjectURL(new Blob([r]))}var PDFWorker=function(){function PDFWorker(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.name,i=void 0===r?null:r,a=t.port,o=void 0===a?null:a,l=t.verbosity,c=void 0===l?(0,_util.getVerbosityLevel)():l;_classCallCheck(this,PDFWorker);if(o&&pdfWorkerPorts.has(o))throw new Error("Cannot use more than one PDFWorker per port");this.name=i;this.destroyed=!1;this.postMessageTransfers=!0;this.verbosity=c;this._readyCapability=(0,_util.createPromiseCapability)();this._port=null;this._webWorker=null;this._messageHandler=null;if(o){pdfWorkerPorts.set(o,this);this._initializeFromPort(o)}else this._initialize()}_createClass(PDFWorker,[{key:"_initializeFromPort",value:function _initializeFromPort(t){this._port=t;this._messageHandler=new _message_handler.MessageHandler("main","worker",t);this._messageHandler.on("ready",(function(){}));this._readyCapability.resolve()}},{key:"_initialize",value:function _initialize(){var t=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var r=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,r)||(r=createCDNWrapper(new URL(r,window.location).href));var i=new Worker(r),a=new _message_handler.MessageHandler("main","worker",i),o=function terminateEarly(){i.removeEventListener("error",l);a.destroy();i.terminate();t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},l=function onWorkerError(){t._webWorker||o()};i.addEventListener("error",l);a.on("test",(function(r){i.removeEventListener("error",l);if(t.destroyed)o();else if(r){t._messageHandler=a;t._port=i;t._webWorker=i;r.supportTransfers||(t.postMessageTransfers=!1);t._readyCapability.resolve();a.send("configure",{verbosity:t.verbosity})}else{t._setupFakeWorker();a.destroy();i.terminate()}}));a.on("ready",(function(r){i.removeEventListener("error",l);if(t.destroyed)o();else try{c()}catch(r){t._setupFakeWorker()}}));var c=function sendTest(){var r=new Uint8Array([t.postMessageTransfers?255:0]);try{a.send("test",r,[r.buffer])}catch(t){(0,_util.warn)("Cannot use postMessage transfers.");r[0]=0;a.send("test",r)}};c();return}catch(t){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function _setupFakeWorker(){var t=this;if(!isWorkerDisabled){(0,_util.warn)("Setting up fake worker.");isWorkerDisabled=!0}setupFakeWorkerGlobal().then((function(r){if(t.destroyed)t._readyCapability.reject(new Error("Worker was destroyed"));else{var i=new LoopbackPort;t._port=i;var a="fake"+nextFakeWorkerId++,o=new _message_handler.MessageHandler(a+"_worker",a,i);r.setup(o,i);var l=new _message_handler.MessageHandler(a,a+"_worker",i);t._messageHandler=l;t._readyCapability.resolve();l.send("configure",{verbosity:t.verbosity})}})).catch((function(r){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(r.message,'".')))}))}},{key:"destroy",value:function destroy(){this.destroyed=!0;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}pdfWorkerPorts.delete(this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}},{key:"promise",get:function get(){return this._readyCapability.promise}},{key:"port",get:function get(){return this._port}},{key:"messageHandler",get:function get(){return this._messageHandler}}],[{key:"fromPort",value:function fromPort(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new PDFWorker(t)}},{key:"getWorkerSrc",value:function getWorkerSrc(){return _getWorkerSrc()}}]);return PDFWorker}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function WorkerTransport(t,r,i,a){_classCallCheck(this,WorkerTransport);this.messageHandler=t;this.loadingTask=r;this.commonObjs=new PDFObjects;this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:a.ownerDocument});this._params=a;var o=a.cMapUrl;"Function"===o.constructor.name&&(o=o());this.CMapReaderFactory=new a.CMapReaderFactory({baseUrl:o,isCompressed:a.cMapPacked});this.destroyed=!1;this.destroyCapability=null;this._passwordCapability=null;this._networkStream=i;this._fullReader=null;this._lastProgress=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,_util.createPromiseCapability)();this.setupMessageHandler()}_createClass(WorkerTransport,[{key:"destroy",value:function destroy(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0;this.destroyCapability=(0,_util.createPromiseCapability)();this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var r=[];this.pageCache.forEach((function(t){t&&r.push(t._destroy())}));this.pageCache.length=0;this.pagePromises.length=0;var i=this.messageHandler.sendWithPromise("Terminate",null);r.push(i);Promise.all(r).then((function(){t.fontLoader.clear();t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated."));if(t.messageHandler){t.messageHandler.destroy();t.messageHandler=null}t.destroyCapability.resolve()}),this.destroyCapability.reject);return this.destroyCapability.promise}},{key:"setupMessageHandler",value:function setupMessageHandler(){var t=this,r=this.messageHandler,i=this.loadingTask;r.on("GetReader",(function(r,i){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available.");t._fullReader=t._networkStream.getFullReader();t._fullReader.onProgress=function(r){t._lastProgress={loaded:r.loaded,total:r.total}};i.onPull=function(){t._fullReader.read().then((function(t){var r=t.value;if(t.done)i.close();else{(0,_util.assert)((0,_util.isArrayBuffer)(r),"GetReader - expected an ArrayBuffer.");i.enqueue(new Uint8Array(r),1,[r])}})).catch((function(t){i.error(t)}))};i.onCancel=function(r){t._fullReader.cancel(r);i.ready.catch((function(r){if(!t.destroyed)throw r}))}}));r.on("ReaderHeadersReady",(function(r){var a=(0,_util.createPromiseCapability)(),o=t._fullReader;o.headersReady.then((function(){if(!o.isStreamingSupported||!o.isRangeSupported){t._lastProgress&&i.onProgress&&i.onProgress(t._lastProgress);o.onProgress=function(t){i.onProgress&&i.onProgress({loaded:t.loaded,total:t.total})}}a.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})}),a.reject);return a.promise}));r.on("GetRangeReader",(function(r,i){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var a=t._networkStream.getRangeReader(r.begin,r.end);if(a){i.onPull=function(){a.read().then((function(t){var r=t.value;if(t.done)i.close();else{(0,_util.assert)((0,_util.isArrayBuffer)(r),"GetRangeReader - expected an ArrayBuffer.");i.enqueue(new Uint8Array(r),1,[r])}})).catch((function(t){i.error(t)}))};i.onCancel=function(r){a.cancel(r);i.ready.catch((function(r){if(!t.destroyed)throw r}))}}else i.close()}));r.on("GetDoc",(function(r){var a=r.pdfInfo;t._numPages=a.numPages;i._capability.resolve(new PDFDocumentProxy(a,t))}));r.on("DocException",(function(t){var r;switch(t.name){case"PasswordException":r=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":r=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":r=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":r=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":r=new _util.UnknownErrorException(t.message,t.details)}if(!(r instanceof Error)){(0,_util.warn)("DocException - expected a valid Error.")}i._capability.reject(r)}));r.on("PasswordRequest",(function(r){t._passwordCapability=(0,_util.createPromiseCapability)();if(i.onPassword){try{i.onPassword((function updatePassword(r){t._passwordCapability.resolve({password:r})}),r.code)}catch(r){t._passwordCapability.reject(r)}}else t._passwordCapability.reject(new _util.PasswordException(r.message,r.code));return t._passwordCapability.promise}));r.on("DataLoaded",(function(r){i.onProgress&&i.onProgress({loaded:r.length,total:r.length});t.downloadInfoCapability.resolve(r)}));r.on("StartRenderPage",(function(r){if(!t.destroyed){t.pageCache[r.pageIndex]._startRenderPage(r.transparency,r.intent)}}));r.on("commonobj",(function(i){if(!t.destroyed){var a=_slicedToArray(i,3),o=a[0],l=a[1],c=a[2];if(!t.commonObjs.has(o))switch(l){case"Font":var u=t._params;if("error"in c){var d=c.error;(0,_util.warn)("Error during font loading: ".concat(d));t.commonObjs.resolve(o,d);break}var h=null;u.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(h={registerFont:function registerFont(t,r){globalThis.FontInspector.fontAdded(t,r)}});var p=new _font_loader.FontFaceObject(c,{isEvalSupported:u.isEvalSupported,disableFontFace:u.disableFontFace,ignoreErrors:u.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:h});t.fontLoader.bind(p).catch((function(t){return r.sendWithPromise("FontFallback",{id:o})})).finally((function(){!u.fontExtraProperties&&p.data&&(p.data=null);t.commonObjs.resolve(o,p)}));break;case"FontPath":case"Image":t.commonObjs.resolve(o,c);break;default:throw new Error("Got unknown common object type ".concat(l))}}}));r.on("obj",(function(r){if(!t.destroyed){var i=_slicedToArray(r,4),a=i[0],o=i[1],l=i[2],c=i[3],u=t.pageCache[o];if(!u.objs.has(a))switch(l){case"Image":u.objs.resolve(a,c);c&&"data"in c&&c.data.length>8e6&&(u.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(l))}}}));r.on("DocProgress",(function(r){t.destroyed||i.onProgress&&i.onProgress({loaded:r.loaded,total:r.total})}));r.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this));r.on("FetchBuiltInCMap",(function(r,i){if(t.destroyed)i.error(new Error("Worker was destroyed"));else{var a=!1;i.onPull=function(){if(a)i.close();else{a=!0;t.CMapReaderFactory.fetch(r).then((function(t){i.enqueue(t,1,[t.cMapData.buffer])})).catch((function(t){i.error(t)}))}}}}))}},{key:"_onUnsupportedFeature",value:function _onUnsupportedFeature(t){var r=t.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(r)}},{key:"getData",value:function getData(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function getPage(t){var r=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));var i=t-1;if(i in this.pagePromises)return this.pagePromises[i];var a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then((function(t){if(r.destroyed)throw new Error("Transport destroyed");var a=new PDFPageProxy(i,t,r,r._params.ownerDocument,r._params.pdfBug);r.pageCache[i]=a;return a}));this.pagePromises[i]=a;return a}},{key:"getPageIndex",value:function getPageIndex(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t}).catch((function(t){return Promise.reject(new Error(t))}))}},{key:"getAnnotations",value:function getAnnotations(t,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:r})}},{key:"saveDocument",value:function saveDocument(t){return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:t&&t.getAll()||null,filename:this._fullReader?this._fullReader.filename:null}).finally((function(){t&&t.resetModified()}))}},{key:"getDestinations",value:function getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function getDestination(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((function(t){return new _optional_content_config.OptionalContentConfig(t)}))}},{key:"getPermissions",value:function getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function getMetadata(){var t=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(r){return{info:r[0],metadata:r[1]?new _metadata.Metadata(r[1]):null,contentDispositionFilename:t._fullReader?t._fullReader.filename:null}}))}},{key:"getStats",value:function getStats(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function startCleanup(){var t=this;return this.messageHandler.sendWithPromise("Cleanup",null).then((function(){for(var r=0,i=t.pageCache.length;r<i;r++){var a=t.pageCache[r];if(a){if(!a.cleanup())throw new Error("startCleanup: Page ".concat(r+1," is currently rendering."))}}t.commonObjs.clear();t.fontLoader.clear()}))}},{key:"loadingParams",get:function get(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,disableFontFace:t.disableFontFace})}}]);return WorkerTransport}(),PDFObjects=function(){function PDFObjects(){_classCallCheck(this,PDFObjects);this._objs=Object.create(null)}_createClass(PDFObjects,[{key:"_ensureObj",value:function _ensureObj(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function get(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r){this._ensureObj(t).capability.promise.then(r);return null}var i=this._objs[t];if(!i||!i.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return i.data}},{key:"has",value:function has(t){var r=this._objs[t];return!!r&&r.resolved}},{key:"resolve",value:function resolve(t,r){var i=this._ensureObj(t);i.resolved=!0;i.data=r;i.capability.resolve(r)}},{key:"clear",value:function clear(){this._objs=Object.create(null)}}]);return PDFObjects}(),RenderTask=function(){function RenderTask(t){_classCallCheck(this,RenderTask);this._internalRenderTask=t;this.onContinue=null}_createClass(RenderTask,[{key:"cancel",value:function cancel(){this._internalRenderTask.cancel()}},{key:"promise",get:function get(){return this._internalRenderTask.capability.promise}}]);return RenderTask}(),InternalRenderTask=function InternalRenderTaskClosure(){var t=new WeakSet;return function(){function InternalRenderTask(t){var r=t.callback,i=t.params,a=t.objs,o=t.commonObjs,l=t.operatorList,c=t.pageIndex,u=t.canvasFactory,d=t.webGLContext,h=t.useRequestAnimationFrame,p=void 0!==h&&h,g=t.pdfBug,v=void 0!==g&&g;_classCallCheck(this,InternalRenderTask);this.callback=r;this.params=i;this.objs=a;this.commonObjs=o;this.operatorListIdx=null;this.operatorList=l;this._pageIndex=c;this.canvasFactory=u;this.webGLContext=d;this._pdfBug=v;this.running=!1;this.graphicsReadyCallback=null;this.graphicsReady=!1;this._useRequestAnimationFrame=!0===p&&"undefined"!=typeof window;this.cancelled=!1;this.capability=(0,_util.createPromiseCapability)();this.task=new RenderTask(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=i.canvasContext.canvas}_createClass(InternalRenderTask,[{key:"initializeGraphics",value:function initializeGraphics(r){var i=r.transparency,a=void 0!==i&&i,o=r.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.add(this._canvas)}if(this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled){this.stepper=globalThis.StepperManager.create(this._pageIndex);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var l=this.params,c=l.canvasContext,u=l.viewport,d=l.transform,h=l.imageLayer,p=l.background;this.gfx=new _canvas.CanvasGraphics(c,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,h,o);this.gfx.beginDrawing({transform:d,viewport:u,transparency:a,background:p});this.operatorListIdx=0;this.graphicsReady=!0;this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function cancel(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1;this.cancelled=!0;this.gfx&&this.gfx.endDrawing();this._canvas&&t.delete(this._canvas);this.callback(r||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function operatorListChanged(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);this.running||this._continue()}else this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function _continue(){this.running=!0;this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function _scheduleNext(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){t._nextBound().catch(t.cancel.bind(t))})):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(r=_asyncToGenerator(_regenerator.default.mark((function _callee2(){return _regenerator.default.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(!this.cancelled){r.next=2;break}return r.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=!1;if(this.operatorList.lastChunk){this.gfx.endDrawing();this._canvas&&t.delete(this._canvas);this.callback()}}case 4:case"end":return r.stop()}}),_callee2,this)}))),function _next(){return r.apply(this,arguments)})},{key:"completed",get:function get(){return this.capability.promise.catch((function(){}))}}]);var r;return InternalRenderTask}()}(),version="2.6.403";exports.version=version;var build="54c67993a";exports.build=build},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.FontLoader=r.FontFaceObject=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}var l,c=function(){function BaseFontLoader(t){var r=t.docId,i=t.onUnsupportedFeature,a=t.ownerDocument,l=void 0===a?globalThis.document:a;_classCallCheck(this,BaseFontLoader);this.constructor===BaseFontLoader&&(0,o.unreachable)("Cannot initialize BaseFontLoader.");this.docId=r;this._onUnsupportedFeature=i;this._document=l;this.nativeFontFaces=[];this.styleElement=null}_createClass(BaseFontLoader,[{key:"addNativeFontFace",value:function addNativeFontFace(t){this.nativeFontFaces.push(t);this._document.fonts.add(t)}},{key:"insertRule",value:function insertRule(t){var r=this.styleElement;if(!r){(r=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId);this._document.documentElement.getElementsByTagName("head")[0].appendChild(r)}var i=r.sheet;i.insertRule(t,i.cssRules.length)}},{key:"clear",value:function clear(){var t=this;this.nativeFontFaces.forEach((function(r){t._document.fonts.delete(r)}));this.nativeFontFaces.length=0;if(this.styleElement){this.styleElement.remove();this.styleElement=null}}},{key:"bind",value:(t=function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}(a.default.mark((function _callee(t){var r,i,l=this;return a.default.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(!t.attached&&!t.missingFile){a.next=2;break}return a.abrupt("return");case 2:t.attached=!0;if(!this.isFontLoadingAPISupported){a.next=19;break}if(!(r=t.createNativeFontFace())){a.next=18;break}this.addNativeFontFace(r);a.prev=7;a.next=10;return r.loaded;case 10:a.next=18;break;case 12:a.prev=12;a.t0=a.catch(7);this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontLoadNative});(0,o.warn)("Failed to load font '".concat(r.family,"': '").concat(a.t0,"'."));t.disableFontFace=!0;throw a.t0;case 18:return a.abrupt("return");case 19:if(!(i=t.createFontFaceRule())){a.next=26;break}this.insertRule(i);if(!this.isSyncFontLoadingSupported){a.next=24;break}return a.abrupt("return");case 24:a.next=26;return new Promise((function(r){var a=l._queueLoadingCallback(r);l._prepareFontLoadEvent([i],[t],a)}));case 26:case"end":return a.stop()}}),_callee,this,[[7,12]])}))),function bind(r){return t.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function _queueLoadingCallback(t){(0,o.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function _prepareFontLoadEvent(t,r,i){(0,o.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function get(){var t=void 0!==this._document&&!!this._document.fonts;return(0,o.shadow)(this,"isFontLoadingAPISupported",t)}},{key:"isSyncFontLoadingSupported",get:function get(){(0,o.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function get(){(0,o.unreachable)("Abstract method `_loadTestFont`.")}}]);var t;return BaseFontLoader}();r.FontLoader=l;r.FontLoader=l=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(GenericFontLoader,t);var r=_createSuper(GenericFontLoader);function GenericFontLoader(t){var i;_classCallCheck(this,GenericFontLoader);(i=r.call(this,t)).loadingContext={requests:[],nextRequestId:0};i.loadTestFontId=0;return i}_createClass(GenericFontLoader,[{key:"_queueLoadingCallback",value:function _queueLoadingCallback(t){var r=this.loadingContext,i={id:"pdfjs-font-loading-".concat(r.nextRequestId++),done:!1,complete:function completeRequest(){(0,o.assert)(!i.done,"completeRequest() cannot be called twice.");i.done=!0;for(;r.requests.length>0&&r.requests[0].done;){var t=r.requests.shift();setTimeout(t.callback,0)}},callback:t};r.requests.push(i);return i}},{key:"_prepareFontLoadEvent",value:function _prepareFontLoadEvent(t,r,i){var a,l,c=this;function int32(t,r){return t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|255&t.charCodeAt(r+3)}function spliceString(t,r,i,a){return t.substring(0,r)+a+t.substring(r+i)}var u=this._document.createElement("canvas");u.width=1;u.height=1;var d=u.getContext("2d"),h=0;var p="lt".concat(Date.now()).concat(this.loadTestFontId++),g=this._loadTestFont,v=int32(g=spliceString(g,976,p.length,p),16);for(a=0,l=p.length-3;a<l;a+=4)v=v-1482184792+int32(p,a)|0;a<p.length&&(v=v-1482184792+int32(p+"XXX",a)|0);g=spliceString(g,16,4,(0,o.string32)(v));var m="url(data:font/opentype;base64,".concat(btoa(g),");"),y='@font-face {font-family:"'.concat(p,'";src:').concat(m,"}");this.insertRule(y);var b=[];for(a=0,l=r.length;a<l;a++)b.push(r[a].loadedName);b.push(p);var w=this._document.createElement("div");w.style.visibility="hidden";w.style.width=w.style.height="10px";w.style.position="absolute";w.style.top=w.style.left="0px";for(a=0,l=b.length;a<l;++a){var S=this._document.createElement("span");S.textContent="Hi";S.style.fontFamily=b[a];w.appendChild(S)}this._document.body.appendChild(w);!function isFontReady(t,r){if(++h>30){(0,o.warn)("Load test font never loaded.");r()}else{d.font="30px "+t;d.fillText(".",0,20);d.getImageData(0,0,1,1).data[3]>0?r():setTimeout(isFontReady.bind(null,t,r))}}(p,(function(){c._document.body.removeChild(w);i.complete()}))}},{key:"isSyncFontLoadingSupported",get:function get(){var t=!1;if("undefined"==typeof navigator)t=!0;else{var r=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);r&&r[1]>=14&&(t=!0)}return(0,o.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_loadTestFont",get:function get(){return(0,o.shadow)(this,"_loadTestFont",function getLoadTestFont(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")}())}}]);return GenericFontLoader}(c);var u=function(){function FontFaceObject(t,r){var i=r.isEvalSupported,a=void 0===i||i,o=r.disableFontFace,l=void 0!==o&&o,c=r.ignoreErrors,u=void 0!==c&&c,d=r.onUnsupportedFeature,h=void 0===d?null:d,p=r.fontRegistry,g=void 0===p?null:p;_classCallCheck(this,FontFaceObject);this.compiledGlyphs=Object.create(null);for(var v in t)this[v]=t[v];this.isEvalSupported=!1!==a;this.disableFontFace=!0===l;this.ignoreErrors=!0===u;this._onUnsupportedFeature=h;this.fontRegistry=g}_createClass(FontFaceObject,[{key:"createNativeFontFace",value:function createNativeFontFace(){if(!this.data||this.disableFontFace)return null;var t=new FontFace(this.loadedName,this.data,{});this.fontRegistry&&this.fontRegistry.registerFont(this);return t}},{key:"createFontFaceRule",value:function createFontFaceRule(){if(!this.data||this.disableFontFace)return null;var t=(0,o.bytesToString)(new Uint8Array(this.data)),r="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");"),i='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(r,"}");this.fontRegistry&&this.fontRegistry.registerFont(this,r);return i}},{key:"getPathGenerator",value:function getPathGenerator(t,r){if(void 0!==this.compiledGlyphs[r])return this.compiledGlyphs[r];var i,a;try{i=t.get(this.loadedName+"_path_"+r)}catch(t){if(!this.ignoreErrors)throw t;this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontGetPath});(0,o.warn)('getPathGenerator - ignoring character: "'.concat(t,'".'));return this.compiledGlyphs[r]=function(t,r){}}if(this.isEvalSupported&&o.IsEvalSupportedCached.value){for(var l,c="",u=0,d=i.length;u<d;u++){l=void 0!==(a=i[u]).args?a.args.join(","):"";c+="c."+a.cmd+"("+l+");\n"}return this.compiledGlyphs[r]=new Function("c","size",c)}return this.compiledGlyphs[r]=function(t,r){for(var o=0,l=i.length;o<l;o++){"scale"===(a=i[o]).cmd&&(a.args=[r,-r]);t[a.cmd].apply(t,a.args)}}}}]);return FontFaceObject}();r.FontFaceObject=u},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.NodeCMapReaderFactory=r.NodeCanvasFactory=void 0;var a=i(1),o=i(204),l=i(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var c=function NodeCanvasFactory(){_classCallCheck(this,NodeCanvasFactory);(0,l.unreachable)("Not implemented: NodeCanvasFactory")};r.NodeCanvasFactory=c;var u=function NodeCMapReaderFactory(){_classCallCheck(this,NodeCMapReaderFactory);(0,l.unreachable)("Not implemented: NodeCMapReaderFactory")};r.NodeCMapReaderFactory=u;if(o.isNodeJS){r.NodeCanvasFactory=c=function(t){_inherits(NodeCanvasFactory,t);var r=_createSuper(NodeCanvasFactory);function NodeCanvasFactory(){_classCallCheck(this,NodeCanvasFactory);return r.apply(this,arguments)}_createClass(NodeCanvasFactory,[{key:"create",value:function create(t,r){if(t<=0||r<=0)throw new Error("Invalid canvas size");var i=require("canvas").createCanvas(t,r);return{canvas:i,context:i.getContext("2d")}}}]);return NodeCanvasFactory}(a.BaseCanvasFactory);r.NodeCMapReaderFactory=u=function(t){_inherits(NodeCMapReaderFactory,t);var r=_createSuper(NodeCMapReaderFactory);function NodeCMapReaderFactory(){_classCallCheck(this,NodeCMapReaderFactory);return r.apply(this,arguments)}_createClass(NodeCMapReaderFactory,[{key:"_fetchData",value:function _fetchData(t,r){return new Promise((function(i,a){require("fs").readFile(t,(function(t,o){!t&&o?i({cMapData:new Uint8Array(o),compressionType:r}):a(new Error(t))}))}))}}]);return NodeCMapReaderFactory}(a.BaseCMapReaderFactory)}},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.isNodeJS=void 0;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=!("object"!==("undefined"==typeof process?"undefined":_typeof(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);r.isNodeJS=a},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.AnnotationStorage=void 0;function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var a=function(){function AnnotationStorage(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,AnnotationStorage);this._storage=new Map;this._modified=!1;this.onSetModified=null;this.onResetModified=null}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(AnnotationStorage,[{key:"getOrCreateValue",value:function getOrCreateValue(t,r){if(this._storage.has(t))return this._storage.get(t);this._storage.set(t,r);return r}},{key:"setValue",value:function setValue(t,r){this._storage.get(t)!==r&&this._setModified();this._storage.set(t,r)}},{key:"getAll",value:function getAll(){return 0===this._storage.size?null:Object.fromEntries(this._storage)}},{key:"_setModified",value:function _setModified(){if(!this._modified){this._modified=!0;"function"==typeof this.onSetModified&&this.onSetModified()}}},{key:"resetModified",value:function resetModified(){if(this._modified){this._modified=!1;"function"==typeof this.onResetModified&&this.onResetModified()}}},{key:"size",get:function get(){return this._storage.size}}]);return AnnotationStorage}();r.AnnotationStorage=a},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.apiCompatibilityParams=void 0;var a=i(204),o=Object.create(null);!function checkFontFace(){a.isNodeJS&&(o.disableFontFace=!0)}();var l=Object.freeze(o);r.apiCompatibilityParams=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.CanvasGraphics=void 0;var a=i(5),o=i(208);function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function addContextCurrentTransform(t){if(!t.mozCurrentTransform){t._originalSave=t.save;t._originalRestore=t.restore;t._originalRotate=t.rotate;t._originalScale=t.scale;t._originalTranslate=t.translate;t._originalTransform=t.transform;t._originalSetTransform=t.setTransform;t._transformMatrix=t._transformMatrix||[1,0,0,1,0,0];t._transformStack=[];Object.defineProperty(t,"mozCurrentTransform",{get:function getCurrentTransform(){return this._transformMatrix}});Object.defineProperty(t,"mozCurrentTransformInverse",{get:function getCurrentTransformInverse(){var t=this._transformMatrix,r=t[0],i=t[1],a=t[2],o=t[3],l=t[4],c=t[5],u=r*o-i*a,d=i*a-r*o;return[o/u,i/d,a/d,r/u,(o*l-a*c)/d,(i*l-r*c)/u]}});t.save=function ctxSave(){var t=this._transformMatrix;this._transformStack.push(t);this._transformMatrix=t.slice(0,6);this._originalSave()};t.restore=function ctxRestore(){var t=this._transformStack.pop();if(t){this._transformMatrix=t;this._originalRestore()}};t.translate=function ctxTranslate(t,r){var i=this._transformMatrix;i[4]=i[0]*t+i[2]*r+i[4];i[5]=i[1]*t+i[3]*r+i[5];this._originalTranslate(t,r)};t.scale=function ctxScale(t,r){var i=this._transformMatrix;i[0]=i[0]*t;i[1]=i[1]*t;i[2]=i[2]*r;i[3]=i[3]*r;this._originalScale(t,r)};t.transform=function ctxTransform(r,i,a,o,l,c){var u=this._transformMatrix;this._transformMatrix=[u[0]*r+u[2]*i,u[1]*r+u[3]*i,u[0]*a+u[2]*o,u[1]*a+u[3]*o,u[0]*l+u[2]*c+u[4],u[1]*l+u[3]*c+u[5]];t._originalTransform(r,i,a,o,l,c)};t.setTransform=function ctxSetTransform(r,i,a,o,l,c){this._transformMatrix=[r,i,a,o,l,c];t._originalSetTransform(r,i,a,o,l,c)};t.rotate=function ctxRotate(t){var r=Math.cos(t),i=Math.sin(t),a=this._transformMatrix;this._transformMatrix=[a[0]*r+a[2]*i,a[1]*r+a[3]*i,a[0]*-i+a[2]*r,a[1]*-i+a[3]*r,a[4],a[5]];this._originalRotate(t)}}}var l=function CachedCanvasesClosure(){function CachedCanvases(t){this.canvasFactory=t;this.cache=Object.create(null)}CachedCanvases.prototype={getCanvas:function CachedCanvases_getCanvas(t,r,i,a){var o;if(void 0!==this.cache[t]){o=this.cache[t];this.canvasFactory.reset(o,r,i);o.context.setTransform(1,0,0,1,0,0)}else{o=this.canvasFactory.create(r,i);this.cache[t]=o}a&&addContextCurrentTransform(o.context);return o},clear:function clear(){for(var t in this.cache){var r=this.cache[t];this.canvasFactory.destroy(r);delete this.cache[t]}}};return CachedCanvases}();var c=function CanvasExtraStateClosure(){function CanvasExtraState(){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=a.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=a.FONT_IDENTITY_MATRIX;this.leading=0;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRenderingMode=a.TextRenderingMode.FILL;this.textRise=0;this.fillColor="#000000";this.strokeColor="#000000";this.patternFill=!1;this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.activeSMask=null;this.resumeSMaskCtx=null;this.transferMaps=null}CanvasExtraState.prototype={clone:function CanvasExtraState_clone(){return Object.create(this)},setCurrentPoint:function CanvasExtraState_setCurrentPoint(t,r){this.x=t;this.y=r}};return CanvasExtraState}(),u=function CanvasGraphicsClosure(){function CanvasGraphics(t,r,i,a,o,u,d){this.ctx=t;this.current=new c;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.res=null;this.xobjs=null;this.commonObjs=r;this.objs=i;this.canvasFactory=a;this.webGLContext=o;this.imageLayer=u;this.groupStack=[];this.processingType3=null;this.baseTransform=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.contentVisible=!0;this.markedContentStack=[];this.optionalContentConfig=d;this.cachedCanvases=new l(this.canvasFactory);t&&addContextCurrentTransform(t);this._cachedGetSinglePixelWidth=null}function putBinaryImageData(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&r instanceof ImageData)t.putImageData(r,0,0);else{var o,l,c,u,d,h,p,g,v,m=r.height,y=r.width,b=m%16,w=(m-b)/16,S=0===b?w:w+1,C=t.createImageData(y,16),P=0,k=r.data,A=C.data;if(i)switch(i.length){case 1:h=i[0];p=i[0];g=i[0];v=i[0];break;case 4:h=i[0];p=i[1];g=i[2];v=i[3]}if(r.kind===a.ImageKind.GRAYSCALE_1BPP){var R=k.byteLength,x=new Uint32Array(A.buffer,0,A.byteLength>>2),T=x.length,E=y+7>>3,I=4294967295,L=a.IsLittleEndianCached.value?4278190080:255;if(v&&255===v[0]&&0===v[255]){var O=[L,I];I=O[0];L=O[1]}for(l=0;l<S;l++){u=l<w?16:b;o=0;for(c=0;c<u;c++){for(var D=R-P,M=0,N=D>E?y:8*D-7,B=-8&N,j=0,W=0;M<B;M+=8){W=k[P++];x[o++]=128&W?I:L;x[o++]=64&W?I:L;x[o++]=32&W?I:L;x[o++]=16&W?I:L;x[o++]=8&W?I:L;x[o++]=4&W?I:L;x[o++]=2&W?I:L;x[o++]=1&W?I:L}for(;M<N;M++){if(0===j){W=k[P++];j=128}x[o++]=W&j?I:L;j>>=1}}for(;o<T;)x[o++]=0;t.putImageData(C,0,16*l)}}else if(r.kind===a.ImageKind.RGBA_32BPP){var V=!!(h||p||g);c=0;d=16*y*4;for(l=0;l<w;l++){A.set(k.subarray(P,P+d));P+=d;if(V)for(var U=0;U<d;U+=4){h&&(A[U+0]=h[A[U+0]]);p&&(A[U+1]=p[A[U+1]]);g&&(A[U+2]=g[A[U+2]])}t.putImageData(C,0,c);c+=16}if(l<S){d=y*b*4;A.set(k.subarray(P,P+d));if(V)for(var G=0;G<d;G+=4){h&&(A[G+0]=h[A[G+0]]);p&&(A[G+1]=p[A[G+1]]);g&&(A[G+2]=g[A[G+2]])}t.putImageData(C,0,c)}}else{if(r.kind!==a.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(r.kind));var z=!!(h||p||g);d=y*(u=16);for(l=0;l<S;l++){l>=w&&(d=y*(u=b));o=0;for(c=d;c--;){A[o++]=k[P++];A[o++]=k[P++];A[o++]=k[P++];A[o++]=255}if(z)for(var q=0;q<o;q+=4){h&&(A[q+0]=h[A[q+0]]);p&&(A[q+1]=p[A[q+1]]);g&&(A[q+2]=g[A[q+2]])}t.putImageData(C,0,16*l)}}}}function putBinaryImageMask(t,r){for(var i=r.height,a=r.width,o=i%16,l=(i-o)/16,c=0===o?l:l+1,u=t.createImageData(a,16),d=0,h=r.data,p=u.data,g=0;g<c;g++){for(var v=g<l?16:o,m=3,y=0;y<v;y++)for(var b=0,w=0;w<a;w++){if(!b){var S=h[d++];b=128}p[m]=S&b?0:255;m+=4;b>>=1}t.putImageData(u,0,16*g)}}function copyCtxState(t,r){for(var i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],a=0,o=i.length;a<o;a++){var l=i[a];void 0!==t[l]&&(r[l]=t[l])}if(void 0!==t.setLineDash){r.setLineDash(t.getLineDash());r.lineDashOffset=t.lineDashOffset}}function resetCtxToDefault(t){t.strokeStyle="#000000";t.fillStyle="#000000";t.fillRule="nonzero";t.globalAlpha=1;t.lineWidth=1;t.lineCap="butt";t.lineJoin="miter";t.miterLimit=10;t.globalCompositeOperation="source-over";t.font="10px sans-serif";if(void 0!==t.setLineDash){t.setLineDash([]);t.lineDashOffset=0}}function composeSMaskBackdrop(t,r,i,a){for(var o=t.length,l=3;l<o;l+=4){var c=t[l];if(0===c){t[l-3]=r;t[l-2]=i;t[l-1]=a}else if(c<255){var u=255-c;t[l-3]=t[l-3]*c+r*u>>8;t[l-2]=t[l-2]*c+i*u>>8;t[l-1]=t[l-1]*c+a*u>>8}}}function composeSMaskAlpha(t,r,i){for(var a=t.length,o=3;o<a;o+=4){var l=i?i[t[o]]:t[o];r[o]=r[o]*l*(1/255)|0}}function composeSMaskLuminosity(t,r,i){for(var a=t.length,o=3;o<a;o+=4){var l=77*t[o-3]+152*t[o-2]+28*t[o-1];r[o]=i?r[o]*i[l>>8]>>8:r[o]*l>>16}}function composeSMask(t,r,i,a){var o=r.canvas,l=r.context;t.setTransform(r.scaleX,0,0,r.scaleY,r.offsetX,r.offsetY);var c=r.backdrop||null;if(r.transferMap||!a.isEnabled){!function genericComposeSMask(t,r,i,a,o,l,c){var u,d=!!l,h=d?l[0]:0,p=d?l[1]:0,g=d?l[2]:0;u="Luminosity"===o?composeSMaskLuminosity:composeSMaskAlpha;for(var v=Math.min(a,Math.ceil(1048576/i)),m=0;m<a;m+=v){var y=Math.min(v,a-m),b=t.getImageData(0,m,i,y),w=r.getImageData(0,m,i,y);d&&composeSMaskBackdrop(b.data,h,p,g);u(b.data,w.data,c);t.putImageData(w,0,m)}}(l,i,o.width,o.height,r.subtype,c,r.transferMap);t.drawImage(o,0,0)}else{var u=a.composeSMask({layer:i.canvas,mask:o,properties:{subtype:r.subtype,backdrop:c}});t.setTransform(1,0,0,1,0,0);t.drawImage(u,r.offsetX,r.offsetY)}}var t=["butt","round","square"],r=["miter","round","bevel"],i={},u={};CanvasGraphics.prototype={beginDrawing:function beginDrawing(t){var r=t.transform,i=t.viewport,a=t.transparency,o=void 0!==a&&a,l=t.background,c=void 0===l?null:l,u=this.ctx.canvas.width,d=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=c||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,u,d);this.ctx.restore();if(o){var h=this.cachedCanvases.getCanvas("transparent",u,d,!0);this.compositeCtx=this.ctx;this.transparentCanvas=h.canvas;this.ctx=h.context;this.ctx.save();this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save();resetCtxToDefault(this.ctx);r&&this.ctx.transform.apply(this.ctx,r);this.ctx.transform.apply(this.ctx,i.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function CanvasGraphics_executeOperatorList(t,r,i,o){var l=t.argsArray,c=t.fnArray,u=r||0,d=l.length;if(d===u)return u;for(var h,p=d-u>10&&"function"==typeof i,g=p?Date.now()+15:0,v=0,m=this.commonObjs,y=this.objs;;){if(void 0!==o&&u===o.nextBreakPoint){o.breakIt(u,i);return u}if((h=c[u])!==a.OPS.dependency)this[h].apply(this,l[u]);else{var b,w=_createForOfIteratorHelper(l[u]);try{for(w.s();!(b=w.n()).done;){var S=b.value,C=S.startsWith("g_")?m:y;if(!C.has(S)){C.get(S,i);return u}}}catch(t){w.e(t)}finally{w.f()}}if(++u===d)return u;if(p&&++v>10){if(Date.now()>g){i();return u}v=0}}},endDrawing:function CanvasGraphics_endDrawing(){null!==this.current.activeSMask&&this.endSMaskGroup();this.ctx.restore();if(this.transparentCanvas){this.ctx=this.compositeCtx;this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.drawImage(this.transparentCanvas,0,0);this.ctx.restore();this.transparentCanvas=null}this.cachedCanvases.clear();this.webGLContext.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function CanvasGraphics_setLineWidth(t){this.current.lineWidth=t;this.ctx.lineWidth=t},setLineCap:function CanvasGraphics_setLineCap(r){this.ctx.lineCap=t[r]},setLineJoin:function CanvasGraphics_setLineJoin(t){this.ctx.lineJoin=r[t]},setMiterLimit:function CanvasGraphics_setMiterLimit(t){this.ctx.miterLimit=t},setDash:function CanvasGraphics_setDash(t,r){var i=this.ctx;if(void 0!==i.setLineDash){i.setLineDash(t);i.lineDashOffset=r}},setRenderingIntent:function setRenderingIntent(t){},setFlatness:function setFlatness(t){},setGState:function CanvasGraphics_setGState(t){for(var r=0,i=t.length;r<i;r++){var a=t[r],o=a[0],l=a[1];switch(o){case"LW":this.setLineWidth(l);break;case"LC":this.setLineCap(l);break;case"LJ":this.setLineJoin(l);break;case"ML":this.setMiterLimit(l);break;case"D":this.setDash(l[0],l[1]);break;case"RI":this.setRenderingIntent(l);break;case"FL":this.setFlatness(l);break;case"Font":this.setFont(l[0],l[1]);break;case"CA":this.current.strokeAlpha=a[1];break;case"ca":this.current.fillAlpha=a[1];this.ctx.globalAlpha=a[1];break;case"BM":this.ctx.globalCompositeOperation=l;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup());this.current.activeSMask=l?this.tempSMask:null;this.current.activeSMask&&this.beginSMaskGroup();this.tempSMask=null;break;case"TR":this.current.transferMaps=l}}},beginSMaskGroup:function CanvasGraphics_beginSMaskGroup(){var t=this.current.activeSMask,r=t.canvas.width,i=t.canvas.height,a="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(a,r,i,!0),l=this.ctx,c=l.mozCurrentTransform;this.ctx.save();var u=o.context;u.scale(1/t.scaleX,1/t.scaleY);u.translate(-t.offsetX,-t.offsetY);u.transform.apply(u,c);t.startTransformInverse=u.mozCurrentTransformInverse;copyCtxState(l,u);this.ctx=u;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(l);this.groupLevel++},suspendSMaskGroup:function CanvasGraphics_endSMaskGroup(){var t=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();composeSMask(this.ctx,this.current.activeSMask,t,this.webGLContext);this.ctx.restore();this.ctx.save();copyCtxState(t,this.ctx);this.current.resumeSMaskCtx=t;var r=a.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,r);t.save();t.setTransform(1,0,0,1,0,0);t.clearRect(0,0,t.canvas.width,t.canvas.height);t.restore()},resumeSMaskGroup:function CanvasGraphics_endSMaskGroup(){var t=this.current.resumeSMaskCtx,r=this.ctx;this.ctx=t;this.groupStack.push(r);this.groupLevel++},endSMaskGroup:function CanvasGraphics_endSMaskGroup(){var t=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();composeSMask(this.ctx,this.current.activeSMask,t,this.webGLContext);this.ctx.restore();copyCtxState(t,this.ctx);var r=a.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,r)},save:function CanvasGraphics_save(){this.ctx.save();var t=this.current;this.stateStack.push(t);this.current=t.clone();this.current.resumeSMaskCtx=null},restore:function CanvasGraphics_restore(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup();null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup();if(0!==this.stateStack.length){this.current=this.stateStack.pop();this.ctx.restore();this.pendingClip=null;this._cachedGetSinglePixelWidth=null}},transform:function CanvasGraphics_transform(t,r,i,a,o,l){this.ctx.transform(t,r,i,a,o,l);this._cachedGetSinglePixelWidth=null},constructPath:function CanvasGraphics_constructPath(t,r){for(var i=this.ctx,o=this.current,l=o.x,c=o.y,u=0,d=0,h=t.length;u<h;u++)switch(0|t[u]){case a.OPS.rectangle:l=r[d++];c=r[d++];var p=r[d++],g=r[d++];0===p&&i.lineWidth<this.getSinglePixelWidth()&&(p=this.getSinglePixelWidth());0===g&&i.lineWidth<this.getSinglePixelWidth()&&(g=this.getSinglePixelWidth());var v=l+p,m=c+g;i.moveTo(l,c);i.lineTo(v,c);i.lineTo(v,m);i.lineTo(l,m);i.lineTo(l,c);i.closePath();break;case a.OPS.moveTo:l=r[d++];c=r[d++];i.moveTo(l,c);break;case a.OPS.lineTo:l=r[d++];c=r[d++];i.lineTo(l,c);break;case a.OPS.curveTo:l=r[d+4];c=r[d+5];i.bezierCurveTo(r[d],r[d+1],r[d+2],r[d+3],l,c);d+=6;break;case a.OPS.curveTo2:i.bezierCurveTo(l,c,r[d],r[d+1],r[d+2],r[d+3]);l=r[d+2];c=r[d+3];d+=4;break;case a.OPS.curveTo3:l=r[d+2];c=r[d+3];i.bezierCurveTo(r[d],r[d+1],l,c,l,c);d+=4;break;case a.OPS.closePath:i.closePath()}o.setCurrentPoint(l,c)},closePath:function CanvasGraphics_closePath(){this.ctx.closePath()},stroke:function CanvasGraphics_stroke(t){t=void 0===t||t;var r=this.ctx,i=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha;if(this.contentVisible)if(i&&i.hasOwnProperty("type")&&"Pattern"===i.type){r.save();var o=r.mozCurrentTransform,l=a.Util.singularValueDecompose2dScale(o)[0];r.strokeStyle=i.getPattern(r,this);r.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth*l);r.stroke();r.restore()}else{r.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth);r.stroke()}t&&this.consumePath();r.globalAlpha=this.current.fillAlpha},closeStroke:function CanvasGraphics_closeStroke(){this.closePath();this.stroke()},fill:function CanvasGraphics_fill(t){t=void 0===t||t;var r=this.ctx,i=this.current.fillColor,a=!1;if(this.current.patternFill){r.save();this.baseTransform&&r.setTransform.apply(r,this.baseTransform);r.fillStyle=i.getPattern(r,this);a=!0}if(this.contentVisible)if(this.pendingEOFill){r.fill("evenodd");this.pendingEOFill=!1}else r.fill();a&&r.restore();t&&this.consumePath()},eoFill:function CanvasGraphics_eoFill(){this.pendingEOFill=!0;this.fill()},fillStroke:function CanvasGraphics_fillStroke(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function CanvasGraphics_eoFillStroke(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function CanvasGraphics_closeFillStroke(){this.closePath();this.fillStroke()},closeEOFillStroke:function CanvasGraphics_closeEOFillStroke(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function CanvasGraphics_endPath(){this.consumePath()},clip:function CanvasGraphics_clip(){this.pendingClip=i},eoClip:function CanvasGraphics_eoClip(){this.pendingClip=u},beginText:function CanvasGraphics_beginText(){this.current.textMatrix=a.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function CanvasGraphics_endText(){var t=this.pendingTextPaths,r=this.ctx;if(void 0!==t){r.save();r.beginPath();for(var i=0;i<t.length;i++){var a=t[i];r.setTransform.apply(r,a.transform);r.translate(a.x,a.y);a.addToPath(r,a.fontSize)}r.restore();r.clip();r.beginPath();delete this.pendingTextPaths}else r.beginPath()},setCharSpacing:function CanvasGraphics_setCharSpacing(t){this.current.charSpacing=t},setWordSpacing:function CanvasGraphics_setWordSpacing(t){this.current.wordSpacing=t},setHScale:function CanvasGraphics_setHScale(t){this.current.textHScale=t/100},setLeading:function CanvasGraphics_setLeading(t){this.current.leading=-t},setFont:function CanvasGraphics_setFont(t,r){var i=this.commonObjs.get(t),o=this.current;if(!i)throw new Error("Can't find font for ".concat(t));o.fontMatrix=i.fontMatrix?i.fontMatrix:a.FONT_IDENTITY_MATRIX;0!==o.fontMatrix[0]&&0!==o.fontMatrix[3]||(0,a.warn)("Invalid font matrix for font "+t);if(r<0){r=-r;o.fontDirection=-1}else o.fontDirection=1;this.current.font=i;this.current.fontSize=r;if(!i.isType3Font){var l=i.loadedName||"sans-serif",c="normal";i.black?c="900":i.bold&&(c="bold");var u=i.italic?"italic":"normal",d='"'.concat(l,'", ').concat(i.fallbackName),h=r;r<16?h=16:r>100&&(h=100);this.current.fontSizeScale=r/h;this.ctx.font="".concat(u," ").concat(c," ").concat(h,"px ").concat(d)}},setTextRenderingMode:function CanvasGraphics_setTextRenderingMode(t){this.current.textRenderingMode=t},setTextRise:function CanvasGraphics_setTextRise(t){this.current.textRise=t},moveText:function CanvasGraphics_moveText(t,r){this.current.x=this.current.lineX+=t;this.current.y=this.current.lineY+=r},setLeadingMoveText:function CanvasGraphics_setLeadingMoveText(t,r){this.setLeading(-r);this.moveText(t,r)},setTextMatrix:function CanvasGraphics_setTextMatrix(t,r,i,a,o,l){this.current.textMatrix=[t,r,i,a,o,l];this.current.textMatrixScale=Math.sqrt(t*t+r*r);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function CanvasGraphics_nextLine(){this.moveText(0,this.current.leading)},paintChar:function paintChar(t,r,i,o){var l,c=this.ctx,u=this.current,d=u.font,h=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,g=h&a.TextRenderingMode.FILL_STROKE_MASK,v=!!(h&a.TextRenderingMode.ADD_TO_PATH_FLAG),m=u.patternFill&&!d.missingFile;(d.disableFontFace||v||m)&&(l=d.getPathGenerator(this.commonObjs,t));if(d.disableFontFace||m){c.save();c.translate(r,i);c.beginPath();l(c,p);o&&c.setTransform.apply(c,o);g!==a.TextRenderingMode.FILL&&g!==a.TextRenderingMode.FILL_STROKE||c.fill();g!==a.TextRenderingMode.STROKE&&g!==a.TextRenderingMode.FILL_STROKE||c.stroke();c.restore()}else{g!==a.TextRenderingMode.FILL&&g!==a.TextRenderingMode.FILL_STROKE||c.fillText(t,r,i);g!==a.TextRenderingMode.STROKE&&g!==a.TextRenderingMode.FILL_STROKE||c.strokeText(t,r,i)}if(v){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:c.mozCurrentTransform,x:r,y:i,fontSize:p,addToPath:l})}},get isFontSubpixelAAEnabled(){var t=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;t.scale(1.5,1);t.fillText("I",0,10);for(var r=t.getImageData(0,0,10,10).data,i=!1,o=3;o<r.length;o+=4)if(r[o]>0&&r[o]<255){i=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",i)},showText:function CanvasGraphics_showText(t){var r=this.current,i=r.font;if(i.isType3Font)return this.showType3Text(t);var o=r.fontSize;if(0!==o){var l,c=this.ctx,u=r.fontSizeScale,d=r.charSpacing,h=r.wordSpacing,p=r.fontDirection,g=r.textHScale*p,v=t.length,m=i.vertical,y=m?1:-1,b=i.defaultVMetrics,w=o*r.fontMatrix[0],S=r.textRenderingMode===a.TextRenderingMode.FILL&&!i.disableFontFace&&!r.patternFill;c.save();if(r.patternFill){c.save();var C=r.fillColor.getPattern(c,this);l=c.mozCurrentTransform;c.restore();c.fillStyle=C}c.transform.apply(c,r.textMatrix);c.translate(r.x,r.y+r.textRise);p>0?c.scale(g,-1):c.scale(g,1);var P=r.lineWidth,k=r.textMatrixScale;if(0===k||0===P){var A=r.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(A===a.TextRenderingMode.STROKE||A===a.TextRenderingMode.FILL_STROKE){this._cachedGetSinglePixelWidth=null;P=.65*this.getSinglePixelWidth()}}else P/=k;if(1!==u){c.scale(u,u);P/=u}c.lineWidth=P;var R,x=0;for(R=0;R<v;++R){var T=t[R];if((0,a.isNum)(T))x+=y*T*o/1e3;else{var E,I,L,O,D=!1,M=(T.isSpace?h:0)+d,N=T.fontChar,B=T.accent,j=T.width;if(m){var W,V,U;W=T.vmetric||b;V=-(V=T.vmetric?W[1]:.5*j)*w;U=W[2]*w;j=W?-W[0]:j;E=V/u;I=(x+U)/u}else{E=x/u;I=0}if(i.remeasure&&j>0){var G=1e3*c.measureText(N).width/o*u;if(j<G&&this.isFontSubpixelAAEnabled){var z=j/G;D=!0;c.save();c.scale(z,1);E/=z}else j!==G&&(E+=(j-G)/2e3*o/u)}if(this.contentVisible&&(T.isInFont||i.missingFile))if(S&&!B)c.fillText(N,E,I);else{this.paintChar(N,E,I,l);if(B){L=E+o*B.offset.x/u;O=I-o*B.offset.y/u;this.paintChar(B.fontChar,L,O,l)}}x+=m?j*w-M*p:j*w+M*p;D&&c.restore()}}m?r.y-=x:r.x+=x*g;c.restore()}},showType3Text:function CanvasGraphics_showType3Text(t){var r,i,o,l,c=this.ctx,u=this.current,d=u.font,h=u.fontSize,p=u.fontDirection,g=d.vertical?1:-1,v=u.charSpacing,m=u.wordSpacing,y=u.textHScale*p,b=u.fontMatrix||a.FONT_IDENTITY_MATRIX,w=t.length;if(!(u.textRenderingMode===a.TextRenderingMode.INVISIBLE)&&0!==h){this._cachedGetSinglePixelWidth=null;c.save();c.transform.apply(c,u.textMatrix);c.translate(u.x,u.y);c.scale(y,p);for(r=0;r<w;++r){i=t[r];if((0,a.isNum)(i)){l=g*i*h/1e3;this.ctx.translate(l,0);u.x+=l*y}else{var S=(i.isSpace?m:0)+v,C=d.charProcOperatorList[i.operatorListId];if(C){if(this.contentVisible){this.processingType3=i;this.save();c.scale(h,h);c.transform.apply(c,b);this.executeOperatorList(C);this.restore()}o=a.Util.applyTransform([i.width,0],b)[0]*h+S;c.translate(o,0);u.x+=o*y}else(0,a.warn)('Type3 character "'.concat(i.operatorListId,'" is not available.'))}}c.restore();this.processingType3=null}},setCharWidth:function CanvasGraphics_setCharWidth(t,r){},setCharWidthAndBounds:function CanvasGraphics_setCharWidthAndBounds(t,r,i,a,o,l){this.ctx.rect(i,a,o-i,l-a);this.clip();this.endPath()},getColorN_Pattern:function CanvasGraphics_getColorN_Pattern(t){var r,i=this;if("TilingPattern"===t[0]){var a=t[1],l=this.baseTransform||this.ctx.mozCurrentTransform.slice(),c={createCanvasGraphics:function createCanvasGraphics(t){return new CanvasGraphics(t,i.commonObjs,i.objs,i.canvasFactory,i.webGLContext)}};r=new o.TilingPattern(t,a,this.ctx,c,l)}else r=(0,o.getShadingPatternFromIR)(t);return r},setStrokeColorN:function CanvasGraphics_setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function CanvasGraphics_setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=!0},setStrokeRGBColor:function CanvasGraphics_setStrokeRGBColor(t,r,i){var o=a.Util.makeCssRgb(t,r,i);this.ctx.strokeStyle=o;this.current.strokeColor=o},setFillRGBColor:function CanvasGraphics_setFillRGBColor(t,r,i){var o=a.Util.makeCssRgb(t,r,i);this.ctx.fillStyle=o;this.current.fillColor=o;this.current.patternFill=!1},shadingFill:function CanvasGraphics_shadingFill(t){if(this.contentVisible){var r=this.ctx;this.save();var i=(0,o.getShadingPatternFromIR)(t);r.fillStyle=i.getPattern(r,this,!0);var l=r.mozCurrentTransformInverse;if(l){var c=r.canvas,u=c.width,d=c.height,h=a.Util.applyTransform([0,0],l),p=a.Util.applyTransform([0,d],l),g=a.Util.applyTransform([u,0],l),v=a.Util.applyTransform([u,d],l),m=Math.min(h[0],p[0],g[0],v[0]),y=Math.min(h[1],p[1],g[1],v[1]),b=Math.max(h[0],p[0],g[0],v[0]),w=Math.max(h[1],p[1],g[1],v[1]);this.ctx.fillRect(m,y,b-m,w-y)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}},beginInlineImage:function CanvasGraphics_beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")},beginImageData:function CanvasGraphics_beginImageData(){(0,a.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function CanvasGraphics_paintFormXObjectBegin(t,r){if(this.contentVisible){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(t)&&6===t.length&&this.transform.apply(this,t);this.baseTransform=this.ctx.mozCurrentTransform;if(r){var i=r[2]-r[0],a=r[3]-r[1];this.ctx.rect(r[0],r[1],i,a);this.clip();this.endPath()}}},paintFormXObjectEnd:function CanvasGraphics_paintFormXObjectEnd(){if(this.contentVisible){this.restore();this.baseTransform=this.baseTransformStack.pop()}},beginGroup:function CanvasGraphics_beginGroup(t){if(this.contentVisible){this.save();var r=this.ctx;t.isolated||(0,a.info)("TODO: Support non-isolated groups.");t.knockout&&(0,a.warn)("Knockout groups not supported.");var i=r.mozCurrentTransform;t.matrix&&r.transform.apply(r,t.matrix);if(!t.bbox)throw new Error("Bounding box is required.");var o=a.Util.getAxialAlignedBoundingBox(t.bbox,r.mozCurrentTransform),l=[0,0,r.canvas.width,r.canvas.height];o=a.Util.intersect(o,l)||[0,0,0,0];var c=Math.floor(o[0]),u=Math.floor(o[1]),d=Math.max(Math.ceil(o[2])-c,1),h=Math.max(Math.ceil(o[3])-u,1),p=1,g=1;if(d>4096){p=d/4096;d=4096}if(h>4096){g=h/4096;h=4096}var v="groupAt"+this.groupLevel;t.smask&&(v+="_smask_"+this.smaskCounter++%2);var m=this.cachedCanvases.getCanvas(v,d,h,!0),y=m.context;y.scale(1/p,1/g);y.translate(-c,-u);y.transform.apply(y,i);if(t.smask)this.smaskStack.push({canvas:m.canvas,context:y,offsetX:c,offsetY:u,scaleX:p,scaleY:g,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null});else{r.setTransform(1,0,0,1,0,0);r.translate(c,u);r.scale(p,g)}copyCtxState(r,y);this.ctx=y;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(r);this.groupLevel++;this.current.activeSMask=null}},endGroup:function CanvasGraphics_endGroup(t){if(this.contentVisible){this.groupLevel--;var r=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;t.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(r.canvas,0,0);this.restore()}},beginAnnotations:function CanvasGraphics_beginAnnotations(){this.save();this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function CanvasGraphics_endAnnotations(){this.restore()},beginAnnotation:function CanvasGraphics_beginAnnotation(t,r,i){this.save();resetCtxToDefault(this.ctx);this.current=new c;if(Array.isArray(t)&&4===t.length){var a=t[2]-t[0],o=t[3]-t[1];this.ctx.rect(t[0],t[1],a,o);this.clip();this.endPath()}this.transform.apply(this,r);this.transform.apply(this,i)},endAnnotation:function CanvasGraphics_endAnnotation(){this.restore()},paintImageMaskXObject:function CanvasGraphics_paintImageMaskXObject(t){if(this.contentVisible){var r=this.ctx,i=t.width,a=t.height,o=this.current.fillColor,l=this.current.patternFill,c=this.processingType3;c&&void 0===c.compiled&&(c.compiled=i<=1e3&&a<=1e3?function compileType3Glyph(t){var r,i,a,o,l=t.width,c=t.height,u=l+1,d=new Uint8Array(u*(c+1)),h=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),p=l+7&-8,g=t.data,v=new Uint8Array(p*c),m=0;for(r=0,o=g.length;r<o;r++)for(var y=128,b=g[r];y>0;){v[m++]=b&y?0:255;y>>=1}var w=0;if(0!==v[m=0]){d[0]=1;++w}for(i=1;i<l;i++){if(v[m]!==v[m+1]){d[i]=v[m]?2:1;++w}m++}if(0!==v[m]){d[i]=2;++w}for(r=1;r<c;r++){a=r*u;if(v[(m=r*p)-p]!==v[m]){d[a]=v[m]?1:8;++w}var S=(v[m]?4:0)+(v[m-p]?8:0);for(i=1;i<l;i++){if(h[S=(S>>2)+(v[m+1]?4:0)+(v[m-p+1]?8:0)]){d[a+i]=h[S];++w}m++}if(v[m-p]!==v[m]){d[a+i]=v[m]?2:4;++w}if(w>1e3)return null}a=r*u;if(0!==v[m=p*(c-1)]){d[a]=8;++w}for(i=1;i<l;i++){if(v[m]!==v[m+1]){d[a+i]=v[m]?4:8;++w}m++}if(0!==v[m]){d[a+i]=4;++w}if(w>1e3)return null;var C=new Int32Array([0,u,-1,0,-u,0,0,0,1]),P=[];for(r=0;w&&r<=c;r++){for(var k=r*u,A=k+l;k<A&&!d[k];)k++;if(k!==A){var R,x=[k%u,r],T=d[k],E=k;do{var I=C[T];do{k+=I}while(!d[k]);if(5!==(R=d[k])&&10!==R){T=R;d[k]=0}else{T=R&51*T>>4;d[k]&=T>>2|T<<2}x.push(k%u);x.push(k/u|0);d[k]||--w}while(E!==k);P.push(x);--r}}return function drawOutline(t){t.save();t.scale(1/l,-1/c);t.translate(0,-c);t.beginPath();for(var r=0,i=P.length;r<i;r++){var a=P[r];t.moveTo(a[0],a[1]);for(var o=2,u=a.length;o<u;o+=2)t.lineTo(a[o],a[o+1])}t.fill();t.beginPath();t.restore()}}({data:t.data,width:i,height:a}):null);if(c&&c.compiled)c.compiled(r);else{var u=this.cachedCanvases.getCanvas("maskCanvas",i,a),d=u.context;d.save();putBinaryImageMask(d,t);d.globalCompositeOperation="source-in";d.fillStyle=l?o.getPattern(d,this):o;d.fillRect(0,0,i,a);d.restore();this.paintInlineImageXObject(u.canvas)}}},paintImageMaskXObjectRepeat:function paintImageMaskXObjectRepeat(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var c=t.width,u=t.height,d=this.current.fillColor,h=this.current.patternFill,p=this.cachedCanvases.getCanvas("maskCanvas",c,u),g=p.context;g.save();putBinaryImageMask(g,t);g.globalCompositeOperation="source-in";g.fillStyle=h?d.getPattern(g,this):d;g.fillRect(0,0,c,u);g.restore();for(var v=this.ctx,m=0,y=l.length;m<y;m+=2){v.save();v.transform(r,i,a,o,l[m],l[m+1]);v.scale(1,-1);v.drawImage(p.canvas,0,0,c,u,0,-1,1,1);v.restore()}}},paintImageMaskXObjectGroup:function CanvasGraphics_paintImageMaskXObjectGroup(t){if(this.contentVisible)for(var r=this.ctx,i=this.current.fillColor,a=this.current.patternFill,o=0,l=t.length;o<l;o++){var c=t[o],u=c.width,d=c.height,h=this.cachedCanvases.getCanvas("maskCanvas",u,d),p=h.context;p.save();putBinaryImageMask(p,c);p.globalCompositeOperation="source-in";p.fillStyle=a?i.getPattern(p,this):i;p.fillRect(0,0,u,d);p.restore();r.save();r.transform.apply(r,c.transform);r.scale(1,-1);r.drawImage(h.canvas,0,0,u,d,0,-1,1,1);r.restore()}},paintImageXObject:function CanvasGraphics_paintImageXObject(t){if(this.contentVisible){var r=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);r?this.paintInlineImageXObject(r):(0,a.warn)("Dependent image isn't ready yet")}},paintImageXObjectRepeat:function CanvasGraphics_paintImageXObjectRepeat(t,r,i,o){if(this.contentVisible){var l=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);if(l){for(var c=l.width,u=l.height,d=[],h=0,p=o.length;h<p;h+=2)d.push({transform:[r,0,0,i,o[h],o[h+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(l,d)}else(0,a.warn)("Dependent image isn't ready yet")}},paintInlineImageXObject:function CanvasGraphics_paintInlineImageXObject(t){if(this.contentVisible){var r=t.width,i=t.height,a=this.ctx;this.save();a.scale(1/r,-1/i);var o,l,c=a.mozCurrentTransformInverse,u=c[0],d=c[1],h=Math.max(Math.sqrt(u*u+d*d),1),p=c[2],g=c[3],v=Math.max(Math.sqrt(p*p+g*g),1);if("function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)o=t;else{var m=(l=this.cachedCanvases.getCanvas("inlineImage",r,i)).context;putBinaryImageData(m,t,this.current.transferMaps);o=l.canvas}for(var y=r,b=i,w="prescale1";h>2&&y>1||v>2&&b>1;){var S=y,C=b;h>2&&y>1&&(h/=y/(S=Math.ceil(y/2)));v>2&&b>1&&(v/=b/(C=Math.ceil(b/2)));(m=(l=this.cachedCanvases.getCanvas(w,S,C)).context).clearRect(0,0,S,C);m.drawImage(o,0,0,y,b,0,0,S,C);o=l.canvas;y=S;b=C;w="prescale1"===w?"prescale2":"prescale1"}a.drawImage(o,0,0,y,b,0,-i,r,i);if(this.imageLayer){var P=this.getCanvasPosition(0,-i);this.imageLayer.appendImage({imgData:t,left:P[0],top:P[1],width:r/c[0],height:i/c[3]})}this.restore()}},paintInlineImageXObjectGroup:function CanvasGraphics_paintInlineImageXObjectGroup(t,r){if(this.contentVisible){var i=this.ctx,a=t.width,o=t.height,l=this.cachedCanvases.getCanvas("inlineImage",a,o);putBinaryImageData(l.context,t,this.current.transferMaps);for(var c=0,u=r.length;c<u;c++){var d=r[c];i.save();i.transform.apply(i,d.transform);i.scale(1,-1);i.drawImage(l.canvas,d.x,d.y,d.w,d.h,0,-1,1,1);if(this.imageLayer){var h=this.getCanvasPosition(d.x,d.y);this.imageLayer.appendImage({imgData:t,left:h[0],top:h[1],width:a,height:o})}i.restore()}}},paintSolidColorImageMask:function CanvasGraphics_paintSolidColorImageMask(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)},markPoint:function CanvasGraphics_markPoint(t){},markPointProps:function CanvasGraphics_markPointProps(t,r){},beginMarkedContent:function CanvasGraphics_beginMarkedContent(t){this.markedContentStack.push({visible:!0})},beginMarkedContentProps:function CanvasGraphics_beginMarkedContentProps(t,r){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0});this.contentVisible=this.isContentVisible()},endMarkedContent:function CanvasGraphics_endMarkedContent(){this.markedContentStack.pop();this.contentVisible=this.isContentVisible()},beginCompat:function CanvasGraphics_beginCompat(){},endCompat:function CanvasGraphics_endCompat(){},consumePath:function CanvasGraphics_consumePath(){var t=this.ctx;if(this.pendingClip){this.pendingClip===u?t.clip("evenodd"):t.clip();this.pendingClip=null}t.beginPath()},getSinglePixelWidth:function getSinglePixelWidth(t){if(null===this._cachedGetSinglePixelWidth){var r=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(r[0]*r[0]+r[1]*r[1],r[2]*r[2]+r[3]*r[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function CanvasGraphics_getCanvasPosition(t,r){var i=this.ctx.mozCurrentTransform;return[i[0]*t+i[2]*r+i[4],i[1]*t+i[3]*r+i[5]]},isContentVisible:function CanvasGraphics_isContentVisible(){for(var t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};for(var d in a.OPS)CanvasGraphics.prototype[a.OPS[d]]=CanvasGraphics.prototype[d];return CanvasGraphics}();r.CanvasGraphics=u},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.getShadingPatternFromIR=function getShadingPatternFromIR(t){var r=o[t[0]];if(!r)throw new Error("Unknown IR type: ".concat(t[0]));return r.fromIR(t)};r.TilingPattern=void 0;var a=i(5),o={};function applyBoundingBox(t,r){if(r&&"undefined"!=typeof Path2D){var i=r[2]-r[0],a=r[3]-r[1],o=new Path2D;o.rect(r[0],r[1],i,a);t.clip(o)}}o.RadialAxial={fromIR:function RadialAxial_fromIR(t){var r=t[1],i=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7];return{type:"Pattern",getPattern:function RadialAxial_getPattern(t){applyBoundingBox(t,i);var d;"axial"===r?d=t.createLinearGradient(o[0],o[1],l[0],l[1]):"radial"===r&&(d=t.createRadialGradient(o[0],o[1],c,l[0],l[1],u));for(var h=0,p=a.length;h<p;++h){var g=a[h];d.addColorStop(g[0],g[1])}return d}}}};var l=function createMeshCanvasClosure(){function drawTriangle(t,r,i,a,o,l,c,u){var d,h=r.coords,p=r.colors,g=t.data,v=4*t.width;if(h[i+1]>h[a+1]){d=i;i=a;a=d;d=l;l=c;c=d}if(h[a+1]>h[o+1]){d=a;a=o;o=d;d=c;c=u;u=d}if(h[i+1]>h[a+1]){d=i;i=a;a=d;d=l;l=c;c=d}var m=(h[i]+r.offsetX)*r.scaleX,y=(h[i+1]+r.offsetY)*r.scaleY,b=(h[a]+r.offsetX)*r.scaleX,w=(h[a+1]+r.offsetY)*r.scaleY,S=(h[o]+r.offsetX)*r.scaleX,C=(h[o+1]+r.offsetY)*r.scaleY;if(!(y>=C))for(var P,k,A,R,x,T,E,I,L=p[l],O=p[l+1],D=p[l+2],M=p[c],N=p[c+1],B=p[c+2],j=p[u],W=p[u+1],V=p[u+2],U=Math.round(y),G=Math.round(C),z=U;z<=G;z++){if(z<w){var q=void 0;P=m-(m-b)*(q=z<y?0:y===w?1:(y-z)/(y-w));k=L-(L-M)*q;A=O-(O-N)*q;R=D-(D-B)*q}else{var H=void 0;P=b-(b-S)*(H=z>C?1:w===C?0:(w-z)/(w-C));k=M-(M-j)*H;A=N-(N-W)*H;R=B-(B-V)*H}var Y=void 0;x=m-(m-S)*(Y=z<y?0:z>C?1:(y-z)/(y-C));T=L-(L-j)*Y;E=O-(O-W)*Y;I=D-(D-V)*Y;for(var X=Math.round(Math.min(P,x)),Q=Math.round(Math.max(P,x)),K=v*z+4*X,$=X;$<=Q;$++){(Y=(P-$)/(P-x))<0?Y=0:Y>1&&(Y=1);g[K++]=k-(k-T)*Y|0;g[K++]=A-(A-E)*Y|0;g[K++]=R-(R-I)*Y|0;g[K++]=255}}}function drawFigure(t,r,i){var a,o,l=r.coords,c=r.colors;switch(r.type){case"lattice":var u=r.verticesPerRow,d=Math.floor(l.length/u)-1,h=u-1;for(a=0;a<d;a++)for(var p=a*u,g=0;g<h;g++,p++){drawTriangle(t,i,l[p],l[p+1],l[p+u],c[p],c[p+1],c[p+u]);drawTriangle(t,i,l[p+u+1],l[p+1],l[p+u],c[p+u+1],c[p+1],c[p+u])}break;case"triangles":for(a=0,o=l.length;a<o;a+=3)drawTriangle(t,i,l[a],l[a+1],l[a+2],c[a],c[a+1],c[a+2]);break;default:throw new Error("illegal figure")}}return function createMeshCanvas(t,r,i,a,o,l,c,u){var d,h,p,g,v=Math.floor(t[0]),m=Math.floor(t[1]),y=Math.ceil(t[2])-v,b=Math.ceil(t[3])-m,w=Math.min(Math.ceil(Math.abs(y*r[0]*1.1)),3e3),S=Math.min(Math.ceil(Math.abs(b*r[1]*1.1)),3e3),C=y/w,P=b/S,k={coords:i,colors:a,offsetX:-v,offsetY:-m,scaleX:1/C,scaleY:1/P},A=w+4,R=S+4;if(u.isEnabled){d=u.drawFigures({width:w,height:S,backgroundColor:l,figures:o,context:k});(h=c.getCanvas("mesh",A,R,!1)).context.drawImage(d,2,2);d=h.canvas}else{var x=(h=c.getCanvas("mesh",A,R,!1)).context,T=x.createImageData(w,S);if(l){var E=T.data;for(p=0,g=E.length;p<g;p+=4){E[p]=l[0];E[p+1]=l[1];E[p+2]=l[2];E[p+3]=255}}for(p=0;p<o.length;p++)drawFigure(T,o[p],k);x.putImageData(T,2,2);d=h.canvas}return{canvas:d,offsetX:v-2*C,offsetY:m-2*P,scaleX:C,scaleY:P}}}();o.Mesh={fromIR:function Mesh_fromIR(t){var r=t[2],i=t[3],o=t[4],c=t[5],u=t[6],d=t[7],h=t[8];return{type:"Pattern",getPattern:function Mesh_getPattern(t,p,g){applyBoundingBox(t,d);var v;if(g)v=a.Util.singularValueDecompose2dScale(t.mozCurrentTransform);else{v=a.Util.singularValueDecompose2dScale(p.baseTransform);if(u){var m=a.Util.singularValueDecompose2dScale(u);v=[v[0]*m[0],v[1]*m[1]]}}var y=l(c,v,r,i,o,g?null:h,p.cachedCanvases,p.webGLContext);if(!g){t.setTransform.apply(t,p.baseTransform);u&&t.transform.apply(t,u)}t.translate(y.offsetX,y.offsetY);t.scale(y.scaleX,y.scaleY);return t.createPattern(y.canvas,"no-repeat")}}}};o.Dummy={fromIR:function Dummy_fromIR(){return{type:"Pattern",getPattern:function Dummy_fromIR_getPattern(){return"hotpink"}}}};var c=function TilingPatternClosure(){var t=1,r=2;function TilingPattern(t,r,i,a,o){this.operatorList=t[2];this.matrix=t[3]||[1,0,0,1,0,0];this.bbox=t[4];this.xstep=t[5];this.ystep=t[6];this.paintType=t[7];this.tilingType=t[8];this.color=r;this.canvasGraphicsFactory=a;this.baseTransform=o;this.type="Pattern";this.ctx=i}TilingPattern.prototype={createPatternCanvas:function TilinPattern_createPatternCanvas(t){var r=this.operatorList,i=this.bbox,o=this.xstep,l=this.ystep,c=this.paintType,u=this.tilingType,d=this.color,h=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+u);var p=i[0],g=i[1],v=i[2],m=i[3],y=a.Util.singularValueDecompose2dScale(this.matrix),b=a.Util.singularValueDecompose2dScale(this.baseTransform),w=[y[0]*b[0],y[1]*b[1]],S=this.getSizeAndScale(o,this.ctx.canvas.width,w[0]),C=this.getSizeAndScale(l,this.ctx.canvas.height,w[1]),P=t.cachedCanvases.getCanvas("pattern",S.size,C.size,!0),k=P.context,A=h.createCanvasGraphics(k);A.groupLevel=t.groupLevel;this.setFillAndStrokeStyleToContext(A,c,d);A.transform(S.scale,0,0,C.scale,0,0);A.transform(1,0,0,1,-p,-g);this.clipBbox(A,i,p,g,v,m);A.executeOperatorList(r);this.ctx.transform(1,0,0,1,p,g);this.ctx.scale(1/S.scale,1/C.scale);return P.canvas},getSizeAndScale:function TilingPattern_getSizeAndScale(t,r,i){t=Math.abs(t);var a=Math.max(3e3,r),o=Math.ceil(t*i);o>=a?o=a:i=o/t;return{scale:i,size:o}},clipBbox:function clipBbox(t,r,i,a,o,l){if(Array.isArray(r)&&4===r.length){var c=o-i,u=l-a;t.ctx.rect(i,a,c,u);t.clip();t.endPath()}},setFillAndStrokeStyleToContext:function setFillAndStrokeStyleToContext(i,o,l){var c=i.ctx,u=i.current;switch(o){case t:var d=this.ctx;c.fillStyle=d.fillStyle;c.strokeStyle=d.strokeStyle;u.fillColor=d.fillStyle;u.strokeColor=d.strokeStyle;break;case r:var h=a.Util.makeCssRgb(l[0],l[1],l[2]);c.fillStyle=h;c.strokeStyle=h;u.fillColor=h;u.strokeColor=h;break;default:throw new a.FormatError("Unsupported paint type: ".concat(o))}},getPattern:function TilingPattern_getPattern(t,r){(t=this.ctx).setTransform.apply(t,this.baseTransform);t.transform.apply(t,this.matrix);var i=this.createPatternCanvas(r);return t.createPattern(i,"repeat")}};return TilingPattern}();r.TilingPattern=c},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.GlobalWorkerOptions=void 0;var a=Object.create(null);r.GlobalWorkerOptions=a;a.workerPort=void 0===a.workerPort?null:a.workerPort;a.workerSrc=void 0===a.workerSrc?"":a.workerSrc},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.MessageHandler=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(5);function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=1,c=2,u=1,d=2,h=3,p=4,g=5,v=6,m=7,y=8;function wrapReason(t){if("object"!==_typeof(t)||null===t)return t;switch(t.name){case"AbortException":return new o.AbortException(t.message);case"MissingPDFException":return new o.MissingPDFException(t.message);case"UnexpectedResponseException":return new o.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new o.UnknownErrorException(t.message,t.details);default:return new o.UnknownErrorException(t.message,t.toString())}}var b=function(){function MessageHandler(t,r,i){var a=this;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,MessageHandler);this.sourceName=t;this.targetName=r;this.comObj=i;this.callbackId=1;this.streamId=1;this.postMessageTransfers=!0;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);this.callbackCapabilities=Object.create(null);this.actionHandler=Object.create(null);this._onComObjOnMessage=function(t){var r=t.data;if(r.targetName===a.sourceName)if(r.stream)a._processStreamMessage(r);else if(r.callback){var o=r.callbackId,u=a.callbackCapabilities[o];if(!u)throw new Error("Cannot resolve callback ".concat(o));delete a.callbackCapabilities[o];if(r.callback===l)u.resolve(r.data);else{if(r.callback!==c)throw new Error("Unexpected callback case");u.reject(wrapReason(r.reason))}}else{var d=a.actionHandler[r.action];if(!d)throw new Error("Unknown action from worker: ".concat(r.action));if(r.callbackId){var h=a.sourceName,p=r.sourceName;new Promise((function(t){t(d(r.data))})).then((function(t){i.postMessage({sourceName:h,targetName:p,callback:l,callbackId:r.callbackId,data:t})}),(function(t){i.postMessage({sourceName:h,targetName:p,callback:c,callbackId:r.callbackId,reason:wrapReason(t)})}))}else r.streamId?a._createStreamSink(r):d(r.data)}};i.addEventListener("message",this._onComObjOnMessage)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(MessageHandler,[{key:"on",value:function on(t,r){var i=this.actionHandler;if(i[t])throw new Error('There is already an actionName called "'.concat(t,'"'));i[t]=r}},{key:"send",value:function send(t,r,i){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:r},i)}},{key:"sendWithPromise",value:function sendWithPromise(t,r,i){var a=this.callbackId++,l=(0,o.createPromiseCapability)();this.callbackCapabilities[a]=l;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:r},i)}catch(t){l.reject(t)}return l.promise}},{key:"sendWithStream",value:function sendWithStream(t,r,i,a){var l=this,c=this.streamId++,d=this.sourceName,h=this.targetName,p=this.comObj;return new ReadableStream({start:function start(i){var u=(0,o.createPromiseCapability)();l.streamControllers[c]={controller:i,startCall:u,pullCall:null,cancelCall:null,isClosed:!1};l._postMessage({sourceName:d,targetName:h,action:t,streamId:c,data:r,desiredSize:i.desiredSize},a);return u.promise},pull:function pull(t){var r=(0,o.createPromiseCapability)();l.streamControllers[c].pullCall=r;p.postMessage({sourceName:d,targetName:h,stream:v,streamId:c,desiredSize:t.desiredSize});return r.promise},cancel:function cancel(t){(0,o.assert)(t instanceof Error,"cancel must have a valid reason");var r=(0,o.createPromiseCapability)();l.streamControllers[c].cancelCall=r;l.streamControllers[c].isClosed=!0;p.postMessage({sourceName:d,targetName:h,stream:u,streamId:c,reason:wrapReason(t)});return r.promise}},i)}},{key:"_createStreamSink",value:function _createStreamSink(t){var r=this,i=this.actionHandler[t.action],a=t.streamId,l=this.sourceName,c=t.sourceName,u=this.comObj,d={enqueue:function enqueue(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,u=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var d=this.desiredSize;this.desiredSize-=i;if(d>0&&this.desiredSize<=0){this.sinkCapability=(0,o.createPromiseCapability)();this.ready=this.sinkCapability.promise}r._postMessage({sourceName:l,targetName:c,stream:p,streamId:a,chunk:t},u)}},close:function close(){if(!this.isCancelled){this.isCancelled=!0;u.postMessage({sourceName:l,targetName:c,stream:h,streamId:a});delete r.streamSinks[a]}},error:function error(t){(0,o.assert)(t instanceof Error,"error must have a valid reason");if(!this.isCancelled){this.isCancelled=!0;u.postMessage({sourceName:l,targetName:c,stream:g,streamId:a,reason:wrapReason(t)})}},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve();d.ready=d.sinkCapability.promise;this.streamSinks[a]=d;new Promise((function(r){r(i(t.data,d))})).then((function(){u.postMessage({sourceName:l,targetName:c,stream:y,streamId:a,success:!0})}),(function(t){u.postMessage({sourceName:l,targetName:c,stream:y,streamId:a,reason:wrapReason(t)})}))}},{key:"_processStreamMessage",value:function _processStreamMessage(t){var r=t.streamId,i=this.sourceName,a=t.sourceName,l=this.comObj;switch(t.stream){case y:t.success?this.streamControllers[r].startCall.resolve():this.streamControllers[r].startCall.reject(wrapReason(t.reason));break;case m:t.success?this.streamControllers[r].pullCall.resolve():this.streamControllers[r].pullCall.reject(wrapReason(t.reason));break;case v:if(!this.streamSinks[r]){l.postMessage({sourceName:i,targetName:a,stream:m,streamId:r,success:!0});break}this.streamSinks[r].desiredSize<=0&&t.desiredSize>0&&this.streamSinks[r].sinkCapability.resolve();this.streamSinks[r].desiredSize=t.desiredSize;var c=this.streamSinks[t.streamId].onPull;new Promise((function(t){t(c&&c())})).then((function(){l.postMessage({sourceName:i,targetName:a,stream:m,streamId:r,success:!0})}),(function(t){l.postMessage({sourceName:i,targetName:a,stream:m,streamId:r,reason:wrapReason(t)})}));break;case p:(0,o.assert)(this.streamControllers[r],"enqueue should have stream controller");if(this.streamControllers[r].isClosed)break;this.streamControllers[r].controller.enqueue(t.chunk);break;case h:(0,o.assert)(this.streamControllers[r],"close should have stream controller");if(this.streamControllers[r].isClosed)break;this.streamControllers[r].isClosed=!0;this.streamControllers[r].controller.close();this._deleteStreamController(r);break;case g:(0,o.assert)(this.streamControllers[r],"error should have stream controller");this.streamControllers[r].controller.error(wrapReason(t.reason));this._deleteStreamController(r);break;case d:t.success?this.streamControllers[r].cancelCall.resolve():this.streamControllers[r].cancelCall.reject(wrapReason(t.reason));this._deleteStreamController(r);break;case u:if(!this.streamSinks[r])break;var b=this.streamSinks[t.streamId].onCancel;new Promise((function(r){r(b&&b(wrapReason(t.reason)))})).then((function(){l.postMessage({sourceName:i,targetName:a,stream:d,streamId:r,success:!0})}),(function(t){l.postMessage({sourceName:i,targetName:a,stream:d,streamId:r,reason:wrapReason(t)})}));this.streamSinks[r].sinkCapability.reject(wrapReason(t.reason));this.streamSinks[r].isCancelled=!0;delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(t=function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}(a.default.mark((function _callee(t){return a.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(t){return t&&t.promise})));case 2:delete this.streamControllers[t];case 3:case"end":return r.stop()}}),_callee,this)}))),function _deleteStreamController(r){return t.apply(this,arguments)})},{key:"_postMessage",value:function _postMessage(t,r){r&&this.postMessageTransfers?this.comObj.postMessage(t,r):this.comObj.postMessage(t)}},{key:"destroy",value:function destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]);var t;return MessageHandler}();r.MessageHandler=b},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.Metadata=void 0;var a=i(5),o=i(212);function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var l=function(){function Metadata(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Metadata);(0,a.assert)("string"==typeof t,"Metadata: input is not a string");t=this._repair(t);var r=(new o.SimpleXMLParser).parseFromString(t);this._metadataMap=new Map;r&&this._parse(r)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(Metadata,[{key:"_repair",value:function _repair(t){return t.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(t,r){for(var i=r.replace(/\\([0-3])([0-7])([0-7])/g,(function(t,r,i,a){return String.fromCharCode(64*r+8*i+1*a)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(t,r){switch(r){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(r," isn't defined."))})),a="",o=0,l=i.length;o<l;o+=2){var c=256*i.charCodeAt(o)+i.charCodeAt(o+1);a+=c>=32&&c<127&&60!==c&&62!==c&&38!==c?String.fromCharCode(c):"&#x"+(65536+c).toString(16).substring(1)+";"}return">"+a}))}},{key:"_parse",value:function _parse(t){var r=t.documentElement;if("rdf:rdf"!==r.nodeName.toLowerCase()){r=r.firstChild;for(;r&&"rdf:rdf"!==r.nodeName.toLowerCase();)r=r.nextSibling}var i=r?r.nodeName.toLowerCase():null;if(r&&"rdf:rdf"===i&&r.hasChildNodes())for(var a=r.childNodes,o=0,l=a.length;o<l;o++){var c=a[o];if("rdf:description"===c.nodeName.toLowerCase())for(var u=0,d=c.childNodes.length;u<d;u++)if("#text"!==c.childNodes[u].nodeName.toLowerCase()){var h=c.childNodes[u],p=h.nodeName.toLowerCase();this._metadataMap.set(p,h.textContent.trim())}}}},{key:"get",value:function get(t){return this._metadataMap.has(t)?this._metadataMap.get(t):null}},{key:"getAll",value:function getAll(){return Object.fromEntries(this._metadataMap)}},{key:"has",value:function has(t){return this._metadataMap.has(t)}}]);return Metadata}();r.Metadata=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.SimpleXMLParser=void 0;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],a=!0,o=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){i.push(c.value);if(r&&i.length===r)break}}catch(t){o=!0;l=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw l}}return i}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _get(t,r,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,i){var a=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(i):o.value}})(t,r,i||t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}var a=0,o=-2,l=-3,c=-4,u=-5,d=-6,h=-9;function isWhitespace(t,r){var i=t[r];return" "===i||"\n"===i||"\r"===i||"\t"===i}var p=function(){function XMLParserBase(){_classCallCheck(this,XMLParserBase)}_createClass(XMLParserBase,[{key:"_resolveEntities",value:function _resolveEntities(t){var r=this;return t.replace(/&([^;]+);/g,(function(t,i){if("#x"===i.substring(0,2))return String.fromCharCode(parseInt(i.substring(2),16));if("#"===i.substring(0,1))return String.fromCharCode(parseInt(i.substring(1),10));switch(i){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return r.onResolveEntity(i)}))}},{key:"_parseContent",value:function _parseContent(t,r){var i=[],a=r;function skipWs(){for(;a<t.length&&isWhitespace(t,a);)++a}for(;a<t.length&&!isWhitespace(t,a)&&">"!==t[a]&&"/"!==t[a];)++a;var o=t.substring(r,a);skipWs();for(;a<t.length&&">"!==t[a]&&"/"!==t[a]&&"?"!==t[a];){skipWs();for(var l,c="";a<t.length&&!isWhitespace(t,a)&&"="!==t[a];){c+=t[a];++a}skipWs();if("="!==t[a])return null;++a;skipWs();var u=t[a];if('"'!==u&&"'"!==u)return null;var d=t.indexOf(u,++a);if(d<0)return null;l=t.substring(a,d);i.push({name:c,value:this._resolveEntities(l)});a=d+1;skipWs()}return{name:o,attributes:i,parsed:a-r}}},{key:"_parseProcessingInstruction",value:function _parseProcessingInstruction(t,r){var i=r;for(;i<t.length&&!isWhitespace(t,i)&&">"!==t[i]&&"/"!==t[i];)++i;var a=t.substring(r,i);!function skipWs(){for(;i<t.length&&isWhitespace(t,i);)++i}();for(var o=i;i<t.length&&("?"!==t[i]||">"!==t[i+1]);)++i;return{name:a,value:t.substring(o,i),parsed:i-r}}},{key:"parseXml",value:function parseXml(t){for(var r=0;r<t.length;){var i=r;if("<"===t[r]){var a=void 0;switch(t[++i]){case"/":++i;if((a=t.indexOf(">",i))<0){this.onError(h);return}this.onEndElement(t.substring(i,a));i=a+1;break;case"?":++i;var p=this._parseProcessingInstruction(t,i);if("?>"!==t.substring(i+p.parsed,i+p.parsed+2)){this.onError(l);return}this.onPi(p.name,p.value);i+=p.parsed+2;break;case"!":if("--"===t.substring(i+1,i+3)){if((a=t.indexOf("--\x3e",i+3))<0){this.onError(u);return}this.onComment(t.substring(i+3,a));i=a+3}else if("[CDATA["===t.substring(i+1,i+8)){if((a=t.indexOf("]]>",i+8))<0){this.onError(o);return}this.onCdata(t.substring(i+8,a));i=a+3}else{if("DOCTYPE"!==t.substring(i+1,i+8)){this.onError(d);return}var g=t.indexOf("[",i+8),v=!1;if((a=t.indexOf(">",i+8))<0){this.onError(c);return}if(g>0&&a>g){if((a=t.indexOf("]>",i+8))<0){this.onError(c);return}v=!0}var m=t.substring(i+8,a+(v?1:0));this.onDoctype(m);i=a+(v?2:1)}break;default:var y=this._parseContent(t,i);if(null===y){this.onError(d);return}var b=!1;if("/>"===t.substring(i+y.parsed,i+y.parsed+2))b=!0;else if(">"!==t.substring(i+y.parsed,i+y.parsed+1)){this.onError(h);return}this.onBeginElement(y.name,y.attributes,b);i+=y.parsed+(b?2:1)}}else{for(;i<t.length&&"<"!==t[i];)i++;var w=t.substring(r,i);this.onText(this._resolveEntities(w))}r=i}}},{key:"onResolveEntity",value:function onResolveEntity(t){return"&".concat(t,";")}},{key:"onPi",value:function onPi(t,r){}},{key:"onComment",value:function onComment(t){}},{key:"onCdata",value:function onCdata(t){}},{key:"onDoctype",value:function onDoctype(t){}},{key:"onText",value:function onText(t){}},{key:"onBeginElement",value:function onBeginElement(t,r,i){}},{key:"onEndElement",value:function onEndElement(t){}},{key:"onError",value:function onError(t){}}]);return XMLParserBase}(),g=function(){function SimpleDOMNode(t,r){_classCallCheck(this,SimpleDOMNode);this.nodeName=t;this.nodeValue=r;Object.defineProperty(this,"parentNode",{value:null,writable:!0})}_createClass(SimpleDOMNode,[{key:"hasChildNodes",value:function hasChildNodes(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function get(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function get(){var t=this.parentNode.childNodes;if(t){var r=t.indexOf(this);if(-1!==r)return t[r+1]}}},{key:"textContent",get:function get(){return this.childNodes?this.childNodes.map((function(t){return t.textContent})).join(""):this.nodeValue||""}}]);return SimpleDOMNode}(),v=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(SimpleXMLParser,t);var r=_createSuper(SimpleXMLParser);function SimpleXMLParser(){var t;_classCallCheck(this,SimpleXMLParser);(t=r.call(this))._currentFragment=null;t._stack=null;t._errorCode=a;return t}_createClass(SimpleXMLParser,[{key:"parseFromString",value:function parseFromString(t){this._currentFragment=[];this._stack=[];this._errorCode=a;this.parseXml(t);if(this._errorCode===a){var r=_slicedToArray(this._currentFragment,1)[0];if(r)return{documentElement:r}}}},{key:"onResolveEntity",value:function onResolveEntity(t){switch(t){case"apos":return"'"}return _get(_getPrototypeOf(SimpleXMLParser.prototype),"onResolveEntity",this).call(this,t)}},{key:"onText",value:function onText(t){if(!function isWhitespaceString(t){for(var r=0,i=t.length;r<i;r++)if(!isWhitespace(t,r))return!1;return!0}(t)){var r=new g("#text",t);this._currentFragment.push(r)}}},{key:"onCdata",value:function onCdata(t){var r=new g("#text",t);this._currentFragment.push(r)}},{key:"onBeginElement",value:function onBeginElement(t,r,i){var a=new g(t);a.childNodes=[];this._currentFragment.push(a);if(!i){this._stack.push(this._currentFragment);this._currentFragment=a.childNodes}}},{key:"onEndElement",value:function onEndElement(t){this._currentFragment=this._stack.pop()||[];var r=this._currentFragment[this._currentFragment.length-1];if(r)for(var i=0,a=r.childNodes.length;i<a;i++)r.childNodes[i].parentNode=r}},{key:"onError",value:function onError(t){this._errorCode=t}}]);return SimpleXMLParser}(p);r.SimpleXMLParser=v},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.OptionalContentConfig=void 0;var a=i(5);function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var o=function OptionalContentGroup(t,r){_classCallCheck(this,OptionalContentGroup);this.visible=!0;this.name=t;this.intent=r},l=function(){function OptionalContentConfig(t){_classCallCheck(this,OptionalContentConfig);this.name=null;this.creator=null;this._order=null;this._groups=new Map;if(null!==t){this.name=t.name;this.creator=t.creator;this._order=t.order;var r,i=_createForOfIteratorHelper(t.groups);try{for(i.s();!(r=i.n()).done;){var a=r.value;this._groups.set(a.id,new o(a.name,a.intent))}}catch(t){i.e(t)}finally{i.f()}if("OFF"===t.baseState){var l,c=_createForOfIteratorHelper(this._groups);try{for(c.s();!(l=c.n()).done;){l.value.visible=!1}}catch(t){c.e(t)}finally{c.f()}}var u,d=_createForOfIteratorHelper(t.on);try{for(d.s();!(u=d.n()).done;){var h=u.value;this._groups.get(h).visible=!0}}catch(t){d.e(t)}finally{d.f()}var p,g=_createForOfIteratorHelper(t.off);try{for(g.s();!(p=g.n()).done;){var v=p.value;this._groups.get(v).visible=!1}}catch(t){g.e(t)}finally{g.f()}}}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(OptionalContentConfig,[{key:"isVisible",value:function isVisible(t){if("OCG"===t.type){if(!this._groups.has(t.id)){(0,a.warn)("Optional content group not found: ".concat(t.id));return!0}return this._groups.get(t.id).visible}if("OCMD"===t.type){t.expression&&(0,a.warn)("Visibility expression not supported yet.");if(!t.policy||"AnyOn"===t.policy){var r,i=_createForOfIteratorHelper(t.ids);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(!this._groups.has(o)){(0,a.warn)("Optional content group not found: ".concat(o));return!0}if(this._groups.get(o).visible)return!0}}catch(t){i.e(t)}finally{i.f()}return!1}if("AllOn"===t.policy){var l,c=_createForOfIteratorHelper(t.ids);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(!this._groups.has(u)){(0,a.warn)("Optional content group not found: ".concat(u));return!0}if(!this._groups.get(u).visible)return!1}}catch(t){c.e(t)}finally{c.f()}return!0}if("AnyOff"===t.policy){var d,h=_createForOfIteratorHelper(t.ids);try{for(h.s();!(d=h.n()).done;){var p=d.value;if(!this._groups.has(p)){(0,a.warn)("Optional content group not found: ".concat(p));return!0}if(!this._groups.get(p).visible)return!0}}catch(t){h.e(t)}finally{h.f()}return!1}if("AllOff"===t.policy){var g,v=_createForOfIteratorHelper(t.ids);try{for(v.s();!(g=v.n()).done;){var m=g.value;if(!this._groups.has(m)){(0,a.warn)("Optional content group not found: ".concat(m));return!0}if(this._groups.get(m).visible)return!1}}catch(t){v.e(t)}finally{v.f()}return!0}(0,a.warn)("Unknown optional content policy ".concat(t.policy,"."));return!0}(0,a.warn)("Unknown group type ".concat(t.type,"."));return!0}},{key:"setVisibility",value:function setVisibility(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(t)?this._groups.get(t).visible=!!r:(0,a.warn)("Optional content group not found: ".concat(t))}},{key:"getOrder",value:function getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function getGroups(){return this._groups.size?Object.fromEntries(this._groups):null}},{key:"getGroup",value:function getGroup(t){return this._groups.get(t)||null}}]);return OptionalContentConfig}();r.OptionalContentConfig=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFDataTransportStream=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(5);function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}var l=function(){function PDFDataTransportStream(t,r){var i=this;_classCallCheck(this,PDFDataTransportStream);(0,o.assert)(r,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');this._queuedChunks=[];this._progressiveDone=t.progressiveDone||!1;var a=t.initialData;if(a&&a.length>0){var l=new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=r;this._isStreamingSupported=!t.disableStream;this._isRangeSupported=!t.disableRange;this._contentLength=t.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener((function(t,r){i._onReceiveData({begin:t,chunk:r})}));this._pdfDataRangeTransport.addProgressListener((function(t,r){i._onProgress({loaded:t,total:r})}));this._pdfDataRangeTransport.addProgressiveReadListener((function(t){i._onReceiveData({chunk:t})}));this._pdfDataRangeTransport.addProgressiveDoneListener((function(){i._onProgressiveDone()}));this._pdfDataRangeTransport.transportReady()}_createClass(PDFDataTransportStream,[{key:"_onReceiveData",value:function _onReceiveData(t){var r=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{var i=this._rangeReaders.some((function(i){if(i._begin!==t.begin)return!1;i._enqueue(r);return!0}));(0,o.assert)(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_onProgress",value:function _onProgress(t){if(void 0===t.total){var r=this._rangeReaders[0];r&&r.onProgress&&r.onProgress({loaded:t.loaded})}else{var i=this._fullRequestReader;i&&i.onProgress&&i.onProgress({loaded:t.loaded,total:t.total})}}},{key:"_onProgressiveDone",value:function _onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone();this._progressiveDone=!0}},{key:"_removeRangeReader",value:function _removeRangeReader(t){var r=this._rangeReaders.indexOf(t);r>=0&&this._rangeReaders.splice(r,1)}},{key:"getFullReader",value:function getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var t=this._queuedChunks;this._queuedChunks=null;return new c(this,t,this._progressiveDone)}},{key:"getRangeReader",value:function getRangeReader(t,r){if(r<=this._progressiveDataLength)return null;var i=new u(this,t,r);this._pdfDataRangeTransport.requestDataRange(t,r);this._rangeReaders.push(i);return i}},{key:"cancelAllRequests",value:function cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);this._rangeReaders.slice(0).forEach((function(r){r.cancel(t)}));this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function get(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]);return PDFDataTransportStream}();r.PDFDataTransportStream=l;var c=function(){function PDFDataTransportStreamReader(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,PDFDataTransportStreamReader);this._stream=t;this._done=i||!1;this._filename=null;this._queuedChunks=r||[];this._loaded=0;var a,o=_createForOfIteratorHelper(this._queuedChunks);try{for(o.s();!(a=o.n()).done;){var l=a.value;this._loaded+=l.byteLength}}catch(t){o.e(t)}finally{o.f()}this._requests=[];this._headersReady=Promise.resolve();t._fullRequestReader=this;this.onProgress=null}_createClass(PDFDataTransportStreamReader,[{key:"_enqueue",value:function _enqueue(t){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}},{key:"read",value:(t=_asyncToGenerator(a.default.mark((function _callee(){var t,r;return a.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!(this._queuedChunks.length>0)){i.next=3;break}t=this._queuedChunks.shift();return i.abrupt("return",{value:t,done:!1});case 3:if(!this._done){i.next=5;break}return i.abrupt("return",{value:void 0,done:!0});case 5:r=(0,o.createPromiseCapability)();this._requests.push(r);return i.abrupt("return",r.promise);case 8:case"end":return i.stop()}}),_callee,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._done=!0;this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[]}},{key:"progressiveDone",value:function progressiveDone(){this._done||(this._done=!0)}},{key:"headersReady",get:function get(){return this._headersReady}},{key:"filename",get:function get(){return this._filename}},{key:"isRangeSupported",get:function get(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function get(){return this._stream._contentLength}}]);var t;return PDFDataTransportStreamReader}(),u=function(){function PDFDataTransportStreamRangeReader(t,r,i){_classCallCheck(this,PDFDataTransportStreamRangeReader);this._stream=t;this._begin=r;this._end=i;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}_createClass(PDFDataTransportStreamRangeReader,[{key:"_enqueue",value:function _enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[]}this._done=!0;this._stream._removeRangeReader(this)}}},{key:"read",value:(t=_asyncToGenerator(a.default.mark((function _callee2(){var t,r;return a.default.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(!this._queuedChunk){i.next=4;break}t=this._queuedChunk;this._queuedChunk=null;return i.abrupt("return",{value:t,done:!1});case 4:if(!this._done){i.next=6;break}return i.abrupt("return",{value:void 0,done:!0});case 6:r=(0,o.createPromiseCapability)();this._requests.push(r);return i.abrupt("return",r.promise);case 9:case"end":return i.stop()}}),_callee2,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._done=!0;this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[];this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function get(){return!1}}]);var t;return PDFDataTransportStreamRangeReader}()},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.WebGLContext=void 0;var a=i(5);function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var o=function(){function WebGLContext(t){var r=t.enable,i=void 0!==r&&r;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,WebGLContext);this._enabled=!0===i}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(WebGLContext,[{key:"composeSMask",value:function composeSMask(t){var r=t.layer,i=t.mask,a=t.properties;return l.composeSMask(r,i,a)}},{key:"drawFigures",value:function drawFigures(t){var r=t.width,i=t.height,a=t.backgroundColor,o=t.figures,c=t.context;return l.drawFigures(r,i,a,o,c)}},{key:"clear",value:function clear(){l.cleanup()}},{key:"isEnabled",get:function get(){var t=this._enabled;t&&(t=l.tryInitGL());return(0,a.shadow)(this,"isEnabled",t)}}]);return WebGLContext}();r.WebGLContext=o;var l=function WebGLUtilsClosure(){function loadShader(t,r,i){var a=t.createShader(i);t.shaderSource(a,r);t.compileShader(a);if(!t.getShaderParameter(a,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(a);throw new Error("Error during shader compilation: "+o)}return a}function createVertexShader(t,r){return loadShader(t,r,t.VERTEX_SHADER)}function createFragmentShader(t,r){return loadShader(t,r,t.FRAGMENT_SHADER)}function createProgram(t,r){for(var i=t.createProgram(),a=0,o=r.length;a<o;++a)t.attachShader(i,r[a]);t.linkProgram(i);if(!t.getProgramParameter(i,t.LINK_STATUS)){var l=t.getProgramInfoLog(i);throw new Error("Error during program linking: "+l)}return i}function createTexture(t,r,i){t.activeTexture(i);var a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r);return a}var t,r;function generateGL(){if(!t){r=document.createElement("canvas");t=r.getContext("webgl",{premultipliedalpha:!1})}}var i=null;var a=null;return{tryInitGL:function tryInitGL(){try{generateGL();return!!t}catch(t){}return!1},composeSMask:function composeSMask(a,o,l){var c=a.width,u=a.height;i||function initSmaskGL(){var a,o;generateGL();a=r;r=null;o=t;t=null;var l=createProgram(o,[createVertexShader(o,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),createFragmentShader(o,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);o.useProgram(l);var c={};c.gl=o;c.canvas=a;c.resolutionLocation=o.getUniformLocation(l,"u_resolution");c.positionLocation=o.getAttribLocation(l,"a_position");c.backdropLocation=o.getUniformLocation(l,"u_backdrop");c.subtypeLocation=o.getUniformLocation(l,"u_subtype");var u=o.getAttribLocation(l,"a_texCoord"),d=o.getUniformLocation(l,"u_image"),h=o.getUniformLocation(l,"u_mask"),p=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,p);o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),o.STATIC_DRAW);o.enableVertexAttribArray(u);o.vertexAttribPointer(u,2,o.FLOAT,!1,0,0);o.uniform1i(d,0);o.uniform1i(h,1);i=c}();var d=i,h=d.canvas,p=d.gl;h.width=c;h.height=u;p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight);p.uniform2f(d.resolutionLocation,c,u);l.backdrop?p.uniform4f(d.resolutionLocation,l.backdrop[0],l.backdrop[1],l.backdrop[2],1):p.uniform4f(d.resolutionLocation,0,0,0,0);p.uniform1i(d.subtypeLocation,"Luminosity"===l.subtype?1:0);var g=createTexture(p,a,p.TEXTURE0),v=createTexture(p,o,p.TEXTURE1),m=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,m);p.bufferData(p.ARRAY_BUFFER,new Float32Array([0,0,c,0,0,u,0,u,c,0,c,u]),p.STATIC_DRAW);p.enableVertexAttribArray(d.positionLocation);p.vertexAttribPointer(d.positionLocation,2,p.FLOAT,!1,0,0);p.clearColor(0,0,0,0);p.enable(p.BLEND);p.blendFunc(p.ONE,p.ONE_MINUS_SRC_ALPHA);p.clear(p.COLOR_BUFFER_BIT);p.drawArrays(p.TRIANGLES,0,6);p.flush();p.deleteTexture(g);p.deleteTexture(v);p.deleteBuffer(m);return h},drawFigures:function drawFigures(i,o,l,c,u){a||function initFiguresGL(){var i,o;generateGL();i=r;r=null;o=t;t=null;var l=createProgram(o,[createVertexShader(o,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),createFragmentShader(o,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);o.useProgram(l);var c={};c.gl=o;c.canvas=i;c.resolutionLocation=o.getUniformLocation(l,"u_resolution");c.scaleLocation=o.getUniformLocation(l,"u_scale");c.offsetLocation=o.getUniformLocation(l,"u_offset");c.positionLocation=o.getAttribLocation(l,"a_position");c.colorLocation=o.getAttribLocation(l,"a_color");a=c}();var d=a,h=d.canvas,p=d.gl;h.width=i;h.height=o;p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight);p.uniform2f(d.resolutionLocation,i,o);var g,v,m,y=0;for(g=0,v=c.length;g<v;g++)switch(c[g].type){case"lattice":y+=((m=c[g].coords.length/c[g].verticesPerRow|0)-1)*(c[g].verticesPerRow-1)*6;break;case"triangles":y+=c[g].coords.length}var b=new Float32Array(2*y),w=new Uint8Array(3*y),S=u.coords,C=u.colors,P=0,k=0;for(g=0,v=c.length;g<v;g++){var A=c[g],R=A.coords,x=A.colors;switch(A.type){case"lattice":var T=A.verticesPerRow;m=R.length/T|0;for(var E=1;E<m;E++)for(var I=E*T+1,L=1;L<T;L++,I++){b[P]=S[R[I-T-1]];b[P+1]=S[R[I-T-1]+1];b[P+2]=S[R[I-T]];b[P+3]=S[R[I-T]+1];b[P+4]=S[R[I-1]];b[P+5]=S[R[I-1]+1];w[k]=C[x[I-T-1]];w[k+1]=C[x[I-T-1]+1];w[k+2]=C[x[I-T-1]+2];w[k+3]=C[x[I-T]];w[k+4]=C[x[I-T]+1];w[k+5]=C[x[I-T]+2];w[k+6]=C[x[I-1]];w[k+7]=C[x[I-1]+1];w[k+8]=C[x[I-1]+2];b[P+6]=b[P+2];b[P+7]=b[P+3];b[P+8]=b[P+4];b[P+9]=b[P+5];b[P+10]=S[R[I]];b[P+11]=S[R[I]+1];w[k+9]=w[k+3];w[k+10]=w[k+4];w[k+11]=w[k+5];w[k+12]=w[k+6];w[k+13]=w[k+7];w[k+14]=w[k+8];w[k+15]=C[x[I]];w[k+16]=C[x[I]+1];w[k+17]=C[x[I]+2];P+=12;k+=18}break;case"triangles":for(var O=0,D=R.length;O<D;O++){b[P]=S[R[O]];b[P+1]=S[R[O]+1];w[k]=C[x[O]];w[k+1]=C[x[O]+1];w[k+2]=C[x[O]+2];P+=2;k+=3}}}l?p.clearColor(l[0]/255,l[1]/255,l[2]/255,1):p.clearColor(0,0,0,0);p.clear(p.COLOR_BUFFER_BIT);var M=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,M);p.bufferData(p.ARRAY_BUFFER,b,p.STATIC_DRAW);p.enableVertexAttribArray(d.positionLocation);p.vertexAttribPointer(d.positionLocation,2,p.FLOAT,!1,0,0);var N=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,N);p.bufferData(p.ARRAY_BUFFER,w,p.STATIC_DRAW);p.enableVertexAttribArray(d.colorLocation);p.vertexAttribPointer(d.colorLocation,3,p.UNSIGNED_BYTE,!1,0,0);p.uniform2f(d.scaleLocation,u.scaleX,u.scaleY);p.uniform2f(d.offsetLocation,u.offsetX,u.offsetY);p.drawArrays(p.TRIANGLES,0,y);p.flush();p.deleteBuffer(M);p.deleteBuffer(N);return h},cleanup:function cleanup(){if(i&&i.canvas){i.canvas.width=0;i.canvas.height=0}if(a&&a.canvas){a.canvas.width=0;a.canvas.height=0}i=null;a=null}}}()},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.AnnotationLayer=void 0;var a=i(1),o=i(5),l=i(205);function _get(t,r,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,i){var a=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(i):o.value}})(t,r,i||t)}function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?_assertThisInitialized(t):r}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}var c=function(){function AnnotationElementFactory(){_classCallCheck(this,AnnotationElementFactory)}_createClass(AnnotationElementFactory,null,[{key:"create",value:function create(t){switch(t.data.annotationType){case o.AnnotationType.LINK:return new d(t);case o.AnnotationType.TEXT:return new h(t);case o.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new g(t);case"Btn":return t.data.radioButton?new m(t):t.data.checkBox?new v(t):new y(t);case"Ch":return new b(t)}return new p(t);case o.AnnotationType.POPUP:return new w(t);case o.AnnotationType.FREETEXT:return new C(t);case o.AnnotationType.LINE:return new P(t);case o.AnnotationType.SQUARE:return new k(t);case o.AnnotationType.CIRCLE:return new A(t);case o.AnnotationType.POLYLINE:return new R(t);case o.AnnotationType.CARET:return new T(t);case o.AnnotationType.INK:return new E(t);case o.AnnotationType.POLYGON:return new x(t);case o.AnnotationType.HIGHLIGHT:return new I(t);case o.AnnotationType.UNDERLINE:return new L(t);case o.AnnotationType.SQUIGGLY:return new O(t);case o.AnnotationType.STRIKEOUT:return new D(t);case o.AnnotationType.STAMP:return new M(t);case o.AnnotationType.FILEATTACHMENT:return new N(t);default:return new u(t)}}}]);return AnnotationElementFactory}(),u=function(){function AnnotationElement(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,AnnotationElement);this.isRenderable=r;this.data=t.data;this.layer=t.layer;this.page=t.page;this.viewport=t.viewport;this.linkService=t.linkService;this.downloadManager=t.downloadManager;this.imageResourcesPath=t.imageResourcesPath;this.renderInteractiveForms=t.renderInteractiveForms;this.svgFactory=t.svgFactory;this.annotationStorage=t.annotationStorage;r&&(this.container=this._createContainer(i))}_createClass(AnnotationElement,[{key:"_createContainer",value:function _createContainer(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.data,i=this.page,a=this.viewport,l=document.createElement("section"),c=r.rect[2]-r.rect[0],u=r.rect[3]-r.rect[1];l.setAttribute("data-annotation-id",r.id);var d=o.Util.normalizeRect([r.rect[0],i.view[3]-r.rect[1]+i.view[1],r.rect[2],i.view[3]-r.rect[3]+i.view[1]]);l.style.transform="matrix(".concat(a.transform.join(","),")");l.style.transformOrigin="-".concat(d[0],"px -").concat(d[1],"px");if(!t&&r.borderStyle.width>0){l.style.borderWidth="".concat(r.borderStyle.width,"px");if(r.borderStyle.style!==o.AnnotationBorderStyleType.UNDERLINE){c-=2*r.borderStyle.width;u-=2*r.borderStyle.width}var h=r.borderStyle.horizontalCornerRadius,p=r.borderStyle.verticalCornerRadius;if(h>0||p>0){var g="".concat(h,"px / ").concat(p,"px");l.style.borderRadius=g}switch(r.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:l.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:l.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:l.style.borderBottomStyle="solid"}r.color?l.style.borderColor=o.Util.makeCssRgb(0|r.color[0],0|r.color[1],0|r.color[2]):l.style.borderWidth=0}l.style.left="".concat(d[0],"px");l.style.top="".concat(d[1],"px");l.style.width="".concat(c,"px");l.style.height="".concat(u,"px");return l}},{key:"_createPopup",value:function _createPopup(t,r,i){if(!r){(r=document.createElement("div")).style.height=t.style.height;r.style.width=t.style.width;t.appendChild(r)}var a=new S({container:t,trigger:r,color:i.color,title:i.title,modificationDate:i.modificationDate,contents:i.contents,hideWrapper:!0}).render();a.style.left=t.style.width;t.appendChild(a)}},{key:"render",value:function render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}}]);return AnnotationElement}(),d=function(t){_inherits(LinkAnnotationElement,t);var r=_createSuper(LinkAnnotationElement);function LinkAnnotationElement(t){_classCallCheck(this,LinkAnnotationElement);var i=!!(t.data.url||t.data.dest||t.data.action);return r.call(this,t,i)}_createClass(LinkAnnotationElement,[{key:"render",value:function render(){this.container.className="linkAnnotation";var t=this.data,r=this.linkService,i=document.createElement("a");t.url?(0,a.addLinkAttributes)(i,{url:t.url,target:t.newWindow?a.LinkTarget.BLANK:r.externalLinkTarget,rel:r.externalLinkRel,enabled:r.externalLinkEnabled}):t.action?this._bindNamedAction(i,t.action):this._bindLink(i,t.dest);this.container.appendChild(i);return this.container}},{key:"_bindLink",value:function _bindLink(t,r){var i=this;t.href=this.linkService.getDestinationHash(r);t.onclick=function(){r&&i.linkService.navigateTo(r);return!1};r&&(t.className="internalLink")}},{key:"_bindNamedAction",value:function _bindNamedAction(t,r){var i=this;t.href=this.linkService.getAnchorUrl("");t.onclick=function(){i.linkService.executeNamedAction(r);return!1};t.className="internalLink"}}]);return LinkAnnotationElement}(u),h=function(t){_inherits(TextAnnotationElement,t);var r=_createSuper(TextAnnotationElement);function TextAnnotationElement(t){_classCallCheck(this,TextAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,i)}_createClass(TextAnnotationElement,[{key:"render",value:function render(){this.container.className="textAnnotation";var t=document.createElement("img");t.style.height=this.container.style.height;t.style.width=this.container.style.width;t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";t.alt="[{{type}} Annotation]";t.dataset.l10nId="text_annotation_type";t.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(this.container,t,this.data);this.container.appendChild(t);return this.container}}]);return TextAnnotationElement}(u),p=function(t){_inherits(WidgetAnnotationElement,t);var r=_createSuper(WidgetAnnotationElement);function WidgetAnnotationElement(){_classCallCheck(this,WidgetAnnotationElement);return r.apply(this,arguments)}_createClass(WidgetAnnotationElement,[{key:"render",value:function render(){return this.container}}]);return WidgetAnnotationElement}(u),g=function(t){_inherits(TextWidgetAnnotationElement,t);var r=_createSuper(TextWidgetAnnotationElement);function TextWidgetAnnotationElement(t){_classCallCheck(this,TextWidgetAnnotationElement);var i=t.renderInteractiveForms||!t.data.hasAppearance&&!!t.data.fieldValue;return r.call(this,t,i)}_createClass(TextWidgetAnnotationElement,[{key:"render",value:function render(){var t=this.annotationStorage,r=this.data.id;this.container.className="textWidgetAnnotation";var i=null;if(this.renderInteractiveForms){var a=t.getOrCreateValue(r,this.data.fieldValue);if(this.data.multiLine)(i=document.createElement("textarea")).textContent=a;else{(i=document.createElement("input")).type="text";i.setAttribute("value",a)}i.addEventListener("input",(function(i){t.setValue(r,i.target.value)}));i.disabled=this.data.readOnly;i.name=this.data.fieldName;null!==this.data.maxLen&&(i.maxLength=this.data.maxLen);if(this.data.comb){var o=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;i.classList.add("comb");i.style.letterSpacing="calc(".concat(o,"px - 1ch)")}}else{(i=document.createElement("div")).textContent=this.data.fieldValue;i.style.verticalAlign="middle";i.style.display="table-cell";var l=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(l=this.page.commonObjs.get(this.data.fontRefName));this._setTextStyle(i,l)}null!==this.data.textAlignment&&(i.style.textAlign=["left","center","right"][this.data.textAlignment]);this.container.appendChild(i);return this.container}},{key:"_setTextStyle",value:function _setTextStyle(t,r){var i=t.style;i.fontSize="".concat(this.data.fontSize,"px");i.direction=this.data.fontDirection<0?"rtl":"ltr";if(r){var a="normal";r.black?a="900":r.bold&&(a="bold");i.fontWeight=a;i.fontStyle=r.italic?"italic":"normal";var o=r.loadedName?'"'.concat(r.loadedName,'", '):"",l=r.fallbackName||"Helvetica, sans-serif";i.fontFamily=o+l}}}]);return TextWidgetAnnotationElement}(p),v=function(t){_inherits(CheckboxWidgetAnnotationElement,t);var r=_createSuper(CheckboxWidgetAnnotationElement);function CheckboxWidgetAnnotationElement(t){_classCallCheck(this,CheckboxWidgetAnnotationElement);return r.call(this,t,t.renderInteractiveForms)}_createClass(CheckboxWidgetAnnotationElement,[{key:"render",value:function render(){var t=this.annotationStorage,r=this.data,i=r.id,a=t.getOrCreateValue(i,r.fieldValue&&"Off"!==r.fieldValue);this.container.className="buttonWidgetAnnotation checkBox";var o=document.createElement("input");o.disabled=r.readOnly;o.type="checkbox";o.name=this.data.fieldName;a&&o.setAttribute("checked",!0);o.addEventListener("change",(function(r){t.setValue(i,r.target.checked)}));this.container.appendChild(o);return this.container}}]);return CheckboxWidgetAnnotationElement}(p),m=function(t){_inherits(RadioButtonWidgetAnnotationElement,t);var r=_createSuper(RadioButtonWidgetAnnotationElement);function RadioButtonWidgetAnnotationElement(t){_classCallCheck(this,RadioButtonWidgetAnnotationElement);return r.call(this,t,t.renderInteractiveForms)}_createClass(RadioButtonWidgetAnnotationElement,[{key:"render",value:function render(){this.container.className="buttonWidgetAnnotation radioButton";var t=this.annotationStorage,r=this.data,i=r.id,a=t.getOrCreateValue(i,r.fieldValue===r.buttonValue),o=document.createElement("input");o.disabled=r.readOnly;o.type="radio";o.name=r.fieldName;a&&o.setAttribute("checked",!0);o.addEventListener("change",(function(r){var a,o=r.target.name,l=_createForOfIteratorHelper(document.getElementsByName(o));try{for(l.s();!(a=l.n()).done;){var c=a.value;c!==r.target&&t.setValue(c.parentNode.getAttribute("data-annotation-id"),!1)}}catch(t){l.e(t)}finally{l.f()}t.setValue(i,r.target.checked)}));this.container.appendChild(o);return this.container}}]);return RadioButtonWidgetAnnotationElement}(p),y=function(t){_inherits(PushButtonWidgetAnnotationElement,t);var r=_createSuper(PushButtonWidgetAnnotationElement);function PushButtonWidgetAnnotationElement(){_classCallCheck(this,PushButtonWidgetAnnotationElement);return r.apply(this,arguments)}_createClass(PushButtonWidgetAnnotationElement,[{key:"render",value:function render(){var t=_get(_getPrototypeOf(PushButtonWidgetAnnotationElement.prototype),"render",this).call(this);t.className="buttonWidgetAnnotation pushButton";return t}}]);return PushButtonWidgetAnnotationElement}(d),b=function(t){_inherits(ChoiceWidgetAnnotationElement,t);var r=_createSuper(ChoiceWidgetAnnotationElement);function ChoiceWidgetAnnotationElement(t){_classCallCheck(this,ChoiceWidgetAnnotationElement);return r.call(this,t,t.renderInteractiveForms)}_createClass(ChoiceWidgetAnnotationElement,[{key:"render",value:function render(){this.container.className="choiceWidgetAnnotation";var t=this.annotationStorage,r=this.data.id;t.getOrCreateValue(r,this.data.fieldValue.length>0?this.data.fieldValue[0]:null);var i=document.createElement("select");i.disabled=this.data.readOnly;i.name=this.data.fieldName;if(!this.data.combo){i.size=this.data.options.length;this.data.multiSelect&&(i.multiple=!0)}var a,o=_createForOfIteratorHelper(this.data.options);try{for(o.s();!(a=o.n()).done;){var l=a.value,c=document.createElement("option");c.textContent=l.displayValue;c.value=l.exportValue;this.data.fieldValue.includes(l.exportValue)&&c.setAttribute("selected",!0);i.appendChild(c)}}catch(t){o.e(t)}finally{o.f()}i.addEventListener("input",(function(i){var a=i.target.options,o=a[a.selectedIndex].value;t.setValue(r,o)}));this.container.appendChild(i);return this.container}}]);return ChoiceWidgetAnnotationElement}(p),w=function(t){_inherits(PopupAnnotationElement,t);var r=_createSuper(PopupAnnotationElement);function PopupAnnotationElement(t){_classCallCheck(this,PopupAnnotationElement);var i=!(!t.data.title&&!t.data.contents);return r.call(this,t,i)}_createClass(PopupAnnotationElement,[{key:"render",value:function render(){this.container.className="popupAnnotation";if(["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var t='[data-annotation-id="'.concat(this.data.parentId,'"]'),r=this.layer.querySelector(t);if(!r)return this.container;var i=new S({container:this.container,trigger:r,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),a=parseFloat(r.style.left),o=parseFloat(r.style.width);this.container.style.transformOrigin="-".concat(a+o,"px -").concat(r.style.top);this.container.style.left="".concat(a+o,"px");this.container.appendChild(i.render());return this.container}}]);return PopupAnnotationElement}(u),S=function(){function PopupElement(t){_classCallCheck(this,PopupElement);this.container=t.container;this.trigger=t.trigger;this.color=t.color;this.title=t.title;this.modificationDate=t.modificationDate;this.contents=t.contents;this.hideWrapper=t.hideWrapper||!1;this.pinned=!1}_createClass(PopupElement,[{key:"render",value:function render(){var t=document.createElement("div");t.className="popupWrapper";this.hideElement=this.hideWrapper?t:this.container;this.hideElement.setAttribute("hidden",!0);var r=document.createElement("div");r.className="popup";var i=this.color;if(i){var l=.7*(255-i[0])+i[0],c=.7*(255-i[1])+i[1],u=.7*(255-i[2])+i[2];r.style.backgroundColor=o.Util.makeCssRgb(0|l,0|c,0|u)}var d=document.createElement("h1");d.textContent=this.title;r.appendChild(d);var h=a.PDFDateString.toDateObject(this.modificationDate);if(h){var p=document.createElement("span");p.textContent="{{date}}, {{time}}";p.dataset.l10nId="annotation_date_string";p.dataset.l10nArgs=JSON.stringify({date:h.toLocaleDateString(),time:h.toLocaleTimeString()});r.appendChild(p)}var g=this._formatContents(this.contents);r.appendChild(g);this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,!1));this.trigger.addEventListener("mouseout",this._hide.bind(this,!1));r.addEventListener("click",this._hide.bind(this,!0));t.appendChild(r);return t}},{key:"_formatContents",value:function _formatContents(t){for(var r=document.createElement("p"),i=t.split(/(?:\r\n?|\n)/),a=0,o=i.length;a<o;++a){var l=i[a];r.appendChild(document.createTextNode(l));a<o-1&&r.appendChild(document.createElement("br"))}return r}},{key:"_toggle",value:function _toggle(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function _show(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.pinned=!0);if(this.hideElement.hasAttribute("hidden")){this.hideElement.removeAttribute("hidden");this.container.style.zIndex+=1}}},{key:"_hide",value:function _hide(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(this.pinned=!1);if(!this.hideElement.hasAttribute("hidden")&&!this.pinned){this.hideElement.setAttribute("hidden",!0);this.container.style.zIndex-=1}}}]);return PopupElement}(),C=function(t){_inherits(FreeTextAnnotationElement,t);var r=_createSuper(FreeTextAnnotationElement);function FreeTextAnnotationElement(t){_classCallCheck(this,FreeTextAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,i,!0)}_createClass(FreeTextAnnotationElement,[{key:"render",value:function render(){this.container.className="freeTextAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return FreeTextAnnotationElement}(u),P=function(t){_inherits(LineAnnotationElement,t);var r=_createSuper(LineAnnotationElement);function LineAnnotationElement(t){_classCallCheck(this,LineAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,i,!0)}_createClass(LineAnnotationElement,[{key:"render",value:function render(){this.container.className="lineAnnotation";var t=this.data,r=t.rect[2]-t.rect[0],i=t.rect[3]-t.rect[1],a=this.svgFactory.create(r,i),o=this.svgFactory.createElement("svg:line");o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]);o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]);o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]);o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]);o.setAttribute("stroke-width",t.borderStyle.width||1);o.setAttribute("stroke","transparent");a.appendChild(o);this.container.append(a);this._createPopup(this.container,o,t);return this.container}}]);return LineAnnotationElement}(u),k=function(t){_inherits(SquareAnnotationElement,t);var r=_createSuper(SquareAnnotationElement);function SquareAnnotationElement(t){_classCallCheck(this,SquareAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,i,!0)}_createClass(SquareAnnotationElement,[{key:"render",value:function render(){this.container.className="squareAnnotation";var t=this.data,r=t.rect[2]-t.rect[0],i=t.rect[3]-t.rect[1],a=this.svgFactory.create(r,i),o=t.borderStyle.width,l=this.svgFactory.createElement("svg:rect");l.setAttribute("x",o/2);l.setAttribute("y",o/2);l.setAttribute("width",r-o);l.setAttribute("height",i-o);l.setAttribute("stroke-width",o||1);l.setAttribute("stroke","transparent");l.setAttribute("fill","none");a.appendChild(l);this.container.append(a);this._createPopup(this.container,l,t);return this.container}}]);return SquareAnnotationElement}(u),A=function(t){_inherits(CircleAnnotationElement,t);var r=_createSuper(CircleAnnotationElement);function CircleAnnotationElement(t){_classCallCheck(this,CircleAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,i,!0)}_createClass(CircleAnnotationElement,[{key:"render",value:function render(){this.container.className="circleAnnotation";var t=this.data,r=t.rect[2]-t.rect[0],i=t.rect[3]-t.rect[1],a=this.svgFactory.create(r,i),o=t.borderStyle.width,l=this.svgFactory.createElement("svg:ellipse");l.setAttribute("cx",r/2);l.setAttribute("cy",i/2);l.setAttribute("rx",r/2-o/2);l.setAttribute("ry",i/2-o/2);l.setAttribute("stroke-width",o||1);l.setAttribute("stroke","transparent");l.setAttribute("fill","none");a.appendChild(l);this.container.append(a);this._createPopup(this.container,l,t);return this.container}}]);return CircleAnnotationElement}(u),R=function(t){_inherits(PolylineAnnotationElement,t);var r=_createSuper(PolylineAnnotationElement);function PolylineAnnotationElement(t){var i;_classCallCheck(this,PolylineAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);(i=r.call(this,t,a,!0)).containerClassName="polylineAnnotation";i.svgElementName="svg:polyline";return i}_createClass(PolylineAnnotationElement,[{key:"render",value:function render(){this.container.className=this.containerClassName;var t,r=this.data,i=r.rect[2]-r.rect[0],a=r.rect[3]-r.rect[1],o=this.svgFactory.create(i,a),l=[],c=_createForOfIteratorHelper(r.vertices);try{for(c.s();!(t=c.n()).done;){var u=t.value,d=u.x-r.rect[0],h=r.rect[3]-u.y;l.push(d+","+h)}}catch(t){c.e(t)}finally{c.f()}l=l.join(" ");var p=this.svgFactory.createElement(this.svgElementName);p.setAttribute("points",l);p.setAttribute("stroke-width",r.borderStyle.width||1);p.setAttribute("stroke","transparent");p.setAttribute("fill","none");o.appendChild(p);this.container.append(o);this._createPopup(this.container,p,r);return this.container}}]);return PolylineAnnotationElement}(u),x=function(t){_inherits(PolygonAnnotationElement,t);var r=_createSuper(PolygonAnnotationElement);function PolygonAnnotationElement(t){var i;_classCallCheck(this,PolygonAnnotationElement);(i=r.call(this,t)).containerClassName="polygonAnnotation";i.svgElementName="svg:polygon";return i}return PolygonAnnotationElement}(R),T=function(t){_inherits(CaretAnnotationElement,t);var r=_createSuper(CaretAnnotationElement);function CaretAnnotationElement(t){_classCallCheck(this,CaretAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,i,!0)}_createClass(CaretAnnotationElement,[{key:"render",value:function render(){this.container.className="caretAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return CaretAnnotationElement}(u),E=function(t){_inherits(InkAnnotationElement,t);var r=_createSuper(InkAnnotationElement);function InkAnnotationElement(t){var i;_classCallCheck(this,InkAnnotationElement);var a=!!(t.data.hasPopup||t.data.title||t.data.contents);(i=r.call(this,t,a,!0)).containerClassName="inkAnnotation";i.svgElementName="svg:polyline";return i}_createClass(InkAnnotationElement,[{key:"render",value:function render(){this.container.className=this.containerClassName;var t,r=this.data,i=r.rect[2]-r.rect[0],a=r.rect[3]-r.rect[1],o=this.svgFactory.create(i,a),l=_createForOfIteratorHelper(r.inkLists);try{for(l.s();!(t=l.n()).done;){var c,u=t.value,d=[],h=_createForOfIteratorHelper(u);try{for(h.s();!(c=h.n()).done;){var p=c.value,g=p.x-r.rect[0],v=r.rect[3]-p.y;d.push("".concat(g,",").concat(v))}}catch(t){h.e(t)}finally{h.f()}d=d.join(" ");var m=this.svgFactory.createElement(this.svgElementName);m.setAttribute("points",d);m.setAttribute("stroke-width",r.borderStyle.width||1);m.setAttribute("stroke","transparent");m.setAttribute("fill","none");this._createPopup(this.container,m,r);o.appendChild(m)}}catch(t){l.e(t)}finally{l.f()}this.container.append(o);return this.container}}]);return InkAnnotationElement}(u),I=function(t){_inherits(HighlightAnnotationElement,t);var r=_createSuper(HighlightAnnotationElement);function HighlightAnnotationElement(t){_classCallCheck(this,HighlightAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,i,!0)}_createClass(HighlightAnnotationElement,[{key:"render",value:function render(){this.container.className="highlightAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return HighlightAnnotationElement}(u),L=function(t){_inherits(UnderlineAnnotationElement,t);var r=_createSuper(UnderlineAnnotationElement);function UnderlineAnnotationElement(t){_classCallCheck(this,UnderlineAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,i,!0)}_createClass(UnderlineAnnotationElement,[{key:"render",value:function render(){this.container.className="underlineAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return UnderlineAnnotationElement}(u),O=function(t){_inherits(SquigglyAnnotationElement,t);var r=_createSuper(SquigglyAnnotationElement);function SquigglyAnnotationElement(t){_classCallCheck(this,SquigglyAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,i,!0)}_createClass(SquigglyAnnotationElement,[{key:"render",value:function render(){this.container.className="squigglyAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return SquigglyAnnotationElement}(u),D=function(t){_inherits(StrikeOutAnnotationElement,t);var r=_createSuper(StrikeOutAnnotationElement);function StrikeOutAnnotationElement(t){_classCallCheck(this,StrikeOutAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,i,!0)}_createClass(StrikeOutAnnotationElement,[{key:"render",value:function render(){this.container.className="strikeoutAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return StrikeOutAnnotationElement}(u),M=function(t){_inherits(StampAnnotationElement,t);var r=_createSuper(StampAnnotationElement);function StampAnnotationElement(t){_classCallCheck(this,StampAnnotationElement);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return r.call(this,t,i,!0)}_createClass(StampAnnotationElement,[{key:"render",value:function render(){this.container.className="stampAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return StampAnnotationElement}(u),N=function(t){_inherits(FileAttachmentAnnotationElement,t);var r=_createSuper(FileAttachmentAnnotationElement);function FileAttachmentAnnotationElement(t){var i;_classCallCheck(this,FileAttachmentAnnotationElement);var l=(i=r.call(this,t,!0)).data.file,c=l.filename,u=l.content;i.filename=(0,a.getFilenameFromUrl)(c);i.content=u;i.linkService.eventBus&&i.linkService.eventBus.dispatch("fileattachmentannotation",{source:_assertThisInitialized(i),id:(0,o.stringToPDFString)(c),filename:c,content:u});return i}_createClass(FileAttachmentAnnotationElement,[{key:"render",value:function render(){this.container.className="fileAttachmentAnnotation";var t=document.createElement("div");t.style.height=this.container.style.height;t.style.width=this.container.style.width;t.addEventListener("dblclick",this._download.bind(this));this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,t,this.data);this.container.appendChild(t);return this.container}},{key:"_download",value:function _download(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,o.warn)("Download cannot be started due to unavailable download manager")}}]);return FileAttachmentAnnotationElement}(u),B=function(){function AnnotationLayer(){_classCallCheck(this,AnnotationLayer)}_createClass(AnnotationLayer,null,[{key:"render",value:function render(t){var r,i=[],u=[],d=_createForOfIteratorHelper(t.annotations);try{for(d.s();!(r=d.n()).done;){var h=r.value;h&&(h.annotationType!==o.AnnotationType.POPUP?i.push(h):u.push(h))}}catch(t){d.e(t)}finally{d.f()}u.length&&i.push.apply(i,u);for(var p=0,g=i;p<g.length;p++){var v=g[p],m=c.create({data:v,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderInteractiveForms:"boolean"!=typeof t.renderInteractiveForms||t.renderInteractiveForms,svgFactory:new a.DOMSVGFactory,annotationStorage:t.annotationStorage||new l.AnnotationStorage});m.isRenderable&&t.div.appendChild(m.render())}}},{key:"update",value:function update(t){var r,i=_createForOfIteratorHelper(t.annotations);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t.div.querySelector('[data-annotation-id="'.concat(a.id,'"]'));o&&(o.style.transform="matrix(".concat(t.viewport.transform.join(","),")"))}}catch(t){i.e(t)}finally{i.f()}t.div.removeAttribute("hidden")}}]);return AnnotationLayer}();r.AnnotationLayer=B},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.renderTextLayer=void 0;var a=i(5),o=function renderTextLayerClosure(){var t=/\S/;function appendText(r,i,o){var l=document.createElement("span"),c={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};r._textDivs.push(l);if(function isAllWhitespace(r){return!t.test(r)}(i.str)){c.isWhitespace=!0;r._textDivProperties.set(l,c)}else{var u=a.Util.transform(r._viewport.transform,i.transform),d=Math.atan2(u[1],u[0]),h=o[i.fontName];h.vertical&&(d+=Math.PI/2);var p,g,v=Math.sqrt(u[2]*u[2]+u[3]*u[3]),m=v;h.ascent?m=h.ascent*m:h.descent&&(m=(1+h.descent)*m);if(0===d){p=u[4];g=u[5]-m}else{p=u[4]+m*Math.sin(d);g=u[5]-m*Math.cos(d)}l.style.left="".concat(p,"px");l.style.top="".concat(g,"px");l.style.fontSize="".concat(v,"px");l.style.fontFamily=h.fontFamily;l.textContent=i.str;r._fontInspectorEnabled&&(l.dataset.fontName=i.fontName);0!==d&&(c.angle=d*(180/Math.PI));var y=!1;if(i.str.length>1)y=!0;else if(i.transform[0]!==i.transform[3]){var b=Math.abs(i.transform[0]),w=Math.abs(i.transform[3]);b!==w&&Math.max(b,w)/Math.min(b,w)>1.5&&(y=!0)}y&&(h.vertical?c.canvasWidth=i.height*r._viewport.scale:c.canvasWidth=i.width*r._viewport.scale);r._textDivProperties.set(l,c);r._textContentStream&&r._layoutText(l);if(r._enhanceTextSelection){var S=1,C=0;if(0!==d){S=Math.cos(d);C=Math.sin(d)}var P,k,A=(h.vertical?i.height:i.width)*r._viewport.scale,R=v;if(0!==d){P=[S,C,-C,S,p,g];k=a.Util.getAxialAlignedBoundingBox([0,0,A,R],P)}else k=[p,g,p+A,g+R];r._bounds.push({left:k[0],top:k[1],right:k[2],bottom:k[3],div:l,size:[A,R],m:P})}}}function render(t){if(!t._canceled){var r=t._textDivs,i=t._capability,a=r.length;if(a>1e5){t._renderingDone=!0;i.resolve()}else{if(!t._textContentStream)for(var o=0;o<a;o++)t._layoutText(r[o]);t._renderingDone=!0;i.resolve()}}}function findPositiveMin(t,r,i){for(var a=0,o=0;o<i;o++){var l=t[r++];l>0&&(a=a?Math.min(l,a):l)}return a}function expand(t){for(var r=t._bounds,i=t._viewport,o=function expandBounds(t,r,i){var a=i.map((function(t,r){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:r,x1New:void 0,x2New:void 0}}));expandBoundsLTR(t,a);var o=new Array(i.length);a.forEach((function(t){var r=t.index;o[r]={left:t.x1New,top:0,right:t.x2New,bottom:0}}));i.map((function(r,i){var l=o[i],c=a[i];c.x1=r.top;c.y1=t-l.right;c.x2=r.bottom;c.y2=t-l.left;c.index=i;c.x1New=void 0;c.x2New=void 0}));expandBoundsLTR(r,a);a.forEach((function(t){var r=t.index;o[r].top=t.x1New;o[r].bottom=t.x2New}));return o}(i.width,i.height,r),l=0;l<o.length;l++){var c=r[l].div,u=t._textDivProperties.get(c);if(0!==u.angle){var d=o[l],h=r[l],p=h.m,g=p[0],v=p[1],m=[[0,0],[0,h.size[1]],[h.size[0],0],h.size],y=new Float64Array(64);m.forEach((function(t,r){var i=a.Util.applyTransform(t,p);y[r+0]=g&&(d.left-i[0])/g;y[r+4]=v&&(d.top-i[1])/v;y[r+8]=g&&(d.right-i[0])/g;y[r+12]=v&&(d.bottom-i[1])/v;y[r+16]=v&&(d.left-i[0])/-v;y[r+20]=g&&(d.top-i[1])/g;y[r+24]=v&&(d.right-i[0])/-v;y[r+28]=g&&(d.bottom-i[1])/g;y[r+32]=g&&(d.left-i[0])/-g;y[r+36]=v&&(d.top-i[1])/-v;y[r+40]=g&&(d.right-i[0])/-g;y[r+44]=v&&(d.bottom-i[1])/-v;y[r+48]=v&&(d.left-i[0])/v;y[r+52]=g&&(d.top-i[1])/-g;y[r+56]=v&&(d.right-i[0])/v;y[r+60]=g&&(d.bottom-i[1])/-g}));var b=1+Math.min(Math.abs(g),Math.abs(v));u.paddingLeft=findPositiveMin(y,32,16)/b;u.paddingTop=findPositiveMin(y,48,16)/b;u.paddingRight=findPositiveMin(y,0,16)/b;u.paddingBottom=findPositiveMin(y,16,16)/b;t._textDivProperties.set(c,u)}else{u.paddingLeft=r[l].left-o[l].left;u.paddingTop=r[l].top-o[l].top;u.paddingRight=o[l].right-r[l].right;u.paddingBottom=o[l].bottom-r[l].bottom;t._textDivProperties.set(c,u)}}}function expandBoundsLTR(t,r){r.sort((function(t,r){return t.x1-r.x1||t.index-r.index}));var i=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];r.forEach((function(t){for(var r=0;r<i.length&&i[r].end<=t.y1;)r++;for(var a,o,l=i.length-1;l>=0&&i[l].start>=t.y2;)l--;var c,u,d=-1/0;for(c=r;c<=l;c++){var h;(h=(o=(a=i[c]).boundary).x2>t.x1?o.index>t.index?o.x1New:t.x1:void 0===o.x2New?(o.x2+t.x1)/2:o.x2New)>d&&(d=h)}t.x1New=d;for(c=r;c<=l;c++)void 0===(o=(a=i[c]).boundary).x2New?o.x2>t.x1?o.index>t.index&&(o.x2New=o.x2):o.x2New=d:o.x2New>d&&(o.x2New=Math.max(d,o.x2));var p=[],g=null;for(c=r;c<=l;c++){var v=(o=(a=i[c]).boundary).x2>t.x2?o:t;if(g===v)p[p.length-1].end=a.end;else{p.push({start:a.start,end:a.end,boundary:v});g=v}}if(i[r].start<t.y1){p[0].start=t.y1;p.unshift({start:i[r].start,end:t.y1,boundary:i[r].boundary})}if(t.y2<i[l].end){p[p.length-1].end=t.y2;p.push({start:t.y2,end:i[l].end,boundary:i[l].boundary})}for(c=r;c<=l;c++)if(void 0===(o=(a=i[c]).boundary).x2New){var m=!1;for(u=r-1;!m&&u>=0&&i[u].start>=o.y1;u--)m=i[u].boundary===o;for(u=l+1;!m&&u<i.length&&i[u].end<=o.y2;u++)m=i[u].boundary===o;for(u=0;!m&&u<p.length;u++)m=p[u].boundary===o;m||(o.x2New=d)}Array.prototype.splice.apply(i,[r,l-r+1].concat(p))}));i.forEach((function(r){var i=r.boundary;void 0===i.x2New&&(i.x2New=Math.max(t,i.x2))}))}function TextLayerRenderTask(t){var r=this,i=t.textContent,o=t.textContentStream,l=t.container,c=t.viewport,u=t.textDivs,d=t.textContentItemsStr,h=t.enhanceTextSelection;this._textContent=i;this._textContentStream=o;this._container=l;this._document=l.ownerDocument;this._viewport=c;this._textDivs=u||[];this._textContentItemsStr=d||[];this._enhanceTextSelection=!!h;this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled);this._reader=null;this._layoutTextLastFontSize=null;this._layoutTextLastFontFamily=null;this._layoutTextCtx=null;this._textDivProperties=new WeakMap;this._renderingDone=!1;this._canceled=!1;this._capability=(0,a.createPromiseCapability)();this._renderTimer=null;this._bounds=[];this._capability.promise.finally((function(){if(r._layoutTextCtx){r._layoutTextCtx.canvas.width=0;r._layoutTextCtx.canvas.height=0;r._layoutTextCtx=null}})).catch((function(){}))}TextLayerRenderTask.prototype={get promise(){return this._capability.promise},cancel:function TextLayer_cancel(){this._canceled=!0;if(this._reader){this._reader.cancel(new a.AbortException("TextLayer task cancelled."));this._reader=null}if(null!==this._renderTimer){clearTimeout(this._renderTimer);this._renderTimer=null}this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function _processItems(t,r){for(var i=0,a=t.length;i<a;i++){this._textContentItemsStr.push(t[i].str);appendText(this,t[i],r)}},_layoutText:function _layoutText(t){var r=this._textDivProperties.get(t);if(!r.isWhitespace){var i="";if(0!==r.canvasWidth){var a=t.style,o=a.fontSize,l=a.fontFamily;if(o!==this._layoutTextLastFontSize||l!==this._layoutTextLastFontFamily){this._layoutTextCtx.font="".concat(o," ").concat(l);this._layoutTextLastFontSize=o;this._layoutTextLastFontFamily=l}var c=this._layoutTextCtx.measureText(t.textContent).width;if(c>0){r.scale=r.canvasWidth/c;i="scaleX(".concat(r.scale,")")}}0!==r.angle&&(i="rotate(".concat(r.angle,"deg) ").concat(i));if(i.length>0){this._enhanceTextSelection&&(r.originalTransform=i);t.style.transform=i}this._textDivProperties.set(t,r);this._container.appendChild(t)}},_render:function TextLayer_render(t){var r=this,i=(0,a.createPromiseCapability)(),o=Object.create(null),l=this._document.createElement("canvas");l.mozOpaque=!0;this._layoutTextCtx=l.getContext("2d",{alpha:!1});if(this._textContent){var c=this._textContent.items,u=this._textContent.styles;this._processItems(c,u);i.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader();!function pump(){r._reader.read().then((function(t){var a=t.value;if(t.done)i.resolve();else{Object.assign(o,a.styles);r._processItems(a.items,o);pump()}}),i.reject)}()}i.promise.then((function(){o=null;t?r._renderTimer=setTimeout((function(){render(r);r._renderTimer=null}),t):render(r)}),this._capability.reject)},expandTextDivs:function TextLayer_expandTextDivs(t){if(this._enhanceTextSelection&&this._renderingDone){if(null!==this._bounds){expand(this);this._bounds=null}for(var r=[],i=[],a=0,o=this._textDivs.length;a<o;a++){var l=this._textDivs[a],c=this._textDivProperties.get(l);if(!c.isWhitespace)if(t){r.length=0;i.length=0;c.originalTransform&&r.push(c.originalTransform);if(c.paddingTop>0){i.push("".concat(c.paddingTop,"px"));r.push("translateY(".concat(-c.paddingTop,"px)"))}else i.push(0);c.paddingRight>0?i.push("".concat(c.paddingRight/c.scale,"px")):i.push(0);c.paddingBottom>0?i.push("".concat(c.paddingBottom,"px")):i.push(0);if(c.paddingLeft>0){i.push("".concat(c.paddingLeft/c.scale,"px"));r.push("translateX(".concat(-c.paddingLeft/c.scale,"px)"))}else i.push(0);l.style.padding=i.join(" ");r.length&&(l.style.transform=r.join(" "))}else{l.style.padding=null;l.style.transform=c.originalTransform}}}}};return function renderTextLayer(t){var r=new TextLayerRenderTask({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});r._render(t.timeout);return r}}();r.renderTextLayer=o},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.SVGGraphics=void 0;var a=i(5),o=i(1);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],a=!0,o=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){i.push(c.value);if(r&&i.length===r)break}}catch(t){o=!0;l=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw l}}return i}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}var l=function SVGGraphics(){throw new Error("Not implemented: SVGGraphics")};r.SVGGraphics=l;var c=function pf(t){if(Number.isInteger(t))return t.toString();var r=t.toFixed(10),i=r.length-1;if("0"!==r[i])return r;do{i--}while("0"===r[i]);return r.substring(0,"."===r[i]?i:i+1)},u=function pm(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale(".concat(c(t[0])," ").concat(c(t[3]),")");if(t[0]===t[3]&&t[1]===-t[2]){var r=180*Math.acos(t[0])/Math.PI;return"rotate(".concat(c(r),")")}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate(".concat(c(t[4])," ").concat(c(t[5]),")");return"matrix(".concat(c(t[0])," ").concat(c(t[1])," ").concat(c(t[2])," ").concat(c(t[3])," ").concat(c(t[4])," ")+"".concat(c(t[5]),")")},d={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},h=["butt","round","square"],p=["miter","round","bevel"],g=function(){for(var t=new Uint8Array([137,80,78,71,13,10,26,10]),r=new Int32Array(256),i=0;i<256;i++){for(var o=i,l=0;l<8;l++)o=1&o?3988292384^o>>1&2147483647:o>>1&2147483647;r[i]=o}function writePngChunk(t,i,a,o){var l=o,c=i.length;a[l]=c>>24&255;a[l+1]=c>>16&255;a[l+2]=c>>8&255;a[l+3]=255&c;a[l+=4]=255&t.charCodeAt(0);a[l+1]=255&t.charCodeAt(1);a[l+2]=255&t.charCodeAt(2);a[l+3]=255&t.charCodeAt(3);l+=4;a.set(i,l);var u=function crc32(t,i,a){for(var o=-1,l=i;l<a;l++){var c=255&(o^t[l]);o=o>>>8^r[c]}return-1^o}(a,o+4,l+=i.length);a[l]=u>>24&255;a[l+1]=u>>16&255;a[l+2]=u>>8&255;a[l+3]=255&u}function deflateSync(t){return function deflateSyncUncompressed(t){var r=t.length,i=Math.ceil(r/65535),a=new Uint8Array(2+r+5*i+4),o=0;a[o++]=120;a[o++]=156;var l=0;for(;r>65535;){a[o++]=0;a[o++]=255;a[o++]=255;a[o++]=0;a[o++]=0;a.set(t.subarray(l,l+65535),o);o+=65535;l+=65535;r-=65535}a[o++]=1;a[o++]=255&r;a[o++]=r>>8&255;a[o++]=255&~r;a[o++]=(65535&~r)>>8&255;a.set(t.subarray(l),o);o+=t.length-l;var c=function adler32(t,r,i){for(var a=1,o=0,l=r;l<i;++l)o=(o+(a=(a+(255&t[l]))%65521))%65521;return o<<16|a}(t,0,t.length);a[o++]=c>>24&255;a[o++]=c>>16&255;a[o++]=c>>8&255;a[o++]=255&c;return a}(t)}return function convertImgDataToPng(r,i,o){return function encode(r,i,o,l){var c,u,d,h=r.width,p=r.height,g=r.data;switch(i){case a.ImageKind.GRAYSCALE_1BPP:u=0;c=1;d=h+7>>3;break;case a.ImageKind.RGB_24BPP:u=2;c=8;d=3*h;break;case a.ImageKind.RGBA_32BPP:u=6;c=8;d=4*h;break;default:throw new Error("invalid format")}for(var v=new Uint8Array((1+d)*p),m=0,y=0,b=0;b<p;++b){v[m++]=0;v.set(g.subarray(y,y+d),m);y+=d;m+=d}if(i===a.ImageKind.GRAYSCALE_1BPP&&l){m=0;for(var w=0;w<p;w++){m++;for(var S=0;S<d;S++)v[m++]^=255}}var C=new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,p>>24&255,p>>16&255,p>>8&255,255&p,c,u,0,0,0]),P=deflateSync(v),k=t.length+36+C.length+P.length,A=new Uint8Array(k),R=0;A.set(t,R);writePngChunk("IHDR",C,A,R+=t.length);writePngChunk("IDATA",P,A,R+=12+C.length);R+=12+P.length;writePngChunk("IEND",new Uint8Array(0),A,R);return(0,a.createObjectURL)(A,"image/png",o)}(r,void 0===r.kind?a.ImageKind.GRAYSCALE_1BPP:r.kind,i,o)}}(),v=function(){function SVGExtraState(){_classCallCheck(this,SVGExtraState);this.fontSizeScale=1;this.fontWeight=d.fontWeight;this.fontSize=0;this.textMatrix=a.IDENTITY_MATRIX;this.fontMatrix=a.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=a.TextRenderingMode.FILL;this.textMatrixScale=1;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRise=0;this.fillColor=d.fillColor;this.strokeColor="#000000";this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.lineJoin="";this.lineCap="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.activeClipUrl=null;this.clipGroup=null;this.maskId=""}_createClass(SVGExtraState,[{key:"clone",value:function clone(){return Object.create(this)}},{key:"setCurrentPoint",value:function setCurrentPoint(t,r){this.x=t;this.y=r}}]);return SVGExtraState}(),m=0,y=0,b=0;r.SVGGraphics=l=function(){function SVGGraphics(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,SVGGraphics);this.svgFactory=new o.DOMSVGFactory;this.current=new v;this.transformMatrix=a.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=t;this.objs=r;this.pendingClip=null;this.pendingEOFill=!1;this.embedFonts=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!i;this._operatorIdMapping=[];for(var l in a.OPS)this._operatorIdMapping[a.OPS[l]]=l}_createClass(SVGGraphics,[{key:"save",value:function save(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t);this.current=t.clone()}},{key:"restore",value:function restore(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.pendingClip=null;this.tgrp=null}},{key:"group",value:function group(t){this.save();this.executeOpTree(t);this.restore()}},{key:"loadDependencies",value:function loadDependencies(t){for(var r=this,i=t.fnArray,o=t.argsArray,l=0,c=i.length;l<c;l++)if(i[l]===a.OPS.dependency){var u,d=_createForOfIteratorHelper(o[l]);try{var h=function _loop(){var t=u.value,i=t.startsWith("g_")?r.commonObjs:r.objs,a=new Promise((function(r){i.get(t,r)}));r.current.dependencies.push(a)};for(d.s();!(u=d.n()).done;)h()}catch(t){d.e(t)}finally{d.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function transform(t,r,i,o,l,c){var u=[t,r,i,o,l,c];this.transformMatrix=a.Util.transform(this.transformMatrix,u);this.tgrp=null}},{key:"getSVG",value:function getSVG(t,r){var i=this;this.viewport=r;var o=this._initialize(r);return this.loadDependencies(t).then((function(){i.transformMatrix=a.IDENTITY_MATRIX;i.executeOpTree(i.convertOpList(t));return o}))}},{key:"convertOpList",value:function convertOpList(t){for(var r=this._operatorIdMapping,i=t.argsArray,a=t.fnArray,o=[],l=0,c=a.length;l<c;l++){var u=a[l];o.push({fnId:u,fn:r[u],args:i[l]})}return function opListToTree(t){var r,i=[],a=[],o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var l=r.value;if("save"!==l.fn)"restore"===l.fn?i=a.pop():i.push(l);else{i.push({fnId:92,fn:"group",items:[]});a.push(i);i=i[i.length-1].items}}}catch(t){o.e(t)}finally{o.f()}return i}(o)}},{key:"executeOpTree",value:function executeOpTree(t){var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,l=o.fn,c=o.fnId,u=o.args;switch(0|c){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(u);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(u[0],u[1]);break;case a.OPS.setFont:this.setFont(u);break;case a.OPS.showText:case a.OPS.showSpacedText:this.showText(u[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(u[0],u[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(u[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(u[0]);break;case a.OPS.setHScale:this.setHScale(u[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(u[0],u[1],u[2],u[3],u[4],u[5]);break;case a.OPS.setTextRise:this.setTextRise(u[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(u[0]);break;case a.OPS.setLineWidth:this.setLineWidth(u[0]);break;case a.OPS.setLineJoin:this.setLineJoin(u[0]);break;case a.OPS.setLineCap:this.setLineCap(u[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(u[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(u[0],u[1],u[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(u[0],u[1],u[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(u);break;case a.OPS.setFillColorN:this.setFillColorN(u);break;case a.OPS.shadingFill:this.shadingFill(u[0]);break;case a.OPS.setDash:this.setDash(u[0],u[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(u[0]);break;case a.OPS.setFlatness:this.setFlatness(u[0]);break;case a.OPS.setGState:this.setGState(u[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(u[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(u[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(u[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(u[0],u[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(u[0],u[1],u[2],u[3],u[4],u[5]);break;case a.OPS.constructPath:this.constructPath(u[0],u[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(o.items);break;default:(0,a.warn)("Unimplemented operator ".concat(l))}}}catch(t){i.e(t)}finally{i.f()}}},{key:"setWordSpacing",value:function setWordSpacing(t){this.current.wordSpacing=t}},{key:"setCharSpacing",value:function setCharSpacing(t){this.current.charSpacing=t}},{key:"nextLine",value:function nextLine(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function setTextMatrix(t,r,i,a,o,l){var u=this.current;u.textMatrix=u.lineMatrix=[t,r,i,a,o,l];u.textMatrixScale=Math.sqrt(t*t+r*r);u.x=u.lineX=0;u.y=u.lineY=0;u.xcoords=[];u.ycoords=[];u.tspan=this.svgFactory.createElement("svg:tspan");u.tspan.setAttributeNS(null,"font-family",u.fontFamily);u.tspan.setAttributeNS(null,"font-size","".concat(c(u.fontSize),"px"));u.tspan.setAttributeNS(null,"y",c(-u.y));u.txtElement=this.svgFactory.createElement("svg:text");u.txtElement.appendChild(u.tspan)}},{key:"beginText",value:function beginText(){var t=this.current;t.x=t.lineX=0;t.y=t.lineY=0;t.textMatrix=a.IDENTITY_MATRIX;t.lineMatrix=a.IDENTITY_MATRIX;t.textMatrixScale=1;t.tspan=this.svgFactory.createElement("svg:tspan");t.txtElement=this.svgFactory.createElement("svg:text");t.txtgrp=this.svgFactory.createElement("svg:g");t.xcoords=[];t.ycoords=[]}},{key:"moveText",value:function moveText(t,r){var i=this.current;i.x=i.lineX+=t;i.y=i.lineY+=r;i.xcoords=[];i.ycoords=[];i.tspan=this.svgFactory.createElement("svg:tspan");i.tspan.setAttributeNS(null,"font-family",i.fontFamily);i.tspan.setAttributeNS(null,"font-size","".concat(c(i.fontSize),"px"));i.tspan.setAttributeNS(null,"y",c(-i.y))}},{key:"showText",value:function showText(t){var r=this.current,i=r.font,o=r.fontSize;if(0!==o){var l,h=r.fontSizeScale,p=r.charSpacing,g=r.wordSpacing,v=r.fontDirection,m=r.textHScale*v,y=i.vertical,b=y?1:-1,w=i.defaultVMetrics,S=o*r.fontMatrix[0],C=0,P=_createForOfIteratorHelper(t);try{for(P.s();!(l=P.n()).done;){var k=l.value;if(null!==k)if((0,a.isNum)(k))C+=b*k*o/1e3;else{var A=(k.isSpace?g:0)+p,R=k.fontChar,x=void 0,T=void 0,E=k.width;if(y){var I=void 0,L=k.vmetric||w;I=-(I=k.vmetric?L[1]:.5*E)*S;var O=L[2]*S;E=L?-L[0]:E;x=I/h;T=(C+O)/h}else{x=C/h;T=0}if(k.isInFont||i.missingFile){r.xcoords.push(r.x+x);y&&r.ycoords.push(-r.y+T);r.tspan.textContent+=R}C+=y?E*S-A*v:E*S+A*v}else C+=v*g}}catch(t){P.e(t)}finally{P.f()}r.tspan.setAttributeNS(null,"x",r.xcoords.map(c).join(" "));y?r.tspan.setAttributeNS(null,"y",r.ycoords.map(c).join(" ")):r.tspan.setAttributeNS(null,"y",c(-r.y));y?r.y-=C:r.x+=C*m;r.tspan.setAttributeNS(null,"font-family",r.fontFamily);r.tspan.setAttributeNS(null,"font-size","".concat(c(r.fontSize),"px"));r.fontStyle!==d.fontStyle&&r.tspan.setAttributeNS(null,"font-style",r.fontStyle);r.fontWeight!==d.fontWeight&&r.tspan.setAttributeNS(null,"font-weight",r.fontWeight);var D=r.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(D===a.TextRenderingMode.FILL||D===a.TextRenderingMode.FILL_STROKE){r.fillColor!==d.fillColor&&r.tspan.setAttributeNS(null,"fill",r.fillColor);r.fillAlpha<1&&r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)}else r.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?r.tspan.setAttributeNS(null,"fill","transparent"):r.tspan.setAttributeNS(null,"fill","none");if(D===a.TextRenderingMode.STROKE||D===a.TextRenderingMode.FILL_STROKE){var M=1/(r.textMatrixScale||1);this._setStrokeAttributes(r.tspan,M)}var N=r.textMatrix;0!==r.textRise&&((N=N.slice())[5]+=r.textRise);r.txtElement.setAttributeNS(null,"transform","".concat(u(N)," scale(").concat(c(m),", -1)"));r.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");r.txtElement.appendChild(r.tspan);r.txtgrp.appendChild(r.txtElement);this._ensureTransformGroup().appendChild(r.txtElement)}}},{key:"setLeadingMoveText",value:function setLeadingMoveText(t,r){this.setLeading(-r);this.moveText(t,r)}},{key:"addFontStyle",value:function addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');if(!this.cssStyle){this.cssStyle=this.svgFactory.createElement("svg:style");this.cssStyle.setAttributeNS(null,"type","text/css");this.defs.appendChild(this.cssStyle)}var r=(0,a.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(r,"); }\n")}},{key:"setFont",value:function setFont(t){var r=this.current,i=this.commonObjs.get(t[0]),o=t[1];r.font=i;if(this.embedFonts&&!i.missingFile&&!this.embeddedFonts[i.loadedName]){this.addFontStyle(i);this.embeddedFonts[i.loadedName]=i}r.fontMatrix=i.fontMatrix?i.fontMatrix:a.FONT_IDENTITY_MATRIX;var l="normal";i.black?l="900":i.bold&&(l="bold");var u=i.italic?"italic":"normal";if(o<0){o=-o;r.fontDirection=-1}else r.fontDirection=1;r.fontSize=o;r.fontFamily=i.loadedName;r.fontWeight=l;r.fontStyle=u;r.tspan=this.svgFactory.createElement("svg:tspan");r.tspan.setAttributeNS(null,"y",c(-r.y));r.xcoords=[];r.ycoords=[]}},{key:"endText",value:function endText(){var t=this.current;if(t.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement&&t.txtElement.hasChildNodes()){t.element=t.txtElement;this.clip("nonzero");this.endPath()}}},{key:"setLineWidth",value:function setLineWidth(t){t>0&&(this.current.lineWidth=t)}},{key:"setLineCap",value:function setLineCap(t){this.current.lineCap=h[t]}},{key:"setLineJoin",value:function setLineJoin(t){this.current.lineJoin=p[t]}},{key:"setMiterLimit",value:function setMiterLimit(t){this.current.miterLimit=t}},{key:"setStrokeAlpha",value:function setStrokeAlpha(t){this.current.strokeAlpha=t}},{key:"setStrokeRGBColor",value:function setStrokeRGBColor(t,r,i){this.current.strokeColor=a.Util.makeCssRgb(t,r,i)}},{key:"setFillAlpha",value:function setFillAlpha(t){this.current.fillAlpha=t}},{key:"setFillRGBColor",value:function setFillRGBColor(t,r,i){this.current.fillColor=a.Util.makeCssRgb(t,r,i);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[];this.current.ycoords=[]}},{key:"setStrokeColorN",value:function setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}},{key:"setFillColorN",value:function setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}},{key:"shadingFill",value:function shadingFill(t){var r=this.viewport.width,i=this.viewport.height,o=a.Util.inverseTransform(this.transformMatrix),l=a.Util.applyTransform([0,0],o),c=a.Util.applyTransform([0,i],o),u=a.Util.applyTransform([r,0],o),d=a.Util.applyTransform([r,i],o),h=Math.min(l[0],c[0],u[0],d[0]),p=Math.min(l[1],c[1],u[1],d[1]),g=Math.max(l[0],c[0],u[0],d[0]),v=Math.max(l[1],c[1],u[1],d[1]),m=this.svgFactory.createElement("svg:rect");m.setAttributeNS(null,"x",h);m.setAttributeNS(null,"y",p);m.setAttributeNS(null,"width",g-h);m.setAttributeNS(null,"height",v-p);m.setAttributeNS(null,"fill",this._makeShadingPattern(t));this.current.fillAlpha<1&&m.setAttributeNS(null,"fill-opacity",this.current.fillAlpha);this._ensureTransformGroup().appendChild(m)}},{key:"_makeColorN_Pattern",value:function _makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}},{key:"_makeTilingPattern",value:function _makeTilingPattern(t){var r=t[1],i=t[2],o=t[3]||a.IDENTITY_MATRIX,l=_slicedToArray(t[4],4),c=l[0],u=l[1],d=l[2],h=l[3],p=t[5],g=t[6],v=t[7],m="shading".concat(b++),y=_slicedToArray(a.Util.applyTransform([c,u],o),2),w=y[0],S=y[1],C=_slicedToArray(a.Util.applyTransform([d,h],o),2),P=C[0],k=C[1],A=_slicedToArray(a.Util.singularValueDecompose2dScale(o),2),R=p*A[0],x=g*A[1],T=this.svgFactory.createElement("svg:pattern");T.setAttributeNS(null,"id",m);T.setAttributeNS(null,"patternUnits","userSpaceOnUse");T.setAttributeNS(null,"width",R);T.setAttributeNS(null,"height",x);T.setAttributeNS(null,"x","".concat(w));T.setAttributeNS(null,"y","".concat(S));var E=this.svg,I=this.transformMatrix,L=this.current.fillColor,O=this.current.strokeColor,D=this.svgFactory.create(P-w,k-S);this.svg=D;this.transformMatrix=o;if(2===v){var M=a.Util.makeCssRgb.apply(a.Util,_toConsumableArray(r));this.current.fillColor=M;this.current.strokeColor=M}this.executeOpTree(this.convertOpList(i));this.svg=E;this.transformMatrix=I;this.current.fillColor=L;this.current.strokeColor=O;T.appendChild(D.childNodes[0]);this.defs.appendChild(T);return"url(#".concat(m,")")}},{key:"_makeShadingPattern",value:function _makeShadingPattern(t){switch(t[0]){case"RadialAxial":var r,i="shading".concat(b++),o=t[3];switch(t[1]){case"axial":var l=t[4],c=t[5];(r=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",i);r.setAttributeNS(null,"gradientUnits","userSpaceOnUse");r.setAttributeNS(null,"x1",l[0]);r.setAttributeNS(null,"y1",l[1]);r.setAttributeNS(null,"x2",c[0]);r.setAttributeNS(null,"y2",c[1]);break;case"radial":var u=t[4],d=t[5],h=t[6],p=t[7];(r=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",i);r.setAttributeNS(null,"gradientUnits","userSpaceOnUse");r.setAttributeNS(null,"cx",d[0]);r.setAttributeNS(null,"cy",d[1]);r.setAttributeNS(null,"r",p);r.setAttributeNS(null,"fx",u[0]);r.setAttributeNS(null,"fy",u[1]);r.setAttributeNS(null,"fr",h);break;default:throw new Error("Unknown RadialAxial type: ".concat(t[1]))}var g,v=_createForOfIteratorHelper(o);try{for(v.s();!(g=v.n()).done;){var m=g.value,y=this.svgFactory.createElement("svg:stop");y.setAttributeNS(null,"offset",m[0]);y.setAttributeNS(null,"stop-color",m[1]);r.appendChild(y)}}catch(t){v.e(t)}finally{v.f()}this.defs.appendChild(r);return"url(#".concat(i,")");case"Mesh":(0,a.warn)("Unimplemented pattern Mesh");return null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(t[0]))}}},{key:"setDash",value:function setDash(t,r){this.current.dashArray=t;this.current.dashPhase=r}},{key:"constructPath",value:function constructPath(t,r){var i,o=this.current,l=o.x,u=o.y,d=[],h=0,p=_createForOfIteratorHelper(t);try{for(p.s();!(i=p.n()).done;){switch(0|i.value){case a.OPS.rectangle:l=r[h++];u=r[h++];var g=r[h++],v=r[h++],m=l+g,y=u+v;d.push("M",c(l),c(u),"L",c(m),c(u),"L",c(m),c(y),"L",c(l),c(y),"Z");break;case a.OPS.moveTo:l=r[h++];u=r[h++];d.push("M",c(l),c(u));break;case a.OPS.lineTo:l=r[h++];u=r[h++];d.push("L",c(l),c(u));break;case a.OPS.curveTo:l=r[h+4];u=r[h+5];d.push("C",c(r[h]),c(r[h+1]),c(r[h+2]),c(r[h+3]),c(l),c(u));h+=6;break;case a.OPS.curveTo2:d.push("C",c(l),c(u),c(r[h]),c(r[h+1]),c(r[h+2]),c(r[h+3]));l=r[h+2];u=r[h+3];h+=4;break;case a.OPS.curveTo3:l=r[h+2];u=r[h+3];d.push("C",c(r[h]),c(r[h+1]),c(l),c(u),c(l),c(u));h+=4;break;case a.OPS.closePath:d.push("Z")}}}catch(t){p.e(t)}finally{p.f()}d=d.join(" ");if(o.path&&t.length>0&&t[0]!==a.OPS.rectangle&&t[0]!==a.OPS.moveTo)d=o.path.getAttributeNS(null,"d")+d;else{o.path=this.svgFactory.createElement("svg:path");this._ensureTransformGroup().appendChild(o.path)}o.path.setAttributeNS(null,"d",d);o.path.setAttributeNS(null,"fill","none");o.element=o.path;o.setCurrentPoint(l,u)}},{key:"endPath",value:function endPath(){var t=this.current;t.path=null;if(this.pendingClip)if(t.element){var r="clippath".concat(m++),i=this.svgFactory.createElement("svg:clipPath");i.setAttributeNS(null,"id",r);i.setAttributeNS(null,"transform",u(this.transformMatrix));var a=t.element.cloneNode(!0);"evenodd"===this.pendingClip?a.setAttributeNS(null,"clip-rule","evenodd"):a.setAttributeNS(null,"clip-rule","nonzero");this.pendingClip=null;i.appendChild(a);this.defs.appendChild(i);if(t.activeClipUrl){t.clipGroup=null;this.extraStack.forEach((function(t){t.clipGroup=null}));i.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl="url(#".concat(r,")");this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function clip(t){this.pendingClip=t}},{key:"closePath",value:function closePath(){var t=this.current;if(t.path){var r="".concat(t.path.getAttributeNS(null,"d"),"Z");t.path.setAttributeNS(null,"d",r)}}},{key:"setLeading",value:function setLeading(t){this.current.leading=-t}},{key:"setTextRise",value:function setTextRise(t){this.current.textRise=t}},{key:"setTextRenderingMode",value:function setTextRenderingMode(t){this.current.textRenderingMode=t}},{key:"setHScale",value:function setHScale(t){this.current.textHScale=t/100}},{key:"setRenderingIntent",value:function setRenderingIntent(t){}},{key:"setFlatness",value:function setFlatness(t){}},{key:"setGState",value:function setGState(t){var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=_slicedToArray(r.value,2),l=o[0],c=o[1];switch(l){case"LW":this.setLineWidth(c);break;case"LC":this.setLineCap(c);break;case"LJ":this.setLineJoin(c);break;case"ML":this.setMiterLimit(c);break;case"D":this.setDash(c[0],c[1]);break;case"RI":this.setRenderingIntent(c);break;case"FL":this.setFlatness(c);break;case"Font":this.setFont(c);break;case"CA":this.setStrokeAlpha(c);break;case"ca":this.setFillAlpha(c);break;default:(0,a.warn)("Unimplemented graphic state operator ".concat(l))}}}catch(t){i.e(t)}finally{i.f()}}},{key:"fill",value:function fill(){var t=this.current;if(t.element){t.element.setAttributeNS(null,"fill",t.fillColor);t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha);this.endPath()}}},{key:"stroke",value:function stroke(){var t=this.current;if(t.element){this._setStrokeAttributes(t.element);t.element.setAttributeNS(null,"fill","none");this.endPath()}}},{key:"_setStrokeAttributes",value:function _setStrokeAttributes(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.current,a=i.dashArray;1!==r&&a.length>0&&(a=a.map((function(t){return r*t})));t.setAttributeNS(null,"stroke",i.strokeColor);t.setAttributeNS(null,"stroke-opacity",i.strokeAlpha);t.setAttributeNS(null,"stroke-miterlimit",c(i.miterLimit));t.setAttributeNS(null,"stroke-linecap",i.lineCap);t.setAttributeNS(null,"stroke-linejoin",i.lineJoin);t.setAttributeNS(null,"stroke-width",c(r*i.lineWidth)+"px");t.setAttributeNS(null,"stroke-dasharray",a.map(c).join(" "));t.setAttributeNS(null,"stroke-dashoffset",c(r*i.dashPhase)+"px")}},{key:"eoFill",value:function eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()}},{key:"fillStroke",value:function fillStroke(){this.stroke();this.fill()}},{key:"eoFillStroke",value:function eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()}},{key:"closeStroke",value:function closeStroke(){this.closePath();this.stroke()}},{key:"closeFillStroke",value:function closeFillStroke(){this.closePath();this.fillStroke()}},{key:"closeEOFillStroke",value:function closeEOFillStroke(){this.closePath();this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function paintSolidColorImageMask(){var t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0");t.setAttributeNS(null,"y","0");t.setAttributeNS(null,"width","1px");t.setAttributeNS(null,"height","1px");t.setAttributeNS(null,"fill",this.current.fillColor);this._ensureTransformGroup().appendChild(t)}},{key:"paintImageXObject",value:function paintImageXObject(t){var r=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);r?this.paintInlineImageXObject(r):(0,a.warn)("Dependent image with object ID ".concat(t," is not ready yet"))}},{key:"paintInlineImageXObject",value:function paintInlineImageXObject(t,r){var i=t.width,a=t.height,o=g(t,this.forceDataSchema,!!r),l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0");l.setAttributeNS(null,"y","0");l.setAttributeNS(null,"width",c(i));l.setAttributeNS(null,"height",c(a));this.current.element=l;this.clip("nonzero");var u=this.svgFactory.createElement("svg:image");u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);u.setAttributeNS(null,"x","0");u.setAttributeNS(null,"y",c(-a));u.setAttributeNS(null,"width",c(i)+"px");u.setAttributeNS(null,"height",c(a)+"px");u.setAttributeNS(null,"transform","scale(".concat(c(1/i)," ").concat(c(-1/a),")"));r?r.appendChild(u):this._ensureTransformGroup().appendChild(u)}},{key:"paintImageMaskXObject",value:function paintImageMaskXObject(t){var r=this.current,i=t.width,a=t.height,o=r.fillColor;r.maskId="mask".concat(y++);var l=this.svgFactory.createElement("svg:mask");l.setAttributeNS(null,"id",r.maskId);var u=this.svgFactory.createElement("svg:rect");u.setAttributeNS(null,"x","0");u.setAttributeNS(null,"y","0");u.setAttributeNS(null,"width",c(i));u.setAttributeNS(null,"height",c(a));u.setAttributeNS(null,"fill",o);u.setAttributeNS(null,"mask","url(#".concat(r.maskId,")"));this.defs.appendChild(l);this._ensureTransformGroup().appendChild(u);this.paintInlineImageXObject(t,l)}},{key:"paintFormXObjectBegin",value:function paintFormXObjectBegin(t,r){Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]);if(r){var i=r[2]-r[0],a=r[3]-r[1],o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x",r[0]);o.setAttributeNS(null,"y",r[1]);o.setAttributeNS(null,"width",c(i));o.setAttributeNS(null,"height",c(a));this.current.element=o;this.clip("nonzero");this.endPath()}}},{key:"paintFormXObjectEnd",value:function paintFormXObjectEnd(){}},{key:"_initialize",value:function _initialize(t){var r=this.svgFactory.create(t.width,t.height),i=this.svgFactory.createElement("svg:defs");r.appendChild(i);this.defs=i;var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"transform",u(t.transform));r.appendChild(a);this.svg=a;return r}},{key:"_ensureClipGroup",value:function _ensureClipGroup(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(t);this.current.clipGroup=t}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function _ensureTransformGroup(){if(!this.tgrp){this.tgrp=this.svgFactory.createElement("svg:g");this.tgrp.setAttributeNS(null,"transform",u(this.transformMatrix));this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)}return this.tgrp}}]);return SVGGraphics}()},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFNetworkStream=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(5),l=i(220);function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}var c=function(){function NetworkManager(t,r){_classCallCheck(this,NetworkManager);this.url=t;r=r||{};this.isHttp=/^https?:/i.test(t);this.httpHeaders=this.isHttp&&r.httpHeaders||{};this.withCredentials=r.withCredentials||!1;this.getXhr=r.getXhr||function NetworkManager_getXhr(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null)}_createClass(NetworkManager,[{key:"requestRange",value:function requestRange(t,r,i){var a={begin:t,end:r};for(var o in i)a[o]=i[o];return this.request(a)}},{key:"requestFull",value:function requestFull(t){return this.request(t)}},{key:"request",value:function request(t){var r=this.getXhr(),i=this.currXhrId++,a=this.pendingRequests[i]={xhr:r};r.open("GET",this.url);r.withCredentials=this.withCredentials;for(var o in this.httpHeaders){var l=this.httpHeaders[o];void 0!==l&&r.setRequestHeader(o,l)}if(this.isHttp&&"begin"in t&&"end"in t){r.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1));a.expectedStatus=206}else a.expectedStatus=200;r.responseType="arraybuffer";t.onError&&(r.onerror=function(i){t.onError(r.status)});r.onreadystatechange=this.onStateChange.bind(this,i);r.onprogress=this.onProgress.bind(this,i);a.onHeadersReceived=t.onHeadersReceived;a.onDone=t.onDone;a.onError=t.onError;a.onProgress=t.onProgress;r.send(null);return i}},{key:"onProgress",value:function onProgress(t,r){var i=this.pendingRequests[t];i&&i.onProgress&&i.onProgress(r)}},{key:"onStateChange",value:function onStateChange(t,r){var i=this.pendingRequests[t];if(i){var a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived){i.onHeadersReceived();delete i.onHeadersReceived}if(4===a.readyState&&t in this.pendingRequests){delete this.pendingRequests[t];if(0===a.status&&this.isHttp)i.onError&&i.onError(a.status);else{var l=a.status||200;if(200===l&&206===i.expectedStatus||l===i.expectedStatus){var c=function getArrayBuffer(t){var r=t.response;return"string"!=typeof r?r:(0,o.stringToBytes)(r).buffer}(a);if(206===l){var u=a.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);i.onDone({begin:parseInt(d[1],10),chunk:c})}else c?i.onDone({begin:0,chunk:c}):i.onError&&i.onError(a.status)}else i.onError&&i.onError(a.status)}}}}},{key:"getRequestXhr",value:function getRequestXhr(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function isPendingRequest(t){return t in this.pendingRequests}},{key:"abortRequest",value:function abortRequest(t){var r=this.pendingRequests[t].xhr;delete this.pendingRequests[t];r.abort()}}]);return NetworkManager}(),u=function(){function PDFNetworkStream(t){_classCallCheck(this,PDFNetworkStream);this._source=t;this._manager=new c(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials});this._rangeChunkSize=t.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}_createClass(PDFNetworkStream,[{key:"_onRangeRequestReaderClosed",value:function _onRangeRequestReaderClosed(t){var r=this._rangeRequestReaders.indexOf(t);r>=0&&this._rangeRequestReaders.splice(r,1)}},{key:"getFullReader",value:function getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once.");this._fullRequestReader=new d(this._manager,this._source);return this._fullRequestReader}},{key:"getRangeReader",value:function getRangeReader(t,r){var i=new h(this._manager,t,r);i.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(i);return i}},{key:"cancelAllRequests",value:function cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);this._rangeRequestReaders.slice(0).forEach((function(r){r.cancel(t)}))}}]);return PDFNetworkStream}();r.PDFNetworkStream=u;var d=function(){function PDFNetworkStreamFullRequestReader(t,r){_classCallCheck(this,PDFNetworkStreamFullRequestReader);this._manager=t;var i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url;this._fullRequestId=t.requestFull(i);this._headersReceivedCapability=(0,o.createPromiseCapability)();this._disableRange=r.disableRange||!1;this._contentLength=r.length;this._rangeChunkSize=r.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);this._isStreamingSupported=!1;this._isRangeSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this._filename=null;this.onProgress=null}_createClass(PDFNetworkStreamFullRequestReader,[{key:"_onHeadersReceived",value:function _onHeadersReceived(){var t=this._fullRequestId,r=this._manager.getRequestXhr(t),i=function getResponseHeader(t){return r.getResponseHeader(t)},a=(0,l.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),o=a.allowRangeRequests,c=a.suggestedLength;o&&(this._isRangeSupported=!0);this._contentLength=c||this._contentLength;this._filename=(0,l.extractFilenameFromHeader)(i);this._isRangeSupported&&this._manager.abortRequest(t);this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function _onDone(t){if(t)if(this._requests.length>0){this._requests.shift().resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);this._done=!0;if(!(this._cachedChunks.length>0)){this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[]}}},{key:"_onError",value:function _onError(t){var r=this._url,i=(0,l.createResponseStatusError)(t,r);this._storedError=i;this._headersReceivedCapability.reject(i);this._requests.forEach((function(t){t.reject(i)}));this._requests=[];this._cachedChunks=[]}},{key:"_onProgress",value:function _onProgress(t){this.onProgress&&this.onProgress({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},{key:"read",value:(t=_asyncToGenerator(a.default.mark((function _callee(){var t,r;return a.default.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(!this._storedError){i.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){i.next=5;break}t=this._cachedChunks.shift();return i.abrupt("return",{value:t,done:!1});case 5:if(!this._done){i.next=7;break}return i.abrupt("return",{value:void 0,done:!0});case 7:r=(0,o.createPromiseCapability)();this._requests.push(r);return i.abrupt("return",r.promise);case 10:case"end":return i.stop()}}),_callee,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._done=!0;this._headersReceivedCapability.reject(t);this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[];this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId);this._fullRequestReader=null}},{key:"filename",get:function get(){return this._filename}},{key:"isRangeSupported",get:function get(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}},{key:"contentLength",get:function get(){return this._contentLength}},{key:"headersReady",get:function get(){return this._headersReceivedCapability.promise}}]);var t;return PDFNetworkStreamFullRequestReader}(),h=function(){function PDFNetworkStreamRangeRequestReader(t,r,i){_classCallCheck(this,PDFNetworkStreamRangeRequestReader);this._manager=t;var a={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(r,i,a);this._requests=[];this._queuedChunk=null;this._done=!1;this.onProgress=null;this.onClosed=null}_createClass(PDFNetworkStreamRangeRequestReader,[{key:"_close",value:function _close(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function _onDone(t){var r=t.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:r,done:!1})}else this._queuedChunk=r;this._done=!0;this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[];this._close()}},{key:"_onProgress",value:function _onProgress(t){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:t.loaded})}},{key:"read",value:(t=_asyncToGenerator(a.default.mark((function _callee2(){var t,r;return a.default.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:if(null===this._queuedChunk){i.next=4;break}t=this._queuedChunk;this._queuedChunk=null;return i.abrupt("return",{value:t,done:!1});case 4:if(!this._done){i.next=6;break}return i.abrupt("return",{value:void 0,done:!0});case 6:r=(0,o.createPromiseCapability)();this._requests.push(r);return i.abrupt("return",r.promise);case 9:case"end":return i.stop()}}),_callee2,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._done=!0;this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})}));this._requests=[];this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}},{key:"isStreamingSupported",get:function get(){return!1}}]);var t;return PDFNetworkStreamRangeRequestReader}()},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.createResponseStatusError=function createResponseStatusError(t,r){if(404===t||0===t&&r.startsWith("file:"))return new a.MissingPDFException('Missing PDF "'+r+'".');return new a.UnexpectedResponseException("Unexpected server response ("+t+') while retrieving PDF "'+r+'".',t)};r.extractFilenameFromHeader=function extractFilenameFromHeader(t){var r=t("Content-Disposition");if(r){var i=(0,o.getFilenameFromContentDispositionHeader)(r);if(i.includes("%"))try{i=decodeURIComponent(i)}catch(t){}if(/\.pdf$/i.test(i))return i}return null};r.validateRangeRequestCapabilities=function validateRangeRequestCapabilities(t){var r=t.getResponseHeader,i=t.isHttp,o=t.rangeChunkSize,l=t.disableRange;(0,a.assert)(o>0,"Range chunk size must be larger than zero");var c={allowRangeRequests:!1,suggestedLength:void 0},u=parseInt(r("Content-Length"),10);if(!Number.isInteger(u))return c;c.suggestedLength=u;if(u<=2*o)return c;if(l||!i)return c;if("bytes"!==r("Accept-Ranges"))return c;if("identity"!==(r("Content-Encoding")||"identity"))return c;c.allowRangeRequests=!0;return c};r.validateResponseStatus=function validateResponseStatus(t){return 200===t||206===t};var a=i(5),o=i(221)},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.getFilenameFromContentDispositionHeader=function getFilenameFromContentDispositionHeader(t){var r=!0,i=toParamRegExp("filename\\*","i").exec(t);if(i){var a=rfc2616unquote(i=i[1]);return fixupEncoding(a=rfc2047decode(a=rfc5987decode(a=unescape(a))))}if(i=function rfc2231getparam(t){var r,i=[],a=toParamRegExp("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(r=a.exec(t));){var o=_slicedToArray(r,4),l=o[1],c=o[2],u=o[3];if((l=parseInt(l,10))in i){if(0===l)break}else i[l]=[c,u]}for(var d=[],h=0;h<i.length&&h in i;++h){var p=_slicedToArray(i[h],2),g=p[0],v=p[1];v=rfc2616unquote(v);if(g){v=unescape(v);0===h&&(v=rfc5987decode(v))}d.push(v)}return d.join("")}(t)){return fixupEncoding(rfc2047decode(i))}if(i=toParamRegExp("filename","i").exec(t)){var o=rfc2616unquote(i=i[1]);return fixupEncoding(o=rfc2047decode(o))}function toParamRegExp(t,r){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',r)}function textdecode(t,i){if(t){if(!/^[\x00-\xFF]+$/.test(i))return i;try{var a=new TextDecoder(t,{fatal:!0}),o=Array.from(i,(function(t){return 255&t.charCodeAt(0)}));i=a.decode(new Uint8Array(o));r=!1}catch(a){if(/^utf-?8$/i.test(t))try{i=decodeURIComponent(escape(i));r=!1}catch(t){}}}return i}function fixupEncoding(t){if(r&&/[\x80-\xff]/.test(t)){t=textdecode("utf-8",t);r&&(t=textdecode("iso-8859-1",t))}return t}function rfc2616unquote(t){if(t.startsWith('"')){for(var r=t.slice(1).split('\\"'),i=0;i<r.length;++i){var a=r[i].indexOf('"');if(-1!==a){r[i]=r[i].slice(0,a);r.length=i+1}r[i]=r[i].replace(/\\(.)/g,"$1")}t=r.join('"')}return t}function rfc5987decode(t){var r=t.indexOf("'");return-1===r?t:textdecode(t.slice(0,r),t.slice(r+1).replace(/^[^']*'/,""))}function rfc2047decode(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,r,i,a){if("q"===i||"Q"===i)return textdecode(r,a=(a=a.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(t,r){return String.fromCharCode(parseInt(r,16))})));try{a=atob(a)}catch(t){}return textdecode(r,a)}))}return""};function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],a=!0,o=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){i.push(c.value);if(r&&i.length===r)break}}catch(t){o=!0;l=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw l}}return i}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFFetchStream=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(5),l=i(220);function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}function createFetchOptions(t,r,i){return{method:"GET",headers:t,signal:i&&i.signal,mode:"cors",credentials:r?"include":"same-origin",redirect:"follow"}}function createHeaders(t){var r=new Headers;for(var i in t){var a=t[i];void 0!==a&&r.append(i,a)}return r}var c=function(){function PDFFetchStream(t){_classCallCheck(this,PDFFetchStream);this.source=t;this.isHttp=/^https?:/i.test(t.url);this.httpHeaders=this.isHttp&&t.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}_createClass(PDFFetchStream,[{key:"getFullReader",value:function getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once.");this._fullRequestReader=new u(this);return this._fullRequestReader}},{key:"getRangeReader",value:function getRangeReader(t,r){if(r<=this._progressiveDataLength)return null;var i=new d(this,t,r);this._rangeRequestReaders.push(i);return i}},{key:"cancelAllRequests",value:function cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);this._rangeRequestReaders.slice(0).forEach((function(r){r.cancel(t)}))}},{key:"_progressiveDataLength",get:function get(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]);return PDFFetchStream}();r.PDFFetchStream=c;var u=function(){function PDFFetchStreamReader(t){var r=this;_classCallCheck(this,PDFFetchStreamReader);this._stream=t;this._reader=null;this._loaded=0;this._filename=null;var i=t.source;this._withCredentials=i.withCredentials||!1;this._contentLength=i.length;this._headersCapability=(0,o.createPromiseCapability)();this._disableRange=i.disableRange||!1;this._rangeChunkSize=i.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);"undefined"!=typeof AbortController&&(this._abortController=new AbortController);this._isStreamingSupported=!i.disableStream;this._isRangeSupported=!i.disableRange;this._headers=createHeaders(this._stream.httpHeaders);var a=i.url;fetch(a,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,l.validateResponseStatus)(t.status))throw(0,l.createResponseStatusError)(t.status,a);r._reader=t.body.getReader();r._headersCapability.resolve();var i=function getResponseHeader(r){return t.headers.get(r)},c=(0,l.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:r._stream.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),u=c.allowRangeRequests,d=c.suggestedLength;r._isRangeSupported=u;r._contentLength=d||r._contentLength;r._filename=(0,l.extractFilenameFromHeader)(i);!r._isStreamingSupported&&r._isRangeSupported&&r.cancel(new o.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject);this.onProgress=null}_createClass(PDFFetchStreamReader,[{key:"read",value:(t=_asyncToGenerator(a.default.mark((function _callee(){var t,r,i,o;return a.default.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._headersCapability.promise;case 2:a.next=4;return this._reader.read();case 4:t=a.sent;r=t.value;if(!(i=t.done)){a.next=9;break}return a.abrupt("return",{value:r,done:i});case 9:this._loaded+=r.byteLength;this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength});o=new Uint8Array(r).buffer;return a.abrupt("return",{value:o,done:!1});case 13:case"end":return a.stop()}}),_callee,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._reader&&this._reader.cancel(t);this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function get(){return this._headersCapability.promise}},{key:"filename",get:function get(){return this._filename}},{key:"contentLength",get:function get(){return this._contentLength}},{key:"isRangeSupported",get:function get(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}}]);var t;return PDFFetchStreamReader}(),d=function(){function PDFFetchStreamRangeReader(t,r,i){var a=this;_classCallCheck(this,PDFFetchStreamRangeReader);this._stream=t;this._reader=null;this._loaded=0;var c=t.source;this._withCredentials=c.withCredentials||!1;this._readCapability=(0,o.createPromiseCapability)();this._isStreamingSupported=!c.disableStream;"undefined"!=typeof AbortController&&(this._abortController=new AbortController);this._headers=createHeaders(this._stream.httpHeaders);this._headers.append("Range","bytes=".concat(r,"-").concat(i-1));var u=c.url;fetch(u,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,l.validateResponseStatus)(t.status))throw(0,l.createResponseStatusError)(t.status,u);a._readCapability.resolve();a._reader=t.body.getReader()})).catch((function(t){if(!t||"AbortError"!==t.name)throw t}));this.onProgress=null}_createClass(PDFFetchStreamRangeReader,[{key:"read",value:(t=_asyncToGenerator(a.default.mark((function _callee2(){var t,r,i,o;return a.default.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._readCapability.promise;case 2:a.next=4;return this._reader.read();case 4:t=a.sent;r=t.value;if(!(i=t.done)){a.next=9;break}return a.abrupt("return",{value:r,done:i});case 9:this._loaded+=r.byteLength;this.onProgress&&this.onProgress({loaded:this._loaded});o=new Uint8Array(r).buffer;return a.abrupt("return",{value:o,done:!1});case 13:case"end":return a.stop()}}),_callee2,this)}))),function read(){return t.apply(this,arguments)})},{key:"cancel",value:function cancel(t){this._reader&&this._reader.cancel(t);this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function get(){return this._isStreamingSupported}}]);var t;return PDFFetchStreamRangeReader}()}])}));
/**
 * @licstart The following is the entire license notice for the
 * Javascript code in this page
 *
 * Copyright 2020 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * Javascript code in this page
 */!function(t){var r={};function __webpack_require__(i){if(r[i])return r[i].exports;var a=r[i]={i:i,l:!1,exports:{}};t[i].call(a.exports,a,a.exports,__webpack_require__);a.l=!0;return a.exports}__webpack_require__.m=t;__webpack_require__.c=r;__webpack_require__.d=function(t,r,i){__webpack_require__.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})};__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0})};__webpack_require__.t=function(t,r){1&r&&(t=__webpack_require__(t));if(8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);__webpack_require__.r(i);Object.defineProperty(i,"default",{enumerable:!0,value:t});if(2&r&&"string"!=typeof t)for(var a in t)__webpack_require__.d(i,a,function(r){return t[r]}.bind(null,a));return i};__webpack_require__.n=function(t){var r=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};__webpack_require__.d(r,"a",r);return r};__webpack_require__.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)};__webpack_require__.p="";__webpack_require__(__webpack_require__.s=0)}([function(t,r,i){"use strict";HTMLCollection.prototype[Symbol.iterator]||(HTMLCollection.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]);"function"!=typeof window.CustomEvent&&(window.CustomEvent=function CustomEvent(t,r){r=r||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");i.initCustomEvent(t,r.bubbles,r.cancelable,r.detail);return i});var a,o;a=i(1);o=i(6);i(41);i(46);window.webViewerLoad=function webViewerLoad(){var t=function getViewerConfiguration(){return{appContainer:document.body,mainContainer:document.getElementById("viewerContainer"),viewerContainer:document.getElementById("viewer"),eventBus:null,toolbar:{container:document.getElementById("toolbarViewer"),numPages:document.getElementById("numPages"),pageNumber:document.getElementById("pageNumber"),scaleSelectContainer:document.getElementById("scaleSelectContainer"),scaleSelect:document.getElementById("scaleSelect"),customScaleOption:document.getElementById("customScaleOption"),previous:document.getElementById("previous"),next:document.getElementById("next"),zoomIn:document.getElementById("zoomIn"),zoomOut:document.getElementById("zoomOut"),viewFind:document.getElementById("viewFind"),openFile:document.getElementById("openFile"),print:document.getElementById("print"),presentationModeButton:document.getElementById("presentationMode"),download:document.getElementById("download"),viewBookmark:document.getElementById("viewBookmark")},secondaryToolbar:{toolbar:document.getElementById("secondaryToolbar"),toggleButton:document.getElementById("secondaryToolbarToggle"),toolbarButtonContainer:document.getElementById("secondaryToolbarButtonContainer"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFileButton:document.getElementById("secondaryOpenFile"),printButton:document.getElementById("secondaryPrint"),downloadButton:document.getElementById("secondaryDownload"),viewBookmarkButton:document.getElementById("secondaryViewBookmark"),firstPageButton:document.getElementById("firstPage"),lastPageButton:document.getElementById("lastPage"),pageRotateCwButton:document.getElementById("pageRotateCw"),pageRotateCcwButton:document.getElementById("pageRotateCcw"),cursorSelectToolButton:document.getElementById("cursorSelectTool"),cursorHandToolButton:document.getElementById("cursorHandTool"),scrollVerticalButton:document.getElementById("scrollVertical"),scrollHorizontalButton:document.getElementById("scrollHorizontal"),scrollWrappedButton:document.getElementById("scrollWrapped"),spreadNoneButton:document.getElementById("spreadNone"),spreadOddButton:document.getElementById("spreadOdd"),spreadEvenButton:document.getElementById("spreadEven"),documentPropertiesButton:document.getElementById("documentProperties")},fullscreen:{contextFirstPage:document.getElementById("contextFirstPage"),contextLastPage:document.getElementById("contextLastPage"),contextPageRotateCw:document.getElementById("contextPageRotateCw"),contextPageRotateCcw:document.getElementById("contextPageRotateCcw")},sidebar:{outerContainer:document.getElementById("outerContainer"),viewerContainer:document.getElementById("viewerContainer"),toggleButton:document.getElementById("sidebarToggle"),thumbnailButton:document.getElementById("viewThumbnail"),outlineButton:document.getElementById("viewOutline"),attachmentsButton:document.getElementById("viewAttachments"),layersButton:document.getElementById("viewLayers"),thumbnailView:document.getElementById("thumbnailView"),outlineView:document.getElementById("outlineView"),attachmentsView:document.getElementById("attachmentsView"),layersView:document.getElementById("layersView")},sidebarResizer:{outerContainer:document.getElementById("outerContainer"),resizer:document.getElementById("sidebarResizer")},findBar:{bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),findFieldMultiline:document.getElementById("findInputMultiline"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),entireWordCheckbox:document.getElementById("findEntireWord"),findMultipleSearchTextsCheckbox:document.getElementById("findMultipleSearchTexts"),ignoreAccentsCheckbox:document.getElementById("findIgnoreAccents"),fuzzyCheckbox:document.getElementById("findFuzzy"),findMsg:document.getElementById("findMsg"),findResultsCount:document.getElementById("findResultsCount"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext")},passwordOverlay:{overlayName:"passwordOverlay",container:document.getElementById("passwordOverlay"),label:document.getElementById("passwordText"),input:document.getElementById("password"),submitButton:document.getElementById("passwordSubmit"),cancelButton:document.getElementById("passwordCancel")},documentProperties:{overlayName:"documentPropertiesOverlay",container:document.getElementById("documentPropertiesOverlay"),closeButton:document.getElementById("documentPropertiesClose"),fields:{fileName:document.getElementById("fileNameField"),fileSize:document.getElementById("fileSizeField"),title:document.getElementById("titleField"),author:document.getElementById("authorField"),subject:document.getElementById("subjectField"),keywords:document.getElementById("keywordsField"),creationDate:document.getElementById("creationDateField"),modificationDate:document.getElementById("modificationDateField"),creator:document.getElementById("creatorField"),producer:document.getElementById("producerField"),version:document.getElementById("versionField"),pageCount:document.getElementById("pageCountField"),pageSize:document.getElementById("pageSizeField"),linearized:document.getElementById("linearizedField")}},errorWrapper:{container:document.getElementById("errorWrapper"),errorMessage:document.getElementById("errorMessage"),closeButton:document.getElementById("errorClose"),errorMoreInfo:document.getElementById("errorMoreInfo"),moreInfoButton:document.getElementById("errorShowMore"),lessInfoButton:document.getElementById("errorShowLess")},printContainer:document.getElementById("printContainer"),openFileInputName:"fileInput",debuggerScriptPath:"./debugger.js"}}();window.PDFViewerApplication=a.PDFViewerApplication;window.PDFViewerApplicationOptions=o.AppOptions;var r=document.createEvent("CustomEvent");r.initCustomEvent("webviewerloaded",!0,!0,{source:window});try{parent.document.dispatchEvent(r)}catch(t){console.error("webviewerloaded: ".concat(t));document.dispatchEvent(r)}a.PDFViewerApplication.run(t)}},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFPrintServiceFactory=r.DefaultExternalServices=r.PDFViewerApplication=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(5),l=i(6),c=i(8),u=i(9),d=i(11),h=i(12),p=i(13),g=i(14),v=i(15),m=i(17),y=i(18),b=i(19),w=i(23),S=i(24),C=i(25),P=i(26),k=i(27),A=i(28),R=i(29),x=i(31),T=i(37),E=i(39),I=i(7),L=i(40);function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],a=!0,o=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){i.push(c.value);if(r&&i.length===r)break}}catch(t){o=!0;l=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw l}}return i}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _readOnlyError(t){throw new Error('"'+t+'" is read-only')}function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var O=-1,D=1,M=["1.0","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2.0","2.1","2.2","2.3"],N=["acrobat distiller","acrobat pdfwriter","adobe livecycle","adobe pdf library","adobe photoshop","ghostscript","tcpdf","cairo","dvipdfm","dvips","pdftex","pdfkit","itext","prince","quarkxpress","mac os x","microsoft","openoffice","oracle","luradocument","pdf-xchange","antenna house","aspose.cells","fpdf"],B=function(){function DefaultExternalServices(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,DefaultExternalServices);throw new Error("Cannot initialize DefaultExternalServices.")}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(DefaultExternalServices,null,[{key:"updateFindControlState",value:function updateFindControlState(t){}},{key:"updateFindMatchesCount",value:function updateFindMatchesCount(t){}},{key:"initPassiveLoading",value:function initPassiveLoading(t){}},{key:"fallback",value:function fallback(t,r){}},{key:"reportTelemetry",value:function reportTelemetry(t){}},{key:"createDownloadManager",value:function createDownloadManager(t){throw new Error("Not implemented: createDownloadManager")}},{key:"createPreferences",value:function createPreferences(){throw new Error("Not implemented: createPreferences")}},{key:"createL10n",value:function createL10n(t){throw new Error("Not implemented: createL10n")}},{key:"supportsIntegratedFind",get:function get(){return(0,c.shadow)(this,"supportsIntegratedFind",!1)}},{key:"supportsDocumentFonts",get:function get(){return(0,c.shadow)(this,"supportsDocumentFonts",!0)}},{key:"supportedMouseWheelZoomModifierKeys",get:function get(){return(0,c.shadow)(this,"supportedMouseWheelZoomModifierKeys",{ctrlKey:!0,metaKey:!0})}},{key:"isInAutomation",get:function get(){return(0,c.shadow)(this,"isInAutomation",!1)}}]);return DefaultExternalServices}();r.DefaultExternalServices=B;var j,W={initialBookmark:document.location.hash.substring(1),_initializedCapability:(0,c.createPromiseCapability)(),fellback:!1,appConfig:null,pdfDocument:null,pdfLoadingTask:null,printService:null,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pdfPresentationMode:null,pdfDocumentProperties:null,pdfLinkService:null,pdfHistory:null,pdfSidebar:null,pdfSidebarResizer:null,pdfOutlineViewer:null,pdfAttachmentViewer:null,pdfLayerViewer:null,pdfCursorTools:null,store:null,downloadManager:null,overlayManager:null,preferences:null,toolbar:null,secondaryToolbar:null,eventBus:null,l10n:null,isInitialViewSet:!1,downloadComplete:!1,isViewerEmbedded:window.parent!==window,url:"",baseUrl:"",externalServices:B,_boundEvents:{},contentDispositionFilename:null,triggerDelayedFallback:null,_saveInProgress:!1,_wheelUnusedTicks:0,initialize:function initialize(t){var r=this;return _asyncToGenerator(a.default.mark((function _callee(){var i;return a.default.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:r.preferences=r.externalServices.createPreferences();r.appConfig=t;a.next=4;return r._readPreferences();case 4:a.next=6;return r._parseHashParameters();case 6:a.next=8;return r._initializeL10n();case 8:r.isViewerEmbedded&&l.AppOptions.get("externalLinkTarget")===c.LinkTarget.NONE&&l.AppOptions.set("externalLinkTarget",c.LinkTarget.TOP);a.next=11;return r._initializeViewerComponents();case 11:r.bindEvents();r.bindWindowEvents();i=t.appContainer||document.documentElement;r.l10n.translate(i).then((function(){r.eventBus.dispatch("localized",{source:r})}));r._initializedCapability.resolve();case 16:case"end":return a.stop()}}),_callee)})))()},_readPreferences:function _readPreferences(){var t=this;return _asyncToGenerator(a.default.mark((function _callee2(){var r,i;return a.default.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(!l.AppOptions.get("disablePreferences")){a.next=2;break}return a.abrupt("return");case 2:a.prev=2;a.next=5;return t.preferences.getAll();case 5:r=a.sent;for(i in r)l.AppOptions.set(i,r[i]);a.next=12;break;case 9:a.prev=9;a.t0=a.catch(2);console.error('_readPreferences: "'.concat(a.t0.message,'".'));case 12:case"end":return a.stop()}}),_callee2,null,[[2,9]])})))()},_parseHashParameters:function _parseHashParameters(){var t=this;return _asyncToGenerator(a.default.mark((function _callee3(){var r,i,c,u;return a.default.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:if(l.AppOptions.get("pdfBugEnabled")){a.next=2;break}return a.abrupt("return",void 0);case 2:if(r=document.location.hash.substring(1)){a.next=5;break}return a.abrupt("return",void 0);case 5:i=(0,o.parseQueryString)(r),c=[];"disableworker"in i&&"true"===i.disableworker&&c.push(loadFakeWorker());"disablerange"in i&&l.AppOptions.set("disableRange","true"===i.disablerange);"disablestream"in i&&l.AppOptions.set("disableStream","true"===i.disablestream);"disableautofetch"in i&&l.AppOptions.set("disableAutoFetch","true"===i.disableautofetch);"disablefontface"in i&&l.AppOptions.set("disableFontFace","true"===i.disablefontface);"disablehistory"in i&&l.AppOptions.set("disableHistory","true"===i.disablehistory);"webgl"in i&&l.AppOptions.set("enableWebGL","true"===i.webgl);"removepageborders"in i&&l.AppOptions.set("removePageBorders","true"===i.removepageborders);"verbosity"in i&&l.AppOptions.set("verbosity",0|i.verbosity);if(!("textlayer"in i)){a.next=24;break}a.t0=i.textlayer;a.next="off"===a.t0?19:"visible"===a.t0||"shadow"===a.t0||"hover"===a.t0?21:24;break;case 19:l.AppOptions.set("textLayerMode",o.TextLayerMode.DISABLE);return a.abrupt("break",24);case 21:t.appConfig.viewerContainer.classList.add("textLayer-"+i.textlayer);return a.abrupt("break",24);case 24:if("pdfbug"in i){l.AppOptions.set("pdfBug",!0);l.AppOptions.set("fontExtraProperties",!0);u=i.pdfbug.split(",");c.push(loadAndEnablePDFBug(u))}"locale"in i&&l.AppOptions.set("locale",i.locale);return a.abrupt("return",Promise.all(c).catch((function(t){console.error('_parseHashParameters: "'.concat(t.message,'".'))})));case 27:case"end":return a.stop()}}),_callee3)})))()},_initializeL10n:function _initializeL10n(){var t=this;return _asyncToGenerator(a.default.mark((function _callee4(){var r;return a.default.wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:t.l10n=t.externalServices.createL10n({locale:l.AppOptions.get("locale")});i.next=3;return t.l10n.getDirection();case 3:r=i.sent;document.getElementsByTagName("html")[0].dir=r;case 5:case"end":return i.stop()}}),_callee4)})))()},_initializeViewerComponents:function _initializeViewerComponents(){var t=this;return _asyncToGenerator(a.default.mark((function _callee5(){var r,i,c,I,L,O,D,M;return a.default.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:r=t.appConfig;i=r.eventBus||new o.EventBus({isInAutomation:t.externalServices.isInAutomation});t.eventBus=i;t.overlayManager=new p.OverlayManager;(c=new d.PDFRenderingQueue).onIdle=t.cleanup.bind(t);t.pdfRenderingQueue=c;I=new C.PDFLinkService({eventBus:i,externalLinkTarget:l.AppOptions.get("externalLinkTarget"),externalLinkRel:l.AppOptions.get("externalLinkRel"),ignoreDestinationZoom:l.AppOptions.get("ignoreDestinationZoom")});t.pdfLinkService=I;L=t.externalServices.createDownloadManager();t.downloadManager=L;O=new b.PDFFindController({linkService:I,eventBus:i});t.findController=O;D=r.mainContainer;M=r.viewerContainer;t.pdfViewer=new x.PDFViewer({container:D,viewer:M,eventBus:i,renderingQueue:c,linkService:I,downloadManager:L,findController:O,renderer:l.AppOptions.get("renderer"),enableWebGL:l.AppOptions.get("enableWebGL"),l10n:t.l10n,textLayerMode:l.AppOptions.get("textLayerMode"),imageResourcesPath:l.AppOptions.get("imageResourcesPath"),removePageBorders:l.AppOptions.get("removePageBorders"),renderInteractiveForms:l.AppOptions.get("renderInteractiveForms"),enablePrintAutoRotate:l.AppOptions.get("enablePrintAutoRotate"),useOnlyCssZoom:l.AppOptions.get("useOnlyCssZoom"),maxCanvasPixels:l.AppOptions.get("maxCanvasPixels"),pageViewMode:l.AppOptions.get("pageViewMode")});c.setViewer(t.pdfViewer);I.setViewer(t.pdfViewer);t.pdfThumbnailViewer=new R.PDFThumbnailViewer({container:r.sidebar.thumbnailView,eventBus:i,renderingQueue:c,linkService:I,l10n:t.l10n});c.setThumbnailViewer(t.pdfThumbnailViewer);t.pdfHistory=new w.PDFHistory({linkService:I,eventBus:i});I.setHistory(t.pdfHistory);t.supportsIntegratedFind||(t.findBar=new y.PDFFindBar(r.findBar,i,t.l10n));t.pdfDocumentProperties=new m.PDFDocumentProperties(r.documentProperties,t.overlayManager,i,t.l10n);t.pdfCursorTools=new u.PDFCursorTools({container:D,eventBus:i,cursorToolOnLoad:l.AppOptions.get("cursorToolOnLoad")});t.toolbar=new E.Toolbar(r.toolbar,i,t.l10n);t.secondaryToolbar=new T.SecondaryToolbar(r.secondaryToolbar,D,i);t.supportsFullscreen&&(t.pdfPresentationMode=new k.PDFPresentationMode({container:D,pdfViewer:t.pdfViewer,eventBus:i,contextMenuItems:r.fullscreen}));t.passwordPrompt=new g.PasswordPrompt(r.passwordOverlay,t.overlayManager,t.l10n);t.pdfOutlineViewer=new P.PDFOutlineViewer({container:r.sidebar.outlineView,eventBus:i,linkService:I});t.pdfAttachmentViewer=new v.PDFAttachmentViewer({container:r.sidebar.attachmentsView,eventBus:i,downloadManager:L});t.pdfLayerViewer=new S.PDFLayerViewer({container:r.sidebar.layersView,eventBus:i,l10n:t.l10n});t.pdfSidebar=new h.PDFSidebar({elements:r.sidebar,pdfViewer:t.pdfViewer,pdfThumbnailViewer:t.pdfThumbnailViewer,eventBus:i,l10n:t.l10n});t.pdfSidebar.onToggled=t.forceRendering.bind(t);t.pdfSidebarResizer=new A.PDFSidebarResizer(r.sidebarResizer,i,t.l10n);case 35:case"end":return a.stop()}}),_callee5)})))()},run:function run(t){this.initialize(t).then(webViewerInitialized)},get initialized(){return this._initializedCapability.settled},get initializedPromise(){return this._initializedCapability.promise},zoomIn:function zoomIn(t){if(!this.pdfViewer.isInPresentationMode){var r=this.pdfViewer.currentScale,i=Number(l.AppOptions.get("maxZoom"));i||(i=(_readOnlyError("maxScale"),o.MAX_SCALE));do{r=(1.1*r).toFixed(2);r=Math.ceil(10*r)/10;r=Math.min(i,r)}while(--t>0&&r<i);this.pdfViewer.currentScaleValue=r}},zoomOut:function zoomOut(t){if(!this.pdfViewer.isInPresentationMode){var r=this.pdfViewer.currentScale,i=Number(l.AppOptions.get("minZoom"));i||(i=(_readOnlyError("minScale"),o.MIN_SCALE));do{r=(r/1.1).toFixed(2);r=Math.floor(10*r)/10;r=Math.max(i,r)}while(--t>0&&r>i);this.pdfViewer.currentScaleValue=r}},zoomReset:function zoomReset(){this.pdfViewer.isInPresentationMode||(this.pdfViewer.currentScaleValue=o.DEFAULT_SCALE_VALUE)},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(t){this.pdfViewer.currentPageNumber=t},get printing(){return!!this.printService},get supportsPrinting(){return H.instance.supportsPrinting},get supportsFullscreen(){var t,r=document.documentElement;t=!!(r.requestFullscreen||r.mozRequestFullScreen||r.webkitRequestFullScreen||r.msRequestFullscreen);!1!==document.fullscreenEnabled&&!1!==document.mozFullScreenEnabled&&!1!==document.webkitFullscreenEnabled&&!1!==document.msFullscreenEnabled||(t=!1);return(0,c.shadow)(this,"supportsFullscreen",t)},get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind},get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts},get loadingBar(){var t=new o.ProgressBar("#loadingBar");return(0,c.shadow)(this,"loadingBar",t)},get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys},initPassiveLoading:function initPassiveLoading(){throw new Error("Not implemented: initPassiveLoading")},setTitleUsingUrl:function setTitleUsingUrl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.url=t;this.baseUrl=t.split("#")[0];var r=(0,o.getPDFFileNameFromURL)(t,"");if(!r)try{r=decodeURIComponent((0,c.getFilenameFromUrl)(t))||t}catch(i){r=t}this.setTitle(r)},setTitle:function setTitle(t){this.isViewerEmbedded||(document.title=t)},close:function close(){var t=this;return _asyncToGenerator(a.default.mark((function _callee6(){var r;return a.default.wrap((function _callee6$(i){for(;;)switch(i.prev=i.next){case 0:t.appConfig.errorWrapper.container.setAttribute("hidden","true");if(t.pdfLoadingTask){i.next=4;break}return i.abrupt("return",void 0);case 4:r=t.pdfLoadingTask.destroy();t.pdfLoadingTask=null;if(t.pdfDocument){t.pdfDocument=null;t.pdfThumbnailViewer.setDocument(null);t.pdfViewer.setDocument(null);t.pdfLinkService.setDocument(null);t.pdfDocumentProperties.setDocument(null)}webViewerResetPermissions();t.store=null;t.isInitialViewSet=!1;t.downloadComplete=!1;t.url="";t.baseUrl="";t.contentDispositionFilename=null;t.triggerDelayedFallback=null;t._saveInProgress=!1;t.pdfSidebar.reset();t.pdfOutlineViewer.reset();t.pdfAttachmentViewer.reset();t.pdfLayerViewer.reset();t.pdfHistory&&t.pdfHistory.reset();t.findBar&&t.findBar.reset();t.toolbar.reset();t.secondaryToolbar.reset();"undefined"!=typeof PDFBug&&PDFBug.cleanup();return i.abrupt("return",r);case 26:case"end":return i.stop()}}),_callee6)})))()},open:function open(t,r){var i=this;return _asyncToGenerator(a.default.mark((function _callee7(){var o,u,d,h,p,g,v,m,y;return a.default.wrap((function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:if(!i.pdfLoadingTask){a.next=3;break}a.next=3;return i.close();case 3:o=l.AppOptions.getAll(l.OptionKind.WORKER);for(u in o)c.GlobalWorkerOptions[u]=o[u];d=Object.create(null);if("string"==typeof t){i.setTitleUsingUrl(t);d.url=t}else if(t&&"byteLength"in t)d.data=t;else if(t.url&&t.originalUrl){i.setTitleUsingUrl(t.originalUrl);d.url=t.url}h=l.AppOptions.getAll(l.OptionKind.API);for(p in h){g=h[p];d[p]=g}if(r)for(v in r){m=r[v];"length"===v&&i.pdfDocumentProperties.setFileSize(m);d[v]=m}y=(0,c.getDocument)(d);i.pdfLoadingTask=y;y.onPassword=function(t,r){i.pdfLinkService.externalLinkEnabled=!1;i.passwordPrompt.setUpdateCallback(t,r);i.passwordPrompt.open()};y.onProgress=function(t){var r=t.loaded,a=t.total;i.progress(r/a)};y.onUnsupportedFeature=i.fallback.bind(i);return a.abrupt("return",y.promise.then((function(t){i.load(t)}),(function(t){if(y===i.pdfLoadingTask){var r=t&&t.message;return(t instanceof c.InvalidPDFException?i.l10n.get("invalid_file_error",null,"Invalid or corrupted PDF file."):t instanceof c.MissingPDFException?i.l10n.get("missing_file_error",null,"Missing PDF file."):t instanceof c.UnexpectedResponseException?i.l10n.get("unexpected_response_error",null,"Unexpected server response."):i.l10n.get("loading_error",null,"An error occurred while loading the PDF.")).then((function(a){i.error(a,{message:r});i.onError(t);throw t}))}})));case 16:case"end":return a.stop()}}),_callee7)})))()},download:function download(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.sourceEventType,a=void 0===i?"download":i;function downloadByUrl(){u.downloadUrl(l,c)}var l=this.baseUrl,c=this.contentDispositionFilename||(0,o.getPDFFileNameFromURL)(this.url),u=this.downloadManager;u.onerror=function(r){t.error("PDF failed to download: ".concat(r))};this.pdfDocument&&this.downloadComplete?this.pdfDocument.getData().then((function(t){var r=new Blob([t],{type:"application/pdf"});u.download(r,l,c,a)})).catch(downloadByUrl):downloadByUrl()},save:function save(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.sourceEventType,a=void 0===i?"download":i;if(!this._saveInProgress){var l=this.baseUrl,c=this.contentDispositionFilename||(0,o.getPDFFileNameFromURL)(this.url),u=this.downloadManager;u.onerror=function(r){t.error("PDF failed to be saved: ".concat(r))};if(this.pdfDocument&&this.downloadComplete){this._saveInProgress=!0;this.pdfDocument.saveDocument(this.pdfDocument.annotationStorage).then((function(t){var r=new Blob([t],{type:"application/pdf"});u.download(r,l,c,a)})).catch((function(r){console.log("Error during the download:");console.log(r);t.download({sourceEventType:a})})).finally((function(){t._saveInProgress=!1}))}else this.download({sourceEventType:a})}},_delayedFallback:function _delayedFallback(t){var r=this;this.externalServices.reportTelemetry({type:"unsupportedFeature",featureId:t});this.triggerDelayedFallback||(this.triggerDelayedFallback=function(){r.fallback(t);r.triggerDelayedFallback=null})},fallback:function fallback(t){this.externalServices.reportTelemetry({type:"unsupportedFeature",featureId:t});if(!this.fellback){this.fellback=!0;this.externalServices.fallback({featureId:t,url:this.baseUrl},(function response(t){t&&W.download({sourceEventType:"download"})}))}},error:function error(t,r){var i=[this.l10n.get("error_version_info",{version:c.version||"?",build:c.build||"?"},"PDF.js v{{version}} (build: {{build}})")];if(r){i.push(this.l10n.get("error_message",{message:r.message},"Message: {{message}}"));if(r.stack)i.push(this.l10n.get("error_stack",{stack:r.stack},"Stack: {{stack}}"));else{r.filename&&i.push(this.l10n.get("error_file",{file:r.filename},"File: {{file}}"));r.lineNumber&&i.push(this.l10n.get("error_line",{line:r.lineNumber},"Line: {{line}}"))}}var a=this.appConfig.errorWrapper,l=a.container;l.removeAttribute("hidden");a.errorMessage.textContent=t;var u=a.closeButton;u.onclick=function(){l.setAttribute("hidden","true")};var d=a.errorMoreInfo,h=a.moreInfoButton,p=a.lessInfoButton;h.onclick=function(){d.removeAttribute("hidden");h.setAttribute("hidden","true");p.removeAttribute("hidden");d.style.height=d.scrollHeight+"px"};p.onclick=function(){d.setAttribute("hidden","true");h.removeAttribute("hidden");p.setAttribute("hidden","true")};h.oncontextmenu=o.noContextMenuHandler;p.oncontextmenu=o.noContextMenuHandler;u.oncontextmenu=o.noContextMenuHandler;h.removeAttribute("hidden");p.setAttribute("hidden","true");Promise.all(i).then((function(t){d.value=t.join("\n")}))},progress:function progress(t){var r=this;if(!this.downloadComplete){var i=Math.round(100*t);if(i>this.loadingBar.percent||isNaN(i)){this.loadingBar.percent=i;if((this.pdfDocument?this.pdfDocument.loadingParams.disableAutoFetch:l.AppOptions.get("disableAutoFetch"))&&i){if(this.disableAutoFetchLoadingBarTimeout){clearTimeout(this.disableAutoFetchLoadingBarTimeout);this.disableAutoFetchLoadingBarTimeout=null}this.loadingBar.show();this.disableAutoFetchLoadingBarTimeout=setTimeout((function(){r.loadingBar.hide();r.disableAutoFetchLoadingBarTimeout=null}),5e3)}}}},load:function load(t){var r=this;this.pdfDocument=t;t.getDownloadInfo().then((function(){r.downloadComplete=!0;r.loadingBar.hide();g.then((function(){r.eventBus.dispatch("documentloaded",{source:r})}))}));var i=t.getPageLayout().catch((function(){})),c=t.getPageMode().catch((function(){})),u=t.getOpenAction().catch((function(){}));this.toolbar.setPagesCount(t.numPages,!1);this.secondaryToolbar.setPagesCount(t.numPages);null;this.pdfLinkService.setDocument(t,null);this.pdfDocumentProperties.setDocument(t,this.url);var d=t.annotationStorage;d.onSetModified=function(){window.addEventListener("beforeunload",beforeUnload)};d.onResetModified=function(){window.removeEventListener("beforeunload",beforeUnload)};var p=this.pdfViewer;p.setDocument(t);var g=p.firstPagePromise,v=p.onePageRendered,m=p.pagesPromise;this.pdfThumbnailViewer.setDocument(t);var y=(this.store=new L.ViewHistory(t.fingerprint)).getMultiple({page:null,zoom:o.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",rotation:null,sidebarView:h.SidebarView.UNKNOWN,scrollMode:o.ScrollMode.UNKNOWN,spreadMode:o.SpreadMode.UNKNOWN}).catch((function(){return Object.create(null)}));g.then((function(d){r.loadingBar.setWidth(r.appConfig.viewerContainer);Promise.all([o.animationStarted,y,i,c,u]).then(function(){var i=_asyncToGenerator(a.default.mark((function _callee8(i){var c,u,d,g,v,y,b,w,S,C,P,k,A;return a.default.wrap((function _callee8$(a){for(;;)switch(a.prev=a.next){case 0:c=_slicedToArray(i,5),c[0],u=c[1],d=c[2],g=c[3],v=c[4];y=l.AppOptions.get("viewOnLoad");r._initializePdfHistory({fingerprint:t.fingerprint,viewOnLoad:y,initialDest:v&&v.dest});b=r.initialBookmark;w=l.AppOptions.get("defaultZoomValue");S=w?"zoom=".concat(w):null;C=null;P=l.AppOptions.get("sidebarViewOnLoad");k=l.AppOptions.get("scrollModeOnLoad");A=l.AppOptions.get("spreadModeOnLoad");if(u.page&&y!==D){S="page=".concat(u.page,"&zoom=").concat(w||u.zoom,",")+"".concat(u.scrollLeft,",").concat(u.scrollTop);C=parseInt(u.rotation,10);P===h.SidebarView.UNKNOWN&&(P=0|u.sidebarView);k===o.ScrollMode.UNKNOWN&&(k=0|u.scrollMode);A===o.SpreadMode.UNKNOWN&&(A=0|u.spreadMode)}g&&P===h.SidebarView.UNKNOWN&&(P=apiPageModeToSidebarView(g));d&&A===o.SpreadMode.UNKNOWN&&(A=apiPageLayoutToSpreadMode(d));r.setInitialView(S,{rotation:C,sidebarView:P,scrollMode:k,spreadMode:A});r.eventBus.dispatch("documentinit",{source:r});r.isViewerEmbedded||p.focus();r._initializePermissions(t);a.next=19;return Promise.race([m,new Promise((function(t){setTimeout(t,1e4)}))]);case 19:if(b||S){a.next=21;break}return a.abrupt("return");case 21:if(!p.hasEqualPageSizes){a.next=23;break}return a.abrupt("return");case 23:r.initialBookmark=b;p.currentScaleValue=p.currentScaleValue;r.setInitialView(S);case 26:case"end":return a.stop()}}),_callee8)})));return function(t){return i.apply(this,arguments)}}()).catch((function(){r.setInitialView()})).then((function(){p.update()}))}));m.then((function(){r._initializeAutoPrint(t,u)}));v.then((function(){t.getOutline().then((function(t){r.pdfOutlineViewer.render({outline:t})}));t.getAttachments().then((function(t){r.pdfAttachmentViewer.render({attachments:t})}));p.optionalContentConfigPromise.then((function(i){r.pdfLayerViewer.render({optionalContentConfig:i,pdfDocument:t})}))}));this._initializePageLabels(t);this._initializeMetadata(t)},_initializeAutoPrint:function _initializeAutoPrint(t,r){var i=this;return _asyncToGenerator(a.default.mark((function _callee9(){var l,u,d,h,p,g,v,m;return a.default.wrap((function _callee9$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return Promise.all([r,t.getJavaScript()]);case 2:l=a.sent;u=_slicedToArray(l,2);d=u[0];h=u[1];if(t===i.pdfDocument){a.next=8;break}return a.abrupt("return");case 8:p=!1;d&&"Print"===d.action&&(p=!0);if(!h){a.next=31;break}h.some((function(t){if(!t)return!1;console.warn("Warning: JavaScript is not supported");i._delayedFallback(c.UNSUPPORTED_FEATURES.javaScript);return!0}));if(p){a.next=31;break}g=_createForOfIteratorHelper(h);a.prev=14;g.s();case 16:if((v=g.n()).done){a.next=23;break}if(!(m=v.value)||!o.AutoPrintRegExp.test(m)){a.next=21;break}p=!0;return a.abrupt("break",23);case 21:a.next=16;break;case 23:a.next=28;break;case 25:a.prev=25;a.t0=a.catch(14);g.e(a.t0);case 28:a.prev=28;g.f();return a.finish(28);case 31:if(i.supportsPrinting){a.next=33;break}return a.abrupt("return");case 33:p&&setTimeout((function(){window.printPDF()}));case 34:case"end":return a.stop()}}),_callee9,null,[[14,25,28,31]])})))()},_initializeMetadata:function _initializeMetadata(t){var r=this;return _asyncToGenerator(a.default.mark((function _callee10(){var i,o,l,u,d,h,p,g,v,m,y;return a.default.wrap((function _callee10$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return t.getMetadata();case 2:i=a.sent;o=i.info;l=i.metadata;u=i.contentDispositionFilename;if(t===r.pdfDocument){a.next=8;break}return a.abrupt("return");case 8:r.documentInfo=o;r.metadata=l;r.contentDispositionFilename=u;console.log("PDF viewer: ngx-extended-pdf-viewer running on pdf.js "+(window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"].version:" developer version (?)"));console.log("PDF ".concat(t.fingerprint," [").concat(o.PDFFormatVersion," ")+"".concat((o.Producer||"-").trim()," / ").concat((o.Creator||"-").trim(),"] ")+"(PDF.js: ".concat(c.version||"-")+"".concat(r.pdfViewer.enableWebGL?" [WebGL]":"",") modified by ngx-extended-pdf-viewer)"));(h=o&&o.Title)&&(d=h);(p=l&&l.get("dc:title"))&&("Untitled"===p||/[\uFFF0-\uFFFF]/g.test(p)||(d=p));d?r.setTitle("".concat(d," - ").concat(u||document.title)):u&&r.setTitle(u);if(o.IsXFAPresent&&!o.IsAcroFormPresent){console.warn("Warning: XFA is not supported");r._delayedFallback(c.UNSUPPORTED_FEATURES.forms)}else if((o.IsAcroFormPresent||o.IsXFAPresent)&&!r.pdfViewer.renderInteractiveForms){console.warn("Warning: Interactive form support is not enabled");r._delayedFallback(c.UNSUPPORTED_FEATURES.forms)}g="other";M.includes(o.PDFFormatVersion)&&(g="v".concat(o.PDFFormatVersion.replace(".","_")));v="other";if(o.Producer){m=o.Producer.toLowerCase();N.some((function(t){if(!m.includes(t))return!1;v=t.replace(/[ .\-]/g,"_");return!0}))}y=null;o.IsXFAPresent?y="xfa":o.IsAcroFormPresent&&(y="acroform");r.externalServices.reportTelemetry({type:"documentInfo",version:g,generator:v,formType:y});case 26:case"end":return a.stop()}}),_callee10)})))()},_initializePageLabels:function _initializePageLabels(t){var r=this;return _asyncToGenerator(a.default.mark((function _callee11(){var i,o,c,u,d,h;return a.default.wrap((function _callee11$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return t.getPageLabels();case 2:i=a.sent;if(t===r.pdfDocument){a.next=5;break}return a.abrupt("return");case 5:if(i&&!l.AppOptions.get("disablePageLabels")){a.next=7;break}return a.abrupt("return");case 7:if((o=i.length)===r.pagesCount){a.next=11;break}console.error("The number of Page Labels does not match the number of pages in the document.");return a.abrupt("return");case 11:c=0;for(;c<o&&i[c]===(c+1).toString();)c++;if(c!==o){a.next=15;break}return a.abrupt("return");case 15:u=r.pdfViewer,d=r.pdfThumbnailViewer,h=r.toolbar;u.setPageLabels(i);d.setPageLabels(i);h.setPagesCount(o,!0);h.setPageNumber(u.currentPageNumber,u.currentPageLabel);case 20:case"end":return a.stop()}}),_callee11)})))()},_initializePdfHistory:function _initializePdfHistory(t){var r=t.fingerprint,i=t.viewOnLoad,a=t.initialDest,o=void 0===a?null:a;if(!this.isViewerEmbedded&&!l.AppOptions.get("disableHistory")){this.pdfHistory.initialize({fingerprint:r,resetHistory:i===D,updateUrl:l.AppOptions.get("historyUpdateUrl")});if(this.pdfHistory.initialBookmark){this.initialBookmark=this.pdfHistory.initialBookmark;this.initialRotation=this.pdfHistory.initialRotation}if(o&&!this.initialBookmark&&i===O){this.initialBookmark=JSON.stringify(o);this.pdfHistory.push({explicitDest:o,pageNumber:null})}}},_initializePermissions:function _initializePermissions(t){var r=this;return _asyncToGenerator(a.default.mark((function _callee12(){var i;return a.default.wrap((function _callee12$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return t.getPermissions();case 2:i=a.sent;if(t===r.pdfDocument){a.next=5;break}return a.abrupt("return");case 5:if(i&&l.AppOptions.get("enablePermissions")){a.next=7;break}return a.abrupt("return");case 7:i.includes(c.PermissionFlag.COPY)||r.appConfig.viewerContainer.classList.add("enablePermissions");case 8:case"end":return a.stop()}}),_callee12)})))()},setInitialView:function setInitialView(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.rotation,l=i.sidebarView,c=i.scrollMode,u=i.spreadMode,d=function setRotation(t){(0,o.isValidRotation)(t)&&(r.pdfViewer.pagesRotation=t)},h=function setViewerModes(t,i){(0,o.isValidScrollMode)(t)&&(r.pdfViewer.scrollMode=t);(0,o.isValidSpreadMode)(i)&&(r.pdfViewer.spreadMode=i)};this.isInitialViewSet=!0;this.pdfSidebar.setInitialView(l);h(c,u);if(this.initialBookmark){d(this.initialRotation);delete this.initialRotation;this.pdfLinkService.setHash(this.initialBookmark);this.initialBookmark=null}else if(t){d(a);this.pdfLinkService.setHash(t)}this.toolbar.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel);this.secondaryToolbar.setPageNumber(this.pdfViewer.currentPageNumber);this.pdfViewer.currentScaleValue||(this.pdfViewer.currentScaleValue=o.DEFAULT_SCALE_VALUE)},cleanup:function cleanup(){if(this.pdfDocument){this.pdfViewer.cleanup();this.pdfThumbnailViewer.cleanup();this.pdfViewer.renderer!==o.RendererType.SVG&&this.pdfDocument.cleanup()}},forceRendering:function forceRendering(){this.pdfRenderingQueue.printing=this.printing;this.pdfRenderingQueue.isThumbnailViewEnabled=this.pdfSidebar.isThumbnailViewVisible;this.pdfRenderingQueue.renderHighestPriority()},beforePrint:function beforePrint(){var t=this;if(!this.printService)if(this.supportsPrinting)if(this.pdfViewer.pageViewsReady){var r=this.pdfViewer.getPagesOverview(),i=this.appConfig.printContainer,a=l.AppOptions.get("printResolution"),o=this.pdfViewer.optionalContentConfigPromise,c=H.instance.createPrintService(this.pdfDocument,r,i,a,o,this.l10n);this.printService=c;this.forceRendering();c.layout();this.externalServices.reportTelemetry({type:"print"})}else this.l10n.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing.").then((function(t){window.alert(t)}));else this.l10n.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser.").then((function(r){t.error(r)}))},afterPrint:function afterPrint(){if(this.printService){document.body.removeAttribute("data-pdfjsprinting");this.printService.destroy();this.printService=null;this.pdfDocument&&this.pdfDocument.annotationStorage.resetModified()}this.forceRendering()},rotatePages:function rotatePages(t){if(this.pdfDocument){var r=(this.pdfViewer.pagesRotation+360+t)%360;this.pdfViewer.pagesRotation=r}},requestPresentationMode:function requestPresentationMode(){this.pdfPresentationMode&&this.pdfPresentationMode.request()},bindEvents:function bindEvents(){var t=this.eventBus,r=this._boundEvents;r.beforePrint=this.beforePrint.bind(this);r.afterPrint=this.afterPrint.bind(this);t._on("resize",webViewerResize);t._on("hashchange",webViewerHashchange);t._on("beforeprint",r.beforePrint);t._on("afterprint",r.afterPrint);t._on("pagerendered",webViewerPageRendered);t._on("updateviewarea",webViewerUpdateViewarea);t._on("pagechanging",webViewerPageChanging);t._on("scalechanging",webViewerScaleChanging);t._on("rotationchanging",webViewerRotationChanging);t._on("sidebarviewchanged",webViewerSidebarViewChanged);t._on("pagemode",webViewerPageMode);t._on("namedaction",webViewerNamedAction);t._on("presentationmodechanged",webViewerPresentationModeChanged);t._on("presentationmode",webViewerPresentationMode);t._on("print",webViewerPrint);t._on("download",webViewerDownload);t._on("save",webViewerSave);t._on("firstpage",webViewerFirstPage);t._on("lastpage",webViewerLastPage);t._on("nextpage",webViewerNextPage);t._on("previouspage",webViewerPreviousPage);t._on("zoomin",webViewerZoomIn);t._on("zoomout",webViewerZoomOut);t._on("zoomreset",webViewerZoomReset);t._on("pagenumberchanged",webViewerPageNumberChanged);t._on("scalechanged",webViewerScaleChanged);t._on("rotatecw",webViewerRotateCw);t._on("rotateccw",webViewerRotateCcw);t._on("optionalcontentconfig",webViewerOptionalContentConfig);t._on("switchscrollmode",webViewerSwitchScrollMode);t._on("scrollmodechanged",webViewerScrollModeChanged);t._on("switchspreadmode",webViewerSwitchSpreadMode);t._on("spreadmodechanged",webViewerSpreadModeChanged);t._on("documentproperties",webViewerDocumentProperties);t._on("find",webViewerFind);t._on("findfromurlhash",webViewerFindFromUrlHash);t._on("updatefindmatchescount",webViewerUpdateFindMatchesCount);t._on("updatefindcontrolstate",webViewerUpdateFindControlState);t._on("fileinputchange",U);t._on("openfile",G)},bindWindowEvents:function bindWindowEvents(){var t=this.eventBus,r=this._boundEvents;r.windowResize=function(){t.dispatch("resize",{source:window})};r.windowHashChange=function(){t.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})};r.windowBeforePrint=function(){t.dispatch("beforeprint",{source:window})};r.windowAfterPrint=function(){t.dispatch("afterprint",{source:window})};window.addEventListener("visibilitychange",webViewerVisibilityChange);window.addEventListener("wheel",webViewerWheel,{passive:!1});window.addEventListener("touchstart",webViewerTouchStart,{passive:!1});window.addEventListener("click",webViewerClick);window.addEventListener("keydown",webViewerKeyDown);window.addEventListener("keyup",webViewerKeyUp);window.addEventListener("resize",r.windowResize);window.addEventListener("hashchange",r.windowHashChange);window.addEventListener("beforeprint",r.windowBeforePrint);window.addEventListener("afterprint",r.windowAfterPrint)},unbindEvents:function unbindEvents(){var t=this.eventBus,r=this._boundEvents;t._off("resize",webViewerResize);t._off("hashchange",webViewerHashchange);t._off("beforeprint",r.beforePrint);t._off("afterprint",r.afterPrint);t._off("pagerendered",webViewerPageRendered);t._off("updateviewarea",webViewerUpdateViewarea);t._off("pagechanging",webViewerPageChanging);t._off("scalechanging",webViewerScaleChanging);t._off("rotationchanging",webViewerRotationChanging);t._off("sidebarviewchanged",webViewerSidebarViewChanged);t._off("pagemode",webViewerPageMode);t._off("namedaction",webViewerNamedAction);t._off("presentationmodechanged",webViewerPresentationModeChanged);t._off("presentationmode",webViewerPresentationMode);t._off("print",webViewerPrint);t._off("download",webViewerDownload);t._off("save",webViewerSave);t._off("firstpage",webViewerFirstPage);t._off("lastpage",webViewerLastPage);t._off("nextpage",webViewerNextPage);t._off("previouspage",webViewerPreviousPage);t._off("zoomin",webViewerZoomIn);t._off("zoomout",webViewerZoomOut);t._off("zoomreset",webViewerZoomReset);t._off("pagenumberchanged",webViewerPageNumberChanged);t._off("scalechanged",webViewerScaleChanged);t._off("rotatecw",webViewerRotateCw);t._off("rotateccw",webViewerRotateCcw);t._off("optionalcontentconfig",webViewerOptionalContentConfig);t._off("switchscrollmode",webViewerSwitchScrollMode);t._off("scrollmodechanged",webViewerScrollModeChanged);t._off("switchspreadmode",webViewerSwitchSpreadMode);t._off("spreadmodechanged",webViewerSpreadModeChanged);t._off("documentproperties",webViewerDocumentProperties);t._off("find",webViewerFind);t._off("findfromurlhash",webViewerFindFromUrlHash);t._off("updatefindmatchescount",webViewerUpdateFindMatchesCount);t._off("updatefindcontrolstate",webViewerUpdateFindControlState);t._off("fileinputchange",U);t._off("openfile",G);r.beforePrint=null;r.afterPrint=null},unbindWindowEvents:function unbindWindowEvents(){var t=this._boundEvents;window.removeEventListener("visibilitychange",webViewerVisibilityChange);window.removeEventListener("wheel",webViewerWheel,{passive:!1});window.removeEventListener("touchstart",webViewerTouchStart,{passive:!1});window.removeEventListener("click",webViewerClick);window.removeEventListener("keydown",webViewerKeyDown);window.removeEventListener("keyup",webViewerKeyUp);window.removeEventListener("resize",t.windowResize);window.removeEventListener("hashchange",t.windowHashChange);window.removeEventListener("beforeprint",t.windowBeforePrint);window.removeEventListener("afterprint",t.windowAfterPrint);t.windowResize=null;t.windowHashChange=null;t.windowBeforePrint=null;t.windowAfterPrint=null},accumulateWheelTicks:function accumulateWheelTicks(t){(this._wheelUnusedTicks>0&&t<0||this._wheelUnusedTicks<0&&t>0)&&(this._wheelUnusedTicks=0);this._wheelUnusedTicks+=t;var r=Math.sign(this._wheelUnusedTicks)*Math.floor(Math.abs(this._wheelUnusedTicks));this._wheelUnusedTicks-=r;return r}};r.PDFViewerApplication=W;var V,U,G,z=["null","http://mozilla.github.io","https://mozilla.github.io"];j=function validateFileURL(t){if(void 0!==t)try{var r=new URL(window.location.href).origin||"null";if(z.includes(r))return;var i=new URL(t,window.location.href),a=i.origin,o=i.protocol;if(a!==r&&"blob:"!==o)throw new Error("file origin does not match viewer's")}catch(t){var l=t&&t.message;W.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then((function(t){W.error(t,{message:l})}));throw t}};function loadFakeWorker(){return _loadFakeWorker.apply(this,arguments)}function _loadFakeWorker(){return(_loadFakeWorker=_asyncToGenerator(a.default.mark((function _callee13(){return a.default.wrap((function _callee13$(t){for(;;)switch(t.prev=t.next){case 0:c.GlobalWorkerOptions.workerSrc||(c.GlobalWorkerOptions.workerSrc=l.AppOptions.get("workerSrc"));return t.abrupt("return",(0,c.loadScript)(c.PDFWorker.getWorkerSrc()));case 2:case"end":return t.stop()}}),_callee13)})))).apply(this,arguments)}function loadAndEnablePDFBug(t){var r=W.appConfig;return(0,c.loadScript)(r.debuggerScriptPath).then((function(){PDFBug.enable(t);PDFBug.init({OPS:c.OPS},r.mainContainer)}))}function webViewerInitialized(){var t,r=W.appConfig,i=document.location.search.substring(1),a=(0,o.parseQueryString)(i);t="file"in a?a.file:l.AppOptions.get("defaultUrl");j(t);var c=document.createElement("input");c.id=r.openFileInputName;c.className="fileInput";c.setAttribute("accept",".pdf,application/pdf");c.setAttribute("type","file");c.oncontextmenu=o.noContextMenuHandler;document.body.appendChild(c);if(window.File&&window.FileReader&&window.FileList&&window.Blob)c.value=null;else{r.toolbar.openFile.setAttribute("hidden","true");r.secondaryToolbar.openFileButton.setAttribute("hidden","true")}c.addEventListener("change",(function(t){var r=t.target.files;r&&0!==r.length&&W.eventBus.dispatch("fileinputchange",{source:this,fileInput:t.target})}));r.mainContainer.addEventListener("dragover",(function(t){t.preventDefault();t.dataTransfer.dropEffect="move"}));r.mainContainer.addEventListener("drop",(function(t){t.preventDefault();var r=t.dataTransfer.files;r&&0!==r.length&&W.eventBus.dispatch("fileinputchange",{source:this,fileInput:t.dataTransfer})}));if(!W.supportsDocumentFonts){l.AppOptions.set("disableFontFace",!0);W.l10n.get("web_fonts_disabled",null,"Web fonts are disabled: unable to use embedded PDF fonts.").then((function(t){console.warn(t)}))}if(!W.supportsPrinting){r.toolbar.print.classList.add("hidden");r.secondaryToolbar.printButton.classList.add("hidden")}if(!W.supportsFullscreen){r.toolbar.presentationModeButton.classList.add("hidden");r.secondaryToolbar.presentationModeButton.classList.add("hidden")}W.supportsIntegratedFind&&r.toolbar.viewFind.classList.add("hidden");r.mainContainer.addEventListener("transitionend",(function(t){t.target===this&&W.eventBus.dispatch("resize",{source:this})}),!0);try{V(t)}catch(t){W.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then((function(r){W.error(r,t)}))}}V=function webViewerOpenFileViaURL(t){if(t&&0===t.lastIndexOf("file:",0)){W.setTitleUsingUrl(t);var r=new XMLHttpRequest;r.onload=function(){W.open(new Uint8Array(r.response))};r.open("GET",t);r.responseType="arraybuffer";r.send()}else t&&W.open(t)};function webViewerResetPermissions(){var t=W.appConfig;t&&t.viewerContainer.classList.remove("enablePermissions")}function webViewerPageRendered(t){var r=t.pageNumber,i=r-1,a=W.pdfViewer.getPageView(i);r===W.page&&W.toolbar.updateLoadingIndicatorState(!1);if(a){if(W.pdfSidebar.isThumbnailViewVisible){W.pdfThumbnailViewer.getThumbnail(i).setImage(a)}"undefined"!=typeof Stats&&Stats.enabled&&a.stats&&Stats.add(r,a.stats);a.error&&W.l10n.get("rendering_error",null,"An error occurred while rendering the page.").then((function(t){W.error(t,a.error)}));W.externalServices.reportTelemetry({type:"pageInfo",timestamp:t.timestamp});W.pdfDocument.getStats().then((function(t){W.externalServices.reportTelemetry({type:"documentStats",stats:t})}))}}function webViewerPageMode(t){var r,i=t.mode;switch(i){case"thumbs":r=h.SidebarView.THUMBS;break;case"bookmarks":case"outline":r=h.SidebarView.OUTLINE;break;case"attachments":r=h.SidebarView.ATTACHMENTS;break;case"layers":r=h.SidebarView.LAYERS;break;case"none":r=h.SidebarView.NONE;break;default:console.error('Invalid "pagemode" hash parameter: '+i);return}W.pdfSidebar.switchView(r,!0)}function webViewerNamedAction(t){switch(t.action){case"GoToPage":W.appConfig.toolbar.pageNumber.select();break;case"Find":W.supportsIntegratedFind||W.findBar.toggle();break;case"Print":W.supportsPrinting&&webViewerPrint();break;case"SaveAs":webViewerSave()}}function webViewerPresentationModeChanged(t){var r=t.active,i=t.switchInProgress,a=o.PresentationModeState.NORMAL;i?a=o.PresentationModeState.CHANGING:r&&(a=o.PresentationModeState.FULLSCREEN);W.pdfViewer.presentationModeState=a}function webViewerSidebarViewChanged(t){W.pdfRenderingQueue.isThumbnailViewEnabled=W.pdfSidebar.isThumbnailViewVisible;var r=W.store;r&&W.isInitialViewSet&&r.set("sidebarView",t.view).catch((function(){}))}function webViewerUpdateViewarea(t){var r=t.location,i=W.store;i&&W.isInitialViewSet&&i.setMultiple({page:r.pageNumber,zoom:r.scale,scrollLeft:r.left,scrollTop:r.top,rotation:r.rotation}).catch((function(){}));var a=W.pdfLinkService.getAnchorUrl(r.pdfOpenParams);W.appConfig.toolbar.viewBookmark.href=a;W.appConfig.secondaryToolbar.viewBookmarkButton.href=a;var o=W.pdfViewer.getPageView(W.page-1).renderingState!==d.RenderingStates.FINISHED;W.toolbar.updateLoadingIndicatorState(o)}function webViewerScrollModeChanged(t){var r=W.store;r&&W.isInitialViewSet&&r.set("scrollMode",t.mode).catch((function(){}))}function webViewerSpreadModeChanged(t){var r=W.store;r&&W.isInitialViewSet&&r.set("spreadMode",t.mode).catch((function(){}))}function webViewerResize(){var t=W.pdfDocument,r=W.pdfViewer;if(t){var i=r.currentScaleValue;"auto"!==i&&"page-fit"!==i&&"page-width"!==i||(r.currentScaleValue=i);r.update()}}function webViewerHashchange(t){var r=t.hash;r&&(W.isInitialViewSet?W.pdfHistory.popStateInProgress||W.pdfLinkService.setHash(r):W.initialBookmark=r)}U=function webViewerFileInputChange(t){if(!W.pdfViewer||!W.pdfViewer.isInPresentationMode){var r=t.fileInput.files[0];if(I.viewerCompatibilityParams.disableCreateObjectURL){W.setTitleUsingUrl(r.name);var i=new FileReader;i.onload=function webViewerChangeFileReaderOnload(t){var r=t.target.result;W.open(new Uint8Array(r))};i.readAsArrayBuffer(r)}else{var a=URL.createObjectURL(r);r.name&&(a={url:a,originalUrl:r.name});W.open(a)}var o=W.appConfig;o.toolbar.viewBookmark.setAttribute("hidden","true");o.secondaryToolbar.viewBookmarkButton.setAttribute("hidden","true");o.toolbar.download.setAttribute("hidden","true");o.secondaryToolbar.downloadButton.setAttribute("hidden","true")}};G=function webViewerOpenFile(t){var r=W.appConfig.openFileInputName;document.getElementById(r).click()};function webViewerPresentationMode(){W.requestPresentationMode()}function webViewerPrint(){window.printPDF()}function webViewerDownloadOrSave(t){W.pdfDocument&&W.pdfDocument.annotationStorage.size>0?W.save({sourceEventType:t}):W.download({sourceEventType:t})}function webViewerDownload(){webViewerDownloadOrSave("download")}function webViewerSave(){webViewerDownloadOrSave("save")}function webViewerFirstPage(){W.pdfDocument&&(W.page=1)}function webViewerLastPage(){W.pdfDocument&&(W.page=W.pagesCount)}function webViewerNextPage(){W.page++}function webViewerPreviousPage(){W.page--}function webViewerZoomIn(){W.zoomIn()}function webViewerZoomOut(){W.zoomOut()}function webViewerZoomReset(){W.zoomReset()}function webViewerPageNumberChanged(t){var r=W.pdfViewer;""!==t.value&&(r.currentPageLabel=t.value);t.value!==r.currentPageNumber.toString()&&t.value!==r.currentPageLabel&&W.toolbar.setPageNumber(r.currentPageNumber,r.currentPageLabel)}function webViewerScaleChanged(t){W.pdfViewer.currentScaleValue=t.value}function webViewerRotateCw(){W.rotatePages(90)}function webViewerRotateCcw(){W.rotatePages(-90)}function webViewerOptionalContentConfig(t){W.pdfViewer.optionalContentConfigPromise=t.promise}function webViewerSwitchScrollMode(t){W.pdfViewer.scrollMode=t.mode}function webViewerSwitchSpreadMode(t){W.pdfViewer.spreadMode=t.mode}function webViewerDocumentProperties(){W.pdfDocumentProperties.open()}function webViewerFind(t){W.findController.executeCommand("find"+t.type,{query:t.query,phraseSearch:t.phraseSearch,caseSensitive:t.caseSensitive,entireWord:t.entireWord,ignoreAccents:t.ignoreAccents,fuzzySearch:t.fuzzySearch,highlightAll:t.highlightAll,findPrevious:t.findPrevious})}function webViewerFindFromUrlHash(t){W.findController.executeCommand("find",{query:t.query,phraseSearch:t.phraseSearch,caseSensitive:!1,entireWord:!1,ignoreAccents:!1,fuzzySearch:!1,highlightAll:!0,findPrevious:!1})}function webViewerUpdateFindMatchesCount(t){var r=t.matchesCount;W.supportsIntegratedFind?W.externalServices.updateFindMatchesCount(r):W.findBar.updateResultsCount(r)}function webViewerUpdateFindControlState(t){var r=t.state,i=t.previous,a=t.matchesCount,o=t.rawQuery;W.supportsIntegratedFind?W.externalServices.updateFindControlState({result:r,findPrevious:i,matchesCount:a,rawQuery:o}):W.findBar.updateUIState(r,i,a)}function webViewerScaleChanging(t){W.toolbar.setPageScale(t.presetValue,t.scale);W.pdfViewer.update()}function webViewerRotationChanging(t){W.pdfThumbnailViewer.pagesRotation=t.pagesRotation;W.forceRendering();W.pdfViewer.currentPageNumber=t.pageNumber}function webViewerPageChanging(t){var r=t.pageNumber;W.toolbar.setPageNumber(r,t.pageLabel||null);W.secondaryToolbar.setPageNumber(r);W.pdfSidebar.isThumbnailViewVisible&&W.pdfThumbnailViewer.scrollThumbnailIntoView(r);if("undefined"!=typeof Stats&&Stats.enabled){var i=W.pdfViewer.getPageView(r-1);i&&i.stats&&Stats.add(r,i.stats)}var a=document.getElementById("pageNumber");if(a){var o=new CustomEvent("page-change");a.dispatchEvent(o)}}function webViewerVisibilityChange(t){"visible"===document.visibilityState&&setZoomDisabledTimeout()}var q=null;function setZoomDisabledTimeout(){q&&clearTimeout(q);q=setTimeout((function(){q=null}),1e3)}function webViewerWheel(t){var r=W.pdfViewer,i=W.supportedMouseWheelZoomModifierKeys;if(!r.isInPresentationMode){var a=(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0);if(!window.isKeyIgnored||!window.isKeyIgnored(a,"WHEEL"))if(t.ctrlKey&&i.ctrlKey||t.metaKey&&i.metaKey){t.preventDefault();if(q||"hidden"===document.visibilityState)return;var l=r.currentScale,c=(0,o.normalizeWheelEventDirection)(t),u=0;if(t.deltaMode===WheelEvent.DOM_DELTA_LINE||t.deltaMode===WheelEvent.DOM_DELTA_PAGE)u=Math.abs(c)>=1?Math.sign(c):W.accumulateWheelTicks(c);else{u=W.accumulateWheelTicks(c/30)}u<0?W.zoomOut(-u):u>0&&W.zoomIn(u);var d=r.currentScale;if(l!==d){var h=d/l-1,p=r.container.getBoundingClientRect(),g=t.clientX-p.left,v=t.clientY-p.top;r.container.scrollLeft+=g*h;r.container.scrollTop+=v*h}}else setZoomDisabledTimeout()}}function webViewerTouchStart(t){t.touches.length>1&&t.preventDefault()}function webViewerClick(t){W.triggerDelayedFallback&&W.pdfViewer.containsElement(t.target)&&W.triggerDelayedFallback();if(W.secondaryToolbar.isOpen){var r=W.appConfig;if(W.pdfViewer.containsElement(t.target)||r.toolbar.container.contains(t.target)&&t.target!==r.secondaryToolbar.toggleButton){if(t.target&&t.target.parentElement===r.secondaryToolbar.toggleButton)return;if(t.target&&t.target.parentElement&&t.target.parentElement.parentElement===r.secondaryToolbar.toggleButton)return;W.secondaryToolbar.close()}}}function webViewerKeyUp(t){9===t.keyCode&&W.triggerDelayedFallback&&W.triggerDelayedFallback()}function webViewerKeyDown(t){if(!W.overlayManager.active){var r=!1,i=!1,a=(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0),o=W.pdfViewer,l=o&&o.isInPresentationMode;if(!window.isKeyIgnored||!window.isKeyIgnored(a,t.keyCode)){if(1===a||8===a||5===a||12===a)switch(t.keyCode){case 70:if(!W.supportsIntegratedFind){W.findBar.open();r=!0}break;case 71:if(!W.supportsIntegratedFind){var c=W.findController.state;c&&W.findController.executeCommand("findagain",{query:c.query,phraseSearch:c.phraseSearch,caseSensitive:c.caseSensitive,entireWord:c.entireWord,ignoreAccents:c.ignoreAccents,fuzzySearch:c.fuzzySearch,highlightAll:c.highlightAll,findPrevious:5===a||12===a});r=!0}break;case 61:case 107:case 187:case 171:l||W.zoomIn();r=!0;break;case 173:case 109:case 189:l||W.zoomOut();r=!0;break;case 48:case 96:if(!l){setTimeout((function(){W.zoomReset()}));r=!1}break;case 38:if(l||W.page>1){W.page=1;r=!0;i=!0}break;case 40:if(l||W.page<W.pagesCount){W.page=W.pagesCount;r=!0;i=!0}}var d=W.eventBus;if(1===a||8===a)switch(t.keyCode){case 83:d.dispatch("download",{source:window});r=!0;break;case 79:d.dispatch("openfile",{source:window});r=!0}if(3===a||10===a)switch(t.keyCode){case 80:W.requestPresentationMode();r=!0;break;case 71:W.appConfig.toolbar.pageNumber.select();r=!0}if(r){i&&!l&&o.focus();t.preventDefault()}else{var h=document.activeElement||document.querySelector(":focus"),p=h&&h.tagName.toUpperCase();if(!("INPUT"===p||"TEXTAREA"===p||"SELECT"===p||h&&h.isContentEditable)||27===t.keyCode){if(0===a){var g=0,v=!1;switch(t.keyCode){case 38:case 33:o.isVerticalScrollbarEnabled&&(v=!0);g=-1;break;case 8:l||(v=!0);g=-1;break;case 37:o.isHorizontalScrollbarEnabled&&(v=!0);case 75:case 80:g=-1;break;case 27:if(W.secondaryToolbar.isOpen){W.secondaryToolbar.close();r=!0}if(!W.supportsIntegratedFind&&W.findBar.opened){W.findBar.close();r=!0}break;case 40:case 34:o.isVerticalScrollbarEnabled&&(v=!0);g=1;break;case 13:case 32:l||(v=!0);g=1;break;case 39:o.isHorizontalScrollbarEnabled&&(v=!0);case 74:case 78:g=1;break;case 36:if(l||W.page>1){W.page=1;r=!0;i=!0}break;case 35:if(l||W.page<W.pagesCount){W.page=W.pagesCount;r=!0;i=!0}break;case 83:W.pdfCursorTools.switchTool(u.CursorTool.SELECT);break;case 72:W.pdfCursorTools.switchTool(u.CursorTool.HAND);break;case 82:W.rotatePages(90);break;case 115:W.pdfSidebar.toggle()}if(0!==g&&(!v||"page-fit"===o.currentScaleValue)){g>0?W.page<W.pagesCount&&W.page++:W.page>1&&W.page--;r=!0}}if(4===a)switch(t.keyCode){case 13:case 32:if(!l&&"page-fit"!==o.currentScaleValue)break;W.page>1&&W.page--;r=!0;break;case 82:W.rotatePages(-90)}i&&!o.containsElement(h)&&o.focus();r&&t.preventDefault()}}}}}function beforeUnload(t){t.preventDefault();t.returnValue="";return!1}function apiPageLayoutToSpreadMode(t){switch(t){case"SinglePage":case"OneColumn":return o.SpreadMode.NONE;case"TwoColumnLeft":case"TwoPageLeft":return o.SpreadMode.ODD;case"TwoColumnRight":case"TwoPageRight":return o.SpreadMode.EVEN}return o.SpreadMode.NONE}function apiPageModeToSidebarView(t){switch(t){case"UseNone":return h.SidebarView.NONE;case"UseThumbs":return h.SidebarView.THUMBS;case"UseOutlines":return h.SidebarView.OUTLINE;case"UseAttachments":return h.SidebarView.ATTACHMENTS;case"UseOC":return h.SidebarView.LAYERS}return h.SidebarView.NONE}var H={instance:{supportsPrinting:!1,createPrintService:function createPrintService(){throw new Error("Not implemented: createPrintService")}}};r.PDFPrintServiceFactory=H},function(t,r,i){"use strict";t.exports=i(3)},function(t,r,i){"use strict";(function(t){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t){var r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,r,i){Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0});return t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var o=r&&r.prototype instanceof Generator?r:Generator,l=Object.create(o.prototype),c=new Context(a||[]);l._invoke=function makeInvokeMethod(t,r,i){var a="suspendedStart";return function invoke(o,l){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===o)throw l;return doneResult()}i.method=o;i.arg=l;for(;;){var c=i.delegate;if(c){var d=maybeInvokeDelegate(c,i);if(d){if(d===u)continue;return d}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a){a="completed";throw i.arg}i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";var h=tryCatch(t,r,i);if("normal"===h.type){a=i.done?"completed":"suspendedYield";if(h.arg===u)continue;return{value:h.arg,done:i.done}}if("throw"===h.type){a="completed";i.method="throw";i.arg=h.arg}}}}(t,i,c);return l}t.wrap=wrap;function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}var u={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};d[o]=function(){return this};var h=Object.getPrototypeOf,p=h&&h(h(values([])));p&&p!==r&&i.call(p,o)&&(d=p);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);GeneratorFunction.prototype=g.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=GeneratorFunction;GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction");function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))};t.mark=function(t){if(Object.setPrototypeOf)Object.setPrototypeOf(t,GeneratorFunctionPrototype);else{t.__proto__=GeneratorFunctionPrototype;define(t,c,"GeneratorFunction")}t.prototype=Object.create(g);return t};t.awrap=function(t){return{__await:t}};function AsyncIterator(t,r){var a;this._invoke=function enqueue(o,l){function callInvokeWithMethodAndArg(){return new r((function(a,c){!function invoke(a,o,l,c){var u=tryCatch(t[a],t,o);if("throw"!==u.type){var d=u.arg,h=d.value;return h&&"object"===_typeof(h)&&i.call(h,"__await")?r.resolve(h.__await).then((function(t){invoke("next",t,l,c)}),(function(t){invoke("throw",t,l,c)})):r.resolve(h).then((function(t){d.value=t;l(d)}),(function(t){return invoke("throw",t,l,c)}))}c(u.arg)}(o,l,a,c)}))}return a=a?a.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}defineIteratorMethods(AsyncIterator.prototype);AsyncIterator.prototype[l]=function(){return this};t.AsyncIterator=AsyncIterator;t.async=function(r,i,a,o,l){void 0===l&&(l=Promise);var c=new AsyncIterator(wrap(r,i,a,o),l);return t.isGeneratorFunction(i)?c:c.next().then((function(t){return t.done?t.value:c.next()}))};function maybeInvokeDelegate(t,r){var i=t.iterator[r.method];if(void 0===i){r.delegate=null;if("throw"===r.method){if(t.iterator.return){r.method="return";r.arg=void 0;maybeInvokeDelegate(t,r);if("throw"===r.method)return u}r.method="throw";r.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=tryCatch(i,t.iterator,r.arg);if("throw"===a.type){r.method="throw";r.arg=a.arg;r.delegate=null;return u}var o=a.arg;if(!o){r.method="throw";r.arg=new TypeError("iterator result is not an object");r.delegate=null;return u}if(!o.done)return o;r[t.resultName]=o.value;r.next=t.nextLoc;if("return"!==r.method){r.method="next";r.arg=void 0}r.delegate=null;return u}defineIteratorMethods(g);define(g,c,"Generator");g[o]=function(){return this};g.toString=function(){return"[object Generator]"};function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]);if(2 in t){r.finallyLoc=t[2];r.afterLoc=t[3]}this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal";delete r.arg;t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}];t.forEach(pushTryEntry,this);this.reset(!0)}t.keys=function(t){var r=[];for(var i in t)r.push(i);r.reverse();return function next(){for(;r.length;){var i=r.pop();if(i in t){next.value=i;next.done=!1;return next}}next.done=!0;return next}};function values(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,l=function next(){for(;++a<t.length;)if(i.call(t,a)){next.value=t[a];next.done=!1;return next}next.value=void 0;next.done=!0;return next};return l.next=l}}return{next:doneResult}}t.values=values;function doneResult(){return{value:void 0,done:!0}}Context.prototype={constructor:Context,reset:function reset(t){this.prev=0;this.next=0;this.sent=this._sent=void 0;this.done=!1;this.delegate=null;this.method="next";this.arg=void 0;this.tryEntries.forEach(resetTryEntry);if(!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var r=this;function handle(i,a){l.type="throw";l.arg=t;r.next=i;if(a){r.method="next";r.arg=void 0}return!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var c=l?l.completion:{};c.type=t;c.arg=r;if(l){this.method="next";this.next=l.finallyLoc;return u}return this.complete(c)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;if("break"===t.type||"continue"===t.type)this.next=t.arg;else if("return"===t.type){this.rval=this.arg=t.arg;this.method="return";this.next="end"}else"normal"===t.type&&r&&(this.next=r);return u},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t){this.complete(i.completion,i.afterLoc);resetTryEntry(i);return u}}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,r,i){this.delegate={iterator:values(t),resultName:r,nextLoc:i};"next"===this.method&&(this.arg=void 0);return u}};return t}("object"===_typeof(t)?t.exports:{});try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}}).call(this,i(4)(t))},function(t,r,i){"use strict";t.exports=function(t){if(!t.webpackPolyfill){t.deprecate=function(){};t.paths=[];t.children||(t.children=[]);Object.defineProperty(t,"loaded",{enumerable:!0,get:function get(){return t.l}});Object.defineProperty(t,"id",{enumerable:!0,get:function get(){return t.i}});t.webpackPolyfill=1}return t}},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.isValidRotation=function isValidRotation(t){return Number.isInteger(t)&&t%90==0};r.isValidScrollMode=function isValidScrollMode(t){return Number.isInteger(t)&&Object.values(o).includes(t)&&t!==o.UNKNOWN};r.isValidSpreadMode=function isValidSpreadMode(t){return Number.isInteger(t)&&Object.values(l).includes(t)&&t!==l.UNKNOWN};r.isPortraitOrientation=function isPortraitOrientation(t){return t.width<=t.height};r.clamp=clamp;r.getPDFFileNameFromURL=function getPDFFileNameFromURL(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if(window.PDFViewerApplication.appConfig.filenameForDownload)return window.PDFViewerApplication.appConfig.filenameForDownload;if("string"!=typeof t)return r;if(isDataSchema(t)){console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.');return r}var i=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,a=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=i.exec(t),l=a.exec(o[1])||a.exec(o[2])||a.exec(o[3]);if(l&&(l=l[0]).includes("%"))try{l=a.exec(decodeURIComponent(l))[0]}catch(t){}return l||r};r.noContextMenuHandler=function noContextMenuHandler(t){t.preventDefault()};r.parseQueryString=function parseQueryString(t){for(var r=t.split("&"),i=Object.create(null),a=0,o=r.length;a<o;++a){var l=r[a].split("="),c=l[0].toLowerCase(),u=l.length>1?l[1]:null;i[decodeURIComponent(c)]=decodeURIComponent(u)}return i};r.backtrackBeforeAllVisibleElements=backtrackBeforeAllVisibleElements;r.getVisibleElements=function getVisibleElements(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t.scrollTop,l=o+t.clientHeight,c=t.scrollLeft,u=c+t.clientWidth;function isElementBottomAfterViewTop(t){var r=t.div;return r.offsetTop+r.clientTop+r.clientHeight>o}function isElementRightAfterViewLeft(t){var r=t.div;return r.offsetLeft+r.clientLeft+r.clientWidth>c}var d=[],h=r.length,p=0===h?0:binarySearchFirstItem(r,a?isElementRightAfterViewLeft:isElementBottomAfterViewTop);p>0&&p<h&&!a&&(p=backtrackBeforeAllVisibleElements(p,r,o));for(var g=a?u:-1,v=p;v<h;v++){var m=r[v],y=m.div,b=y.offsetLeft+y.clientLeft,w=y.offsetTop+y.clientTop,S=y.clientWidth,C=y.clientHeight,P=b+S,k=w+C;if(-1===g)k>=l&&(g=k);else if((a?b:w)>g)break;if(!(k<=o||w>=l||P<=c||b>=u)){var A=Math.max(0,o-w)+Math.max(0,k-l),R=Math.max(0,c-b)+Math.max(0,P-u),x=(C-A)*(S-R)*100/C/S|0;d.push({id:m.id,x:b,y:w,view:m,percent:x})}}var T=d[0],E=d[d.length-1];i&&d.sort((function(t,r){var i=t.percent-r.percent;return Math.abs(i)>.001?-i:t.id-r.id}));return{first:T,last:E,views:d}};r.roundToDivide=function roundToDivide(t,r){var i=t%r;return 0===i?t:Math.round(t-i+r)};r.getPageSizeInches=function getPageSizeInches(t){var r=t.view,i=t.userUnit,a=t.rotate,o=function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],a=!0,o=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){i.push(c.value);if(r&&i.length===r)break}}catch(t){o=!0;l=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw l}}return i}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,4),l=o[0],c=o[1],u=o[2],d=o[3],h=a%180!=0,p=(u-l)/72*i,g=(d-c)/72*i;return{width:h?g:p,height:h?p:g}};r.approximateFraction=function approximateFraction(t){if(Math.floor(t)===t)return[t,1];var r=1/t;if(r>8)return[1,8];if(Math.floor(r)===r)return[1,r];var i,a=t>1?r:t,o=0,l=1,c=1,u=1;for(;;){var d=o+c,h=l+u;if(h>8)break;if(a<=d/h){c=d;u=h}else{o=d;l=h}}i=a-o/l<c/u-a?a===t?[o,l]:[l,o]:a===t?[c,u]:[u,c];return i};r.getOutputScale=function getOutputScale(t){var r=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,a=r/i;return{sx:a,sy:a,scaled:1!==a}};r.scrollIntoView=function scrollIntoView(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.offsetParent;if(!a){console.error("offsetParent is not set -- cannot scroll");return}var o=t.offsetTop+t.clientTop,l=t.offsetLeft+t.clientLeft;for(;a.clientHeight===a.scrollHeight&&a.clientWidth===a.scrollWidth||i&&"hidden"===getComputedStyle(a).overflow;){if(a.dataset._scaleY){o/=a.dataset._scaleY;l/=a.dataset._scaleX}o+=a.offsetTop;l+=a.offsetLeft;if(!(a=a.offsetParent))return}if(r){void 0!==r.top&&(o+=r.top);if(void 0!==r.left){l+=r.left;a.scrollLeft=l}}a.scrollTop=o};r.watchScroll=function watchScroll(t,r){var i=function debounceScroll(i){o||(o=window.requestAnimationFrame((function viewAreaElementScrolled(){o=null;var i=t.scrollLeft,l=a.lastX;i!==l&&(a.right=i>l);a.lastX=i;var c=t.scrollTop,u=a.lastY;c!==u&&(a.down=c>u);a.lastY=c;r(a)})))},a={right:!0,down:!0,lastX:t.scrollLeft,lastY:t.scrollTop,_eventHandler:i},o=null;t.addEventListener("scroll",i,!0);return a};r.binarySearchFirstItem=binarySearchFirstItem;r.normalizeWheelEventDirection=normalizeWheelEventDirection;r.normalizeWheelEventDelta=function normalizeWheelEventDelta(t){var r=normalizeWheelEventDirection(t);0===t.deltaMode?r/=900:1===t.deltaMode&&(r/=30);return r};r.waitOnEventOrTimeout=function waitOnEventOrTimeout(t){var r=t.target,i=t.name,a=t.delay,o=void 0===a?0:a;return new Promise((function(t,a){if("object"!==_typeof(r)||!i||"string"!=typeof i||!(Number.isInteger(o)&&o>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function handler(a){r instanceof h?r._off(i,l):r.removeEventListener(i,l);d&&clearTimeout(d);t(a)}var l=handler.bind(null,u.EVENT);r instanceof h?r._on(i,l):r.addEventListener(i,l);var c=handler.bind(null,u.TIMEOUT),d=setTimeout(c,o)}))};r.moveToEndOfArray=function moveToEndOfArray(t,r){for(var i=[],a=t.length,o=0,l=0;l<a;++l)if(r(t[l]))i.push(t[l]);else{t[o]=t[l];++o}for(var c=0;o<a;++c,++o)t[o]=i[c]};r.WaitOnType=r.animationStarted=r.ProgressBar=r.EventBus=r.NullL10n=r.SpreadMode=r.ScrollMode=r.TextLayerMode=r.RendererType=r.PresentationModeState=r.VERTICAL_PADDING=r.SCROLLBAR_PADDING=r.MAX_AUTO_SCALE=r.UNKNOWN_SCALE=r.MAX_SCALE=r.MIN_SCALE=r.DEFAULT_SCALE=r.DEFAULT_SCALE_VALUE=r.CSS_UNITS=r.AutoPrintRegExp=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2));function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}r.CSS_UNITS=96/72;r.DEFAULT_SCALE_VALUE="auto";r.DEFAULT_SCALE=1;r.MIN_SCALE=.1;r.MAX_SCALE=10;r.UNKNOWN_SCALE=0;r.MAX_AUTO_SCALE=1.25;r.SCROLLBAR_PADDING=40;r.VERTICAL_PADDING=5;r.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};r.RendererType={CANVAS:"canvas",SVG:"svg"};r.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var o={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};r.ScrollMode=o;var l={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};r.SpreadMode=l;r.AutoPrintRegExp=/\bprint\s*\(/;function formatL10nValue(t,r){return r?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(function(t,i){return i in r?r[i]:"{{"+i+"}}"})):t}var c={getLanguage:function getLanguage(){return _asyncToGenerator(a.default.mark((function _callee(){return a.default.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","en-us");case 1:case"end":return t.stop()}}),_callee)})))()},getDirection:function getDirection(){return _asyncToGenerator(a.default.mark((function _callee2(){return a.default.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","ltr");case 1:case"end":return t.stop()}}),_callee2)})))()},get:function get(t,r,i){return _asyncToGenerator(a.default.mark((function _callee3(){return a.default.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",formatL10nValue(i,r));case 1:case"end":return t.stop()}}),_callee3)})))()},translate:function translate(t){return _asyncToGenerator(a.default.mark((function _callee4(){return a.default.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),_callee4)})))()}};r.NullL10n=c;function binarySearchFirstItem(t,r){var i=0,a=t.length-1;if(a<0||!r(t[a]))return t.length;if(r(t[i]))return i;for(;i<a;){var o=i+a>>1;r(t[o])?a=o:i=o+1}return i}function backtrackBeforeAllVisibleElements(t,r,i){if(t<2)return t;var a=r[t].div,o=a.offsetTop+a.clientTop;o>=i&&(o=(a=r[t-1].div).offsetTop+a.clientTop);for(var l=t-2;l>=0&&!((a=r[l].div).offsetTop+a.clientTop+a.clientHeight<=o);--l)t=l;return t}function isDataSchema(t){for(var r=0,i=t.length;r<i&&""===t[r].trim();)r++;return"data:"===t.substring(r,r+5).toLowerCase()}function normalizeWheelEventDirection(t){var r=Math.sqrt(t.deltaX*t.deltaX+t.deltaY*t.deltaY),i=Math.atan2(t.deltaY,t.deltaX);-.25*Math.PI<i&&i<.75*Math.PI&&(r=-r);return r}var u={EVENT:"event",TIMEOUT:"timeout"};r.WaitOnType=u;var d=new Promise((function(t){window.requestAnimationFrame(t)}));r.animationStarted=d;var h=function(){function EventBus(t){_classCallCheck(this,EventBus);this._listeners=Object.create(null)}_createClass(EventBus,[{key:"on",value:function on(t,r){this._on(t,r,{external:!0})}},{key:"off",value:function off(t,r){this._off(t,r,{external:!0})}},{key:"dispatch",value:function dispatch(t){var r=this._listeners[t];if(r&&0!==r.length){var i,a=Array.prototype.slice.call(arguments,1);r.slice(0).forEach((function(t){var r=t.listener;if(t.external){i||(i=[]);i.push(r)}else r.apply(null,a)}));if(i){i.forEach((function(t){t.apply(null,a)}));i=null}}}},{key:"_on",value:function _on(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this._listeners[t];a||(this._listeners[t]=a=[]);a.push({listener:r,external:!0===(i&&i.external)})}},{key:"_off",value:function _off(t,r){var i=this._listeners[t];if(i)for(var a=0,o=i.length;a<o;a++)if(i[a].listener===r){i.splice(a,1);return}}}]);return EventBus}();r.EventBus=h;function clamp(t,r,i){return Math.min(Math.max(t,r),i)}var p=function(){function ProgressBar(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.height,a=r.width,o=r.units;_classCallCheck(this,ProgressBar);this.visible=!0;this.div=document.querySelector(t+" .progress");this.div&&(this.bar=this.div.parentNode);this.height=i||100;this.width=a||100;this.units=o||"%";this.div&&(this.div.style.height=this.height+this.units);this.percent=0}_createClass(ProgressBar,[{key:"_updateBar",value:function _updateBar(){if(this._indeterminate){this.div.classList.add("indeterminate");this.div.style.width=this.width+this.units}else{this.div&&this.div.classList.remove("indeterminate");var t=this.width*this._percent/100;this.div&&(this.div.style.width=t+this.units)}}},{key:"setWidth",value:function setWidth(t){if(t){var r=t.parentNode.offsetWidth-t.offsetWidth;r>0&&(this.bar.style.width="calc(100% - ".concat(r,"px)"))}}},{key:"hide",value:function hide(){this.visible=!1;this.div=document.querySelector(".body #mainContainer .progress");if(this.div){this.bar=this.div.parentNode;this.bar.classList.add("hidden")}document.body.classList.remove("loadingInProgress")}},{key:"show",value:function show(){if(!this.visible){this.visible=!0;document.body.classList.add("loadingInProgress");this.bar.classList.remove("hidden")}}},{key:"percent",get:function get(){return this._percent},set:function set(t){this._indeterminate=isNaN(t);this._percent=clamp(t,0,100);this._updateBar()}}]);return ProgressBar}();r.ProgressBar=p},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.OptionKind=r.AppOptions=void 0;var a=i(7);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var o={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};r.OptionKind=o;var l={cursorToolOnLoad:{value:0,kind:o.VIEWER+o.PREFERENCE},defaultUrl:{value:"",kind:o.VIEWER},defaultZoomValue:{value:"",kind:o.VIEWER+o.PREFERENCE},disableHistory:{value:!1,kind:o.VIEWER},disablePageLabels:{value:!1,kind:o.VIEWER+o.PREFERENCE},enablePermissions:{value:!1,kind:o.VIEWER+o.PREFERENCE},enablePrintAutoRotate:{value:!1,kind:o.VIEWER+o.PREFERENCE},enableWebGL:{value:!1,kind:o.VIEWER+o.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:o.VIEWER},externalLinkTarget:{value:0,kind:o.VIEWER+o.PREFERENCE},historyUpdateUrl:{value:!1,kind:o.VIEWER+o.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:o.VIEWER+o.PREFERENCE},imageResourcesPath:{value:"./images/",kind:o.VIEWER},maxCanvasPixels:{value:16777216,compatibility:a.viewerCompatibilityParams.maxCanvasPixels,kind:o.VIEWER},pdfBugEnabled:{value:!1,kind:o.VIEWER+o.PREFERENCE},printResolution:{value:150,kind:o.VIEWER},removePageBorders:{value:!1,kind:o.VIEWER+o.PREFERENCE},renderer:{value:"canvas",kind:o.VIEWER+o.PREFERENCE},renderInteractiveForms:{value:!0,kind:o.VIEWER+o.PREFERENCE},sidebarViewOnLoad:{value:-1,kind:o.VIEWER+o.PREFERENCE},scrollModeOnLoad:{value:-1,kind:o.VIEWER+o.PREFERENCE},spreadModeOnLoad:{value:-1,kind:o.VIEWER+o.PREFERENCE},textLayerMode:{value:1,kind:o.VIEWER+o.PREFERENCE},useOnlyCssZoom:{value:!1,kind:o.VIEWER+o.PREFERENCE},viewOnLoad:{value:0,kind:o.VIEWER+o.PREFERENCE},cMapPacked:{value:!0,kind:o.API},cMapUrl:{value:"../web/cmaps/",kind:o.API},disableAutoFetch:{value:!1,kind:o.API+o.PREFERENCE},disableFontFace:{value:!1,kind:o.API+o.PREFERENCE},disableRange:{value:!1,kind:o.API+o.PREFERENCE},disableStream:{value:!1,kind:o.API+o.PREFERENCE},docBaseUrl:{value:"",kind:o.API},fontExtraProperties:{value:!1,kind:o.API},isEvalSupported:{value:!0,kind:o.API},maxImageSize:{value:-1,kind:o.API},pdfBug:{value:!1,kind:o.API},verbosity:{value:1,kind:o.API},workerPort:{value:null,kind:o.WORKER},workerSrc:{value:"./assets/pdf.worker.js",kind:o.WORKER}};l.disablePreferences={value:!1,kind:o.VIEWER};l.locale={value:"undefined"!=typeof navigator?navigator.language:"en-US",kind:o.VIEWER};var c=Object.create(null),u=function(){function AppOptions(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,AppOptions);throw new Error("Cannot initialize AppOptions.")}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(AppOptions,null,[{key:"get",value:function get(t){var r=c[t];if(void 0!==r)return r;var i=l[t];return void 0!==i?i.compatibility||i.value:void 0}},{key:"getAll",value:function getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=Object.create(null);for(var i in l){var a=l[i];if(t){if(0==(t&a.kind))continue;if(t===o.PREFERENCE){var u=a.value,d=_typeof(u);if("boolean"===d||"string"===d||"number"===d&&Number.isInteger(u)){r[i]=u;continue}throw new Error("Invalid type for preference: ".concat(i))}}var h=c[i];r[i]=void 0!==h?h:a.compatibility||a.value}return r}},{key:"set",value:function set(t,r){c[t]=r}},{key:"remove",value:function remove(t){delete c[t]}}]);return AppOptions}();r.AppOptions=u},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.viewerCompatibilityParams=void 0;var a=Object.create(null),o="undefined"!=typeof navigator&&navigator.userAgent||"",l="undefined"!=typeof navigator&&navigator.platform||"",c="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,u=/Android/.test(o),d=/Trident/.test(o),h=/\b(iPad|iPhone|iPod)(?=;)/.test(o)||"MacIntel"===l&&c>1,p=/CriOS/.test(o);!function checkOnBlobSupport(){(d||p)&&(a.disableCreateObjectURL=!0)}();!function checkCanvasSizeLimitation(){(h||u)&&(a.maxCanvasPixels=5242880)}();var g=Object.freeze(a);r.viewerCompatibilityParams=g},function(t,r,i){"use strict";t.exports=window["pdfjs-dist/build/pdf"]},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFCursorTools=r.CursorTool=void 0;var a=i(10);function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var o={SELECT:0,HAND:1,ZOOM:2};r.CursorTool=o;var l=function(){function PDFCursorTools(t){var r=this,i=t.container,l=t.eventBus,c=t.cursorToolOnLoad,u=void 0===c?o.SELECT:c;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFCursorTools);this.container=i;this.eventBus=l;this.active=o.SELECT;this.activeBeforePresentationMode=null;this.handTool=new a.GrabToPan({element:this.container});this._addEventListeners();Promise.resolve().then((function(){r.switchTool(u)}))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFCursorTools,[{key:"switchTool",value:function switchTool(t){var r=this;if(null===this.activeBeforePresentationMode&&t!==this.active){var i=function disableActiveTool(){switch(r.active){case o.SELECT:break;case o.HAND:r.handTool.deactivate()}};switch(t){case o.SELECT:i();break;case o.HAND:i();this.handTool.activate();break;case o.ZOOM:default:console.error('switchTool: "'.concat(t,'" is an unsupported value.'));return}this.active=t;this._dispatchEvent()}}},{key:"_dispatchEvent",value:function _dispatchEvent(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}},{key:"_addEventListeners",value:function _addEventListeners(){var t=this;this.eventBus._on("switchcursortool",(function(r){t.switchTool(r.tool)}));this.eventBus._on("presentationmodechanged",(function(r){if(!r.switchInProgress){var i;if(r.active){i=t.active;t.switchTool(o.SELECT);t.activeBeforePresentationMode=i}else{i=t.activeBeforePresentationMode;t.activeBeforePresentationMode=null;t.switchTool(i)}}}))}},{key:"activeTool",get:function get(){return this.active}}]);return PDFCursorTools}();r.PDFCursorTools=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.GrabToPan=GrabToPan;function GrabToPan(t){this.element=t.element;this.document=t.element.ownerDocument;"function"==typeof t.ignoreTarget&&(this.ignoreTarget=t.ignoreTarget);this.onActiveChanged=t.onActiveChanged;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onmousedown=this._onmousedown.bind(this);this._onmousemove=this._onmousemove.bind(this);this._endPan=this._endPan.bind(this);(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}GrabToPan.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function GrabToPan_activate(){if(!this.active){this.active=!0;this.element.addEventListener("mousedown",this._onmousedown,!0);this.element.classList.add(this.CSS_CLASS_GRAB);this.onActiveChanged&&this.onActiveChanged(!0)}},deactivate:function GrabToPan_deactivate(){if(this.active){this.active=!1;this.element.removeEventListener("mousedown",this._onmousedown,!0);this._endPan();this.element.classList.remove(this.CSS_CLASS_GRAB);this.onActiveChanged&&this.onActiveChanged(!1)}},toggle:function GrabToPan_toggle(){this.active?this.deactivate():this.activate()},ignoreTarget:function GrabToPan_ignoreTarget(t){return t[a]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function GrabToPan__onmousedown(t){if(0===t.button&&!this.ignoreTarget(t.target)){if(t.originalTarget)try{t.originalTarget.tagName}catch(t){return}this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=t.clientX;this.clientYStart=t.clientY;if(!isOverPerfectScrollbar(this.clientXStart,this.clientYStart,"ps__rail-x")&&!isOverPerfectScrollbar(this.clientXStart,this.clientYStart,"ps__rail-y")){this.document.addEventListener("mousemove",this._onmousemove,!0);this.document.addEventListener("mouseup",this._endPan,!0);this.element.addEventListener("scroll",this._endPan,!0);t.preventDefault();t.stopPropagation();var r=document.activeElement;r&&!r.contains(t.target)&&r.blur()}}},_onmousemove:function GrabToPan__onmousemove(t){this.element.removeEventListener("scroll",this._endPan,!0);if(function isLeftMouseReleased(t){if("buttons"in t&&o)return!(1&t.buttons);if(c||u)return 0===t.which;return!1}(t))this._endPan();else{var r=t.clientX-this.clientXStart,i=t.clientY-this.clientYStart,a=this.scrollTopStart-i,l=this.scrollLeftStart-r;if(this.element.scrollTo)this.element.scrollTo({top:a,left:l,behavior:"instant"});else{this.element.scrollTop=a;this.element.scrollLeft=l}this.overlay.parentNode||document.body.appendChild(this.overlay)}},_endPan:function GrabToPan__endPan(){this.element.removeEventListener("scroll",this._endPan,!0);this.document.removeEventListener("mousemove",this._onmousemove,!0);this.document.removeEventListener("mouseup",this._endPan,!0);this.overlay.remove()}};var a;["webkitM","mozM","msM","oM","m"].some((function(t){var r=t+"atches";r in document.documentElement&&(a=r);(r+="Selector")in document.documentElement&&(a=r);return a}));var o=!document.documentMode||document.documentMode>9,l=window.chrome,c=l&&(l.webstore||l.app),u=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);function isOverPerfectScrollbar(t,r,i){var a=document.getElementsByClassName(i);if(a&&1===a.length){var o=a[0].getBoundingClientRect(),l=o.top,c=o.right,u=o.bottom,d=o.left;if(r>=l&&r<=u&&t<=c&&t>=d)return!0}return!1}},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFRenderingQueue=r.RenderingStates=void 0;function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var a={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};r.RenderingStates=a;var o=function(){function PDFRenderingQueue(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFRenderingQueue);this.pdfViewer=null;this.pdfThumbnailViewer=null;this.onIdle=null;this.highestPriorityPage=null;this.idleTimeout=null;this.printing=!1;this.isThumbnailViewEnabled=!1}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFRenderingQueue,[{key:"setViewer",value:function setViewer(t){this.pdfViewer=t}},{key:"setThumbnailViewer",value:function setThumbnailViewer(t){this.pdfThumbnailViewer=t}},{key:"isHighestPriority",value:function isHighestPriority(t){return this.highestPriorityPage===t.renderingId}},{key:"renderHighestPriority",value:function renderHighestPriority(t){if(this.idleTimeout){clearTimeout(this.idleTimeout);this.idleTimeout=null}this.pdfViewer.forceRendering(t)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function getHighestPriority(t,r,i){var a=t.views,o=a.length;if(0===o)return null;for(var l=0;l<o;++l){var c=a[l].view;if(!this.isViewFinished(c))return c}if(i){var u=t.last.id;if(r[u]&&!this.isViewFinished(r[u]))return r[u]}else{var d=t.first.id-2;if(r[d]&&!this.isViewFinished(r[d]))return r[d]}return null}},{key:"isViewFinished",value:function isViewFinished(t){return t.renderingState===a.FINISHED}},{key:"renderView",value:function renderView(t){var r=this;switch(t.renderingState){case a.FINISHED:return!1;case a.PAUSED:this.highestPriorityPage=t.renderingId;t.resume();break;case a.RUNNING:this.highestPriorityPage=t.renderingId;break;case a.INITIAL:this.highestPriorityPage=t.renderingId;t.draw().finally((function(){r.renderHighestPriority()})).catch((function(t){console.error('renderView: "'.concat(t,'"'))}))}return!0}}]);return PDFRenderingQueue}();r.PDFRenderingQueue=o},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFSidebar=r.SidebarView=void 0;var a=i(5),o=i(11);function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var l={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};r.SidebarView=l;var c=function(){function PDFSidebar(t){var r=t.elements,i=t.pdfViewer,o=t.pdfThumbnailViewer,c=t.eventBus,u=t.l10n,d=void 0===u?a.NullL10n:u,h=t.disableNotification,p=void 0!==h&&h;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFSidebar);this.isOpen=!1;this.active=l.THUMBS;this.isInitialViewSet=!1;this.onToggled=null;this.pdfViewer=i;this.pdfThumbnailViewer=o;this.outerContainer=r.outerContainer;this.viewerContainer=r.viewerContainer;this.toggleButton=r.toggleButton;this.thumbnailButton=r.thumbnailButton;this.outlineButton=r.outlineButton;this.attachmentsButton=r.attachmentsButton;this.layersButton=r.layersButton;this.thumbnailView=r.thumbnailView;this.outlineView=r.outlineView;this.attachmentsView=r.attachmentsView;this.layersView=r.layersView;this.eventBus=c;this.l10n=d;this._disableNotification=p;this._addEventListeners()}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFSidebar,[{key:"reset",value:function reset(){this.isInitialViewSet=!1;this._hideUINotification(null);this.switchView(l.THUMBS);this.outlineButton.disabled=!1;this.attachmentsButton.disabled=!1;this.layersButton.disabled=!1;this.outlineButton.hidden=!1;this.attachmentsButton.hidden=!1;this.layersButton.hidden=!1}},{key:"setInitialView",value:function setInitialView(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.NONE;if(!this.isInitialViewSet){this.isInitialViewSet=!0;t!==l.NONE&&t!==l.UNKNOWN&&this._switchView(t,!0)||this._dispatchEvent()}}},{key:"switchView",value:function switchView(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._switchView(t,r)}},{key:"_switchView",value:function _switchView(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t!==this.active,a=!1;switch(t){case l.NONE:if(this.isOpen){this.close();return!0}return!1;case l.THUMBS:this.isOpen&&i&&(a=!0);break;case l.OUTLINE:if(this.outlineButton.disabled)return!1;break;case l.ATTACHMENTS:if(this.attachmentsButton.disabled)return!1;break;case l.LAYERS:if(this.layersButton.disabled)return!1;break;default:console.error('PDFSidebar._switchView: "'.concat(t,'" is not a valid view.'));return!1}this.active=t;this.thumbnailButton.classList.toggle("toggled",t===l.THUMBS);this.outlineButton.classList.toggle("toggled",t===l.OUTLINE);this.attachmentsButton.classList.toggle("toggled",t===l.ATTACHMENTS);this.layersButton.classList.toggle("toggled",t===l.LAYERS);this.thumbnailView.classList.toggle("hidden",t!==l.THUMBS);this.outlineView.classList.toggle("hidden",t!==l.OUTLINE);this.attachmentsView.classList.toggle("hidden",t!==l.ATTACHMENTS);this.layersView.classList.toggle("hidden",t!==l.LAYERS);if(r&&!this.isOpen){this.open();return!0}if(a){this._updateThumbnailViewer();this._forceRendering()}i&&this._dispatchEvent();this._hideUINotification(this.active);return i}},{key:"open",value:function open(){if(!this.isOpen){this.isOpen=!0;this.toggleButton.classList.add("toggled");this.outerContainer.classList.add("sidebarMoving","sidebarOpen");this.active===l.THUMBS&&this._updateThumbnailViewer();this._forceRendering();this._dispatchEvent();this._hideUINotification(this.active)}}},{key:"close",value:function close(){if(this.isOpen){this.isOpen=!1;this.toggleButton.classList.remove("toggled");this.outerContainer.classList.add("sidebarMoving");this.outerContainer.classList.remove("sidebarOpen");this._forceRendering();this._dispatchEvent()}}},{key:"toggle",value:function toggle(){this.isOpen?this.close():this.open()}},{key:"_dispatchEvent",value:function _dispatchEvent(){this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}},{key:"_forceRendering",value:function _forceRendering(){if(this.onToggled)this.onToggled();else{this.pdfViewer.forceRendering();this.pdfThumbnailViewer.forceRendering()}}},{key:"_updateThumbnailViewer",value:function _updateThumbnailViewer(){for(var t=this.pdfViewer,r=this.pdfThumbnailViewer,i=t.pagesCount,a=0;a<i;a++){var l=t.getPageView(a);if(l&&l.renderingState===o.RenderingStates.FINISHED){r.getThumbnail(a).setImage(l)}}r.scrollThumbnailIntoView(t.currentPageNumber)}},{key:"_showUINotification",value:function _showUINotification(t){var r=this;if(!this._disableNotification){this.l10n.get("toggle_sidebar_notification2.title",null,"Toggle Sidebar (document contains outline/attachments/layers)").then((function(t){r.toggleButton.title=t}));if(this.isOpen){if(t===this.active)return}else this.toggleButton.classList.add("pdfSidebarNotification");switch(t){case l.OUTLINE:this.outlineButton.classList.add("pdfSidebarNotification");break;case l.ATTACHMENTS:this.attachmentsButton.classList.add("pdfSidebarNotification");break;case l.LAYERS:this.layersButton.classList.add("pdfSidebarNotification")}}}},{key:"_hideUINotification",value:function _hideUINotification(t){var r=this;if(!this._disableNotification){var i=function removeNotification(t){switch(t){case l.OUTLINE:r.outlineButton.classList.remove("pdfSidebarNotification");break;case l.ATTACHMENTS:r.attachmentsButton.classList.remove("pdfSidebarNotification");break;case l.LAYERS:r.layersButton.classList.remove("pdfSidebarNotification")}};if(this.isOpen||null===t){this.toggleButton.classList.remove("pdfSidebarNotification");if(null===t){for(t in l)i(l[t]);this.l10n.get("toggle_sidebar.title",null,"Toggle Sidebar").then((function(t){r.toggleButton.title=t}))}else i(t)}}}},{key:"_addEventListeners",value:function _addEventListeners(){var t=this;this.viewerContainer.addEventListener("transitionend",(function(r){r.target===t.viewerContainer&&t.outerContainer.classList.remove("sidebarMoving")}));this.toggleButton.addEventListener("click",(function(){t.toggle()}));this.thumbnailButton.addEventListener("click",(function(){t.switchView(l.THUMBS)}));this.outlineButton.addEventListener("click",(function(){t.switchView(l.OUTLINE)}));this.outlineButton.addEventListener("dblclick",(function(){t.eventBus.dispatch("toggleoutlinetree",{source:t})}));this.attachmentsButton.addEventListener("click",(function(){t.switchView(l.ATTACHMENTS)}));this.layersButton.addEventListener("click",(function(){t.switchView(l.LAYERS)}));this.layersButton.addEventListener("dblclick",(function(){t.eventBus.dispatch("resetlayers",{source:t})}));var r=function onTreeLoaded(r,i,a){i.disabled=!r;i.hidden=!r;r?t._showUINotification(a):t.active===a&&t.switchView(l.THUMBS)};this.eventBus._on("outlineloaded",(function(i){r(i.outlineCount,t.outlineButton,l.OUTLINE)}));this.eventBus._on("attachmentsloaded",(function(i){r(i.attachmentsCount,t.attachmentsButton,l.ATTACHMENTS)}));this.eventBus._on("layersloaded",(function(i){r(i.layersCount,t.layersButton,l.LAYERS)}));this.eventBus._on("presentationmodechanged",(function(r){r.active||r.switchInProgress||!t.isThumbnailViewVisible||t._updateThumbnailViewer()}))}},{key:"visibleView",get:function get(){return this.isOpen?this.active:l.NONE}},{key:"isThumbnailViewVisible",get:function get(){return this.isOpen&&this.active===l.THUMBS}},{key:"isOutlineViewVisible",get:function get(){return this.isOpen&&this.active===l.OUTLINE}},{key:"isAttachmentsViewVisible",get:function get(){return this.isOpen&&this.active===l.ATTACHMENTS}},{key:"isLayersViewVisible",get:function get(){return this.isOpen&&this.active===l.LAYERS}}]);return PDFSidebar}();r.PDFSidebar=c},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.OverlayManager=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2));function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var o=function(){function OverlayManager(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,OverlayManager);this._overlays={};this._active=null;this._keyDownBound=this._keyDown.bind(this)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(OverlayManager,[{key:"register",value:(o=_asyncToGenerator(a.default.mark((function _callee(t,r){var i,o,l,c=arguments;return a.default.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:i=c.length>2&&void 0!==c[2]?c[2]:null;o=c.length>3&&void 0!==c[3]&&c[3];if(t&&r&&(l=r.parentNode)){a.next=6;break}throw new Error("Not enough parameters.");case 6:if(!this._overlays[t]){a.next=8;break}throw new Error("The overlay is already registered.");case 8:this._overlays[t]={element:r,container:l,callerCloseMethod:i,canForceClose:o};case 9:case"end":return a.stop()}}),_callee,this)}))),function register(t,r){return o.apply(this,arguments)})},{key:"unregister",value:(i=_asyncToGenerator(a.default.mark((function _callee2(t){return a.default.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(this._overlays[t]){r.next=4;break}throw new Error("The overlay does not exist.");case 4:if(this._active!==t){r.next=6;break}throw new Error("The overlay cannot be removed while it is active.");case 6:delete this._overlays[t];case 7:case"end":return r.stop()}}),_callee2,this)}))),function unregister(t){return i.apply(this,arguments)})},{key:"open",value:(r=_asyncToGenerator(a.default.mark((function _callee3(t){return a.default.wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:if(this._overlays[t]){r.next=4;break}throw new Error("The overlay does not exist.");case 4:if(!this._active){r.next=14;break}if(!this._overlays[t].canForceClose){r.next=9;break}this._closeThroughCaller();r.next=14;break;case 9:if(this._active!==t){r.next=13;break}throw new Error("The overlay is already active.");case 13:throw new Error("Another overlay is currently active.");case 14:this._active=t;this._overlays[this._active].element.classList.remove("hidden");this._overlays[this._active].container.classList.remove("hidden");window.addEventListener("keydown",this._keyDownBound);case 18:case"end":return r.stop()}}),_callee3,this)}))),function open(t){return r.apply(this,arguments)})},{key:"close",value:(t=_asyncToGenerator(a.default.mark((function _callee4(t){return a.default.wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:if(this._overlays[t]){r.next=4;break}throw new Error("The overlay does not exist.");case 4:if(this._active){r.next=8;break}throw new Error("The overlay is currently not active.");case 8:if(this._active===t){r.next=10;break}throw new Error("Another overlay is currently active.");case 10:this._overlays[this._active].container.classList.add("hidden");this._overlays[this._active].element.classList.add("hidden");this._active=null;window.removeEventListener("keydown",this._keyDownBound);case 14:case"end":return r.stop()}}),_callee4,this)}))),function close(r){return t.apply(this,arguments)})},{key:"_keyDown",value:function _keyDown(t){if(this._active&&27===t.keyCode){this._closeThroughCaller();t.preventDefault()}}},{key:"_closeThroughCaller",value:function _closeThroughCaller(){this._overlays[this._active].callerCloseMethod&&this._overlays[this._active].callerCloseMethod();this._active&&this.close(this._active)}},{key:"active",get:function get(){return this._active}}]);var t,r,i,o;return OverlayManager}();r.OverlayManager=o},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PasswordPrompt=void 0;var a=i(5),o=i(8);function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var l=function(){function PasswordPrompt(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.NullL10n;_classCallCheck(this,PasswordPrompt);this.overlayName=t.overlayName;this.container=t.container;this.label=t.label;this.input=t.input;this.submitButton=t.submitButton;this.cancelButton=t.cancelButton;this.overlayManager=r;this.l10n=o;this.updateCallback=null;this.reason=null;this.submitButton.addEventListener("click",this.verify.bind(this));this.cancelButton.addEventListener("click",this.close.bind(this));this.input.addEventListener("keydown",(function(t){13===t.keyCode&&i.verify()}));this.overlayManager.register(this.overlayName,this.container,this.close.bind(this),!0)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PasswordPrompt,[{key:"open",value:function open(){var t=this;this.overlayManager.open(this.overlayName).then((function(){t.input.type="password";t.input.focus();(t.reason===o.PasswordResponses.INCORRECT_PASSWORD?t.l10n.get("password_invalid",null,"Invalid password. Please try again."):t.l10n.get("password_label",null,"Enter the password to open this PDF file.")).then((function(r){t.label.textContent=r}))}))}},{key:"close",value:function close(){var t=this;this.overlayManager.close(this.overlayName).then((function(){t.input.type="";t.input.value=""}))}},{key:"verify",value:function verify(){var t=this.input.value;if(t&&t.length>0){this.close();this.updateCallback(t)}}},{key:"setUpdateCallback",value:function setUpdateCallback(t,r){this.updateCallback=t;this.reason=r}}]);return PasswordPrompt}();r.PasswordPrompt=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFAttachmentViewer=void 0;var a=i(8),o=i(16),l=i(7);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _get(t,r,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,i){var a=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(i):o.value}})(t,r,i||t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?_assertThisInitialized(t):r}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=/\.pdf$/i,u=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(PDFAttachmentViewer,t);var r=_createSuper(PDFAttachmentViewer);function PDFAttachmentViewer(t){var i;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFAttachmentViewer);(i=r.call(this,t)).downloadManager=t.downloadManager;i.eventBus._on("fileattachmentannotation",i._appendAttachment.bind(_assertThisInitialized(i)));return i}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFAttachmentViewer,[{key:"reset",value:function reset(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_get(_getPrototypeOf(PDFAttachmentViewer.prototype),"reset",this).call(this);this._attachments=null;t||(this._renderedCapability=(0,a.createPromiseCapability)());this._pendingDispatchEvent&&clearTimeout(this._pendingDispatchEvent);this._pendingDispatchEvent=null}},{key:"_dispatchEvent",value:function _dispatchEvent(t){var r=this;this._renderedCapability.resolve();if(this._pendingDispatchEvent){clearTimeout(this._pendingDispatchEvent);this._pendingDispatchEvent=null}0!==t?this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:t}):this._pendingDispatchEvent=setTimeout((function(){r.eventBus.dispatch("attachmentsloaded",{source:r,attachmentsCount:0});r._pendingDispatchEvent=null}))}},{key:"_bindPdfLink",value:function _bindPdfLink(t,r){var i,a=this,o=r.content,l=r.filename;t.onclick=function(){i||(i=URL.createObjectURL(new Blob([o],{type:"application/pdf"})));var t;t="?file="+encodeURIComponent(i+"#"+l);try{window.open(t)}catch(t){console.error("_bindPdfLink: ".concat(t));URL.revokeObjectURL(i);i=null;a.downloadManager.downloadData(o,l,"application/pdf")}return!1}}},{key:"_bindLink",value:function _bindLink(t,r){var i=this,a=r.content,o=r.filename;t.onclick=function(){var t=c.test(o)?"application/pdf":"";i.downloadManager.downloadData(a,o,t);return!1}}},{key:"render",value:function render(t){var r=t.attachments,i=t.keepRenderedCapability,o=void 0!==i&&i;this._attachments&&this.reset(o);this._attachments=r||null;if(r){var u,d=Object.keys(r).sort((function(t,r){return t.toLowerCase().localeCompare(r.toLowerCase())})),h=document.createDocumentFragment(),p=0,g=_createForOfIteratorHelper(d);try{for(g.s();!(u=g.n()).done;){var v=r[u.value],m=(0,a.getFilenameFromUrl)(v.filename),y=document.createElement("div");y.className="treeItem";var b=document.createElement("a");c.test(m)&&!l.viewerCompatibilityParams.disableCreateObjectURL?this._bindPdfLink(b,{content:v.content,filename:m}):this._bindLink(b,{content:v.content,filename:m});b.textContent=this._normalizeTextContent(m);y.appendChild(b);h.appendChild(y);p++}}catch(t){g.e(t)}finally{g.f()}this.container.appendChild(h);this._dispatchEvent(p)}else this._dispatchEvent(0)}},{key:"_appendAttachment",value:function _appendAttachment(t){var r=this,i=t.id,a=t.filename,o=t.content,l=this._renderedCapability.promise;l.then((function(){if(l===r._renderedCapability.promise){var t=r._attachments;if(t){for(var c in t)if(i===c)return}else t=Object.create(null);t[i]={filename:a,content:o};r.render({attachments:t,keepRenderedCapability:!0})}}))}}]);return PDFAttachmentViewer}(o.BaseTreeViewer);r.PDFAttachmentViewer=u},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.BaseTreeViewer=void 0;var a=i(8);function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var o=function(){function BaseTreeViewer(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,BaseTreeViewer);if(this.constructor===BaseTreeViewer)throw new Error("Cannot initialize BaseTreeViewer.");this.container=t.container;this.eventBus=t.eventBus;this.reset()}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(BaseTreeViewer,[{key:"reset",value:function reset(){this._lastToggleIsShow=!0;this.container.textContent="";this.container.classList.remove("treeWithDeepNesting")}},{key:"_dispatchEvent",value:function _dispatchEvent(t){throw new Error("Not implemented: _dispatchEvent")}},{key:"_bindLink",value:function _bindLink(t,r){throw new Error("Not implemented: _bindLink")}},{key:"_normalizeTextContent",value:function _normalizeTextContent(t){return(0,a.removeNullCharacters)(t)||"–"}},{key:"_addToggleButton",value:function _addToggleButton(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.createElement("div");a.className="treeItemToggler";i&&a.classList.add("treeItemsHidden");a.onclick=function(i){i.stopPropagation();a.classList.toggle("treeItemsHidden");if(i.shiftKey){var o=!a.classList.contains("treeItemsHidden");r._toggleTreeItem(t,o)}};t.insertBefore(a,t.firstChild)}},{key:"_toggleTreeItem",value:function _toggleTreeItem(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._lastToggleIsShow=r;var i,a=_createForOfIteratorHelper(t.querySelectorAll(".treeItemToggler"));try{for(a.s();!(i=a.n()).done;){var o=i.value;o.classList.toggle("treeItemsHidden",!r)}}catch(t){a.e(t)}finally{a.f()}}},{key:"_toggleAllTreeItems",value:function _toggleAllTreeItems(){this._toggleTreeItem(this.container,!this._lastToggleIsShow)}},{key:"render",value:function render(t){throw new Error("Not implemented: render")}}]);return BaseTreeViewer}();r.BaseTreeViewer=o},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFDocumentProperties=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(8),l=i(5);function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],a=!0,o=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){i.push(c.value);if(r&&i.length===r)break}}catch(t){o=!0;l=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw l}}return i}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var c=["en-us","en-lr","my"],u={"8.5x11":"Letter","8.5x14":"Legal"},d={"297x420":"A3","210x297":"A4"};function getPageName(t,r,i){var a=r?t.width:t.height,o=r?t.height:t.width;return i["".concat(a,"x").concat(o)]}var h=function(){function PDFDocumentProperties(t,r,i){var a=this,o=t.overlayName,u=t.fields,d=t.container,h=t.closeButton,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.NullL10n;_classCallCheck(this,PDFDocumentProperties);this.overlayName=o;this.fields=u;this.container=d;this.overlayManager=r;this.l10n=p;this._reset();h.addEventListener("click",this.close.bind(this));this.overlayManager.register(this.overlayName,this.container,this.close.bind(this));i._on("pagechanging",(function(t){a._currentPageNumber=t.pageNumber}));i._on("rotationchanging",(function(t){a._pagesRotation=t.pagesRotation}));this._isNonMetricLocale=!0;p.getLanguage().then((function(t){a._isNonMetricLocale=c.includes(t)}))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFDocumentProperties,[{key:"open",value:function open(){var t=this,r=function freezeFieldData(r){Object.defineProperty(t,"fieldData",{value:Object.freeze(r),writable:!1,enumerable:!0,configurable:!0})};Promise.all([this.overlayManager.open(this.overlayName),this._dataAvailableCapability.promise]).then((function(){var i=t._currentPageNumber,a=t._pagesRotation;t.fieldData&&i===t.fieldData._currentPageNumber&&a===t.fieldData._pagesRotation?t._updateUI():t.pdfDocument.getMetadata().then((function(r){var o=r.info,c=r.metadata,u=r.contentDispositionFilename;return Promise.all([o,c,u||(0,l.getPDFFileNameFromURL)(t.url),t._parseFileSize(t.maybeFileSize),t._parseDate(o.CreationDate),t._parseDate(o.ModDate),t.pdfDocument.getPage(i).then((function(r){return t._parsePageSize((0,l.getPageSizeInches)(r),a)})),t._parseLinearization(o.IsLinearized)])})).then((function(o){var l=_slicedToArray(o,8),c=l[0],u=(l[1],l[2]),d=l[3],h=l[4],p=l[5],g=l[6],v=l[7];r({fileName:u,fileSize:d,title:c.Title,author:c.Author,subject:c.Subject,keywords:c.Keywords,creationDate:h,modificationDate:p,creator:c.Creator,producer:c.Producer,version:c.PDFFormatVersion,pageCount:t.pdfDocument.numPages,pageSize:g,linearized:v,_currentPageNumber:i,_pagesRotation:a});t._updateUI();return t.pdfDocument.getDownloadInfo()})).then((function(r){var i=r.length;t.maybeFileSize=i;return t._parseFileSize(i)})).then((function(i){if(i!==t.fieldData.fileSize){var a=Object.assign(Object.create(null),t.fieldData);a.fileSize=i;r(a);t._updateUI()}}))}))}},{key:"close",value:function close(){this.overlayManager.close(this.overlayName)}},{key:"setDocument",value:function setDocument(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.pdfDocument){this._reset();this._updateUI(!0)}if(t){this.pdfDocument=t;this.url=r;this._dataAvailableCapability.resolve()}}},{key:"setFileSize",value:function setFileSize(t){Number.isInteger(t)&&t>0&&(this.maybeFileSize=t)}},{key:"_reset",value:function _reset(){this.pdfDocument=null;this.url=null;this.maybeFileSize=0;delete this.fieldData;this._dataAvailableCapability=(0,o.createPromiseCapability)();this._currentPageNumber=1;this._pagesRotation=0}},{key:"_updateUI",value:function _updateUI(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t&&this.fieldData){if(this.overlayManager.active===this.overlayName)for(var r in this.fields){var i=this.fieldData[r];this.fields[r].textContent=i||0===i?i:"-"}}else for(var a in this.fields)this.fields[a].textContent="-"}},{key:"_parseFileSize",value:(i=_asyncToGenerator(a.default.mark((function _callee(){var t,r,i=arguments;return a.default.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:0;if(r=t/1024){a.next=6;break}return a.abrupt("return",void 0);case 6:if(!(r<1024)){a.next=8;break}return a.abrupt("return",this.l10n.get("document_properties_kb",{size_kb:(+r.toPrecision(3)).toLocaleString(),size_b:t.toLocaleString()},"{{size_kb}} KB ({{size_b}} bytes)"));case 8:return a.abrupt("return",this.l10n.get("document_properties_mb",{size_mb:(+(r/1024).toPrecision(3)).toLocaleString(),size_b:t.toLocaleString()},"{{size_mb}} MB ({{size_b}} bytes)"));case 9:case"end":return a.stop()}}),_callee,this)}))),function _parseFileSize(){return i.apply(this,arguments)})},{key:"_parsePageSize",value:(r=_asyncToGenerator(a.default.mark((function _callee2(t,r){var i,o,c,h,p,g,v,m=this;return a.default.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return",void 0);case 2:r%180!=0&&(t={width:t.height,height:t.width});i=(0,l.isPortraitOrientation)(t);o={width:Math.round(100*t.width)/100,height:Math.round(100*t.height)/100};c={width:Math.round(25.4*t.width*10)/10,height:Math.round(25.4*t.height*10)/10};h=null;if(!((p=getPageName(o,i,u)||getPageName(c,i,d))||Number.isInteger(c.width)&&Number.isInteger(c.height))){g={width:25.4*t.width,height:25.4*t.height};v={width:Math.round(c.width),height:Math.round(c.height)};if(Math.abs(g.width-v.width)<.1&&Math.abs(g.height-v.height)<.1&&(p=getPageName(v,i,d))){o={width:Math.round(v.width/25.4*100)/100,height:Math.round(v.height/25.4*100)/100};c=v}}p&&(h=this.l10n.get("document_properties_page_size_name_"+p.toLowerCase(),null,p));return a.abrupt("return",Promise.all([this._isNonMetricLocale?o:c,this.l10n.get("document_properties_page_size_unit_"+(this._isNonMetricLocale?"inches":"millimeters"),null,this._isNonMetricLocale?"in":"mm"),h,this.l10n.get("document_properties_page_size_orientation_"+(i?"portrait":"landscape"),null,i?"portrait":"landscape")]).then((function(t){var r=_slicedToArray(t,4),i=r[0],a=i.width,o=i.height,l=r[1],c=r[2],u=r[3];return m.l10n.get("document_properties_page_size_dimension_"+(c?"name_":"")+"string",{width:a.toLocaleString(),height:o.toLocaleString(),unit:l,name:c,orientation:u},"{{width}} × {{height}} {{unit}} ("+(c?"{{name}}, ":"")+"{{orientation}})")})));case 11:case"end":return a.stop()}}),_callee2,this)}))),function _parsePageSize(t,i){return r.apply(this,arguments)})},{key:"_parseDate",value:(t=_asyncToGenerator(a.default.mark((function _callee3(t){var r;return a.default.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:if(r=o.PDFDateString.toDateObject(t)){i.next=3;break}return i.abrupt("return",void 0);case 3:return i.abrupt("return",this.l10n.get("document_properties_date_string",{date:r.toLocaleDateString(),time:r.toLocaleTimeString()},"{{date}}, {{time}}"));case 4:case"end":return i.stop()}}),_callee3,this)}))),function _parseDate(r){return t.apply(this,arguments)})},{key:"_parseLinearization",value:function _parseLinearization(t){return this.l10n.get("document_properties_linearized_"+(t?"yes":"no"),null,t?"Yes":"No")}}]);var t,r,i;return PDFDocumentProperties}();r.PDFDocumentProperties=h},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFFindBar=void 0;var a=i(19),o=i(5);function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var l=function(){function PDFFindBar(t,r){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.NullL10n;_classCallCheck(this,PDFFindBar);this.opened=!1;this.bar=t.bar||null;this.toggleButton=t.toggleButton||null;this.findField=t.findField||null;this.findFieldMultiline=t.findFieldMultiline||null;this.highlightAll=t.highlightAllCheckbox||null;this.caseSensitive=t.caseSensitiveCheckbox||null;this.entireWord=t.entireWordCheckbox||null;this.multipleSearchTexts=t.findMultipleSearchTextsCheckbox||null;this.ignoreAccents=t.ignoreAccentsCheckbox||null;this.fuzzySearch=t.fuzzyCheckbox||null;this.findMsg=t.findMsg||null;this.findResultsCount=t.findResultsCount||null;this.findPreviousButton=t.findPreviousButton||null;this.findNextButton=t.findNextButton||null;this.eventBus=r;this.l10n=a;this.toggleButton.addEventListener("click",(function(){i.toggle()}));this.findFieldMultiline.addEventListener("input",(function(){i.dispatchEvent("")}));this.findField.addEventListener("input",(function(){i.dispatchEvent("")}));this.bar.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:t.target===i.findField&&i.dispatchEvent("again",t.shiftKey);break;case 27:i.close()}}));this.findPreviousButton.addEventListener("click",(function(){i.dispatchEvent("again",!0)}));this.findNextButton.addEventListener("click",(function(){i.dispatchEvent("again",!1)}));this.highlightAll.addEventListener("click",(function(){i.dispatchEvent("highlightallchange")}));this.caseSensitive.addEventListener("click",(function(){i.dispatchEvent("casesensitivitychange")}));this.entireWord.addEventListener("click",(function(){i.dispatchEvent("entirewordchange")}));this.multipleSearchTexts.addEventListener("click",(function(){i.dispatchEvent("multiplesearchtextschange")}));this.ignoreAccents.addEventListener("click",(function(){i.dispatchEvent("ignoreAccentsChange")}));this.fuzzySearch.addEventListener("click",(function(){i.dispatchEvent("fuzzySearchChange")}));this.eventBus._on("resize",this._adjustWidth.bind(this))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFFindBar,[{key:"reset",value:function reset(){this.updateUIState()}},{key:"dispatchEvent",value:function dispatchEvent(t,r){this.eventBus.dispatch("find",{source:this,type:t,query:this.findFieldMultiline.classList.contains("hidden")?this.findField.value:this.findFieldMultiline.value,phraseSearch:!this.multipleSearchTexts.checked,caseSensitive:this.caseSensitive.checked,entireWord:this.entireWord.checked,ignoreAccents:this.ignoreAccents.checked,fuzzySearch:this.fuzzySearch.checked,highlightAll:this.highlightAll.checked,findPrevious:r})}},{key:"updateUIState",value:function updateUIState(t,r,i){var o=this,l=!1,c="",u="";switch(t){case a.FindState.FOUND:break;case a.FindState.PENDING:u="pending";break;case a.FindState.NOT_FOUND:c=this.l10n.get("find_not_found",null,"Phrase not found");l=!0;break;case a.FindState.WRAPPED:c=r?this.l10n.get("find_reached_top",null,"Reached top of document, continued from bottom"):this.l10n.get("find_reached_bottom",null,"Reached end of document, continued from top")}this.findField.classList.toggle("notFound",l);this.findField.setAttribute("data-status",u);this.findFieldMultiline.classList.toggle("notFound",l);this.findFieldMultiline.setAttribute("data-status",u);Promise.resolve(c).then((function(t){o.findMsg.textContent=t;o._adjustWidth()}));this.updateResultsCount(i)}},{key:"updateResultsCount",value:function updateResultsCount(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.current,a=void 0===i?0:i,o=r.total,l=void 0===o?0:o;if(this.findResultsCount){var c=1e3,u="";l>0&&(u=l>c?this.l10n.get("find_match_count_limit",{limit:c},"More than {{limit}} match"+(1!==c?"es":"")):this.l10n.get("find_match_count",{current:a,total:l},"{{current}} of {{total}} match"+(1!==l?"es":"")));Promise.resolve(u).then((function(r){t.findResultsCount.textContent=r;t.findResultsCount.classList.toggle("hidden",!l);t._adjustWidth()}))}}},{key:"open",value:function open(){if(!this.opened){this.opened=!0;this.toggleButton.classList.add("toggled");this.bar.classList.remove("hidden")}this.findField.select();this.findField.focus();this.dispatchEvent("");this._adjustWidth()}},{key:"close",value:function close(){if(this.opened){this.opened=!1;this.toggleButton.classList.remove("toggled");this.bar.classList.add("hidden");this.eventBus.dispatch("findbarclose",{source:this})}}},{key:"toggle",value:function toggle(){this.opened?this.close():this.open()}},{key:"_adjustWidth",value:function _adjustWidth(){if(this.opened){this.bar.classList.remove("wrapContainers");this.bar.clientHeight>this.bar.firstElementChild.clientHeight&&this.bar.classList.add("wrapContainers")}}}]);return PDFFindBar}();r.PDFFindBar=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFFindController=r.FindState=void 0;var a=i(8),o=i(20),l=i(21),c=i(22),u=i(5);function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var d={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};r.FindState=d;var h={"‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},p=null;function normalize(t){if(!p){var r=Object.keys(h).join("");p=new RegExp("[".concat(r,"]"),"g")}return t.replace(p,(function(t){return h[t]}))}var g=function(){function PDFFindController(t){var r=t.linkService,i=t.eventBus;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFFindController);this._linkService=r;this._eventBus=i;this._reset();i._on("findbarclose",this._onFindBarClose.bind(this))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFFindController,[{key:"setDocument",value:function setDocument(t){this._pdfDocument&&this._reset();if(t){this._pdfDocument=t;this._firstPageCapability.resolve()}}},{key:"executeCommand",value:function executeCommand(t,r){var i=this;if(r){var a=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(t,r))&&(this._dirtyMatch=!0);this._state=r;"findhighlightallchange"!==t&&this._updateUIState(d.PENDING);this._firstPageCapability.promise.then((function(){if(i._pdfDocument&&(!a||i._pdfDocument===a)){i._extractText();var r=!i._highlightMatches,o=!!i._findTimeout;if(i._findTimeout){clearTimeout(i._findTimeout);i._findTimeout=null}if("find"===t)i._findTimeout=setTimeout((function(){i._nextMatch();i._findTimeout=null}),250);else if(i._dirtyMatch)i._nextMatch();else if("findagain"===t){i._nextMatch();r&&i._state.highlightAll&&i._updateAllPages()}else if("findhighlightallchange"===t){o?i._nextMatch():i._highlightMatches=!0;i._updateAllPages()}else i._nextMatch()}}))}}},{key:"scrollMatchIntoView",value:function scrollMatchIntoView(t){var r=t.element,i=void 0===r?null:r,a=t.pageIndex,o=void 0===a?-1:a,l=t.matchIndex,c=void 0===l?-1:l;if(this._scrollMatches&&i&&-1!==c&&c===this._selected.matchIdx&&-1!==o&&o===this._selected.pageIdx){this._scrollMatches=!1;var d={top:-50,left:-400};(0,u.scrollIntoView)(i,d,!0)}}},{key:"_reset",value:function _reset(){this._highlightMatches=!1;this._scrollMatches=!1;this._pdfDocument=null;this._pageMatches=[];this._pageMatchesLength=[];this._pageMatchesColor=[];this._state=null;this._selected={pageIdx:-1,matchIdx:-1};this._offset={pageIdx:null,matchIdx:null,wrapped:!1};this._extractTextPromises=[];this._pageContents=[];this._matchesCountTotal=0;this._pagesToSearch=null;this._pendingFindMatches=Object.create(null);this._resumePageIdx=null;this._dirtyMatch=!1;clearTimeout(this._findTimeout);this._findTimeout=null;this._firstPageCapability=(0,a.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function _shouldDirtyMatch(t,r){if(r.query!==this._state.query)return!0;switch(t){case"findagain":var i=this._selected.pageIdx+1,a=this._linkService;return i>=1&&i<=a.pagesCount&&i!==a.page&&!a.isPageVisible(i);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function _prepareMatches(t,r,i,a){function isSubTerm(r){var i=t[r],a=t[r+1];if(r<t.length-1&&i.match===a.match){i.skipped=!0;return!0}for(var o=r-1;o>=0;o--){var l=t[o];if(!l.skipped){if(l.match+l.matchLength<i.match)break;if(l.match+l.matchLength>=i.match+i.matchLength){i.skipped=!0;return!0}}}return!1}t.sort((function(t,r){return t.match===r.match?t.matchLength-r.matchLength:t.match-r.match}));for(var o=0,l=t.length;o<l;o++)if(!isSubTerm(o)){r.push(t[o].match);i.push(t[o].matchLength);a.push(t[o].color)}}},{key:"_isEntireWord",value:function _isEntireWord(t,r,i){if(r>0){var a=t.charCodeAt(r),o=t.charCodeAt(r-1);if((0,l.getCharacterType)(a)===(0,l.getCharacterType)(o))return!1}var c=r+i-1;if(c<t.length-1){var u=t.charCodeAt(c),d=t.charCodeAt(c+1);if((0,l.getCharacterType)(u)===(0,l.getCharacterType)(d))return!1}return!0}},{key:"_calculateFuzzyMatch",value:function _calculateFuzzyMatch(t,r,i){for(var a=[],o=t.length,l=o<5?o:5,u=Math.round(o/5),d=t.substring(0,l),h={useCollator:!0},p=0;p<i.length-o;p++){var g=i.substring(p,p+l);if(c.Levenshtein.distance(d,g,h)<3){var v=i.substring(p,p+o);if(c.Levenshtein.distance(t,v,h)<=u){a.push(p);p+=o-1}}}this._pageMatches[r]=a}},{key:"_calculatePhraseMatch",value:function _calculatePhraseMatch(t,r,i,a,l){if(l){i=(0,o.deburr)(i);t=(0,o.deburr)(t)}for(var c=[],u=t.length,d=-u;-1!==(d=i.indexOf(t,d+u));)a&&!this._isEntireWord(i,d,u)||c.push(d);this._pageMatches[r]=c}},{key:"_calculateWordMatch",value:function _calculateWordMatch(t,r,i,a,l){if(l){i=(0,o.deburr)(i);t=(0,o.deburr)(t)}for(var c=[],u=t.includes("\n")?t.trim().split(/\n+/g):t.trim().match(/\S+/g),d=0,h=u.length;d<h;d++){var p=u[d],g=p.length;if(0!==g)for(var v=-g;-1!==(v=i.indexOf(p,v+g));)a&&!this._isEntireWord(i,v,g)||c.push({match:v,matchLength:g,skipped:!1,color:d})}this._pageMatchesLength[r]=[];this._pageMatchesColor[r]=[];this._pageMatches[r]=[];this._prepareMatches(c,this._pageMatches[r],this._pageMatchesLength[r],this._pageMatchesColor[r])}},{key:"_calculateMatch",value:function _calculateMatch(t){var r=this._pageContents[t],i=this._query,a=this._state,o=a.caseSensitive,l=a.entireWord,c=a.ignoreAccents,u=a.fuzzySearch,d=a.phraseSearch;if(0!==i.length){if(!o){r=r.toLowerCase();i=i.toLowerCase()}u?i.length<=2?this._calculatePhraseMatch(i,t,r,!1):this._calculateFuzzyMatch(i,t,r):d?this._calculatePhraseMatch(i,t,r,l,c):this._calculateWordMatch(i,t,r,l,c);this._state.highlightAll&&this._updatePage(t);if(this._resumePageIdx===t){this._resumePageIdx=null;this._nextPageMatch()}var h=this._pageMatches[t].length;if(h>0){this._matchesCountTotal+=h;this._updateUIResultsCount()}}}},{key:"_extractText",value:function _extractText(){var t=this;if(!(this._extractTextPromises.length>0))for(var r=Promise.resolve(),i=function _loop(i,o){var l=(0,a.createPromiseCapability)();t._extractTextPromises[i]=l.promise;r=r.then((function(){return t._pdfDocument.getPage(i+1).then((function(t){return t.getTextContent({normalizeWhitespace:!0})})).then((function(r){for(var a=r.items,o=[],c=0,u=a.length;c<u;c++)o.push(a[c].str);t._pageContents[i]=normalize(o.join(""));l.resolve(i)}),(function(r){console.error("Unable to get text content for page ".concat(i+1),r);t._pageContents[i]="";l.resolve(i)}))}))},o=0,l=this._linkService.pagesCount;o<l;o++)i(o)}},{key:"_updatePage",value:function _updatePage(t){this._scrollMatches&&this._selected.pageIdx===t&&(this._linkService.page=t+1);this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:t})}},{key:"_updateAllPages",value:function _updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function _nextMatch(){var t=this,r=this._state.findPrevious,i=this._linkService.page-1,a=this._linkService.pagesCount;this._highlightMatches=!0;if(this._dirtyMatch){this._dirtyMatch=!1;this._selected.pageIdx=this._selected.matchIdx=-1;this._offset.pageIdx=i;this._offset.matchIdx=null;this._offset.wrapped=!1;this._resumePageIdx=null;this._pageMatches.length=0;this._pageMatchesLength.length=0;this._pageMatchesColor.length=0;this._matchesCountTotal=0;this._updateAllPages();for(var o=0;o<a;o++)if(!0!==this._pendingFindMatches[o]){this._pendingFindMatches[o]=!0;this._extractTextPromises[o].then((function(r){delete t._pendingFindMatches[r];t._calculateMatch(r)}))}}if(""!==this._query){if(!this._resumePageIdx){var l=this._offset;this._pagesToSearch=a;if(null!==l.matchIdx){var c=this._pageMatches[l.pageIdx].length;if(!r&&l.matchIdx+1<c||r&&l.matchIdx>0){l.matchIdx=r?l.matchIdx-1:l.matchIdx+1;this._updateMatch(!0);return}this._advanceOffsetPage(r)}this._nextPageMatch()}}else this._updateUIState(d.FOUND)}},{key:"_matchesReady",value:function _matchesReady(t){var r=this._offset,i=t.length,a=this._state.findPrevious;if(i){r.matchIdx=a?i-1:0;this._updateMatch(!0);return!0}this._advanceOffsetPage(a);if(r.wrapped){r.matchIdx=null;if(this._pagesToSearch<0){this._updateMatch(!1);return!0}}return!1}},{key:"_nextPageMatch",value:function _nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var t=null;do{var r=this._offset.pageIdx;if(!(t=this._pageMatches[r])){this._resumePageIdx=r;break}}while(!this._matchesReady(t))}},{key:"_advanceOffsetPage",value:function _advanceOffsetPage(t){var r=this._offset,i=this._linkService.pagesCount;r.pageIdx=t?r.pageIdx-1:r.pageIdx+1;r.matchIdx=null;this._pagesToSearch--;if(r.pageIdx>=i||r.pageIdx<0){r.pageIdx=t?i-1:0;r.wrapped=!0}}},{key:"_updateMatch",value:function _updateMatch(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=d.NOT_FOUND,i=this._offset.wrapped;this._offset.wrapped=!1;if(t){var a=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx;this._selected.matchIdx=this._offset.matchIdx;r=i?d.WRAPPED:d.FOUND;-1!==a&&a!==this._selected.pageIdx&&this._updatePage(a)}this._updateUIState(r,this._state.findPrevious);if(-1!==this._selected.pageIdx){this._scrollMatches=!0;this._updatePage(this._selected.pageIdx)}}},{key:"_onFindBarClose",value:function _onFindBarClose(t){var r=this,i=this._pdfDocument;this._firstPageCapability.promise.then((function(){if(r._pdfDocument&&(!i||r._pdfDocument===i)){if(r._findTimeout){clearTimeout(r._findTimeout);r._findTimeout=null}if(r._resumePageIdx){r._resumePageIdx=null;r._dirtyMatch=!0}r._updateUIState(d.FOUND);r._highlightMatches=!1;r._updateAllPages()}}))}},{key:"_requestMatchesCount",value:function _requestMatchesCount(){var t=this._selected,r=t.pageIdx,i=t.matchIdx,a=0,o=this._matchesCountTotal;if(-1!==i){for(var l=0;l<r;l++)a+=this._pageMatches[l]&&this._pageMatches[l].length||0;a+=i+1}(a<1||a>o)&&(a=o=0);return{current:a,total:o}}},{key:"_updateUIResultsCount",value:function _updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function _updateUIState(t,r){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:t,previous:r,matchesCount:this._requestMatchesCount(),rawQuery:this._state?this._state.query:null})}},{key:"highlightMatches",get:function get(){return this._highlightMatches}},{key:"pageMatches",get:function get(){return this._pageMatches}},{key:"pageMatchesColor",get:function get(){return this._pageMatchesColor}},{key:"pageMatchesLength",get:function get(){return this._pageMatchesLength}},{key:"selected",get:function get(){return this._selected}},{key:"state",get:function get(){return this._state}},{key:"_query",get:function get(){if(this._state.query!==this._rawQuery){this._rawQuery=this._state.query;this._normalizedQuery=normalize(this._state.query)}return this._normalizedQuery}}]);return PDFFindController}();r.PDFFindController=g},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.deburr=function deburr(t){return(t=function toString(t){return null==t?"":function baseToString(t){if("string"==typeof t)return t;if(function isSymbol(t){return"symbol"==_typeof(t)||function isObjectLike(t){return!!t&&"object"==_typeof(t)}(t)&&"[object Symbol]"==h.call(t)}(t))return v?v.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}(t)}(t))&&t.replace(a,d).replace(o,"")};function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),l="object"==("undefined"==typeof global?"undefined":_typeof(global))&&global&&global.Object===Object&&global,c="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,u=l||c||Function("return this")();var d=function basePropertyOf(t){return function(r){return null==t?void 0:t[r]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"}),h=Object.prototype.toString,p=u.Symbol,g=p?p.prototype:void 0,v=g?g.toString:void 0},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.getCharacterType=function getCharacterType(t){if(function isAlphabeticalScript(t){return t<11904}(t))return function isAscii(t){return 0==(65408&t)}(t)?function isAsciiSpace(t){return 32===t||9===t||13===t||10===t}(t)?a.SPACE:function isAsciiAlpha(t){return t>=97&&t<=122||t>=65&&t<=90}(t)||function isAsciiDigit(t){return t>=48&&t<=57}(t)||95===t?a.ALPHA_LETTER:a.PUNCT:function isThai(t){return 3584==(65408&t)}(t)?a.THAI_LETTER:160===t?a.SPACE:a.ALPHA_LETTER;if(function isHan(t){return t>=13312&&t<=40959||t>=63744&&t<=64255}(t))return a.HAN_LETTER;if(function isKatakana(t){return t>=12448&&t<=12543}(t))return a.KATAKANA_LETTER;if(function isHiragana(t){return t>=12352&&t<=12447}(t))return a.HIRAGANA_LETTER;if(function isHalfwidthKatakana(t){return t>=65376&&t<=65439}(t))return a.HALFWIDTH_KATAKANA_LETTER;return a.ALPHA_LETTER};r.CharacterType=void 0;var a={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};r.CharacterType=a},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.Levenshtein=void 0;function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var a;try{a=Intl.Collator("und",{sensitivity:"base"})}catch(t){try{a=Intl.Collator("generic",{sensitivity:"base"})}catch(t){a=void 0}}var o=[],l=[],c=function(){function Levenshtein(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Levenshtein)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(Levenshtein,null,[{key:"distance",value:function distance(t,r,i){var c,u,d,h,p,g,v=i&&a&&i.useCollator,m=t.length,y=r.length;if(0===m)return y;if(0===y)return m;for(d=0;d<y;++d){o[d]=d;l[d]=r.charCodeAt(d)}o[y]=y;if(v)for(d=0;d<m;++d){u=d+1;for(h=0;h<y;++h){c=u;g=0===a.compare(t.charAt(d),String.fromCharCode(l[h]));(u=o[h]+(g?0:1))>(p=c+1)&&(u=p);u>(p=o[h+1]+1)&&(u=p);o[h]=c}o[h]=u}else for(d=0;d<m;++d){u=d+1;for(h=0;h<y;++h){c=u;g=t.charCodeAt(d)===l[h];(u=o[h]+(g?0:1))>(p=c+1)&&(u=p);u>(p=o[h+1]+1)&&(u=p);o[h]=c}o[h]=u}return u}}]);return Levenshtein}();r.Levenshtein=c},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.isDestHashesEqual=isDestHashesEqual;r.isDestArraysEqual=isDestArraysEqual;r.PDFHistory=void 0;var a=i(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],a=!0,o=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){i.push(c.value);if(r&&i.length===r)break}}catch(t){o=!0;l=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw l}}return i}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function getCurrentHash(){return document.location.hash}var o=function(){function PDFHistory(t){var r=this,i=t.linkService,a=t.eventBus;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFHistory);this.linkService=i;this.eventBus=a;this._initialized=!1;this._fingerprint="";this.reset();this._boundEvents=null;this._isViewerInPresentationMode=!1;this.eventBus._on("presentationmodechanged",(function(t){r._isViewerInPresentationMode=t.active||t.switchInProgress}));this.eventBus._on("pagesinit",(function(){r._isPagesLoaded=!1;r.eventBus._on("pagesloaded",(function onPagesLoaded(t){r.eventBus._off("pagesloaded",onPagesLoaded);r._isPagesLoaded=!!t.pagesCount}))}))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFHistory,[{key:"initialize",value:function initialize(t){var r=t.fingerprint,i=t.resetHistory,a=void 0!==i&&i,o=t.updateUrl,l=void 0!==o&&o;if(r&&"string"==typeof r){this._initialized&&this.reset();var c=""!==this._fingerprint&&this._fingerprint!==r;this._fingerprint=r;this._updateUrl=!0===l;this._initialized=!0;this._bindEvents();var u=window.history.state;this._popStateInProgress=!1;this._blockHashChange=0;this._currentHash=getCurrentHash();this._numPositionUpdates=0;this._uid=this._maxUid=0;this._destination=null;this._position=null;if(this._isValidState(u,!0)&&!a){var d=u.destination;this._updateInternalState(d,u.uid,!0);this._uid>this._maxUid&&(this._maxUid=this._uid);void 0!==d.rotation&&(this._initialRotation=d.rotation);if(d.dest){this._initialBookmark=JSON.stringify(d.dest);this._destination.page=null}else d.hash?this._initialBookmark=d.hash:d.page&&(this._initialBookmark="page=".concat(d.page))}else{var h=this._parseCurrentHash(!0),p=h.hash,g=h.page,v=h.rotation;if(!p||c||a){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:p,page:g,rotation:v},!0)}}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function reset(){if(this._initialized){this._pageHide();this._initialized=!1;this._unbindEvents()}if(this._updateViewareaTimeout){clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}this._initialBookmark=null;this._initialRotation=null}},{key:"push",value:function push(t){var r=this,i=t.namedDest,a=void 0===i?null:i,o=t.explicitDest,l=t.pageNumber;if(this._initialized)if(a&&"string"!=typeof a)console.error("PDFHistory.push: "+'"'.concat(a,'" is not a valid namedDest parameter.'));else if(Array.isArray(o))if(Number.isInteger(l)&&l>0&&l<=this.linkService.pagesCount||null===l&&!this._destination){var c=a||JSON.stringify(o);if(c){var u=!1;if(this._destination&&(isDestHashesEqual(this._destination.hash,c)||isDestArraysEqual(this._destination.dest,o))){if(this._destination.page)return;u=!0}if(!this._popStateInProgress||u){this._pushOrReplaceState({dest:o,hash:c,page:l,rotation:this.linkService.rotation},u);if(!this._popStateInProgress){this._popStateInProgress=!0;Promise.resolve().then((function(){r._popStateInProgress=!1}))}}}}else console.error("PDFHistory.push: "+'"'.concat(l,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(o,'" is not a valid explicitDest parameter.'))}},{key:"pushCurrentPosition",value:function pushCurrentPosition(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function back(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}}},{key:"forward",value:function forward(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function _pushOrReplaceState(t){var r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=i||!this._destination,o={fingerprint:this._fingerprint,uid:a?this._uid:this._uid+1,destination:t};this._updateInternalState(t,o.uid);if(this._updateUrl&&t&&t.hash){var l=document.location.href.split("#")[0];l.startsWith("file://")||(r="".concat(l,"#").concat(t.hash))}if(a)window.history.replaceState(o,"",r);else{this._maxUid=this._uid;window.history.pushState(o,"",r)}}},{key:"_tryPushCurrentPosition",value:function _tryPushCurrentPosition(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var r=this._position;t&&((r=Object.assign(Object.create(null),this._position)).temporary=!0);if(this._destination){if(this._destination.temporary)this._pushOrReplaceState(r,!0);else if(this._destination.hash!==r.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var i=!1;if(this._destination.page>=r.first&&this._destination.page<=r.page){if(this._destination.dest||!this._destination.first)return;i=!0}this._pushOrReplaceState(r,i)}}else this._pushOrReplaceState(r)}}},{key:"_isValidState",value:function _isValidState(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!r)return!1;if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;var i=performance.getEntriesByType("navigation"),a=_slicedToArray(i,1),o=a[0];if(!o||"reload"!==o.type)return!1}return!(!Number.isInteger(t.uid)||t.uid<0)&&(null!==t.destination&&"object"===_typeof(t.destination))}},{key:"_updateInternalState",value:function _updateInternalState(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._updateViewareaTimeout){clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}i&&t&&t.temporary&&delete t.temporary;this._destination=t;this._uid=r;this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function _parseCurrentHash(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=unescape(getCurrentHash()).substring(1),i=(0,a.parseQueryString)(r),o=i.nameddest||"",l=0|i.page;Number.isInteger(l)&&l>0&&l<=this.linkService.pagesCount&&!(t&&o.length>0)||(l=null);return{hash:r,page:l,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function _updateViewarea(t){var r=this,i=t.location;if(this._updateViewareaTimeout){clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}this._position={hash:this._isViewerInPresentationMode?"page=".concat(i.pageNumber):i.pdfOpenParams.substring(1),page:this.linkService.page,first:i.pageNumber,rotation:i.rotation};if(!this._popStateInProgress){this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++;this._updateViewareaTimeout=setTimeout((function(){r._popStateInProgress||r._tryPushCurrentPosition(!0);r._updateViewareaTimeout=null}),1e3)}}},{key:"_popState",value:function _popState(t){var r=this,i=t.state,o=getCurrentHash(),l=this._currentHash!==o;this._currentHash=o;if(i){if(this._isValidState(i)){this._popStateInProgress=!0;if(l){this._blockHashChange++;(0,a.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then((function(){r._blockHashChange--}))}var c=i.destination;this._updateInternalState(c,i.uid,!0);this._uid>this._maxUid&&(this._maxUid=this._uid);(0,a.isValidRotation)(c.rotation)&&(this.linkService.rotation=c.rotation);c.dest?this.linkService.navigateTo(c.dest):c.hash?this.linkService.setHash(c.hash):c.page&&(this.linkService.page=c.page);Promise.resolve().then((function(){r._popStateInProgress=!1}))}}else{this._uid++;var u=this._parseCurrentHash(),d=u.hash,h=u.page,p=u.rotation;this._pushOrReplaceState({hash:d,page:h,rotation:p},!0)}}},{key:"_pageHide",value:function _pageHide(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function _bindEvents(){if(!this._boundEvents){this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)};this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea);window.addEventListener("popstate",this._boundEvents.popState);window.addEventListener("pagehide",this._boundEvents.pageHide)}}},{key:"_unbindEvents",value:function _unbindEvents(){if(this._boundEvents){this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea);window.removeEventListener("popstate",this._boundEvents.popState);window.removeEventListener("pagehide",this._boundEvents.pageHide);this._boundEvents=null}}},{key:"popStateInProgress",get:function get(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function get(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function get(){return this._initialized?this._initialRotation:null}}]);return PDFHistory}();r.PDFHistory=o;function isDestHashesEqual(t,r){return"string"==typeof t&&"string"==typeof r&&(t===r||(0,a.parseQueryString)(t).nameddest===r)}function isDestArraysEqual(t,r){function isEntryEqual(t,r){if(_typeof(t)!==_typeof(r))return!1;if(Array.isArray(t)||Array.isArray(r))return!1;if(null!==t&&"object"===_typeof(t)&&null!==r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(var i in t)if(!isEntryEqual(t[i],r[i]))return!1;return!0}return t===r||Number.isNaN(t)&&Number.isNaN(r)}if(!Array.isArray(t)||!Array.isArray(r))return!1;if(t.length!==r.length)return!1;for(var i=0,a=t.length;i<a;i++)if(!isEntryEqual(t[i],r[i]))return!1;return!0}},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFLayerViewer=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2));function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _get(t,r,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,i){var a=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(i):o.value}})(t,r,i||t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?_assertThisInitialized(t):r}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(PDFLayerViewer,t);var r,i,o=_createSuper(PDFLayerViewer);function PDFLayerViewer(t){var r;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFLayerViewer);(r=o.call(this,t)).l10n=t.l10n;r.eventBus._on("resetlayers",r._resetLayers.bind(_assertThisInitialized(r)));r.eventBus._on("togglelayerstree",r._toggleAllTreeItems.bind(_assertThisInitialized(r)));return r}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFLayerViewer,[{key:"reset",value:function reset(){_get(_getPrototypeOf(PDFLayerViewer.prototype),"reset",this).call(this);this._optionalContentConfig=null;this._pdfDocument=null}},{key:"_dispatchEvent",value:function _dispatchEvent(t){this.eventBus.dispatch("layersloaded",{source:this,layersCount:t})}},{key:"_bindLink",value:function _bindLink(t,r){var i=this,a=r.groupId,o=r.input,l=function setVisibility(){i._optionalContentConfig.setVisibility(a,o.checked);i.eventBus.dispatch("optionalcontentconfig",{source:i,promise:Promise.resolve(i._optionalContentConfig)})};t.onclick=function(r){if(r.target===o){l();return!0}if(r.target!==t)return!0;o.checked=!o.checked;l();return!1}}},{key:"_setNestedName",value:(i=_asyncToGenerator(a.default.mark((function _callee(t,r){var i,o;return a.default.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:i=r.name;if("string"!=typeof(o=void 0===i?null:i)){a.next=4;break}t.textContent=this._normalizeTextContent(o);return a.abrupt("return");case 4:a.next=6;return this.l10n.get("additional_layers",null,"Additional Layers");case 6:t.textContent=a.sent;t.style.fontStyle="italic";case 8:case"end":return a.stop()}}),_callee,this)}))),function _setNestedName(t,r){return i.apply(this,arguments)})},{key:"_addToggleButton",value:function _addToggleButton(t,r){var i=r.name,a=void 0===i?null:i;_get(_getPrototypeOf(PDFLayerViewer.prototype),"_addToggleButton",this).call(this,t,null===a)}},{key:"_toggleAllTreeItems",value:function _toggleAllTreeItems(){this._optionalContentConfig&&_get(_getPrototypeOf(PDFLayerViewer.prototype),"_toggleAllTreeItems",this).call(this)}},{key:"render",value:function render(t){var r=t.optionalContentConfig,i=t.pdfDocument;this._optionalContentConfig&&this.reset();this._optionalContentConfig=r||null;this._pdfDocument=i||null;var a=r&&r.getOrder();if(a){for(var o=document.createDocumentFragment(),l=[{parent:o,groups:a}],c=0,u=!1;l.length>0;){var d,h=l.shift(),p=_createForOfIteratorHelper(h.groups);try{for(p.s();!(d=p.n()).done;){var g=d.value,v=document.createElement("div");v.className="treeItem";var m=document.createElement("a");v.appendChild(m);if("object"===_typeof(g)){u=!0;this._addToggleButton(v,g);this._setNestedName(m,g);var y=document.createElement("div");y.className="treeItems";v.appendChild(y);l.push({parent:y,groups:g.order})}else{var b=r.getGroup(g),w=document.createElement("input");this._bindLink(m,{groupId:g,input:w});w.type="checkbox";w.id=g;w.checked=b.visible;var S=document.createElement("label");S.setAttribute("for",g);S.textContent=this._normalizeTextContent(b.name);m.appendChild(w);m.appendChild(S);c++}h.parent.appendChild(v)}}catch(t){p.e(t)}finally{p.f()}}if(u){this.container.classList.add("treeWithDeepNesting");this._lastToggleIsShow=0===o.querySelectorAll(".treeItemsHidden").length}this.container.appendChild(o);this._dispatchEvent(c)}else this._dispatchEvent(0)}},{key:"_resetLayers",value:(r=_asyncToGenerator(a.default.mark((function _callee2(){var t;return a.default.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(this._optionalContentConfig){r.next=2;break}return r.abrupt("return");case 2:r.next=4;return this._pdfDocument.getOptionalContentConfig();case 4:t=r.sent;this.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(t)});this.render({optionalContentConfig:t,pdfDocument:this._pdfDocument});case 7:case"end":return r.stop()}}),_callee2,this)}))),function _resetLayers(){return r.apply(this,arguments)})}]);return PDFLayerViewer}(i(16).BaseTreeViewer);r.PDFLayerViewer=o},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.SimpleLinkService=r.PDFLinkService=void 0;var a=i(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}var o=function(){function PDFLinkService(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.eventBus,i=t.externalLinkTarget,a=void 0===i?null:i,o=t.externalLinkRel,l=void 0===o?null:o,c=t.externalLinkEnabled,u=void 0===c||c,d=t.ignoreDestinationZoom,h=void 0!==d&&d;_classCallCheck(this,PDFLinkService);this.eventBus=r;this.externalLinkTarget=a;this.externalLinkRel=l;this.externalLinkEnabled=u;this._ignoreDestinationZoom=h;this.baseUrl=null;this.pdfDocument=null;this.pdfViewer=null;this.pdfHistory=null;this._pagesRefCache=null}_createClass(PDFLinkService,[{key:"setDocument",value:function setDocument(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=r;this.pdfDocument=t;this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function setViewer(t){this.pdfViewer=t}},{key:"setHistory",value:function setHistory(t){this.pdfHistory=t}},{key:"navigateTo",value:function navigateTo(t){var r=this;new Promise((function(i,a){"string"!=typeof t?i({namedDest:"",explicitDest:t}):r.pdfDocument.getDestination(t).then((function(r){i({namedDest:t,explicitDest:r})}))})).then((function(i){Array.isArray(i.explicitDest)?function goToDestination(i){var a,o=i.namedDest,l=i.explicitDest,c=l[0];if(c instanceof Object){if(null===(a=r._cachedPageNumber(c))){r.pdfDocument.getPageIndex(c).then((function(t){r.cachePageRef(t+1,c);goToDestination({namedDest:o,explicitDest:l})})).catch((function(){console.error('PDFLinkService.navigateTo: "'.concat(c,'" is not ')+'a valid page reference, for dest="'.concat(t,'".'))}));return}}else{if(!Number.isInteger(c)){console.error('PDFLinkService.navigateTo: "'.concat(c,'" is not ')+'a valid destination reference, for dest="'.concat(t,'".'));return}a=c+1}if(!a||a<1||a>r.pagesCount)console.error('PDFLinkService.navigateTo: "'.concat(a,'" is not ')+'a valid page number, for dest="'.concat(t,'".'));else{if(r.pdfHistory){r.pdfHistory.pushCurrentPosition();r.pdfHistory.push({namedDest:o,explicitDest:l,pageNumber:a})}r.pdfViewer.scrollPageIntoView({pageNumber:a,destArray:l,ignoreDestinationZoom:r._ignoreDestinationZoom})}}(i):console.error('PDFLinkService.navigateTo: "'.concat(i.explicitDest,'" is')+' not a valid destination array, for dest="'.concat(t,'".'))}))}},{key:"getDestinationHash",value:function getDestinationHash(t){if("string"==typeof t)return this.getAnchorUrl("#"+escape(t));if(Array.isArray(t)){var r=JSON.stringify(t);return this.getAnchorUrl("#"+escape(r))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function getAnchorUrl(t){return(this.baseUrl||"")+t}},{key:"setHash",value:function setHash(t){var r,i;if(t.includes("=")){var o=(0,a.parseQueryString)(t);"search"in o&&this.eventBus.dispatch("findfromurlhash",{source:this,query:o.search.replace(/"/g,""),phraseSearch:"true"===o.phrase});"page"in o&&(r=0|o.page||1);if("zoom"in o){var l=o.zoom.split(","),c=l[0],u=parseFloat(c);c.includes("Fit")?"Fit"===c||"FitB"===c?i=[null,{name:c}]:"FitH"===c||"FitBH"===c||"FitV"===c||"FitBV"===c?i=[null,{name:c},l.length>1?0|l[1]:null]:"FitR"===c?5!==l.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:c},0|l[1],0|l[2],0|l[3],0|l[4]]:console.error('PDFLinkService.setHash: "'.concat(c,'" is not ')+"a valid zoom value."):i=[null,{name:"XYZ"},l.length>1?0|l[1]:null,l.length>2?0|l[2]:null,u?u/100:c]}i?this.pdfViewer.scrollPageIntoView({pageNumber:r||this.page,destArray:i,allowNegativeOffset:!0}):r&&(this.page=r);"pagemode"in o&&this.eventBus.dispatch("pagemode",{source:this,mode:o.pagemode});"nameddest"in o&&this.navigateTo(o.nameddest)}else{i=unescape(t);try{i=JSON.parse(i);Array.isArray(i)||(i=i.toString())}catch(t){}if("string"==typeof i||function isValidExplicitDestination(t){if(!Array.isArray(t))return!1;var r=t.length;if(r<2)return!1;var i=t[0];if(!("object"===_typeof(i)&&Number.isInteger(i.num)&&Number.isInteger(i.gen)||Number.isInteger(i)&&i>=0))return!1;var a=t[1];if("object"!==_typeof(a)||"string"!=typeof a.name)return!1;var o=!0;switch(a.name){case"XYZ":if(5!==r)return!1;break;case"Fit":case"FitB":return 2===r;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==r)return!1;break;case"FitR":if(6!==r)return!1;o=!1;break;default:return!1}for(var l=2;l<r;l++){var c=t[l];if(!("number"==typeof c||o&&null===c))return!1}return!0}(i)){this.navigateTo(i);return}console.error('PDFLinkService.setHash: "'.concat(unescape(t),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function executeNamedAction(t){switch(t){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:t})}},{key:"cachePageRef",value:function cachePageRef(t,r){if(r){var i=0===r.gen?"".concat(r.num,"R"):"".concat(r.num,"R").concat(r.gen);this._pagesRefCache[i]=t}}},{key:"_cachedPageNumber",value:function _cachedPageNumber(t){var r=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return this._pagesRefCache&&this._pagesRefCache[r]||null}},{key:"isPageVisible",value:function isPageVisible(t){return this.pdfViewer.isPageVisible(t)}},{key:"pagesCount",get:function get(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function get(){return this.pdfViewer.currentPageNumber},set:function set(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function get(){return this.pdfViewer.pagesRotation},set:function set(t){this.pdfViewer.pagesRotation=t}}]);return PDFLinkService}();r.PDFLinkService=o;var l=function(){function SimpleLinkService(){_classCallCheck(this,SimpleLinkService);this.externalLinkTarget=null;this.externalLinkRel=null;this.externalLinkEnabled=!0;this._ignoreDestinationZoom=!1}_createClass(SimpleLinkService,[{key:"navigateTo",value:function navigateTo(t){}},{key:"getDestinationHash",value:function getDestinationHash(t){return"#"}},{key:"getAnchorUrl",value:function getAnchorUrl(t){return"#"}},{key:"setHash",value:function setHash(t){}},{key:"executeNamedAction",value:function executeNamedAction(t){}},{key:"cachePageRef",value:function cachePageRef(t,r){}},{key:"isPageVisible",value:function isPageVisible(t){return!0}},{key:"pagesCount",get:function get(){return 0}},{key:"page",get:function get(){return 0},set:function set(t){}},{key:"rotation",get:function get(){return 0},set:function set(t){}}]);return SimpleLinkService}();r.SimpleLinkService=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFOutlineViewer=void 0;var a=i(8);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _get(t,r,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,i){var a=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(i):o.value}})(t,r,i||t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?_assertThisInitialized(t):r}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(PDFOutlineViewer,t);var r=_createSuper(PDFOutlineViewer);function PDFOutlineViewer(t){var i;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFOutlineViewer);(i=r.call(this,t)).linkService=t.linkService;i.eventBus._on("toggleoutlinetree",i._toggleAllTreeItems.bind(_assertThisInitialized(i)));return i}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFOutlineViewer,[{key:"reset",value:function reset(){_get(_getPrototypeOf(PDFOutlineViewer.prototype),"reset",this).call(this);this._outline=null}},{key:"_dispatchEvent",value:function _dispatchEvent(t){this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:t})}},{key:"_bindLink",value:function _bindLink(t,r){var i=r.url,o=r.newWindow,l=r.dest,c=this.linkService;if(i)(0,a.addLinkAttributes)(t,{url:i,target:o?a.LinkTarget.BLANK:c.externalLinkTarget,rel:c.externalLinkRel,enabled:c.externalLinkEnabled});else{t.href=c.getDestinationHash(l);t.onclick=function(){l&&c.navigateTo(l);return!1}}}},{key:"_setStyles",value:function _setStyles(t,r){var i=r.bold,a=r.italic;i&&(t.style.fontWeight="bold");a&&(t.style.fontStyle="italic")}},{key:"_addToggleButton",value:function _addToggleButton(t,r){var i=r.count,a=r.items,o=i<0&&Math.abs(i)===a.length;_get(_getPrototypeOf(PDFOutlineViewer.prototype),"_addToggleButton",this).call(this,t,o)}},{key:"_toggleAllTreeItems",value:function _toggleAllTreeItems(){this._outline&&_get(_getPrototypeOf(PDFOutlineViewer.prototype),"_toggleAllTreeItems",this).call(this)}},{key:"render",value:function render(t){var r=t.outline;this._outline&&this.reset();this._outline=r||null;if(r){for(var i=document.createDocumentFragment(),a=[{parent:i,items:r}],o=0,l=!1;a.length>0;){var c,u=a.shift(),d=_createForOfIteratorHelper(u.items);try{for(d.s();!(c=d.n()).done;){var h=c.value,p=document.createElement("div");p.className="treeItem";var g=document.createElement("a");this._bindLink(g,h);this._setStyles(g,h);g.textContent=this._normalizeTextContent(h.title);p.appendChild(g);if(h.items.length>0){l=!0;this._addToggleButton(p,h);var v=document.createElement("div");v.className="treeItems";p.appendChild(v);a.push({parent:v,items:h.items})}u.parent.appendChild(p);o++}}catch(t){d.e(t)}finally{d.f()}}if(l){this.container.classList.add("treeWithDeepNesting");this._lastToggleIsShow=0===i.querySelectorAll(".treeItemsHidden").length}this.container.appendChild(i);this._dispatchEvent(o)}else this._dispatchEvent(0)}}]);return PDFOutlineViewer}(i(16).BaseTreeViewer);r.PDFOutlineViewer=o},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFPresentationMode=void 0;var a=i(5);function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var o=Math.PI/6,l=function(){function PDFPresentationMode(t){var r=this,i=t.container,a=t.pdfViewer,o=t.eventBus,l=t.contextMenuItems,c=void 0===l?null:l;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFPresentationMode);this.container=i;this.pdfViewer=a;this.eventBus=o;this.active=!1;this.args=null;this.contextMenuOpen=!1;this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0;this.touchSwipeState=null;if(c){c.contextFirstPage.addEventListener("click",(function(){r.contextMenuOpen=!1;r.eventBus.dispatch("firstpage",{source:r})}));c.contextLastPage.addEventListener("click",(function(){r.contextMenuOpen=!1;r.eventBus.dispatch("lastpage",{source:r})}));c.contextPageRotateCw.addEventListener("click",(function(){r.contextMenuOpen=!1;r.eventBus.dispatch("rotatecw",{source:r})}));c.contextPageRotateCcw.addEventListener("click",(function(){r.contextMenuOpen=!1;r.eventBus.dispatch("rotateccw",{source:r})}))}}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFPresentationMode,[{key:"request",value:function request(){if(this.switchInProgress||this.active||!this.pdfViewer.pagesCount)return!1;this._addFullscreenChangeListeners();this._setSwitchInProgress();this._notifyStateChange();if(this.container.requestFullscreen)this.container.requestFullscreen();else if(this.container.mozRequestFullScreen)this.container.mozRequestFullScreen();else if(this.container.webkitRequestFullscreen)this.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else{if(!this.container.msRequestFullscreen)return!1;this.container.msRequestFullscreen()}this.args={page:this.pdfViewer.currentPageNumber,previousScale:this.pdfViewer.currentScaleValue};return!0}},{key:"_mouseWheel",value:function _mouseWheel(t){if(this.active){t.preventDefault();var r=(0,a.normalizeWheelEventDelta)(t),i=(new Date).getTime(),o=this.mouseScrollTimeStamp;if(!(i>o&&i-o<50)){(this.mouseScrollDelta>0&&r<0||this.mouseScrollDelta<0&&r>0)&&this._resetMouseScrollState();this.mouseScrollDelta+=r;if(Math.abs(this.mouseScrollDelta)>=.1){var l=this.mouseScrollDelta;this._resetMouseScrollState();(l>0?this._goToPreviousPage():this._goToNextPage())&&(this.mouseScrollTimeStamp=i)}}}}},{key:"_goToPreviousPage",value:function _goToPreviousPage(){var t=this.pdfViewer.currentPageNumber;if(t<=1)return!1;this.pdfViewer.currentPageNumber=t-1;return!0}},{key:"_goToNextPage",value:function _goToNextPage(){var t=this.pdfViewer.currentPageNumber;if(t>=this.pdfViewer.pagesCount)return!1;this.pdfViewer.currentPageNumber=t+1;return!0}},{key:"_notifyStateChange",value:function _notifyStateChange(){this.eventBus.dispatch("presentationmodechanged",{source:this,active:this.active,switchInProgress:!!this.switchInProgress})}},{key:"_setSwitchInProgress",value:function _setSwitchInProgress(){var t=this;this.switchInProgress&&clearTimeout(this.switchInProgress);this.switchInProgress=setTimeout((function(){t._removeFullscreenChangeListeners();delete t.switchInProgress;t._notifyStateChange()}),1500)}},{key:"_resetSwitchInProgress",value:function _resetSwitchInProgress(){if(this.switchInProgress){clearTimeout(this.switchInProgress);delete this.switchInProgress}}},{key:"_enter",value:function _enter(){var t=this;this.active=!0;this._resetSwitchInProgress();this._notifyStateChange();this.container.classList.add("pdfPresentationMode");setTimeout((function(){t.pdfViewer.currentPageNumber=t.args.page;t.pdfViewer.currentScaleValue="page-fit"}),0);this._addWindowListeners();this._showControls();this.contextMenuOpen=!1;this.container.setAttribute("contextmenu","viewerContextMenu");window.getSelection().removeAllRanges()}},{key:"_exit",value:function _exit(){var t=this,r=this.pdfViewer.currentPageNumber;this.container.classList.remove("pdfPresentationMode");setTimeout((function(){t.active=!1;t._removeFullscreenChangeListeners();t._notifyStateChange();t.pdfViewer.currentScaleValue=t.args.previousScale;t.pdfViewer.currentPageNumber=r;t.args=null}),0);this._removeWindowListeners();this._hideControls();this._resetMouseScrollState();this.container.removeAttribute("contextmenu");this.contextMenuOpen=!1}},{key:"_mouseDown",value:function _mouseDown(t){if(this.contextMenuOpen){this.contextMenuOpen=!1;t.preventDefault()}else if(0===t.button){if(!(t.target.href&&t.target.classList.contains("internalLink"))){t.preventDefault();t.shiftKey?this._goToPreviousPage():this._goToNextPage()}}}},{key:"_contextMenu",value:function _contextMenu(){this.contextMenuOpen=!0}},{key:"_showControls",value:function _showControls(){var t=this;this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add("pdfPresentationModeControls");this.controlsTimeout=setTimeout((function(){t.container.classList.remove("pdfPresentationModeControls");delete t.controlsTimeout}),3e3)}},{key:"_hideControls",value:function _hideControls(){if(this.controlsTimeout){clearTimeout(this.controlsTimeout);this.container.classList.remove("pdfPresentationModeControls");delete this.controlsTimeout}}},{key:"_resetMouseScrollState",value:function _resetMouseScrollState(){this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0}},{key:"_touchSwipe",value:function _touchSwipe(t){if(this.active)if(t.touches.length>1)this.touchSwipeState=null;else switch(t.type){case"touchstart":this.touchSwipeState={startX:t.touches[0].pageX,startY:t.touches[0].pageY,endX:t.touches[0].pageX,endY:t.touches[0].pageY};break;case"touchmove":if(null===this.touchSwipeState)return;this.touchSwipeState.endX=t.touches[0].pageX;this.touchSwipeState.endY=t.touches[0].pageY;t.preventDefault();break;case"touchend":if(null===this.touchSwipeState)return;var r=0,i=this.touchSwipeState.endX-this.touchSwipeState.startX,a=this.touchSwipeState.endY-this.touchSwipeState.startY,l=Math.abs(Math.atan2(a,i));Math.abs(i)>50&&(l<=o||l>=Math.PI-o)?r=i:Math.abs(a)>50&&Math.abs(l-Math.PI/2)<=o&&(r=a);r>0?this._goToPreviousPage():r<0&&this._goToNextPage()}}},{key:"_addWindowListeners",value:function _addWindowListeners(){this.showControlsBind=this._showControls.bind(this);this.mouseDownBind=this._mouseDown.bind(this);this.mouseWheelBind=this._mouseWheel.bind(this);this.resetMouseScrollStateBind=this._resetMouseScrollState.bind(this);this.contextMenuBind=this._contextMenu.bind(this);this.touchSwipeBind=this._touchSwipe.bind(this);window.addEventListener("mousemove",this.showControlsBind);window.addEventListener("mousedown",this.mouseDownBind);window.addEventListener("wheel",this.mouseWheelBind,{passive:!1});window.addEventListener("keydown",this.resetMouseScrollStateBind);window.addEventListener("contextmenu",this.contextMenuBind);window.addEventListener("touchstart",this.touchSwipeBind);window.addEventListener("touchmove",this.touchSwipeBind);window.addEventListener("touchend",this.touchSwipeBind)}},{key:"_removeWindowListeners",value:function _removeWindowListeners(){window.removeEventListener("mousemove",this.showControlsBind);window.removeEventListener("mousedown",this.mouseDownBind);window.removeEventListener("wheel",this.mouseWheelBind,{passive:!1});window.removeEventListener("keydown",this.resetMouseScrollStateBind);window.removeEventListener("contextmenu",this.contextMenuBind);window.removeEventListener("touchstart",this.touchSwipeBind);window.removeEventListener("touchmove",this.touchSwipeBind);window.removeEventListener("touchend",this.touchSwipeBind);delete this.showControlsBind;delete this.mouseDownBind;delete this.mouseWheelBind;delete this.resetMouseScrollStateBind;delete this.contextMenuBind;delete this.touchSwipeBind}},{key:"_fullscreenChange",value:function _fullscreenChange(){this.isFullscreen?this._enter():this._exit()}},{key:"_addFullscreenChangeListeners",value:function _addFullscreenChangeListeners(){this.fullscreenChangeBind=this._fullscreenChange.bind(this);window.addEventListener("fullscreenchange",this.fullscreenChangeBind);window.addEventListener("mozfullscreenchange",this.fullscreenChangeBind);window.addEventListener("webkitfullscreenchange",this.fullscreenChangeBind);window.addEventListener("MSFullscreenChange",this.fullscreenChangeBind)}},{key:"_removeFullscreenChangeListeners",value:function _removeFullscreenChangeListeners(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind);window.removeEventListener("mozfullscreenchange",this.fullscreenChangeBind);window.removeEventListener("webkitfullscreenchange",this.fullscreenChangeBind);window.removeEventListener("MSFullscreenChange",this.fullscreenChangeBind);delete this.fullscreenChangeBind}},{key:"isFullscreen",get:function get(){return!!(document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement)}}]);return PDFPresentationMode}();r.PDFPresentationMode=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFSidebarResizer=void 0;var a=i(5);function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var o=function(){function PDFSidebarResizer(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.NullL10n;_classCallCheck(this,PDFSidebarResizer);this.enabled=!1;this.isRTL=!1;this.sidebarOpen=!1;this.doc=document.documentElement;this._width=null;this._outerContainerWidth=null;this._boundEvents=Object.create(null);this.outerContainer=t.outerContainer;this.resizer=t.resizer;this.eventBus=r;this.l10n=o;if("undefined"!=typeof CSS&&"function"==typeof CSS.supports&&CSS.supports("--sidebar-width","calc(-1 * ".concat(200,"px)"))){this.enabled=!0;this.resizer.classList.remove("hidden");this.l10n.getDirection().then((function(t){i.isRTL="rtl"===t}));this._addEventListeners()}else console.warn("PDFSidebarResizer: The browser does not support resizing of the sidebar.")}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFSidebarResizer,[{key:"_updateWidth",value:function _updateWidth(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.enabled)return!1;var r=(0,a.clamp)(t,200,Math.floor(this.outerContainerWidth/2));if(r===this._width)return!1;this._width=r;this.doc.style.setProperty("--sidebar-width","".concat(r,"px"));return!0}},{key:"_mouseMove",value:function _mouseMove(t){var r=t.clientX;this.isRTL&&(r=this.outerContainerWidth-r);this._updateWidth(r)}},{key:"_mouseUp",value:function _mouseUp(t){this.outerContainer.classList.remove("sidebarResizing");this.eventBus.dispatch("resize",{source:this});var r=this._boundEvents;window.removeEventListener("mousemove",r.mouseMove);window.removeEventListener("mouseup",r.mouseUp)}},{key:"_addEventListeners",value:function _addEventListeners(){var t=this;if(this.enabled){var r=this._boundEvents;r.mouseMove=this._mouseMove.bind(this);r.mouseUp=this._mouseUp.bind(this);this.resizer.addEventListener("mousedown",(function(i){if(0===i.button){t.outerContainer.classList.add("sidebarResizing");window.addEventListener("mousemove",r.mouseMove);window.addEventListener("mouseup",r.mouseUp)}}));this.eventBus._on("sidebarviewchanged",(function(r){t.sidebarOpen=!(!r||!r.view)}));this.eventBus._on("resize",(function(r){if(r&&r.source===window){t._outerContainerWidth=null;if(t._width)if(t.sidebarOpen){t.outerContainer.classList.add("sidebarResizing");var i=t._updateWidth(t._width);Promise.resolve().then((function(){t.outerContainer.classList.remove("sidebarResizing");i&&t.eventBus.dispatch("resize",{source:t})}))}else t._updateWidth(t._width)}}))}}},{key:"outerContainerWidth",get:function get(){this._outerContainerWidth||(this._outerContainerWidth=this.outerContainer.clientWidth);return this._outerContainerWidth}}]);return PDFSidebarResizer}();r.PDFSidebarResizer=o},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFThumbnailViewer=void 0;var a=i(5),o=i(30);function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var l=function(){function PDFThumbnailViewer(t){var r=this,i=t.container,o=t.eventBus,l=t.linkService,c=t.renderingQueue,u=t.l10n,d=void 0===u?a.NullL10n:u;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFThumbnailViewer);this.container=i;this.linkService=l;this.renderingQueue=c;this.l10n=d;this.scroll=(0,a.watchScroll)(this.container,this._scrollUpdated.bind(this));this._resetView();o._on("optionalcontentconfigchanged",(function(){r._setImageDisabled=!0}))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFThumbnailViewer,[{key:"_scrollUpdated",value:function _scrollUpdated(){this.renderingQueue.renderHighestPriority()}},{key:"getThumbnail",value:function getThumbnail(t){return this._thumbnails[t]}},{key:"_getVisibleThumbs",value:function _getVisibleThumbs(){return(0,a.getVisibleElements)(this.container,this._thumbnails)}},{key:"scrollThumbnailIntoView",value:function scrollThumbnailIntoView(t){if(this.pdfDocument){var r=this._thumbnails[t-1];if(r){if(t!==this._currentPageNumber){this._thumbnails[this._currentPageNumber-1].div.classList.remove("selected");r.div.classList.add("selected")}var i=this._getVisibleThumbs(),o=i.views.length;if(o>0){var l=i.first.id,c=o>1?i.last.id:l,u=!1;t<=l||t>=c?u=!0:i.views.some((function(r){if(r.id!==t)return!1;u=r.percent<100;return!0}));u&&(0,a.scrollIntoView)(r.div,{top:-19})}this._currentPageNumber=t}else console.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.')}}},{key:"cleanup",value:function cleanup(){o.PDFThumbnailView.cleanup()}},{key:"_resetView",value:function _resetView(){this._thumbnails=[];this._currentPageNumber=1;this._pageLabels=null;this._pagesRotation=0;this._optionalContentConfigPromise=null;this._pagesRequests=new WeakMap;this._setImageDisabled=!1;this.container.textContent=""}},{key:"setDocument",value:function setDocument(t){var r=this;if(this.pdfDocument){this._cancelRendering();this._resetView()}this.pdfDocument=t;if(t){var i=t.getPage(1),a=t.getOptionalContentConfig();i.then((function(i){r._optionalContentConfigPromise=a;for(var l=t.numPages,c=i.getViewport({scale:1}),u=function checkSetImageDisabled(){return r._setImageDisabled},d=1;d<=l;++d){var h=new o.PDFThumbnailView({container:r.container,id:d,defaultViewport:c.clone(),optionalContentConfigPromise:a,linkService:r.linkService,renderingQueue:r.renderingQueue,checkSetImageDisabled:u,disableCanvasToImageConversion:!1,l10n:r.l10n});r._thumbnails.push(h)}var p=r._thumbnails[0];p&&p.setPdfPage(i);r._thumbnails[r._currentPageNumber-1].div.classList.add("selected")})).catch((function(t){console.error("Unable to initialize thumbnail viewer",t)}))}}},{key:"_cancelRendering",value:function _cancelRendering(){for(var t=0,r=this._thumbnails.length;t<r;t++)this._thumbnails[t]&&this._thumbnails[t].cancelRendering()}},{key:"setPageLabels",value:function setPageLabels(t){if(this.pdfDocument){if(t)if(Array.isArray(t)&&this.pdfDocument.numPages===t.length)this._pageLabels=t;else{this._pageLabels=null;console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")}else this._pageLabels=null;for(var r=0,i=this._thumbnails.length;r<i;r++){var a=this._pageLabels&&this._pageLabels[r];this._thumbnails[r].setPageLabel(a)}}}},{key:"_ensurePdfPageLoaded",value:function _ensurePdfPageLoaded(t){var r=this;if(t.pdfPage)return Promise.resolve(t.pdfPage);if(this._pagesRequests.has(t))return this._pagesRequests.get(t);var i=this.pdfDocument.getPage(t.id).then((function(i){t.pdfPage||t.setPdfPage(i);r._pagesRequests.delete(t);return i})).catch((function(i){console.error("Unable to get page for thumb view",i);r._pagesRequests.delete(t)}));this._pagesRequests.set(t,i);return i}},{key:"forceRendering",value:function forceRendering(){var t=this,r=this._getVisibleThumbs(),i=this.renderingQueue.getHighestPriority(r,this._thumbnails,this.scroll.down);if(i){this._ensurePdfPageLoaded(i).then((function(){t.renderingQueue.renderView(i)}));return!0}return!1}},{key:"pagesRotation",get:function get(){return this._pagesRotation},set:function set(t){if(!(0,a.isValidRotation)(t))throw new Error("Invalid thumbnails rotation angle.");if(this.pdfDocument&&this._pagesRotation!==t){this._pagesRotation=t;for(var r=0,i=this._thumbnails.length;r<i;r++)this._thumbnails[r].update(t)}}}]);return PDFThumbnailViewer}();r.PDFThumbnailViewer=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFThumbnailView=void 0;var a=i(8),o=i(5),l=i(11);function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var c=function TempImageFactoryClosure(){var t=null;return{getCanvas:function getCanvas(r,i){var a=t;if(!a){a=document.createElement("canvas");t=a}a.width=r;a.height=i;a.mozOpaque=!0;var o=a.getContext("2d",{alpha:!1});o.save();o.fillStyle="rgb(255, 255, 255)";o.fillRect(0,0,r,i);o.restore();return a},destroyCanvas:function destroyCanvas(){var r=t;if(r){r.width=0;r.height=0}t=null}}}(),u=function(){function PDFThumbnailView(t){var r=t.container,i=t.id,a=t.defaultViewport,c=t.optionalContentConfigPromise,u=t.linkService,d=t.renderingQueue,h=t.checkSetImageDisabled,p=t.disableCanvasToImageConversion,g=void 0!==p&&p,v=t.l10n,m=void 0===v?o.NullL10n:v;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFThumbnailView);this.id=i;this.renderingId="thumbnail"+i;this.pageLabel=null;this.pdfPage=null;this.rotation=0;this.viewport=a;this.pdfPageRotate=a.rotation;this._optionalContentConfigPromise=c||null;this.linkService=u;this.renderingQueue=d;this.renderTask=null;this.renderingState=l.RenderingStates.INITIAL;this.resume=null;this._checkSetImageDisabled=h||function(){return!1};this.disableCanvasToImageConversion=g;this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasWidth=98;this.canvasHeight=this.canvasWidth/this.pageRatio|0;this.scale=this.canvasWidth/this.pageWidth;this.l10n=m;window.pdfThumbnailGenerator?window.pdfThumbnailGenerator(this,u,i,r,this._thumbPageTitle):this.createThumbnail(this,u,i,r,this._thumbPageTitle)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFThumbnailView,[{key:"createThumbnail",value:function createThumbnail(t,r,i,a,o){var l=document.createElement("a");l.href=r.getAnchorUrl("#page="+i);o.then((function(t){l.title=t}));l.onclick=function(){r.page=i;return!1};t.anchor=l;var c=document.createElement("div");c.className="thumbnail";c.setAttribute("data-page-number",this.id);t.div=c;var u=document.createElement("div");u.className="thumbnailSelectionRing";u.style.width=this.canvasWidth+2+"px";u.style.height=this.canvasHeight+2+"px";t.ring=u;c.appendChild(u);l.appendChild(c);a.appendChild(l)}},{key:"setPdfPage",value:function setPdfPage(t){this.pdfPage=t;this.pdfPageRotate=t.rotate;var r=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:1,rotation:r});this.reset()}},{key:"reset",value:function reset(){this.cancelRendering();this.renderingState=l.RenderingStates.INITIAL;this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasHeight=this.canvasWidth/this.pageRatio|0;this.scale=this.canvasWidth/this.pageWidth;this.div.removeAttribute("data-loaded");for(var t=this.ring,r=t.childNodes,i=r.length-1;i>=0;i--)t.removeChild(r[i]);t.style.width=this.canvasWidth+2+"px";t.style.height=this.canvasHeight+2+"px";if(this.canvas){this.canvas.width=0;this.canvas.height=0;delete this.canvas}if(this.image){this.image.removeAttribute("src");delete this.image}}},{key:"update",value:function update(t){void 0!==t&&(this.rotation=t);var r=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:r});this.reset()}},{key:"cancelRendering",value:function cancelRendering(){if(this.renderTask){this.renderTask.cancel();this.renderTask=null}this.resume=null}},{key:"_getPageDrawContext",value:function _getPageDrawContext(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=document.createElement("canvas");this.canvas=r;r.mozOpaque=!0;var i=r.getContext("2d",{alpha:!1}),a=(0,o.getOutputScale)(i);r.width=this.canvasWidth*a.sx|0;r.height=this.canvasHeight*a.sy|0;r.style.width=this.canvasWidth+"px";r.style.height=this.canvasHeight+"px";!t&&a.scaled&&i.scale(a.sx,a.sy);return i}},{key:"_convertCanvasToImage",value:function _convertCanvasToImage(){var t=this;if(this.canvas&&this.renderingState===l.RenderingStates.FINISHED){if(this.disableCanvasToImageConversion){this.canvas.className="thumbnailImage";this._thumbPageCanvas.then((function(r){t.canvas.setAttribute("aria-label",r)}));this.div.setAttribute("data-loaded",!0);this.ring.appendChild(this.canvas)}else{var r=document.createElement("img");r.className="thumbnailImage";this._thumbPageCanvas.then((function(t){r.setAttribute("aria-label",t)}));r.style.width=this.canvasWidth+"px";r.style.height=this.canvasHeight+"px";r.src=this.canvas.toDataURL();this.image=r;this.div.setAttribute("data-loaded",!0);this.ring.appendChild(r);this.canvas.width=0;this.canvas.height=0;delete this.canvas}}}},{key:"draw",value:function draw(){var t=this;if(this.renderingState!==l.RenderingStates.INITIAL){console.error("Must be in new state before drawing");return Promise.resolve(void 0)}var r=this.pdfPage;if(!r){this.renderingState=l.RenderingStates.FINISHED;return Promise.reject(new Error("pdfPage is not loaded"))}this.renderingState=l.RenderingStates.RUNNING;var i=(0,a.createPromiseCapability)(),o=function finishRenderTask(r){u===t.renderTask&&(t.renderTask=null);if(r instanceof a.RenderingCancelledException)i.resolve(void 0);else{t.renderingState=l.RenderingStates.FINISHED;t._convertCanvasToImage();r?i.reject(r):i.resolve(void 0)}},c={canvasContext:this._getPageDrawContext(),viewport:this.viewport.clone({scale:this.scale}),optionalContentConfigPromise:this._optionalContentConfigPromise},u=this.renderTask=r.render(c);u.onContinue=function renderContinueCallback(r){if(t.renderingQueue.isHighestPriority(t))r();else{t.renderingState=l.RenderingStates.PAUSED;t.resume=function(){t.renderingState=l.RenderingStates.RUNNING;r()}}};u.promise.then((function(){o(null)}),(function(t){o(t)}));return i.promise}},{key:"setImage",value:function setImage(t){if(!this._checkSetImageDisabled()&&this.renderingState===l.RenderingStates.INITIAL){var r=t.canvas;if(r){this.pdfPage||this.setPdfPage(t.pdfPage);this.renderingState=l.RenderingStates.FINISHED;var i=this._getPageDrawContext(!0),a=i.canvas;if(r.width<=2*a.width){i.drawImage(r,0,0,r.width,r.height,0,0,a.width,a.height);this._convertCanvasToImage()}else{for(var o=a.width<<3,u=a.height<<3,d=c.getCanvas(o,u),h=d.getContext("2d");o>r.width||u>r.height;){o>>=1;u>>=1}h.drawImage(r,0,0,r.width,r.height,0,0,o,u);for(;o>2*a.width;){h.drawImage(d,0,0,o,u,0,0,o>>1,u>>1);o>>=1;u>>=1}i.drawImage(d,0,0,o,u,0,0,a.width,a.height);this._convertCanvasToImage()}}}}},{key:"setPageLabel",value:function setPageLabel(t){var r=this;this.pageLabel="string"==typeof t?t:null;this._thumbPageTitle.then((function(t){r.anchor.title=t}));this.renderingState===l.RenderingStates.FINISHED&&this._thumbPageCanvas.then((function(t){r.image?r.image.setAttribute("aria-label",t):r.disableCanvasToImageConversion&&r.canvas&&r.canvas.setAttribute("aria-label",t)}))}},{key:"_thumbPageTitle",get:function get(){var t;return this.l10n.get("thumb_page_title",{page:null!=(t=this.pageLabel)?t:this.id},"Page {{page}}")}},{key:"_thumbPageCanvas",get:function get(){var t;return this.l10n.get("thumb_page_canvas",{page:null!=(t=this.pageLabel)?t:this.id},"Thumbnail of Page {{page}}")}}],[{key:"cleanup",value:function cleanup(){c.destroyCanvas()}}]);return PDFThumbnailView}();r.PDFThumbnailView=u},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFViewer=void 0;var a=i(32),o=i(8);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _get(t,r,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,i){var a=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(i):o.value}})(t,r,i||t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(PDFViewer,t);var r=_createSuper(PDFViewer);function PDFViewer(){_classCallCheck(this,PDFViewer);return r.apply(this,arguments)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFViewer,[{key:"_scrollIntoView",value:function _scrollIntoView(t){var r=t.pageDiv,i=t.pageSpot,a=void 0===i?null:i,o=t.pageNumber,l=void 0===o?null:o;if(!a&&!this.isInPresentationMode){var c=r.offsetLeft+r.clientLeft,u=c+r.clientWidth,d=this.container,h=d.scrollLeft,p=d.clientWidth;(this._isScrollModeHorizontal||c<h||u>h+p)&&(a={left:0,top:0})}_get(_getPrototypeOf(PDFViewer.prototype),"_scrollIntoView",this).call(this,{pageDiv:r,pageSpot:a,pageNumber:l})}},{key:"_getVisiblePages",value:function _getVisiblePages(){return this.isInPresentationMode?this._getCurrentVisiblePage():_get(_getPrototypeOf(PDFViewer.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function _updateHelper(t){if(!this.isInPresentationMode){var r,i=this._currentPageNumber,a=!1,o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(l.percent<100)break;if(l.id===i){a=!0;break}}}catch(t){o.e(t)}finally{o.f()}a||(i=t[0].id);this._setCurrentPageNumber(i)}}},{key:"_viewerElement",get:function get(){return(0,o.shadow)(this,"_viewerElement",this.viewer)}}]);return PDFViewer}(a.BaseViewer);r.PDFViewer=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.BaseViewer=void 0;var a=i(5),o=i(11),l=i(33),c=i(8),u=i(34),d=i(25),h=i(36);function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function PDFPageViewBuffer(t){var r=[];this.push=function(i){var a=r.indexOf(i);a>=0&&r.splice(a,1);r.push(i);r.length>t&&r.shift().destroy()};this.resize=function(i,o){t=i;if(o){for(var l=new Set,c=0,u=o.length;c<u;++c)l.add(o[c].id);(0,a.moveToEndOfArray)(r,(function(t){return l.has(t.id)}))}for(;r.length>t;)r.shift().destroy()}}function isSameScale(t,r){return r===t||Math.abs(r-t)<1e-15}var p=function(){function BaseViewer(t){var r=this;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,BaseViewer);if(this.constructor===BaseViewer)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name;this.container=t.container;this.viewer=t.viewer||t.container.firstElementChild;this.pageViewMode=t.pageViewMode||"single";if(!(this.container instanceof HTMLDivElement&&this.viewer instanceof HTMLDivElement))throw new Error("Invalid `container` and/or `viewer` option.");this.eventBus=t.eventBus;this.linkService=t.linkService||new d.SimpleLinkService;this.downloadManager=t.downloadManager||null;this.findController=t.findController||null;this.removePageBorders=t.removePageBorders||!1;this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:a.TextLayerMode.ENABLE;this.imageResourcesPath=t.imageResourcesPath||"";this.renderInteractiveForms="boolean"!=typeof t.renderInteractiveForms||t.renderInteractiveForms;this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1;this.renderer=t.renderer||a.RendererType.CANVAS;this.enableWebGL=t.enableWebGL||!1;this.useOnlyCssZoom=t.useOnlyCssZoom||!1;this.maxCanvasPixels=t.maxCanvasPixels;this.l10n=t.l10n||a.NullL10n;this.defaultRenderingQueue=!t.renderingQueue;if(this.defaultRenderingQueue){this.renderingQueue=new o.PDFRenderingQueue;this.renderingQueue.setViewer(this)}else this.renderingQueue=t.renderingQueue;this.scroll=(0,a.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=a.PresentationModeState.UNKNOWN;this._onBeforeDraw=this._onAfterDraw=null;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders");Promise.resolve().then((function(){r.eventBus.dispatch("baseviewerinit",{source:r})}))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(BaseViewer,[{key:"getPageView",value:function getPageView(t){return this._pages[t]}},{key:"hidePagesDependingOnpageViewMode",value:function hidePagesDependingOnpageViewMode(){var t=this;"single"===this.pageViewMode&&this._pages.forEach((function(r){r.div.style.display=r.id===t.currentPageNumber?"block":"none"}))}},{key:"_setCurrentPageNumber",value:function _setCurrentPageNumber(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===t){r&&this._resetCurrentPageView();return!0}if(!(0<t&&t<=this.pagesCount))return!1;this._currentPageNumber=t;this.eventBus.dispatch("pagechanging",{source:this,pageNumber:t,pageLabel:this._pageLabels&&this._pageLabels[t-1]});r&&this._resetCurrentPageView();return!0}},{key:"_onePageRenderedOrForceFetch",value:function _onePageRenderedOrForceFetch(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function setDocument(t){var r=this;if(this.pdfDocument){this._cancelRendering();this._resetView();this.findController&&this.findController.setDocument(null)}this.pdfDocument=t;if(t){var i=t.numPages,o=t.getPage(1),l=t.annotationStorage,c=t.getOptionalContentConfig();this._pagesCapability.promise.then((function(){r.eventBus.dispatch("pagesloaded",{source:r,pagesCount:i})}));this._onBeforeDraw=function(t){var i=r._pages[t.pageNumber-1];i&&r._buffer.push(i)};this.eventBus._on("pagerender",this._onBeforeDraw);this._onAfterDraw=function(t){if(!t.cssTransform&&!r._onePageRenderedCapability.settled){r._onePageRenderedCapability.resolve();r.eventBus._off("pagerendered",r._onAfterDraw);r._onAfterDraw=null}};this.eventBus._on("pagerendered",this._onAfterDraw);o.then((function(o){r._firstPageCapability.resolve(o);r._optionalContentConfigPromise=c;for(var d=r.currentScale,h=o.getViewport({scale:d*a.CSS_UNITS}),p=r.textLayerMode!==a.TextLayerMode.DISABLE?r:null,g=1;g<=i;++g){var v=new u.PDFPageView({container:r._viewerElement,eventBus:r.eventBus,id:g,scale:d,defaultViewport:h.clone(),annotationStorage:l,optionalContentConfigPromise:c,renderingQueue:r.renderingQueue,textLayerFactory:p,textLayerMode:r.textLayerMode,annotationLayerFactory:r,imageResourcesPath:r.imageResourcesPath,removePageBorders:r.removePageBorders,renderInteractiveForms:r.renderInteractiveForms,renderer:r.renderer,enableWebGL:r.enableWebGL,useOnlyCssZoom:r.useOnlyCssZoom,maxCanvasPixels:r.maxCanvasPixels,l10n:r.l10n});r._pages.push(v)}var m=r._pages[0];if(m){m.setPdfPage(o);r.linkService.cachePageRef(1,o.ref)}r._spreadMode!==a.SpreadMode.NONE&&r._updateSpreadMode();r._onePageRenderedOrForceFetch().then((function(){r.findController&&r.findController.setDocument(t);if(t.loadingParams.disableAutoFetch||i>7500)r._pagesCapability.resolve();else{var a=i-1;if(a<=0)r._pagesCapability.resolve();else for(var o=function _loop(i){t.getPage(i).then((function(t){var o=r._pages[i-1];o.pdfPage||o.setPdfPage(t);r.linkService.cachePageRef(i,t.ref);0==--a&&r._pagesCapability.resolve()}),(function(t){console.error("Unable to get page ".concat(i," to initialize viewer"),t);0==--a&&r._pagesCapability.resolve()}))},l=2;l<=i;++l)o(l)}}));r.hidePagesDependingOnpageViewMode();r.eventBus.dispatch("pagesinit",{source:r});r.defaultRenderingQueue&&r.update()})).catch((function(t){console.error("Unable to initialize viewer",t)}))}}},{key:"setPageLabels",value:function setPageLabels(t){if(this.pdfDocument){if(t)if(Array.isArray(t)&&this.pdfDocument.numPages===t.length)this._pageLabels=t;else{this._pageLabels=null;console.error("".concat(this._name,".setPageLabels: Invalid page labels."))}else this._pageLabels=null;for(var r=0,i=this._pages.length;r<i;r++){var a=this._pages[r],o=this._pageLabels&&this._pageLabels[r];a.setPageLabel(o)}}}},{key:"_resetView",value:function _resetView(){this._pages=[];this._currentPageNumber=1;this._currentScale=a.UNKNOWN_SCALE;this._currentScaleValue=null;this._pageLabels=null;this._buffer=new PDFPageViewBuffer(10);this._location=null;this._pagesRotation=0;this._optionalContentConfigPromise=null;this._pagesRequests=new WeakMap;this._firstPageCapability=(0,c.createPromiseCapability)();this._onePageRenderedCapability=(0,c.createPromiseCapability)();this._pagesCapability=(0,c.createPromiseCapability)();this._scrollMode=a.ScrollMode.VERTICAL;this._spreadMode=a.SpreadMode.NONE;if(this._onBeforeDraw){this.eventBus._off("pagerender",this._onBeforeDraw);this._onBeforeDraw=null}if(this._onAfterDraw){this.eventBus._off("pagerendered",this._onAfterDraw);this._onAfterDraw=null}this.viewer.textContent="";this._updateScrollMode()}},{key:"_scrollUpdate",value:function _scrollUpdate(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function _scrollIntoView(t){var r=t.pageDiv,i=t.pageSpot,o=void 0===i?null:i;t.pageNumber;"single"===this.pageViewMode&&this._pages.forEach((function(){r.style.display="block"}));(0,a.scrollIntoView)(r,o)}},{key:"_setScaleUpdatePages",value:function _setScaleUpdatePages(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._currentScaleValue=r.toString();if(isSameScale(this._currentScale,t))a&&this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:r});else{for(var o=0,l=this._pages.length;o<l;o++)this._pages[o].update(t);this._currentScale=t;if(!i){var c,u=this._currentPageNumber;if(this._location&&!this.isInPresentationMode&&!this.isChangingPresentationMode){u=this._location.pageNumber;c=[null,{name:"XYZ"},this._location.left,this._location.top,null]}this.scrollPageIntoView({pageNumber:u,destArray:c,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:a?r:void 0});this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function _setScale(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=parseFloat(t);if(i>0)this._setScaleUpdatePages(i,t,r,!1);else{var o=this._pages[this._currentPageNumber-1];if(!o)return;var l=this.isInPresentationMode||this.removePageBorders,c=l?0:a.SCROLLBAR_PADDING,u=l?0:a.VERTICAL_PADDING;if(!l&&this._isScrollModeHorizontal){var d=[u,c];c=d[0];u=d[1]}var h=(this.container.clientWidth-c)/o.width*o.scale,p=(this.container.clientHeight-u)/o.height*o.scale;switch(t){case"page-actual":i=1;break;case"page-width":i=h;break;case"page-height":i=p;break;case"page-fit":i=Math.min(h,p);break;case"auto":var g=(0,a.isPortraitOrientation)(o)?h:Math.min(p,h);i=Math.min(a.MAX_AUTO_SCALE,g);break;default:console.error("".concat(this._name,'._setScale: "').concat(t,'" is an unknown zoom value.'));return}this._setScaleUpdatePages(i,t,r,!0)}}},{key:"_resetCurrentPageView",value:function _resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var t=this._pages[this._currentPageNumber-1];this._scrollIntoView({pageDiv:t.div})}},{key:"scrollPageIntoView",value:function scrollPageIntoView(t){var r=this,i=t.pageNumber,o=t.destArray,l=void 0===o?null:o,c=t.allowNegativeOffset,u=void 0!==c&&c,d=t.ignoreDestinationZoom,h=void 0!==d&&d;if(this.pdfDocument){var p=Number.isInteger(i)&&this._pages[i-1];if(p)if(!this.isInPresentationMode&&l){var g,v,m=0,y=0,b=0,w=0,S=p.rotation%180!=0,C=(S?p.height:p.width)/p.scale/a.CSS_UNITS,P=(S?p.width:p.height)/p.scale/a.CSS_UNITS,k=0;switch(l[1].name){case"XYZ":m=l[2];y=l[3];k=l[4];m=null!==m?m:0;y=null!==y?y:P;break;case"Fit":case"FitB":k="page-fit";break;case"FitH":case"FitBH":k="page-width";if(null===(y=l[2])&&this._location){m=this._location.left;y=this._location.top}break;case"FitV":case"FitBV":m=l[2];b=C;w=P;k="page-height";break;case"FitR":m=l[2];y=l[3];b=l[4]-m;w=l[5]-y;var A=this.removePageBorders?0:a.SCROLLBAR_PADDING,R=this.removePageBorders?0:a.VERTICAL_PADDING;g=(this.container.clientWidth-A)/b/a.CSS_UNITS;v=(this.container.clientHeight-R)/w/a.CSS_UNITS;k=Math.min(Math.abs(g),Math.abs(v));break;default:console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(l[1].name,'" is not a valid destination type.'));return}h||(k&&k!==this._currentScale?this.currentScaleValue=k:this._currentScale===a.UNKNOWN_SCALE&&(this.currentScaleValue=a.DEFAULT_SCALE_VALUE));this._ensurePdfPageLoaded(p).then((function(){r.renderingQueue.renderView(p);r.currentPageNumber=i}));if("page-fit"!==k||l[4]){var x=[p.viewport.convertToViewportPoint(m,y),p.viewport.convertToViewportPoint(m+b,y+w)],T=Math.min(x[0][0],x[1][0]),E=Math.min(x[0][1],x[1][1]);if(!u){T=Math.max(T,0);E=Math.max(E,0)}this._scrollIntoView({pageDiv:p.div,pageSpot:{left:T,top:E},pageNumber:i})}else this._scrollIntoView({pageDiv:p.div,pageNumber:i})}else this._setCurrentPageNumber(i,!0);else console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(i,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function _updateLocation(t){var r=this._currentScale,i=this._currentScaleValue,a=parseFloat(i)===r?Math.round(1e4*r)/100:i,o=t.id,l="#page="+o;l+="&zoom="+a;var c=this._pages[o-1],u=this.container,d=c.getPagePoint(u.scrollLeft-t.x,u.scrollTop-t.y),h=Math.round(d[0]),p=Math.round(d[1]);l+=","+h+","+p;this._location={pageNumber:o,scale:a,top:p,left:h,rotation:this._pagesRotation,pdfOpenParams:l}}},{key:"_updateHelper",value:function _updateHelper(t){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function update(){var t=this._getVisiblePages(),r=t.views,i=r.length;if(0!==i){var a=Math.max(10,2*i+1);this._buffer.resize(a,r);this.renderingQueue.renderHighestPriority(t);this._updateHelper(r);this._updateLocation(t.first);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function containsElement(t){return this.container.contains(t)}},{key:"focus",value:function focus(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function _getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};var t=this._pages[this._currentPageNumber-1],r=t.div,i={id:t.id,x:r.offsetLeft+r.clientLeft,y:r.offsetTop+r.clientTop,view:t};return{first:i,last:i,views:[i]}}},{key:"_getVisiblePages",value:function _getVisiblePages(){return"single"===this.pageViewMode?this._getCurrentVisiblePage():(0,a.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}},{key:"isPageVisible",value:function isPageVisible(t){if(!this.pdfDocument)return!1;if(t<1||t>this.pagesCount){console.error("".concat(this._name,'.isPageVisible: "').concat(t,'" is out of bounds.'));return!1}return this._getVisiblePages().views.some((function(r){return r.id===t}))}},{key:"cleanup",value:function cleanup(){for(var t=0,r=this._pages.length;t<r;t++)this._pages[t]&&this._pages[t].renderingState!==o.RenderingStates.FINISHED&&this._pages[t].reset()}},{key:"_cancelRendering",value:function _cancelRendering(){for(var t=0,r=this._pages.length;t<r;t++)this._pages[t]&&this._pages[t].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function _ensurePdfPageLoaded(t){var r=this;if(t.pdfPage)return Promise.resolve(t.pdfPage);if(this._pagesRequests.has(t))return this._pagesRequests.get(t);var i=this.pdfDocument.getPage(t.id).then((function(i){t.pdfPage||t.setPdfPage(i);r._pagesRequests.delete(t);return i})).catch((function(i){console.error("Unable to get page for page view",i);r._pagesRequests.delete(t)}));this._pagesRequests.set(t,i);return i}},{key:"forceRendering",value:function forceRendering(t){var r=this,i=t||this._getVisiblePages(),a=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,o=this.renderingQueue.getHighestPriority(i,this._pages,a);if(o){this._ensurePdfPageLoaded(o).then((function(){r.renderingQueue.renderView(o)}));return!0}return!1}},{key:"createTextLayerBuilder",value:function createTextLayerBuilder(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;return new h.TextLayerBuilder({textLayerDiv:t,eventBus:o,pageIndex:r,viewport:i,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&a})}},{key:"createAnnotationLayerBuilder",value:function createAnnotationLayerBuilder(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a.NullL10n;return new l.AnnotationLayerBuilder({pageDiv:t,pdfPage:r,annotationStorage:i,imageResourcesPath:o,renderInteractiveForms:c,linkService:this.linkService,downloadManager:this.downloadManager,l10n:u})}},{key:"getPagesOverview",value:function getPagesOverview(){var t=this._pages.map((function(t){var r=t.pdfPage.getViewport({scale:1});return{width:r.width,height:r.height,rotation:r.rotation}}));return this.enablePrintAutoRotate?t.map((function(t){return(0,a.isPortraitOrientation)(t)?t:{width:t.height,height:t.width,rotation:(t.rotation+90)%360}})):t}},{key:"_updateScrollMode",value:function _updateScrollMode(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",r===a.ScrollMode.HORIZONTAL);i.classList.toggle("scrollWrapped",r===a.ScrollMode.WRAPPED);if(this.pdfDocument&&t){this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0);this._setCurrentPageNumber(t,!0);this.update()}}},{key:"_updateSpreadMode",value:function _updateSpreadMode(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var r=this.viewer,i=this._pages;r.textContent="";if(this._spreadMode===a.SpreadMode.NONE)for(var o=0,l=i.length;o<l;++o)r.appendChild(i[o].div);else for(var c=this._spreadMode-1,u=null,d=0,h=i.length;d<h;++d){if(null===u){(u=document.createElement("div")).className="spread";r.appendChild(u)}else if(d%2===c){u=u.cloneNode(!1);r.appendChild(u)}u.appendChild(i[d].div)}if(t){this._setCurrentPageNumber(t,!0);this.update()}}}},{key:"pagesCount",get:function get(){return this._pages.length}},{key:"pageViewsReady",get:function get(){return!!this._pagesCapability.settled&&this._pages.every((function(t){return t&&t.pdfPage}))}},{key:"currentPageNumber",get:function get(){return this._currentPageNumber},set:function set(t){var r=this;if(!Number.isInteger(t))throw new Error("Invalid page number.");if(this.pdfDocument){this._setCurrentPageNumber(t,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(t,'" is not a valid page.'));this.hidePagesDependingOnpageViewMode();if("single"===this.pageViewMode){var i=this._pages[this.currentPageNumber-1];this._ensurePdfPageLoaded(i).then((function(){r.renderingQueue.renderView(i)}))}}}},{key:"currentPageLabel",get:function get(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function set(t){if(this.pdfDocument){var r=0|t;if(this._pageLabels){var i=this._pageLabels.indexOf(t);i>=0&&(r=i+1)}this._setCurrentPageNumber(r,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(t,'" is not a valid page.'))}}},{key:"currentScale",get:function get(){return this._currentScale!==a.UNKNOWN_SCALE?this._currentScale:a.DEFAULT_SCALE},set:function set(t){if(isNaN(t))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(t,!1)}},{key:"currentScaleValue",get:function get(){return this._currentScaleValue},set:function set(t){this.pdfDocument&&this._setScale(t,!1)}},{key:"pagesRotation",get:function get(){return this._pagesRotation},set:function set(t){if(!(0,a.isValidRotation)(t))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==t){this._pagesRotation=t;for(var r=this._currentPageNumber,i=0,o=this._pages.length;i<o;i++){var l=this._pages[i];l.update(l.scale,t)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0);this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:t,pageNumber:r});this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function get(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function get(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function get(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function get(){throw new Error("Not implemented: _viewerElement")}},{key:"_isScrollModeHorizontal",get:function get(){return!this.isInPresentationMode&&this._scrollMode===a.ScrollMode.HORIZONTAL}},{key:"isInPresentationMode",get:function get(){return this.presentationModeState===a.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function get(){return this.presentationModeState===a.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function get(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function get(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function get(){for(var t=this._pages[0],r=1,i=this._pages.length;r<i;++r){var a=this._pages[r];if(a.width!==t.width||a.height!==t.height)return!1}return!0}},{key:"optionalContentConfigPromise",get:function get(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)},set:function set(t){if(!(t instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(t));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=t;var r,i=_createForOfIteratorHelper(this._pages);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.update(a.scale,a.rotation,t)}}catch(t){i.e(t)}finally{i.f()}this.update();this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:t})}}},{key:"scrollMode",get:function get(){return this._scrollMode},set:function set(t){if(this._scrollMode!==t){if(!(0,a.isValidScrollMode)(t))throw new Error("Invalid scroll mode: ".concat(t));this._scrollMode=t;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:t});this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function get(){return this._spreadMode},set:function set(t){if(this._spreadMode!==t){if(!(0,a.isValidSpreadMode)(t))throw new Error("Invalid spread mode: ".concat(t));this._spreadMode=t;this.eventBus.dispatch("spreadmodechanged",{source:this,mode:t});this._updateSpreadMode(this._currentPageNumber)}}}]);return BaseViewer}();r.BaseViewer=p},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.DefaultAnnotationLayerFactory=r.AnnotationLayerBuilder=void 0;var a=i(8),o=i(5),l=i(25);function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}var c=function(){function AnnotationLayerBuilder(t){var r=t.pageDiv,i=t.pdfPage,a=t.linkService,l=t.downloadManager,c=t.annotationStorage,u=void 0===c?null:c,d=t.imageResourcesPath,h=void 0===d?"":d,p=t.renderInteractiveForms,g=void 0===p||p,v=t.l10n,m=void 0===v?o.NullL10n:v;_classCallCheck(this,AnnotationLayerBuilder);this.pageDiv=r;this.pdfPage=i;this.linkService=a;this.downloadManager=l;this.imageResourcesPath=h;this.renderInteractiveForms=g;this.l10n=m;this.annotationStorage=u;this.div=null;this._cancelled=!1}_createClass(AnnotationLayerBuilder,[{key:"render",value:function render(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";return this.pdfPage.getAnnotations({intent:i}).then((function(i){if(!r._cancelled&&0!==i.length){var o={viewport:t.clone({dontFlip:!0}),div:r.div,annotations:i,page:r.pdfPage,imageResourcesPath:r.imageResourcesPath,removePageBorders:r.removePageBorders,renderInteractiveForms:r.renderInteractiveForms,linkService:r.linkService,downloadManager:r.downloadManager,annotationStorage:r.annotationStorage};if(r.div)a.AnnotationLayer.update(o);else{r.div=document.createElement("div");r.div.className="annotationLayer";r.pageDiv.appendChild(r.div);o.div=r.div;a.AnnotationLayer.render(o);r.l10n.translate(r.div)}}}))}},{key:"cancel",value:function cancel(){this._cancelled=!0}},{key:"hide",value:function hide(){this.div&&this.div.setAttribute("hidden","true")}}]);return AnnotationLayerBuilder}();r.AnnotationLayerBuilder=c;var u=function(){function DefaultAnnotationLayerFactory(){_classCallCheck(this,DefaultAnnotationLayerFactory)}_createClass(DefaultAnnotationLayerFactory,[{key:"createAnnotationLayerBuilder",value:function createAnnotationLayerBuilder(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:o.NullL10n;return new c({pageDiv:t,pdfPage:r,imageResourcesPath:a,renderInteractiveForms:u,linkService:new l.SimpleLinkService,l10n:d,annotationStorage:i})}}]);return DefaultAnnotationLayerFactory}();r.DefaultAnnotationLayerFactory=u},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFPageView=void 0;var a=_interopRequireDefault(i(2)),o=i(5),l=i(8),c=i(11),u=i(7),d=_interopRequireDefault(i(35));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var h=u.viewerCompatibilityParams.maxCanvasPixels||16777216,p=function(){function PDFPageView(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFPageView);var r=t.container,i=t.defaultViewport;this.id=t.id;this.renderingId="page"+this.id;this.pdfPage=null;this.pageLabel=null;this.rotation=0;this.scale=t.scale||o.DEFAULT_SCALE;this.viewport=i;this.pdfPageRotate=i.rotation;this._annotationStorage=t.annotationStorage||null;this._optionalContentConfigPromise=t.optionalContentConfigPromise||null;this.hasRestrictedScaling=!1;this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:o.TextLayerMode.ENABLE;this.imageResourcesPath=t.imageResourcesPath||"";this.renderInteractiveForms="boolean"!=typeof t.renderInteractiveForms||t.renderInteractiveForms;this.useOnlyCssZoom=t.useOnlyCssZoom||!1;this.maxCanvasPixels=t.maxCanvasPixels||h;this.eventBus=t.eventBus;this.renderingQueue=t.renderingQueue;this.textLayerFactory=t.textLayerFactory;this.annotationLayerFactory=t.annotationLayerFactory;this.renderer=t.renderer||o.RendererType.CANVAS;this.enableWebGL=t.enableWebGL||!1;this.l10n=t.l10n||o.NullL10n;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=c.RenderingStates.INITIAL;this.resume=null;this.error=null;this.annotationLayer=null;this.textLayer=null;this.zoomLayer=null;var a=document.createElement("div");a.className="page";a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";a.setAttribute("data-page-number",this.id);this.div=a;r.appendChild(a)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFPageView,[{key:"setPdfPage",value:function setPdfPage(t){this.pdfPage=t;this.pdfPageRotate=t.rotate;var r=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*o.CSS_UNITS,rotation:r});this.stats=t.stats;this.reset()}},{key:"destroy",value:function destroy(){this.reset();this.pdfPage&&this.pdfPage.cleanup()}},{key:"_renderAnnotationLayer",value:(t=_asyncToGenerator(a.default.mark((function _callee(){var t;return a.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:t=null;r.prev=1;r.next=4;return this.annotationLayer.render(this.viewport,"display");case 4:r.next=9;break;case 6:r.prev=6;r.t0=r.catch(1);t=r.t0;case 9:r.prev=9;this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:t});return r.finish(9);case 12:case"end":return r.stop()}}),_callee,this,[[1,6,9,12]])}))),function _renderAnnotationLayer(){return t.apply(this,arguments)})},{key:"_resetZoomLayer",value:function _resetZoomLayer(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var r=this.zoomLayer.firstChild;this.paintedViewportMap.delete(r);r.width=0;r.height=0;t&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function reset(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(r);this.renderingState=c.RenderingStates.INITIAL;var i=this.div;i.style.width=Math.floor(this.viewport.width)+"px";i.style.height=Math.floor(this.viewport.height)+"px";for(var a=i.childNodes,o=t&&this.zoomLayer||null,l=r&&this.annotationLayer&&this.annotationLayer.div||null,u=a.length-1;u>=0;u--){var d=a[u];o!==d&&l!==d&&i.removeChild(d)}i.removeAttribute("data-loaded");if(l)this.annotationLayer.hide();else if(this.annotationLayer){this.annotationLayer.cancel();this.annotationLayer=null}if(!o){if(this.canvas){this.paintedViewportMap.delete(this.canvas);this.canvas.width=0;this.canvas.height=0;delete this.canvas}this._resetZoomLayer()}if(this.svg){this.paintedViewportMap.delete(this.svg);delete this.svg}this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";i.appendChild(this.loadingIconDiv)}},{key:"update",value:function update(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.scale=t||this.scale;void 0!==r&&(this.rotation=r);i instanceof Promise&&(this._optionalContentConfigPromise=i);var a=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:this.scale*o.CSS_UNITS,rotation:a});if(this.svg){this.cssTransform(this.svg,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()})}else{var l=!1;if(this.canvas&&this.maxCanvasPixels>0){var c=this.outputScale;(Math.floor(this.viewport.width)*c.sx|0)*(Math.floor(this.viewport.height)*c.sy|0)>this.maxCanvasPixels&&(l=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&l){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});return}if(!this.zoomLayer&&!this.canvas.hasAttribute("hidden")){this.zoomLayer=this.canvas.parentNode;this.zoomLayer.style.position="absolute"}}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}}},{key:"cancelRendering",value:function cancelRendering(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.paintTask){this.paintTask.cancel();this.paintTask=null}this.resume=null;if(this.textLayer){this.textLayer.cancel();this.textLayer=null}if(!t&&this.annotationLayer){this.annotationLayer.cancel();this.annotationLayer=null}}},{key:"cssTransform",value:function cssTransform(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.viewport.width,a=this.viewport.height,o=this.div;t.style.width=t.parentNode.style.width=o.style.width=Math.floor(i)+"px";t.style.height=t.parentNode.style.height=o.style.height=Math.floor(a)+"px";var l=this.viewport.rotation-this.paintedViewportMap.get(t).rotation,c=Math.abs(l),u=1,d=1;if(90===c||270===c){u=a/i;d=i/a}var cssTransform="rotate("+l+"deg) scale("+u+","+d+")";t.style.transform=cssTransform;if(this.textLayer){var h=this.textLayer.viewport,p=this.viewport.rotation-h.rotation,g=Math.abs(p),v=i/h.width;90!==g&&270!==g||(v=i/h.height);var m,y,b=this.textLayer.textLayerDiv;switch(g){case 0:m=y=0;break;case 90:m=0;y="-"+b.style.height;break;case 180:m="-"+b.style.width;y="-"+b.style.height;break;case 270:m="-"+b.style.width;y=0;break;default:console.error("Bad rotation value.")}b.style.transform="rotate("+g+"deg) scale("+v+", "+v+") translate("+m+", "+y+")";b.style.transformOrigin="0% 0%"}r&&this.annotationLayer&&this._renderAnnotationLayer()}},{key:"getPagePoint",value:function getPagePoint(t,r){return this.viewport.convertToPdfPoint(t,r)}},{key:"draw",value:function draw(){var t=this;if(this.renderingState!==c.RenderingStates.INITIAL){console.error("Must be in new state before drawing");this.reset()}var r=this.div,i=this.pdfPage;if(!i){this.renderingState=c.RenderingStates.FINISHED;if(this.loadingIconDiv){r.removeChild(this.loadingIconDiv);delete this.loadingIconDiv}return Promise.reject(new Error("pdfPage is not loaded"))}this.renderingState=c.RenderingStates.RUNNING;var u=document.createElement("div");u.style.width=r.style.width;u.style.height=r.style.height;u.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?r.insertBefore(u,this.annotationLayer.div):r.appendChild(u);var d=null;if(this.textLayerMode!==o.TextLayerMode.DISABLE&&this.textLayerFactory){var h=document.createElement("div");h.className="textLayer";h.style.width=u.style.width;h.style.height=u.style.height;this.annotationLayer&&this.annotationLayer.div?r.insertBefore(h,this.annotationLayer.div):r.appendChild(h);d=this.textLayerFactory.createTextLayerBuilder(h,this.id-1,this.viewport,this.textLayerMode===o.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=d;var p=null;this.renderingQueue&&(p=function renderContinueCallback(r){if(t.renderingQueue.isHighestPriority(t))r();else{t.renderingState=c.RenderingStates.PAUSED;t.resume=function(){t.renderingState=c.RenderingStates.RUNNING;r()}}});var g=function(){var o=_asyncToGenerator(a.default.mark((function _callee2(o){return a.default.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:v===t.paintTask&&(t.paintTask=null);if(!(o instanceof l.RenderingCancelledException)){a.next=4;break}t.error=null;return a.abrupt("return");case 4:t.renderingState=c.RenderingStates.FINISHED;if(t.loadingIconDiv){r.removeChild(t.loadingIconDiv);delete t.loadingIconDiv}t._resetZoomLayer(!0);t.error=o;t.stats=i.stats;t.eventBus.dispatch("pagerendered",{source:t,pageNumber:t.id,cssTransform:!1,timestamp:performance.now()});if(!o){a.next=12;break}throw o;case 12:case"end":return a.stop()}}),_callee2)})));return function finishPaintTask(t){return o.apply(this,arguments)}}(),v=this.renderer===o.RendererType.SVG?this.paintOnSvg(u):this.paintOnCanvas(u);v.onRenderContinue=p;this.paintTask=v;var m=v.promise.then((function(){return g(null).then((function(){if(d){var t=i.streamTextContent({normalizeWhitespace:!0});d.setTextContentStream(t);d.render()}}))}),(function(t){return g(t)}));if(this.annotationLayerFactory){this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(r,i,this._annotationStorage,this.imageResourcesPath,this.renderInteractiveForms,this.l10n));this._renderAnnotationLayer()}r.setAttribute("data-loaded",!0);this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id});return m}},{key:"paintOnCanvas",value:function paintOnCanvas(t){var r=(0,l.createPromiseCapability)(),i={promise:r.promise,onRenderContinue:function onRenderContinue(t){t()},cancel:function cancel(){x.cancel()}},a=this.viewport,c=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then((function(t){c.setAttribute("aria-label",t)}));c.setAttribute("hidden","hidden");var u=!0,h=function showCanvas(){if(u){c.removeAttribute("hidden");u=!1}};t.appendChild(c);this.canvas=c;c.mozOpaque=!0;var p=c.getContext("2d",{alpha:!1}),g=(0,o.getOutputScale)(p);this.outputScale=g;if(this.useOnlyCssZoom){var v=a.clone({scale:o.CSS_UNITS});g.sx*=v.width/a.width;g.sy*=v.height/a.height;g.scaled=!0}if(this.maxCanvasPixels>0){var m=a.width*a.height,y=Math.sqrt(this.maxCanvasPixels/m);if(g.sx>y||g.sy>y){g.sx=y;g.sy=y;g.scaled=!0;this.hasRestrictedScaling=!0}else this.hasRestrictedScaling=!1}var b=(0,o.approximateFraction)(g.sx),w=(0,o.approximateFraction)(g.sy),S=(0,o.roundToDivide)(a.width*g.sx,b[0]),C=(0,o.roundToDivide)(a.height*g.sy,w[0]);if((S>=4096||C>=4096)&&(this.maxWidth||!d.default.test({width:S,height:C}))){var P=this.determineMaxDimensions(),k=Math.max(S/P,C/P),A=Math.floor(100*this.scale/k)/100;k=this.scale/A;this.scale=A;window.PDFViewerApplicationOptions.set("maxZoom",A);PDFViewerApplication.pdfViewer.currentScaleValue=this.scale;a.width/=k;a.height/=k}c.width=(0,o.roundToDivide)(a.width*g.sx,b[0]);c.height=(0,o.roundToDivide)(a.height*g.sy,w[0]);c.style.width=(0,o.roundToDivide)(a.width,b[1])+"px";c.style.height=(0,o.roundToDivide)(a.height,w[1])+"px";this.paintedViewportMap.set(c,a);var R={canvasContext:p,transform:g.scaled?[g.sx,0,0,g.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms,optionalContentConfigPromise:this._optionalContentConfigPromise},x=this.pdfPage.render(R);x.onContinue=function(t){h();i.onRenderContinue?i.onRenderContinue(t):t()};x.promise.then((function(){h();r.resolve(void 0)}),(function(t){h();r.reject(t)}));return i}},{key:"paintOnSvg",value:function paintOnSvg(t){var r=this,i=!1,a=function ensureNotCancelled(){if(i)throw new l.RenderingCancelledException("Rendering cancelled, page ".concat(r.id),"svg")},u=this.pdfPage,d=this.viewport.clone({scale:o.CSS_UNITS});return{promise:u.getOperatorList().then((function(i){a();return new l.SVGGraphics(u.commonObjs,u.objs).getSVG(i,d).then((function(i){a();r.svg=i;r.paintedViewportMap.set(i,d);i.style.width=t.style.width;i.style.height=t.style.height;r.renderingState=c.RenderingStates.FINISHED;t.appendChild(i)}))})),onRenderContinue:function onRenderContinue(t){t()},cancel:function cancel(){i=!0}}}},{key:"setPageLabel",value:function setPageLabel(t){this.pageLabel="string"==typeof t?t:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"determineMaxDimensions",value:function determineMaxDimensions(){if(this.maxWidth)return this.maxWidth;for(var t=0,r=[4096,8192,10836,11180,11402,14188,16384];t<r.length;t++){var i=r[t];if(!d.default.test({width:i+1,height:i+1})){this.maxWidth=i;return this.maxWidth}}return 16384}},{key:"width",get:function get(){return this.viewport.width}},{key:"height",get:function get(){return this.viewport.height}}]);var t;return PDFPageView}();r.PDFPageView=p},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=void 0;function _defineProperty(t,r,i){r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i;return t}function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})));i.push.apply(i,a)}return i}function _objectSpread2(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach((function(r){_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function _objectWithoutProperties(t,r){if(null==t)return{};var i,a,o=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var i,a,o={},l=Object.keys(t);for(a=0;a<l.length;a++){i=l[a];r.indexOf(i)>=0||(o[i]=t[i])}return o}(t,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++){i=l[a];r.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}}return o}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],a=!0,o=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){i.push(c.value);if(r&&i.length===r)break}}catch(t){o=!0;l=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw l}}return i}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);return"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function canvasTest(t){var r,i,a=t.sizes.shift(),o=a[0],l=a[1],c=[o-1,l-1,1,1],u=Date.now(),d="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;if(d){r=new OffscreenCanvas(1,1);i=new OffscreenCanvas(o,l)}else{(r=document.createElement("canvas")).width=1;r.height=1;(i=document.createElement("canvas")).width=o;i.height=l}var h=r.getContext("2d"),p=i.getContext("2d");if(p){p.fillRect.apply(p,c);h.drawImage(i,o-1,l-1,1,1,0,0,1,1)}var g=h&&0!==h.getImageData(0,0,1,1).data[3],v=Date.now()-u;if(d){postMessage({width:o,height:l,benchmark:v,isTestPass:g});!g&&t.sizes.length&&canvasTest(t)}else if(g)t.onSuccess(o,l,v);else{t.onError(o,l,v);t.sizes.length&&canvasTest(t)}return g}var a=[16384,14188,11402,10836,11180,8192,4096,1],o=[8388607,65535,32767,16384,8192,4096,1],l=[4194303,65535,32767,16384,8192,4096,1],c={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},u={};function createSizesArray(t){var r=t.width===t.height,i=1===t.height,a=1===t.width,o=[];if(t.width&&t.height)for(var l=t.min||c.min,u=t.step||c.step,d=Math.max(t.width,t.height);d>=l;){var h=r||i?d:1,p=r||a?d:1;o.push([h,p]);d-=u}else t.sizes.forEach((function(t){var l=r||i?t:1,c=r||a?t:1;o.push([l,c])}));return o}function handleMethod(t){var r=window&&"HTMLCanvasElement"in window,i=window&&"OffscreenCanvas"in window,a=Date.now(),o=t.onError,l=t.onSuccess,c=_objectWithoutProperties(t,["onError","onSuccess"]),d=null;if(!r)return!1;if(t.useWorker&&i){var h="\n            ".concat(canvasTest.toString(),"\n            onmessage = function(e) {\n                canvasTest(e.data);\n            };\n        "),p=new Blob([h],{type:"application/javascript"}),g=URL.createObjectURL(p);d=new Worker(g);URL.revokeObjectURL(g);d.onmessage=function(t){var r=t.data,i=r.width,o=r.height,l=r.benchmark;if(r.isTestPass){u[a].onSuccess(i,o,l);delete u[a]}else u[a].onError(i,o,l)}}if(t.usePromise)return new Promise((function(r,i){var h=_objectSpread2(_objectSpread2({},t),{},{onError:function onError(r,a,l){var c;if(0===t.sizes.length)c=!0;else{var u=_slicedToArray(t.sizes.slice(-1),1),d=_slicedToArray(u[0],2),h=d[0],p=d[1];c=r===h&&a===p}o(r,a,l);c&&i({width:r,height:a,benchmark:l})},onSuccess:function onSuccess(t,i,a){l(t,i,a);r({width:t,height:i,benchmark:a})}});if(d){var p=h.onError,g=h.onSuccess;u[a]={onError:p,onSuccess:g};d.postMessage(c)}else canvasTest(h)}));if(!d)return canvasTest(t);u[a]={onError:o,onSuccess:l};d.postMessage(c)}var d={maxArea:function maxArea(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=createSizesArray({width:t.max,height:t.max,min:t.min,step:t.step,sizes:_toConsumableArray(a)}),i=_objectSpread2(_objectSpread2(_objectSpread2({},c),t),{},{sizes:r});return handleMethod(i)},maxHeight:function maxHeight(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=createSizesArray({width:1,height:t.max,min:t.min,step:t.step,sizes:_toConsumableArray(o)}),i=_objectSpread2(_objectSpread2(_objectSpread2({},c),t),{},{sizes:r});return handleMethod(i)},maxWidth:function maxWidth(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=createSizesArray({width:t.max,height:1,min:t.min,step:t.step,sizes:_toConsumableArray(l)}),i=_objectSpread2(_objectSpread2(_objectSpread2({},c),t),{},{sizes:r});return handleMethod(i)},test:function test(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=_objectSpread2(_objectSpread2({},c),t);r.sizes=_toConsumableArray(r.sizes);r.width&&r.height&&(r.sizes=[[r.width,r.height]]);return handleMethod(r)}};r.default=d},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.DefaultTextLayerFactory=r.TextLayerBuilder=void 0;var a=i(8);function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}var o=function(){function TextLayerBuilder(t){var r=t.textLayerDiv,i=t.eventBus,a=t.pageIndex,o=t.viewport,l=t.findController,c=void 0===l?null:l,u=t.enhanceTextSelection,d=void 0!==u&&u;_classCallCheck(this,TextLayerBuilder);this.textLayerDiv=r;this.eventBus=i;this.textContent=null;this.textContentItemsStr=[];this.textContentStream=null;this.renderingDone=!1;this.pageIdx=a;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=o;this.textDivs=[];this.findController=c;this.textLayerRenderTask=null;this.enhanceTextSelection=d;this._onUpdateTextLayerMatches=null;this._bindMouse()}_createClass(TextLayerBuilder,[{key:"_finishRendering",value:function _finishRendering(){this.renderingDone=!0;if(!this.enhanceTextSelection){var t=document.createElement("div");t.className="endOfContent";this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function render(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel();this.textDivs=[];var i=document.createDocumentFragment();this.textLayerRenderTask=(0,a.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:i,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:r,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then((function(){t.textLayerDiv.appendChild(i);t._finishRendering();t._updateMatches()}),(function(t){}));if(!this._onUpdateTextLayerMatches){this._onUpdateTextLayerMatches=function(r){r.pageIndex!==t.pageIdx&&-1!==r.pageIndex||t._updateMatches()};this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)}}}},{key:"cancel",value:function cancel(){if(this.textLayerRenderTask){this.textLayerRenderTask.cancel();this.textLayerRenderTask=null}if(this._onUpdateTextLayerMatches){this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches);this._onUpdateTextLayerMatches=null}}},{key:"setTextContentStream",value:function setTextContentStream(t){this.cancel();this.textContentStream=t}},{key:"setTextContent",value:function setTextContent(t){this.cancel();this.textContent=t}},{key:"_convertMatches",value:function _convertMatches(t,r,i){if(!t)return[];for(var a=this.findController,o=this.textContentItemsStr,l=0,c=0,u=o.length-1,d=a.state.query.length,h=[],p=0,g=t.length;p<g;p++){for(var v=t[p];l!==u&&v>=c+o[l].length;){c+=o[l].length;l++}l===o.length&&console.error("Could not find a matching mapping");var m={color:i?i[p]:0,begin:{divIdx:l,offset:v-c}};v+=r?r[p]:d;for(;l!==u&&v>c+o[l].length;){c+=o[l].length;l++}m.end={divIdx:l,offset:v-c};h.push(m)}return h}},{key:"_renderMatches",value:function _renderMatches(t){if(0!==t.length){var r=this.findController,i=this.pageIdx,a=this.textContentItemsStr,o=this.textDivs,l=i===r.selected.pageIdx,c=r.selected.matchIdx,u=null,d={divIdx:-1,offset:void 0},h=c,p=h+1;if(r.state.highlightAll){h=0;p=t.length}else if(!l)return;for(var g=h;g<p;g++){var v=t[g],m=v.begin,y=v.end,b=l&&g===c,w=(b?" selected":"")+" color"+v.color;b&&r.scrollMatchIntoView({element:o[m.divIdx],pageIndex:i,matchIndex:c});if(u&&m.divIdx===u.divIdx)appendTextToDiv(u.divIdx,u.offset,m.offset);else{null!==u&&appendTextToDiv(u.divIdx,u.offset,d.offset);beginText(m)}if(m.divIdx===y.divIdx)appendTextToDiv(m.divIdx,m.offset,y.offset,"highlight"+w);else{appendTextToDiv(m.divIdx,m.offset,d.offset,"highlight begin"+w);for(var S=m.divIdx+1,C=y.divIdx;S<C;S++)o[S].className="highlight middle"+w;beginText(y,"highlight end"+w)}u=y}u&&appendTextToDiv(u.divIdx,u.offset,d.offset)}function beginText(t,r){var i=t.divIdx;o[i].textContent="";appendTextToDiv(i,0,t.offset,r)}function appendTextToDiv(t,r,i,l){var c=o[t],u=a[t].substring(r,i),d=document.createTextNode(u);if(l){var h=document.createElement("span");h.className=l;h.appendChild(d);c.appendChild(h)}else c.appendChild(d)}}},{key:"_updateMatches",value:function _updateMatches(){if(this.renderingDone){for(var t=this.findController,r=this.matches,i=this.pageIdx,a=this.textContentItemsStr,o=this.textDivs,l=-1,c=0,u=r.length;c<u;c++){for(var d=r[c],h=Math.max(l,d.begin.divIdx),p=d.end.divIdx;h<=p;h++){var g=o[h];g.textContent=a[h];g.className=""}l=d.end.divIdx+1}if(t&&t.highlightMatches){var v=t.pageMatches[i]||null,m=t.pageMatchesLength[i]||null,y=t.pageMatchesColor[i]||null;this.matches=this._convertMatches(v,m,y);this._renderMatches(this.matches)}}}},{key:"_bindMouse",value:function _bindMouse(){var t=this,r=this.textLayerDiv,i=null;r.addEventListener("mousedown",(function(a){if(t.enhanceTextSelection&&t.textLayerRenderTask){t.textLayerRenderTask.expandTextDivs(!0);if(i){clearTimeout(i);i=null}}else{var o=r.querySelector(".endOfContent");if(o){var l=a.target!==r;if(l=l&&"none"!==window.getComputedStyle(o).getPropertyValue("-moz-user-select")){var c=r.getBoundingClientRect(),u=Math.max(0,(a.pageY-c.top)/c.height);o.style.top=(100*u).toFixed(2)+"%"}o.classList.add("active")}}}));r.addEventListener("mouseup",(function(){if(t.enhanceTextSelection&&t.textLayerRenderTask)i=setTimeout((function(){t.textLayerRenderTask&&t.textLayerRenderTask.expandTextDivs(!1);i=null}),300);else{var a=r.querySelector(".endOfContent");if(a){a.style.top="";a.classList.remove("active")}}}))}}]);return TextLayerBuilder}();r.TextLayerBuilder=o;var l=function(){function DefaultTextLayerFactory(){_classCallCheck(this,DefaultTextLayerFactory)}_createClass(DefaultTextLayerFactory,[{key:"createTextLayerBuilder",value:function createTextLayerBuilder(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4?arguments[4]:void 0;return new o({textLayerDiv:t,pageIndex:r,viewport:i,enhanceTextSelection:a,eventBus:l})}}]);return DefaultTextLayerFactory}();r.DefaultTextLayerFactory=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.SecondaryToolbar=void 0;var a=i(5),o=i(9),l=i(38);function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var c=function(){function SecondaryToolbar(t,r,i){var c=this;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,SecondaryToolbar);this.toolbar=t.toolbar;this.toggleButton=t.toggleButton;this.toolbarButtonContainer=t.toolbarButtonContainer;this.buttons=[{element:t.presentationModeButton,eventName:"presentationmode",close:!0},{element:t.openFileButton,eventName:"openfile",close:!0},{element:t.printButton,eventName:"print",close:!0},{element:t.downloadButton,eventName:"download",close:!0},{element:t.viewBookmarkButton,eventName:null,close:!0},{element:t.firstPageButton,eventName:"firstpage",close:!0},{element:t.lastPageButton,eventName:"lastpage",close:!0},{element:t.pageRotateCwButton,eventName:"rotatecw",close:!1},{element:t.pageRotateCcwButton,eventName:"rotateccw",close:!1},{element:t.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:o.CursorTool.SELECT},close:!0},{element:t.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:o.CursorTool.HAND},close:!0},{element:t.scrollVerticalButton,eventName:"switchscrollmode",eventDetails:{mode:a.ScrollMode.VERTICAL},close:!0},{element:t.scrollHorizontalButton,eventName:"switchscrollmode",eventDetails:{mode:a.ScrollMode.HORIZONTAL},close:!0},{element:t.scrollWrappedButton,eventName:"switchscrollmode",eventDetails:{mode:a.ScrollMode.WRAPPED},close:!0},{element:t.spreadNoneButton,eventName:"switchspreadmode",eventDetails:{mode:a.SpreadMode.NONE},close:!0},{element:t.spreadOddButton,eventName:"switchspreadmode",eventDetails:{mode:a.SpreadMode.ODD},close:!0},{element:t.spreadEvenButton,eventName:"switchspreadmode",eventDetails:{mode:a.SpreadMode.EVEN},close:!0},{element:t.documentPropertiesButton,eventName:"documentproperties",close:!0}];this.items={firstPage:t.firstPageButton,lastPage:t.lastPageButton,pageRotateCw:t.pageRotateCwButton,pageRotateCcw:t.pageRotateCcwButton};this.mainContainer=r;this.eventBus=i;this.opened=!1;this.containerHeight=null;this.previousContainerHeight=null;this.reset();this._bindClickListeners();this._bindCursorToolsListener(t);this._bindScrollModeListener(t);this._bindSpreadModeListener(t);this.eventBus._on("resize",this._setMaxHeight.bind(this));this.eventBus._on("baseviewerinit",(function(t){t.source instanceof l.PDFSinglePageViewer?c.toolbarButtonContainer.classList.add("hiddenScrollModeButtons","hiddenSpreadModeButtons"):c.toolbarButtonContainer.classList.remove("hiddenScrollModeButtons","hiddenSpreadModeButtons")}))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(SecondaryToolbar,[{key:"setPageNumber",value:function setPageNumber(t){this.pageNumber=t;this._updateUIState()}},{key:"setPagesCount",value:function setPagesCount(t){this.pagesCount=t;this._updateUIState()}},{key:"reset",value:function reset(){this.pageNumber=0;this.pagesCount=0;this._updateUIState();this.eventBus.dispatch("secondarytoolbarreset",{source:this})}},{key:"_updateUIState",value:function _updateUIState(){this.items.firstPage.disabled=this.pageNumber<=1;document.getElementById("previousPage")&&(document.getElementById("previousPage").disabled=this.pageNumber<=1);this.items.lastPage.disabled=this.pageNumber>=this.pagesCount;document.getElementById("nextPage")&&(document.getElementById("nextPage").disabled=this.pageNumber>=this.pagesCount);this.items.pageRotateCw.disabled=0===this.pagesCount;this.items.pageRotateCcw.disabled=0===this.pagesCount;this.eventBus.dispatch("updateuistate",{source:this,widget:"SecondaryToolbar",pageNumber:this.pageNumber,pagesCount:this.pagesCount})}},{key:"_bindClickListeners",value:function _bindClickListeners(){var t=this;this.toggleButton.addEventListener("click",this.toggle.bind(this));var r,i=_createForOfIteratorHelper(this.buttons);try{var a=function _loop(){var i=r.value,a=i.element,o=i.eventName,l=i.close,c=i.eventDetails;a.addEventListener("click",(function(r){if(null!==o){var i={source:t};for(var a in c)i[a]=c[a];t.eventBus.dispatch(o,i)}l&&t.close()}))};for(i.s();!(r=i.n()).done;)a()}catch(t){i.e(t)}finally{i.f()}}},{key:"_bindCursorToolsListener",value:function _bindCursorToolsListener(t){this.eventBus._on("cursortoolchanged",(function(r){var i=r.tool;t.cursorSelectToolButton.classList.toggle("toggled",i===o.CursorTool.SELECT);t.cursorHandToolButton.classList.toggle("toggled",i===o.CursorTool.HAND)}))}},{key:"_bindScrollModeListener",value:function _bindScrollModeListener(t){var r=this;function scrollModeChanged(r){var i=r.mode;t.scrollVerticalButton.classList.toggle("toggled",i===a.ScrollMode.VERTICAL);t.scrollHorizontalButton.classList.toggle("toggled",i===a.ScrollMode.HORIZONTAL);t.scrollWrappedButton.classList.toggle("toggled",i===a.ScrollMode.WRAPPED);var o=i===a.ScrollMode.HORIZONTAL;t.spreadNoneButton.disabled=o;t.spreadOddButton.disabled=o;t.spreadEvenButton.disabled=o}this.eventBus._on("scrollmodechanged",scrollModeChanged);this.eventBus._on("secondarytoolbarreset",(function(t){t.source===r&&scrollModeChanged({mode:a.ScrollMode.VERTICAL})}))}},{key:"_bindSpreadModeListener",value:function _bindSpreadModeListener(t){var r=this;function spreadModeChanged(r){var i=r.mode;t.spreadNoneButton.classList.toggle("toggled",i===a.SpreadMode.NONE);t.spreadOddButton.classList.toggle("toggled",i===a.SpreadMode.ODD);t.spreadEvenButton.classList.toggle("toggled",i===a.SpreadMode.EVEN)}this.eventBus._on("spreadmodechanged",spreadModeChanged);this.eventBus._on("secondarytoolbarreset",(function(t){t.source===r&&spreadModeChanged({mode:a.SpreadMode.NONE})}))}},{key:"open",value:function open(){if(!this.opened){this.opened=!0;this._setMaxHeight();this.toggleButton.classList.add("toggled");this.toolbar.classList.remove("hidden")}}},{key:"close",value:function close(){if(this.opened){this.opened=!1;this.toolbar.classList.add("hidden");this.toggleButton.classList.remove("toggled")}}},{key:"toggle",value:function toggle(){this.opened?this.close():this.open()}},{key:"_setMaxHeight",value:function _setMaxHeight(){if(this.opened){this.containerHeight=this.mainContainer.clientHeight;if(this.containerHeight!==this.previousContainerHeight){this.toolbarButtonContainer.style.maxHeight="".concat(this.containerHeight-a.SCROLLBAR_PADDING,"px");this.previousContainerHeight=this.containerHeight}}}},{key:"isOpen",get:function get(){return this.opened}}]);return SecondaryToolbar}();r.SecondaryToolbar=c},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFSinglePageViewer=void 0;var a=i(32),o=i(8);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _get(t,r,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,i){var a=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(a){var o=Object.getOwnPropertyDescriptor(a,r);return o.get?o.get.call(i):o.value}})(t,r,i||t)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}(PDFSinglePageViewer,t);var r=_createSuper(PDFSinglePageViewer);function PDFSinglePageViewer(t){var i;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PDFSinglePageViewer);(i=r.call(this,t)).eventBus._on("pagesinit",(function(t){i._ensurePageViewVisible()}));return i}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(PDFSinglePageViewer,[{key:"_resetView",value:function _resetView(){_get(_getPrototypeOf(PDFSinglePageViewer.prototype),"_resetView",this).call(this);this._previousPageNumber=1;this._shadowViewer=document.createDocumentFragment();this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function _ensurePageViewVisible(){var t=this._pages[this._currentPageNumber-1],r=this._pages[this._previousPageNumber-1],i=this.viewer.childNodes;switch(i.length){case 0:this.viewer.appendChild(t.div);break;case 1:if(i[0]!==r.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(t===r)break;this._shadowViewer.appendChild(r.div);this.viewer.appendChild(t.div);this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function _scrollUpdate(){this._updateScrollDown&&this._updateScrollDown();_get(_getPrototypeOf(PDFSinglePageViewer.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function _scrollIntoView(t){var r=this,i=t.pageDiv,a=t.pageSpot,o=void 0===a?null:a,l=t.pageNumber,c=void 0===l?null:l;c&&this._setCurrentPageNumber(c);var u=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible();this.update();_get(_getPrototypeOf(PDFSinglePageViewer.prototype),"_scrollIntoView",this).call(this,{pageDiv:i,pageSpot:o,pageNumber:c});this._updateScrollDown=function(){r.scroll.down=u;r._updateScrollDown=null}}},{key:"_getVisiblePages",value:function _getVisiblePages(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function _updateHelper(t){}},{key:"_updateScrollMode",value:function _updateScrollMode(){}},{key:"_updateSpreadMode",value:function _updateSpreadMode(){}},{key:"_viewerElement",get:function get(){return(0,o.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function get(){return(0,o.shadow)(this,"_isScrollModeHorizontal",!1)}}]);return PDFSinglePageViewer}(a.BaseViewer);r.PDFSinglePageViewer=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.Toolbar=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(5);function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _createForOfIteratorHelper(t,r){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var a=0,o=function F(){};return{s:o,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){i=t[Symbol.iterator]()},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){u=!0;l=t},f:function f(){try{c||null==i.return||i.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var l=function(){function Toolbar(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.NullL10n;_classCallCheck(this,Toolbar);this.toolbar=t.container;this.eventBus=r;this.l10n=i;this.buttons=[{element:t.previous,eventName:"previouspage"},{element:t.next,eventName:"nextpage"},{element:t.zoomIn,eventName:"zoomin"},{element:t.zoomOut,eventName:"zoomout"},{element:t.openFile,eventName:"openfile"},{element:t.print,eventName:"print"},{element:t.presentationModeButton,eventName:"presentationmode"},{element:t.download,eventName:"download"},{element:t.viewBookmark,eventName:null}];this.items={numPages:t.numPages,pageNumber:t.pageNumber,scaleSelectContainer:t.scaleSelectContainer,scaleSelect:t.scaleSelect,customScaleOption:t.customScaleOption,previous:t.previous,next:t.next,zoomIn:t.zoomIn,zoomOut:t.zoomOut};this._wasLocalized=!1;this.reset();this._bindListeners()}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(Toolbar,[{key:"setPageNumber",value:function setPageNumber(t,r){this.pageNumber=t;this.pageLabel=r;this._updateUIState(!1)}},{key:"setPagesCount",value:function setPagesCount(t,r){this.pagesCount=t;this.hasPageLabels=r;this._updateUIState(!0)}},{key:"setPageScale",value:function setPageScale(t,r){this.pageScaleValue=(t||r).toString();this.pageScale=r;this._updateUIState(!1)}},{key:"reset",value:function reset(){this.pageNumber=0;this.pageLabel=null;this.hasPageLabels=!1;this.pagesCount=0;this.pageScaleValue=o.DEFAULT_SCALE_VALUE;this.pageScale=o.DEFAULT_SCALE;this._updateUIState(!0);this.updateLoadingIndicatorState()}},{key:"_bindListeners",value:function _bindListeners(){var t,r=this,i=this.items,a=i.pageNumber,l=i.scaleSelect,c=this,u=_createForOfIteratorHelper(this.buttons);try{var d=function _loop(){var i=t.value,a=i.element,o=i.eventName;a.addEventListener("click",(function(t){null!==o&&r.eventBus.dispatch(o,{source:r})}))};for(u.s();!(t=u.n()).done;)d()}catch(t){u.e(t)}finally{u.f()}a.addEventListener("click",(function(){this.select()}));a.addEventListener("change",(function(){c.eventBus.dispatch("pagenumberchanged",{source:c,value:this.value})}));l.addEventListener("change",(function(){"custom"!==this.value&&c.eventBus.dispatch("scalechanged",{source:c,value:this.value})}));l.oncontextmenu=o.noContextMenuHandler;this.eventBus._on("localized",(function(){r._wasLocalized=!0;r._adjustScaleWidth();r._updateUIState(!0)}))}},{key:"_updateUIState",value:function _updateUIState(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._wasLocalized){var r=this.pageNumber,i=this.pagesCount,a=this.pageScaleValue,l=this.pageScale,c=this.items;if(t){if(this.hasPageLabels)c.pageNumber.type="text";else{c.pageNumber.type="number";this.l10n.get("of_pages",{pagesCount:i},"of {{pagesCount}}").then((function(t){c.numPages.textContent=t}))}c.pageNumber.max=i}if(this.hasPageLabels){c.pageNumber.value=this.pageLabel;this.l10n.get("page_of_pages",{pageNumber:r,pagesCount:i},"({{pageNumber}} of {{pagesCount}})").then((function(t){c.numPages.textContent=t}))}else c.pageNumber.value=r;c.previous.disabled=r<=1;c.next.disabled=r>=i;c.zoomOut.disabled=l<=o.MIN_SCALE;c.zoomIn.disabled=l>=o.MAX_SCALE;var u=Math.round(1e4*l)/100;this.l10n.get("page_scale_percent",{scale:u},"{{scale}}%").then((function(t){var r,i=!1,o=_createForOfIteratorHelper(c.scaleSelect.options);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(l.value===a){l.selected=!0;i=!0}else l.selected=!1}}catch(t){o.e(t)}finally{o.f()}if(!i){c.customScaleOption.textContent=t;c.customScaleOption.selected=!0}}));this.eventBus.dispatch("updateuistate",{source:this,widget:"Toolbar",pageNumber:r,pagesCount:i,pageScaleValue:a,pageScale:l})}}},{key:"updateLoadingIndicatorState",value:function updateLoadingIndicatorState(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.items.pageNumber;r.classList.toggle("visiblePageIsLoading",t)}},{key:"_adjustScaleWidth",value:(t=function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}(a.default.mark((function _callee(){var t,r,i,l,c,u,d,h,p,g,v,m,y,b;return a.default.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:t=this.items,r=this.l10n;i=Promise.all([r.get("page_scale_auto",null,"Automatic Zoom"),r.get("page_scale_actual",null,"Actual Size"),r.get("page_scale_fit",null,"Page Fit"),r.get("page_scale_width",null,"Page Width")]);(l=document.createElement("canvas")).mozOpaque=!0;c=l.getContext("2d",{alpha:!1});a.next=7;return o.animationStarted;case 7:u=getComputedStyle(t.scaleSelect),d=u.fontSize,h=u.fontFamily;c.font="".concat(d," ").concat(h);p=0;a.t0=_createForOfIteratorHelper;a.next=13;return i;case 13:a.t1=a.sent;g=(0,a.t0)(a.t1);try{for(g.s();!(v=g.n()).done;){m=v.value;y=c.measureText(m);(b=y.width)>p&&(p=b)}}catch(t){g.e(t)}finally{g.f()}if((p+=43)>140){t.scaleSelect.style.width="".concat(p+22,"px");t.scaleSelectContainer.style.width="".concat(p,"px")}l.width=0;l.height=0;l=c=null;case 22:case"end":return a.stop()}}),_callee,this)}))),function _adjustScaleWidth(){return t.apply(this,arguments)})}]);var t;return Toolbar}();r.Toolbar=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.ViewHistory=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2));function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var o=function(){function ViewHistory(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;_classCallCheck(this,ViewHistory);this.fingerprint=t;this.cacheSize=i;this._initializedPromise=this._readFromStorage().then((function(t){var i=JSON.parse(t||"{}"),a=-1;if(Array.isArray(i.files)){for(;i.files.length>=r.cacheSize;)i.files.shift();for(var o=0,l=i.files.length;o<l;o++){if(i.files[o].fingerprint===r.fingerprint){a=o;break}}}else i.files=[];-1===a&&(a=i.files.push({fingerprint:r.fingerprint})-1);r.file=i.files[a];r.database=i}))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(ViewHistory,[{key:"_writeToStorage",value:(c=_asyncToGenerator(a.default.mark((function _callee(){var t;return a.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:t=JSON.stringify(this.database);localStorage.setItem("pdfjs.history",t);case 2:case"end":return r.stop()}}),_callee,this)}))),function _writeToStorage(){return c.apply(this,arguments)})},{key:"_readFromStorage",value:(l=_asyncToGenerator(a.default.mark((function _callee2(){return a.default.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",localStorage.getItem("pdfjs.history"));case 1:case"end":return t.stop()}}),_callee2)}))),function _readFromStorage(){return l.apply(this,arguments)})},{key:"set",value:(o=_asyncToGenerator(a.default.mark((function _callee3(t,r){return a.default.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._initializedPromise;case 2:this.file[t]=r;return i.abrupt("return",this._writeToStorage());case 4:case"end":return i.stop()}}),_callee3,this)}))),function set(t,r){return o.apply(this,arguments)})},{key:"setMultiple",value:(i=_asyncToGenerator(a.default.mark((function _callee4(t){var r;return a.default.wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._initializedPromise;case 2:for(r in t)this.file[r]=t[r];return i.abrupt("return",this._writeToStorage());case 4:case"end":return i.stop()}}),_callee4,this)}))),function setMultiple(t){return i.apply(this,arguments)})},{key:"get",value:(r=_asyncToGenerator(a.default.mark((function _callee5(t,r){var i;return a.default.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._initializedPromise;case 2:i=this.file[t];return a.abrupt("return",void 0!==i?i:r);case 4:case"end":return a.stop()}}),_callee5,this)}))),function get(t,i){return r.apply(this,arguments)})},{key:"getMultiple",value:(t=_asyncToGenerator(a.default.mark((function _callee6(t){var r,i,o;return a.default.wrap((function _callee6$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._initializedPromise;case 2:r=Object.create(null);for(i in t){o=this.file[i];r[i]=void 0!==o?o:t[i]}return a.abrupt("return",r);case 5:case"end":return a.stop()}}),_callee6,this)}))),function getMultiple(r){return t.apply(this,arguments)})}]);var t,r,i,o,l,c;return ViewHistory}();r.ViewHistory=o},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.GenericCom=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(1),l=i(42),c=i(43),u=i(44);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}});r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){t.__proto__=r;return t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(t){return!1}}();return function _createSuperInternal(){var i,a=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){return!r||"object"!==_typeof(r)&&"function"!=typeof r?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.GenericCom={};var d=function(t){_inherits(GenericPreferences,t);var r,i,o=_createSuper(GenericPreferences);function GenericPreferences(){_classCallCheck(this,GenericPreferences);return o.apply(this,arguments)}_createClass(GenericPreferences,[{key:"_writeToStorage",value:(i=_asyncToGenerator(a.default.mark((function _callee(t){return a.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:localStorage.setItem("pdfjs.preferences",JSON.stringify(t));case 1:case"end":return r.stop()}}),_callee)}))),function _writeToStorage(t){return i.apply(this,arguments)})},{key:"_readFromStorage",value:(r=_asyncToGenerator(a.default.mark((function _callee2(t){return a.default.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",JSON.parse(localStorage.getItem("pdfjs.preferences")));case 1:case"end":return t.stop()}}),_callee2)}))),function _readFromStorage(t){return r.apply(this,arguments)})}]);return GenericPreferences}(l.BasePreferences),h=function(t){_inherits(GenericExternalServices,t);var r=_createSuper(GenericExternalServices);function GenericExternalServices(){_classCallCheck(this,GenericExternalServices);return r.apply(this,arguments)}_createClass(GenericExternalServices,null,[{key:"createDownloadManager",value:function createDownloadManager(t){return new c.DownloadManager(t)}},{key:"createPreferences",value:function createPreferences(){return new d}},{key:"createL10n",value:function createL10n(t){var r=t.locale,i=void 0===r?"en-US":r;return new u.GenericL10n(i)}}]);return GenericExternalServices}(o.DefaultExternalServices);o.PDFViewerApplication.externalServices=h},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.BasePreferences=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2));i(6);function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var o=null;var l=function(){function BasePreferences(){var t=this;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,BasePreferences);if(this.constructor===BasePreferences)throw new Error("Cannot initialize BasePreferences.");this.prefs=null;this._initializedPromise=function getDefaultPreferences(){o||(o=Promise.resolve({cursorToolOnLoad:0,defaultZoomValue:"",disablePageLabels:!1,enablePermissions:!1,enablePrintAutoRotate:!1,enableWebGL:!1,externalLinkTarget:0,historyUpdateUrl:!1,ignoreDestinationZoom:!1,pdfBugEnabled:!1,removePageBorders:!1,renderer:"canvas",renderInteractiveForms:!0,sidebarViewOnLoad:-1,scrollModeOnLoad:-1,spreadModeOnLoad:-1,textLayerMode:1,useOnlyCssZoom:!1,viewOnLoad:0,disableAutoFetch:!1,disableFontFace:!1,disableRange:!1,disableStream:!1}));return o}().then((function(r){Object.defineProperty(t,"defaults",{value:Object.freeze(r),writable:!1,enumerable:!0,configurable:!1});t.prefs=Object.assign(Object.create(null),r);return t._readFromStorage(r)})).then((function(r){if(r)for(var i in r){var a=t.defaults[i],o=r[i];void 0!==a&&_typeof(o)===_typeof(a)&&(t.prefs[i]=o)}}))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(BasePreferences,[{key:"_writeToStorage",value:(u=_asyncToGenerator(a.default.mark((function _callee(t){return a.default.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: _writeToStorage");case 1:case"end":return t.stop()}}),_callee)}))),function _writeToStorage(t){return u.apply(this,arguments)})},{key:"_readFromStorage",value:(c=_asyncToGenerator(a.default.mark((function _callee2(t){return a.default.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: _readFromStorage");case 1:case"end":return t.stop()}}),_callee2)}))),function _readFromStorage(t){return c.apply(this,arguments)})},{key:"reset",value:(l=_asyncToGenerator(a.default.mark((function _callee3(){return a.default.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return this._initializedPromise;case 2:this.prefs=Object.assign(Object.create(null),this.defaults);return t.abrupt("return",this._writeToStorage(this.defaults));case 4:case"end":return t.stop()}}),_callee3,this)}))),function reset(){return l.apply(this,arguments)})},{key:"set",value:(i=_asyncToGenerator(a.default.mark((function _callee4(t,r){var i,o,l;return a.default.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._initializedPromise;case 2:if(void 0!==(i=this.defaults[t])){a.next=7;break}throw new Error('Set preference: "'.concat(t,'" is undefined.'));case 7:if(void 0!==r){a.next=9;break}throw new Error("Set preference: no value is specified.");case 9:o=_typeof(r);l=_typeof(i);if(o===l){a.next=19;break}if("number"!==o||"string"!==l){a.next=16;break}r=r.toString();a.next=17;break;case 16:throw new Error('Set preference: "'.concat(r,'" is a ').concat(o,", ")+"expected a ".concat(l,"."));case 17:a.next=21;break;case 19:if("number"!==o||Number.isInteger(r)){a.next=21;break}throw new Error('Set preference: "'.concat(r,'" must be an integer.'));case 21:this.prefs[t]=r;return a.abrupt("return",this._writeToStorage(this.prefs));case 23:case"end":return a.stop()}}),_callee4,this)}))),function set(t,r){return i.apply(this,arguments)})},{key:"get",value:(r=_asyncToGenerator(a.default.mark((function _callee5(t){var r,i;return a.default.wrap((function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._initializedPromise;case 2:if(void 0!==(r=this.defaults[t])){a.next=7;break}throw new Error('Get preference: "'.concat(t,'" is undefined.'));case 7:if(void 0===(i=this.prefs[t])){a.next=10;break}return a.abrupt("return",i);case 10:return a.abrupt("return",r);case 11:case"end":return a.stop()}}),_callee5,this)}))),function get(t){return r.apply(this,arguments)})},{key:"getAll",value:(t=_asyncToGenerator(a.default.mark((function _callee6(){return a.default.wrap((function _callee6$(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return this._initializedPromise;case 2:return t.abrupt("return",Object.assign(Object.create(null),this.defaults,this.prefs));case 3:case"end":return t.stop()}}),_callee6,this)}))),function getAll(){return t.apply(this,arguments)})}]);var t,r,i,l,c,u;return BasePreferences}();r.BasePreferences=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.DownloadManager=void 0;var a=i(8),o=i(7);function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}function _download(t,r){var i=document.createElement("a");if(!i.click)throw new Error('DownloadManager: "a.click()" is not supported.');i.href=t;i.target="_parent";"download"in i&&(i.download=r);(document.body||document.documentElement).appendChild(i);i.click();i.remove()}var l=function(){function DownloadManager(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,DownloadManager)}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(DownloadManager,[{key:"downloadUrl",value:function downloadUrl(t,r){(0,a.createValidAbsoluteUrl)(t,"http://example.com")&&_download(t+"#pdfjs.action=download",r)}},{key:"downloadData",value:function downloadData(t,r,i){if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([t],{type:i}),r);else{_download((0,a.createObjectURL)(t,i,o.viewerCompatibilityParams.disableCreateObjectURL),r)}}},{key:"download",value:function download(t,r,i){if(navigator.msSaveBlob)navigator.msSaveBlob(t,i)||this.downloadUrl(r,i);else if(o.viewerCompatibilityParams.disableCreateObjectURL)this.downloadUrl(r,i);else{var a=URL.createObjectURL(t);_download(a,i)}}}]);return DownloadManager}();r.DownloadManager=l},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.GenericL10n=void 0;var a=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}(i(2));i(45);function asyncGeneratorStep(t,r,i,a,o,l,c){try{var u=t[l](c),d=u.value}catch(t){i(t);return}u.done?r(d):Promise.resolve(d).then(a,o)}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(a,o){var l=t.apply(r,i);function _next(t){asyncGeneratorStep(l,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(t,a.key,a)}}var o=document.webL10n,l=function(){function GenericL10n(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,GenericL10n);this._lang=t;this._ready=new Promise((function(r,i){o.setLanguage(t,(function(){r(o)}))}))}!function _createClass(t,r,i){r&&_defineProperties(t.prototype,r);i&&_defineProperties(t,i);return t}(GenericL10n,[{key:"getLanguage",value:(l=_asyncToGenerator(a.default.mark((function _callee(){var t;return a.default.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return this._ready;case 2:t=r.sent;return r.abrupt("return",t.getLanguage());case 4:case"end":return r.stop()}}),_callee,this)}))),function getLanguage(){return l.apply(this,arguments)})},{key:"getDirection",value:(i=_asyncToGenerator(a.default.mark((function _callee2(){var t;return a.default.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;return this._ready;case 2:t=r.sent;return r.abrupt("return",t.getDirection());case 4:case"end":return r.stop()}}),_callee2,this)}))),function getDirection(){return i.apply(this,arguments)})},{key:"get",value:(r=_asyncToGenerator(a.default.mark((function _callee3(t,r,i){var o;return a.default.wrap((function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:a.next=2;return this._ready;case 2:o=a.sent;return a.abrupt("return",o.get(t,r,i));case 4:case"end":return a.stop()}}),_callee3,this)}))),function get(t,i,a){return r.apply(this,arguments)})},{key:"translate",value:(t=_asyncToGenerator(a.default.mark((function _callee4(t){var r;return a.default.wrap((function _callee4$(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;return this._ready;case 2:r=i.sent;return i.abrupt("return",r.translate(t));case 4:case"end":return i.stop()}}),_callee4,this)}))),function translate(r){return t.apply(this,arguments)})}]);var t,r,i,l;return GenericL10n}();r.GenericL10n=l},function(t,r,i){"use strict";document.webL10n=function(t,r,i){var a={},o="",l="textContent",c="",u={},d="loading";function fireL10nReadyEvent(t){var i=r.createEvent("Event");i.initEvent("localized",!0,!1);i.language=t;r.dispatchEvent(i)}function xhrLoadText(t,r,i){r=r||function _onSuccess(t){};i=i||function _onFailure(){};var a=new XMLHttpRequest;a.open("GET",t,!0);a.overrideMimeType&&a.overrideMimeType("text/plain; charset=utf-8");a.onreadystatechange=function(){4==a.readyState&&(200==a.status||0===a.status?r(a.responseText):i())};a.onerror=i;a.ontimeout=i;try{a.send(null)}catch(t){i()}}function parseResource(t,r,i,c){var u=t.replace(/[^\/]*$/,"")||"./";function evalString(t){return t.lastIndexOf("\\")<0?t:t.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}xhrLoadText(t,(function(t){o+=t;!function parseProperties(t,i){var a={},o=/^\s*|\s*$/,l=/^\s*#|^\s*$/,c=/^\s*\[(.*)\]\s*$/,d=/^\s*@import\s+url\((.*)\)\s*$/i,h=/^([^=\s]*)\s*=\s*(.+)$/;function parseRawLines(t,i,p){var g=t.replace(o,"").split(/[\r\n]+/),v="*",m=r.split("-",1)[0],y=!1,b="",w=!1;!function nextEntry(){for(var t=void 0;;){if(!g.length&&t){w?nextEntry():loadImport(t,nextEntry);return}if(!g.length){p();return}var o=g.shift();if(!l.test(o)){if(i){if(b=c.exec(o)){v=b[1].toLowerCase();y="*"!==v&&v!==r&&v!==m;continue}if(y)continue;if(b=d.exec(o)){if("*"===v||v===r){loadImport(u+b[1],nextEntry);w=!0;return}t=u+b[1]}}var S=o.match(h);S&&3==S.length&&(a[S[1]]=evalString(S[2]))}}}()}function loadImport(t,r){xhrLoadText(t,(function(t){parseRawLines(t,!1,r)}),(function(){console.warn(t+" not found.");r()}))}parseRawLines(t,!0,(function(){i(a)}))}(t,(function(t){for(var r in t){var o,c,u=r.lastIndexOf(".");if(u>0){o=r.substring(0,u);c=r.substring(u+1)}else{o=r;c=l}a[o]||(a[o]={});a[o][c]=t[r]}i&&i()}))}),c)}function loadLocale(t,i){var l=t;t&&(t=t.toLowerCase());i=i||function _callback(){};!function clear(){a={};o="";c=""}();c=t;var u=function getL10nResourceLinks(){return r.querySelectorAll('link[type="application/l10n"]')}(),h=u.length;if(0!==h){var p,g=0;p=function onResourceLoaded(){if(++g>=h){i();fireL10nReadyEvent(t);d="complete"}};for(var v=0;v<h;v++){new L10nResourceLink(u[v]).load(t,p)}}else{var m=function getL10nDictionary(){var t=r.querySelector('script[type="application/l10n"]');return t?JSON.parse(t.innerHTML):null}();if(m&&m.locales&&m.default_locale){console.log("The PDF viewer uses the pre-compiled language bundle stored in the HTML page.");if(!(a=m.locales[l])){var y=m.default_locale.toLowerCase();for(var b in m.locales){l=b;if((b=b.toLowerCase())===t){a=m.locales[l];break}b===y&&(a=m.locales[l])}}i()}else console.log("Could not load the translation files for the PDF viewer. Check the flag useBrowserLocale, check the locales subfolder of the assets folder, or add the locale definition to the index.html");fireL10nReadyEvent(t);d="complete"}function L10nResourceLink(t){var r=t.href;this.load=function(t,i){parseResource(r,t,i,(function(){console.warn(r+" not found.");console.warn('"'+t+'" resource not found');c="";i()}))}}}u.plural=function(t,r,i,o){var d=parseFloat(r);if(isNaN(d))return t;if(o!=l)return t;u._pluralRules||(u._pluralRules=function getPluralRules(t){function isIn(t,r){return-1!==r.indexOf(t)}function isBetween(t,r,i){return r<=t&&t<=i}var r={0:function _(t){return"other"},1:function _(t){return isBetween(t%100,3,10)?"few":0===t?"zero":isBetween(t%100,11,99)?"many":2==t?"two":1==t?"one":"other"},2:function _(t){return 0!==t&&t%10==0?"many":2==t?"two":1==t?"one":"other"},3:function _(t){return 1==t?"one":"other"},4:function _(t){return isBetween(t,0,1)?"one":"other"},5:function _(t){return isBetween(t,0,2)&&2!=t?"one":"other"},6:function _(t){return 0===t?"zero":t%10==1&&t%100!=11?"one":"other"},7:function _(t){return 2==t?"two":1==t?"one":"other"},8:function _(t){return isBetween(t,3,6)?"few":isBetween(t,7,10)?"many":2==t?"two":1==t?"one":"other"},9:function _(t){return 0===t||1!=t&&isBetween(t%100,1,19)?"few":1==t?"one":"other"},10:function _(t){return isBetween(t%10,2,9)&&!isBetween(t%100,11,19)?"few":t%10!=1||isBetween(t%100,11,19)?"other":"one"},11:function _(t){return isBetween(t%10,2,4)&&!isBetween(t%100,12,14)?"few":t%10==0||isBetween(t%10,5,9)||isBetween(t%100,11,14)?"many":t%10==1&&t%100!=11?"one":"other"},12:function _(t){return isBetween(t,2,4)?"few":1==t?"one":"other"},13:function _(t){return isBetween(t%10,2,4)&&!isBetween(t%100,12,14)?"few":1!=t&&isBetween(t%10,0,1)||isBetween(t%10,5,9)||isBetween(t%100,12,14)?"many":1==t?"one":"other"},14:function _(t){return isBetween(t%100,3,4)?"few":t%100==2?"two":t%100==1?"one":"other"},15:function _(t){return 0===t||isBetween(t%100,2,10)?"few":isBetween(t%100,11,19)?"many":1==t?"one":"other"},16:function _(t){return t%10==1&&11!=t?"one":"other"},17:function _(t){return 3==t?"few":0===t?"zero":6==t?"many":2==t?"two":1==t?"one":"other"},18:function _(t){return 0===t?"zero":isBetween(t,0,2)&&0!==t&&2!=t?"one":"other"},19:function _(t){return isBetween(t,2,10)?"few":isBetween(t,0,1)?"one":"other"},20:function _(t){return!isBetween(t%10,3,4)&&t%10!=9||isBetween(t%100,10,19)||isBetween(t%100,70,79)||isBetween(t%100,90,99)?t%1e6==0&&0!==t?"many":t%10!=2||isIn(t%100,[12,72,92])?t%10!=1||isIn(t%100,[11,71,91])?"other":"one":"two":"few"},21:function _(t){return 0===t?"zero":1==t?"one":"other"},22:function _(t){return isBetween(t,0,1)||isBetween(t,11,99)?"one":"other"},23:function _(t){return isBetween(t%10,1,2)||t%20==0?"one":"other"},24:function _(t){return isBetween(t,3,10)||isBetween(t,13,19)?"few":isIn(t,[2,12])?"two":isIn(t,[1,11])?"one":"other"}},i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[t.replace(/-.*$/,"")];if(!(i in r)){console.warn("plural form unknown for ["+t+"]");return function(){return"other"}}return r[i]}(c));var h="["+u._pluralRules(d)+"]";0===d&&i+"[zero]"in a?t=a[i+"[zero]"][o]:1==d&&i+"[one]"in a?t=a[i+"[one]"][o]:2==d&&i+"[two]"in a?t=a[i+"[two]"][o]:i+h in a?t=a[i+h][o]:i+"[other]"in a&&(t=a[i+"[other]"][o]);return t};function getL10nData(t,r,i){var o=a[t];if(!o){console.warn("Translation for the key #"+t+" is missing.");if(!i)return null;o=i}var l={};for(var c in o){var u=o[c];u=substArguments(u=substIndexes(u,r,t,c),r,t);l[c]=u}return l}function substIndexes(t,r,i,o){var l=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(t);if(!l||!l.length)return t;var c,d=l[1],h=l[2];r&&h in r?c=r[h]:h in a&&(c=a[h]);if(d in u){t=(0,u[d])(t,c,i,o)}return t}function substArguments(t,r,i){return t.replace(/\{\{\s*(.+?)\s*\}\}/g,(function(t,o){if(r&&o in r)return r[o];if(o in a)return a[o];console.log("argument {{"+o+"}} for #"+i+" is undefined.");return t}))}function translateElement(t){var i=function getL10nAttributes(t){if(!t)return{};var r=t.getAttribute("data-l10n-id"),i=t.getAttribute("data-l10n-args"),a={};if(i)try{a=JSON.parse(i)}catch(t){console.warn("could not parse arguments for #"+r)}return{id:r,args:a}}(t);if(i.id){var a=getL10nData(i.id,i.args);if(a){if(a[l]){if(0===function getChildElementCount(t){if(t.children)return t.children.length;if(void 0!==t.childElementCount)return t.childElementCount;for(var r=0,i=0;i<t.childNodes.length;i++)r+=1===t.nodeType?1:0;return r}(t))t[l]=a[l];else{for(var o=t.childNodes,c=!1,u=0,d=o.length;u<d;u++)if(3===o[u].nodeType&&/\S/.test(o[u].nodeValue))if(c)o[u].nodeValue="";else{o[u].nodeValue=a[l];c=!0}if(!c){var h=r.createTextNode(a[l]);t.insertBefore(h,t.firstChild)}}delete a[l]}for(var p in a)t[p]=a[p]}else console.warn("#"+i.id+" is undefined.")}}return{get:function get(t,r,i){var a,o=t.lastIndexOf("."),c=l;if(o>0){c=t.substring(o+1);t=t.substring(0,o)}i&&((a={})[c]=i);var u=getL10nData(t,r,a);return u&&c in u?u[c]:"{{"+t+"}}"},getData:function getData(){return a},getText:function getText(){return o},getLanguage:function getLanguage(){return c},setLanguage:function setLanguage(t,r){loadLocale(t,(function(){r&&r()}))},getDirection:function getDirection(){var t=c.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(t)>=0?"rtl":"ltr"},translate:function translateFragment(t){for(var i=function getTranslatableChildren(t){return t?t.querySelectorAll("*[data-l10n-id]"):[]}(t=t||r.documentElement),a=i.length,o=0;o<a;o++)translateElement(i[o]);translateElement(t)},getReadyState:function getReadyState(){return d},ready:function ready(i){i&&("complete"==d||"interactive"==d?t.setTimeout((function(){i()})):r.addEventListener&&r.addEventListener("localized",(function once(){r.removeEventListener("localized",once);i()})))}}}(window,document)},function(t,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.PDFPrintService=PDFPrintService;var a=i(5),o=i(1),l=i(7),c=null,u=null;function PDFPrintService(t,r,i,o){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,c=arguments.length>5?arguments[5]:void 0;this.pdfDocument=t;this.pagesOverview=r;this.printContainer=i;this._printResolution=o||150;this._optionalContentConfigPromise=l||t.getOptionalContentConfig();this.l10n=c||a.NullL10n;this.currentPage=-1;this.scratchCanvas=document.createElement("canvas")}PDFPrintService.prototype={layout:function layout(){this.throwIfInactive();var t=document.querySelector("body");t.setAttribute("data-pdfjsprinting",!0);this.pagesOverview.every((function(t){return t.width===this.pagesOverview[0].width&&t.height===this.pagesOverview[0].height}),this)||console.warn("Not all pages have the same size. The printed result may be incorrect!");this.pageStyleSheet=document.createElement("style");var r=this.pagesOverview[0];this.pageStyleSheet.textContent="@supports ((size:A4) and (size:1pt 1pt)) {@page { size: "+r.width+"pt "+r.height+"pt;}}";t.appendChild(this.pageStyleSheet)},destroy:function destroy(){if(c===this){this.printContainer.textContent="";document.querySelector("body").removeAttribute("data-pdfjsprinting");if(this.pageStyleSheet){this.pageStyleSheet.remove();this.pageStyleSheet=null}this.scratchCanvas.width=this.scratchCanvas.height=0;this.scratchCanvas=null;c=null;ensureOverlay().then((function(){if("printServiceOverlay"===u.active){u.close("printServiceOverlay");u.unregister("printServiceOverlay")}}));d=void 0}},renderPages:function renderPages(){var t=this,r=this.pagesOverview.length;return new Promise((function renderNextPage(i,o){t.throwIfInactive();for(;;){++t.currentPage;if(t.currentPage>=r)break;if(!window.isInPDFPrintRange||window.isInPDFPrintRange(t.currentPage))break}if(t.currentPage>=r){renderProgress(window.filteredPageCount|r,window.filteredPageCount|r,t.l10n);i()}else{var l=t.currentPage;renderProgress(l,window.filteredPageCount|r,t.l10n);(function renderPage(t,r,i,o,l,u){var d=c.scratchCanvas,h=l/72;d.width=Math.floor(o.width*h);d.height=Math.floor(o.height*h);var p=Math.floor(o.width*a.CSS_UNITS)+"px",g=Math.floor(o.height*a.CSS_UNITS)+"px",v=d.getContext("2d");v.save();v.fillStyle="rgb(255, 255, 255)";v.fillRect(0,0,d.width,d.height);v.restore();return r.getPage(i).then((function(t){var i={canvasContext:v,transform:[h,0,0,h,0,0],viewport:t.getViewport({scale:1,rotation:o.rotation}),intent:"print",annotationStorage:r.annotationStorage,optionalContentConfigPromise:u};return t.render(i).promise})).then((function(){return{width:p,height:g}}))})(0,t.pdfDocument,l+1,t.pagesOverview[l],t._printResolution,t._optionalContentConfigPromise).then(t.useRenderedPage.bind(t)).then((function(){renderNextPage(i,o)}),o)}}))},useRenderedPage:function useRenderedPage(t){this.throwIfInactive();var r=document.createElement("img");r.style.width=t.width;r.style.height=t.height;var i=this.scratchCanvas;"toBlob"in i&&!l.viewerCompatibilityParams.disableCreateObjectURL?i.toBlob((function(t){r.src=URL.createObjectURL(t)})):r.src=i.toDataURL();var a=document.createElement("div");a.appendChild(r);this.printContainer.appendChild(a);return new Promise((function(t,i){r.onload=t;r.onerror=i}))},performPrint:function performPrint(){var t=this;this.throwIfInactive();return new Promise((function(r){setTimeout((function(){if(t.active){h.call(window);setTimeout(r,20)}else r()}),0)}))},get active(){return this===c},throwIfInactive:function throwIfInactive(){if(!this.active)throw new Error("This print request was cancelled or completed.")}};var d,h=window.print;window.printPDF=function(){if(o.PDFViewerApplication.enablePrint)if(c)console.warn("Ignored window.printPDF() because of a pending print job.");else{ensureOverlay().then((function(){c&&u.open("printServiceOverlay")}));try{dispatchEvent("beforeprint")}finally{if(!c){console.error("Expected print service to be initialized.");ensureOverlay().then((function(){"printServiceOverlay"===u.active&&u.close("printServiceOverlay")}));return}var t=c;c.renderPages().then((function(){return t.performPrint()})).catch((function(){})).then((function(){t.active&&abort()}))}}};function dispatchEvent(t){var r=document.createEvent("CustomEvent");r.initCustomEvent(t,!1,!1,"custom");window.dispatchEvent(r)}function abort(){if(c){c.destroy();dispatchEvent("afterprint")}}function renderProgress(t,r,i){var a=document.getElementById("printServiceOverlay"),o=Math.round(100*t/r),l=a.querySelector("progress"),c=a.querySelector(".relative-progress");l.value=o;i.get("print_progress_percent",{progress:o},o+"%").then((function(t){c.textContent=t}))}o.PDFViewerApplication.printKeyDownListener=function(t){if(80===t.keyCode&&(t.ctrlKey||t.metaKey)&&!t.altKey&&(!t.shiftKey||window.chrome||window.opera)){window.printPDF();t.preventDefault();t.stopImmediatePropagation?t.stopImmediatePropagation():t.stopPropagation()}};if("onbeforeprint"in window){var p=function stopPropagationIfNeeded(t){"custom"!==t.detail&&t.stopImmediatePropagation&&t.stopImmediatePropagation()};window.addEventListener("beforeprint",p);window.addEventListener("afterprint",p)}function ensureOverlay(){if(!d){if(!(u=o.PDFViewerApplication.overlayManager))throw new Error("The overlay manager has not yet been initialized.");d=u.register("printServiceOverlay",document.getElementById("printServiceOverlay"),abort,!0);document.getElementById("printCancel").onclick=abort}return d}o.PDFPrintServiceFactory.instance={supportsPrinting:!0,createPrintService:function createPrintService(t,r,i,a,o,l){if(c)throw new Error("The print service is created and active.");return c=new PDFPrintService(t,r,i,a,o,l)}}}]);
//# sourceMappingURL=viewer-es5.min.js.map